/*! For license information please see rzgraph.min.js.LICENSE */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rzgraph=e():t.rzgraph=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=293)}([function(t,e,n){"use strict";n.d(e,"t",function(){return c}),n.d(e,"u",function(){return u}),n.d(e,"s",function(){return h}),n.d(e,"w",function(){return d}),n.d(e,"x",function(){return p}),n.d(e,"k",function(){return f}),n.d(e,"a",function(){return A}),n.d(e,"o",function(){return m}),n.d(e,"f",function(){return y}),n.d(e,"h",function(){return g}),n.d(e,"e",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"v",function(){return C}),n.d(e,"E",function(){return x}),n.d(e,"y",function(){return w}),n.d(e,"i",function(){return D}),n.d(e,"C",function(){return I}),n.d(e,"A",function(){return B}),n.d(e,"H",function(){return T}),n.d(e,"d",function(){return S}),n.d(e,"r",function(){return M}),n.d(e,"D",function(){return E}),n.d(e,"F",function(){return k}),n.d(e,"l",function(){return L}),n.d(e,"j",function(){return U}),n.d(e,"p",function(){return P}),n.d(e,"m",function(){return R}),n.d(e,"g",function(){return H}),n.d(e,"n",function(){return Q}),n.d(e,"b",function(){return _}),n.d(e,"B",function(){return N}),n.d(e,"z",function(){return j}),n.d(e,"G",function(){return Y}),n.d(e,"q",function(){return W});var i=n(26),a=(n.n(i),n(1)),r=n(7),o=n(14),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},l=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t};function c(){return!1!==C("RZGraphDarkTheme")?["#00FF00","#00F0FF","#FFFFFF","#7B97FF","#5402FD","#D964FF","#E967C9","#FF2929","#FFAE78","#FAFF68","#BAFFCC","#00F0FF","#A1A1A1","#404F86"]:["#00FF00","#00F0FF","#D5D5D5","#7B97FF","#5402FD","#D964FF","#E967C9","#FF2929","#FFAE78","#D3D845","#99E1AC","#3DA2C3","#A1A1A1","#404F86"]}function u(){return["#FAD337","#52C41A","#FE5245"]}function h(t){return["#1EC450","#40A9FF","#F39D1A","#C911E5","#EC1C1C"][t]}function d(){return["#40A9FF","#52C41A","#2d5df8"]}function p(){return["#52C41A","#40A9FF"]}function f(){return C("SpectrumUnit")||(N?"CPM":"Hz")}function A(t){return void 0===t&&(t=null),function(e,n,i){var a=i.value;i.value=function(){try{return a.apply(this,arguments)}catch(a){return o.a.error(e+n+i,a),t}}}}function m(t,e){var n;return void 0===e&&(e=!0),n=t.replace(/(^\s+)|(\s+$)/g,""),e&&(n=n.replace(/\s/g,"")),n}function y(t,e){if(void 0===e&&(e=8096),t.length<=e)return t;var n=Math.ceil(t.length/e);if(n>1){Math.ceil(t.length/n);for(var i=[],a=null,r=0,o=t.length;r<o;r+=2*n){var s=r+2*n;s>t.length&&(s=r+(s-t.length));for(var c=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,h=0,d=0,p=r;p<s&&(a=t[p]);p++)a[1]>c&&(h=p,c=a[1]),a[1]<u&&(d=p,u=a[1]);h>d?c!=Number.MIN_SAFE_INTEGER&&u!=Number.MAX_SAFE_INTEGER&&(i.push(t[d]),i.push(t[h])):h==d?i.push(t[d]):c!=Number.MIN_SAFE_INTEGER&&u!=Number.MAX_SAFE_INTEGER&&(i.push(t[h]),i.push(t[d]))}return i.push(t[t.length-1]),l([t[0]],i)}return t}function g(t,e,n){var i=[],a=[],r=[];e.map(function(t,e){return t.field&&"normal"==t.type&&!t.hide&&(a.push(t.title),r.push(t)),!1}),t.map(function(t,e){var n=[];r.map(function(e,i){return e.textContent?n.push('"'+e.textContent(t[e.field],t)+'"\t'):n.push('"'+t[e.field]+'"\t'),!1}),i.push(n)}),i.unshift(a);var o="";if(window.navigator.msSaveOrOpenBlob&&(o="\ufeff"),i.forEach(function(e,n){var i=e.join(",");o+=n<t.length?i+"\n":i}),window.navigator.msSaveOrOpenBlob){var s=new Blob([decodeURIComponent(encodeURI(o))],{type:"text/csv;charset=utf-8;"});window.navigator.msSaveBlob(s,n+".csv")}else{var l="";if("undefined"!=typeof Blob){o="\ufeff"+o;var c=new Blob([o],{type:"text/csv;charset=utf-8;"});l=URL.createObjectURL(c)}else o="data:text/csv;charset=utf-8,\ufeff"+o,l=encodeURI(o);var u=document.createElement("a");u.setAttribute("href",l),u.setAttribute("download",n+".csv"),document.body.appendChild(u),u.click(),document.body.removeChild(u)}}function v(t){return i(t).valueOf()}function b(t,e,n){switch(n=i(n).toDate(),t.toLowerCase()){case"y":return n.setFullYear(n.getFullYear()+e),n;case"q":return n.setMonth(n.getMonth()+3*e),n;case"m":return n.setMonth(n.getMonth()+e),n;case"w":return n.setDate(n.getDate()+7*e),n;case"d":return n.setDate(n.getDate()+e),n;case"h":return n.setHours(n.getHours()+e),n;case"min":return n.setMinutes(n.getMinutes()+e),n;case"s":return n.setSeconds(n.getSeconds()+e),n;default:return n.setDate(n.getDate()+e),n}}function C(t){var e;if(window.localStorage)try{e=JSON.parse(window.localStorage.getItem(t))}catch(t){e=null}return e}function x(t,e){Object(r.a)("saveToLs",{key:t,value:e}),window.localStorage&&window.localStorage.setItem(t,JSON.stringify(e))}function w(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function D(t){return 5==t?"#E8850A":0==t?"#76cb2e":1==t?"#2aade8":2==t?"#f49919":3==t?"#ae54e2":4==t?"#f63d28":"#76cb2e"}function I(t){return"function"==typeof t}function B(t){try{return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}catch(t){return!1}}function T(t,e,n){var i,a,r,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:(new Date).getTime(),o=null,r=t.apply(i,a),o||(i=a=null)};return function(){var c=(new Date).getTime();s||!1!==n.leading||(s=c);var u=e-(c-s);return i=this,a=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),s=c,r=t.apply(i,a),o||(i=a=null)):o||!1===n.trailing||(o=setTimeout(l,u)),r}}function S(t,e){return null==t||""===t?"":i(t).format(e)}function M(t){return null==t||""===t?"":i(t).format("YYYY/MM/DD HH:mm:ss")}function E(t){return"number"==typeof t&&!isNaN(t)}function k(t,e,n,i,a){return void 0===a&&(a=0),i||(i=0),n||(n=NaN),t.map(function(t){if(t[0]<=i){if("0"==e||"2"==e)return[t[0],a]}else if(t[0]>i&&t[0]<n){if("1"==e||"2"==e||"3"==e)return[t[0],a]}else if("3"==e||"0"==e)return[t[0],a];return t})}function F(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);var i=Math.sqrt(2);return t.map(function(t){return t.map(function(t){var a=l([],t);return a[e]=n?a[e]/i:a[e]*i,a})})}function O(t,e){void 0===e&&(e=!0);var n=Math.sqrt(2);return t.map(function(t){return e?t/n:t*n})}function L(t){return{0:"addspeed",1:"speed",2:"xaxis",3:"voltage",4:"current"}[t]}function U(t){try{var e=a.a.Units[t],n=C("TotalSpecConfig"),i=L(e);if(5===e)return"Logarithm";if(null!=n&&n!={}&&null!=n){if(2==n[i].spec)return"RMS";if(1==n[i].spec)return"Peak"}return"Peak"}catch(t){return""}}function P(t){return JSON.parse(JSON.stringify(t))}function R(t,e){var n,i=C("TotalSpecConfig");if("db"===(null==e?void 0:e.toLowerCase()))try{return t.map(function(t){return t&&t.length&&0===t[0][0]&&t.shift(),t})}catch(e){return t}if(null!=i&&i!={}&&null!=i){var r=L(a.a.Units[e]);return null!=r&&i[r]&&void 0!==(null===(n=i[r])||void 0===n?void 0:n.spec)?2==i[r].spec?F(P(t)):t:r&&2==i[r].spec?F(P(t)):t}return t}function H(t,e){if(!t||0===t.length)return[];var n={};return e?t.reduce(function(t,i){return!n[i[e]]&&(n[i[e]]=t.push(i)),t},[]):Array.from(new Set(l([],t)))}function Q(t,e){var n,i=0,r=[],o=C("TotalSpecConfig");if(null==o||o=={}||null==o)return t;for(var s=t;i<s.length;i++){var l=L(a.a.Units[e[i]]);null!=l&&(null===(n=o[l])||void 0===n?void 0:n.spec)&&2==o[l].spec?r.push(O(s[i])):r.push(s[i])}return r}function _(t){var e={unit:t,rate:1};if(!t||0===t.trim().length)return e;var n=[];a.a.UnitConversionConfig.map(function(t){t.values.map(function(e){n.push(s({type:t.type},e))})});var i=n.filter(function(e){return e.name.toLowerCase()===t.toLowerCase()})[0];if(i){var r=C(i.type)||t;"HZ"===t.toUpperCase()&&null===C(i.type)&&"en"===C("rzgraphlang")&&(r="CPM");var o=n.filter(function(t){return t.name.toLowerCase()===r.toLowerCase()})[0];e.unit=r,e.rate=o.rate}return e}var N="en"===C("rzgraphlang");C("SpectrumUnit");function j(){return"CPM"===(C("SpectrumUnit")||(N?"CPM":"Hz"))}function Y(t,e){if(void 0===e&&(e=10),!t||0===t.length)return[];var n=[],i=function(t,e){var a=t.splice(e);return n.push(t),a.length>=e?i(a,e):(a.length>0&&n.push(a),n)};return i(t,e)}var z="undefined"!=typeof Element,G="function"==typeof Map,V="function"==typeof Set,K="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function W(t,e,n){if(void 0===n&&(n=!0),t===e)return!0;if(n&&(null==t||Array.isArray(t)&&0===t.length)){if(null==e)return!0;if(Array.isArray(e)&&0===e.length)return!0}if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var i,a,r=void 0;if(Array.isArray(t)){if((i=t.length)!=e.length)return!1;for(r=i;0!=r--;)if(!W(t[r],e[r]))return!1;return!0}var o=void 0;if(G&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!W(r.value[1],e.get(r.value[0])))return!1;return!0}if(V&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(K&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if((i=t.byteLength)!=e.byteLength)return!1;for(r=i;0!=r--;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(e,a[r]))return!1;if(z&&t instanceof Element)return!1;for(r=i;0!=r--;)if(("_owner"!==a[r]&&"__v"!==a[r]&&"__o"!==a[r]||!t.$$typeof)&&!W(t[a[r]],e[a[r]]))return!1;return!0}return t!=t&&e!=e}},function(t,e,n){"use strict";n.d(e,"b",function(){return s});var i=n(0),a=n(2),r=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},o="en"===Object(i.v)("rzgraphlang"),s=function(t){if(void 0===t&&(t=!1),!Object(i.v)("GraphConfig"))return"0";var e=Object(i.v)("RZ_AnalysisModel")||"0";return e&&t&&"0"===e?"1":e};e.a={SelectedLineStyle:{dashStyle:"Dash",color:"red",width:2,zIndex:9999},SignalType:{0:"config.SignalType.0",1:"config.SignalType.1",2:"config.SignalType.2",3:"config.SignalType.3",4:"config.SignalType.4"},Units:{"m/s^2":0,g:0,"mm/s":1,"m/s":1,"in/s":1,m:2,cm:2,mm:2,um:2,mil:2,mV:3,V:3,KV:3,A:4,mA:4,dB:5},DuanChange:[{name:"1K",value:Math.pow(2,10)},{name:"2K",value:Math.pow(2,11)},{name:"4K",value:Math.pow(2,12)},{name:"8K",value:Math.pow(2,13)},{name:"16K",value:Math.pow(2,14)},{name:"32K",value:Math.pow(2,15)},{name:"64K",value:Math.pow(2,16)},{name:"128K",value:Math.pow(2,17)},{name:"256K",value:Math.pow(2,18)},{name:"512K",value:Math.pow(2,19)},{name:"1M",value:Math.pow(2,20)},{name:"2M",value:Math.pow(2,21)},{name:"4M",value:Math.pow(2,22)},{name:"8M",value:Math.pow(2,23)},{name:"16M",value:Math.pow(2,24)}],apiaddress:window.RZGraphApiAddress,AllowChartConfig:{PRSinkAndDeflect:[1453088,10],PitchRollAngle:[371859488,1387041,1387040,10],TwoDimensional:[371859488,1387041,1387040,10],ScatterPlot:[371859488,10,3,1387040],NonUniformDipAngle:[371859488,10,3,1387040],ColumnarSpec:[10,1453088,5424,5423],ShockDiagnosis:[10,1453088,5424,5423],MultipleIndexTrends:[10,1453088,371859488],WaveformChart:r([10,1453088,3,5420,5422,371859488,1387040,1387041,5423,5424],a.g),SolutionRootChart:r([10,1453088,3,5420,5422,371859488,1387040,1387041,5423,5424],a.g),SpecChart:r([10,11,1453088,3,5420,5422,371859488,1387040,1387041,5423,5424],a.g),EnvelopeChart:r([10,11,1453088,3,5420,5422,371859488,1387040,1387041,5423,5424],a.g),CepstrumChart:[10,1453088,3,5420,5422,371859488,1387040,1387041,5423,5424],TrendChart:r(r([3,5,6,7,10,11,12,5420,5422,1453088,371859488,1387040,1387041,5423,5424],a.d),a.g),ChannelTemp:r(r([3,5420,5422,10,11,12,1453088,371859488,1387040,1387041,5423,5424],a.d),a.g),ChannelLogChart:r(r([3,5420,5422,10,11,12,1453088,371859488,1387040,1387041,5423,5424],a.d),a.g),AxisTrajectory:r(r(r([2,546,547],a.c),a.h),a.g),AxisCenter:r(r(r([2,546,547],a.c),a.h),a.g),TwsGroup:r(r([3,5,6,7,10,11,12,5420,5422,1453088,371859488,5423,5424],a.g),a.d),MutiTemporalSpecChart:r([10,11,1453088,371859488],a.g),MutiTemporalWaveformChart:r([10,1453088,371859488],a.g),DataTable:r(r(r([2,546,547,3,4,5,6,7,8,9,12,10,11,105,106,1319459,1319460,1319456,1319457,1319203,1319458,5420,5422,1453088,371859488,1387040,1387041,1319203,5423,5424,5427],a.c),a.h),a.g),EigenvalueTrend:r([5420,5422,1453088,10],a.g),PotierChart:r(r(r([2,546,547],a.c),a.h),a.g),LongWaveform:r([3,5420,5422,1387040,1387041,5423,5424],a.d),WaterfallChart:r([10,11,1453088,371859488],a.g),ProcessTrend:[5],FreqTrend:r([10,11,1453088,3,5420,5422,371859488,1387040,1387041,5423,5424],a.g),OilParticlesTrend:[1452832],CurrentVoltageAnalysis:[2,5425,5426],CurrentHarmonicDistortion:[2,10,5425,5426],UltrasonicGroup:[5427]},CHartIconShowConfig:{TemporaryData:"ALL",OrderTrackingChart:[10,1453088,3,5420,5422,371859488,1387040,1387041]},IndexConfig:[],ExtendIndexConfig:{271:{name:"平均幅值",value:271,key:"menu.timedomaincriteria.averageamplitude"}},UnitConversionConfig:[{type:"SpectrumUnit",name:"频谱单位",key:"settingModal.spectrum.unit",defaultUnit:o?"CPM":"Hz",values:[{name:"Hz",rate:1},{name:"CPM",rate:60}]},{type:"WaveformUnit",name:"波形单位",key:"settingModal.waveform.unit",defaultUnit:"ms",values:[{name:"ms",rate:1},{name:"s",rate:.001}]}],BlackBoxChartList:["WaveformChart","SpecChart","CepstrumChart","TrendChart","EnvelopeChart","TwsGroup"]}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"i",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return h}),n.d(e,"b",function(){return C});var i,a=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t};!function(t){t[t.Ent=0]="Ent",t[t.Org=1]="Org",t[t.Dev=2]="Dev",t[t.DynPoint=3]="DynPoint",t[t.SwitchPoint=4]="SwitchPoint",t[t.ProPoint=5]="ProPoint",t[t.TempPoint=6]="TempPoint",t[t.SpeedPoint=7]="SpeedPoint",t[t.ObsPoint=8]="ObsPoint",t[t.LubPoint=9]="LubPoint",t[t.WfmDaq=10]="WfmDaq",t[t.SpeDaq=11]="SpeDaq",t[t.EnvDaq=12]="EnvDaq",t[t.LimsPoint=13]="LimsPoint",t[t.ProductionLine=101]="ProductionLine",t[t.Region=102]="Region",t[t.ReservoirArea=103]="ReservoirArea",t[t.SegmenDevice=104]="SegmenDevice",t[t.SpareParts=105]="SpareParts",t[t.SparePartsSubdivision=106]="SparePartsSubdivision",t[t.Department=107]="Department",t[t.Configuration=108]="Configuration",t[t.ExtData=109]="ExtData",t[t.RotatingEquipment=546]="RotatingEquipment",t[t.ReciprocatingMachine=547]="ReciprocatingMachine",t[t.OilPoint=5419]="OilPoint",t[t.ShaftVibrationPoint=5420]="ShaftVibrationPoint",t[t.ShellVibrationPoint=5422]="ShellVibrationPoint",t[t.RecShaftVibrationPoint=5423]="RecShaftVibrationPoint",t[t.RecShellVibrationPoint=5424]="RecShellVibrationPoint",t[t.MemsPoint=5421]="MemsPoint",t[t.TowerInclinationPoint=1387040]="TowerInclinationPoint",t[t.TowerTopInclinationPoint=1387041]="TowerTopInclinationPoint",t[t.OilMeasdef=1452832]="OilMeasdef",t[t.TowerAnalysisMeasdef=371859488]="TowerAnalysisMeasdef",t[t.ShaftVibrationMeasdef=1453088]="ShaftVibrationMeasdef",t[t.MemsVibrationMeasdef=1453344]="MemsVibrationMeasdef",t[t.MemsTemperatureMeasdef=1453345]="MemsTemperatureMeasdef",t[t.MotorPart=1319459]="MotorPart",t[t.CrossheadPart=1319460]="CrossheadPart",t[t.SharfPart=1319456]="SharfPart",t[t.Cylinder=1319458]="Cylinder",t[t.Crankcase=1319457]="Crankcase",t[t.TowerTube=1319203]="TowerTube",t[t.RH550=1001]="RH550",t[t.RH560=1002]="RH560",t[t.RH1000=1003]="RH1000",t[t.RH1000V4=1004]="RH1000V4",t[t.RH1000E=1005]="RH1000E",t[t.RH9000=1006]="RH9000",t[t.RH1500=1007]="RH1500",t[t.RH560A=1008]="RH560A",t[t.RH560W=1009]="RH560W",t[t["RH1000HⅢ"]=1010]="RH1000HⅢ",t[t.RH1000H=1011]="RH1000H",t[t.RH2000=1012]="RH2000",t[t.CHVib=2001]="CHVib",t[t.CHProcess=2002]="CHProcess",t[t.CHSpeed=2003]="CHSpeed",t[t.CHSwitch=2004]="CHSwitch",t[t.CHSway=2005]="CHSway",t[t.CHTemperature=2006]="CHTemperature"}(i||(i={}));var r=[3,5420,5422,5423,5424,5425,5426,1387040,1387041,5419,9999],o=[5427],s=[10,11,12,1452832,371859488,1453344,1453345,1453088],l=[2,546,547],c=a(a([],r),[4,5,6,7,8,9]);function u(t){return r.indexOf(t)>=0}function h(t){return s.indexOf(t)>=0}var d=0,p=32,f=p+8192,A=f+2097152,m=A+536870912;function y(t,e){var n=v(t);if(0<=n&&n<=3)return Math.floor(g(n+1)+256*(t-g(n))+e);throw new Error("参数错误")}function g(t){switch(t){case 0:return d;case 1:return p;case 2:return f;case 3:return A;case 4:return m;default:throw new Error("参数错误")}}function v(t){if(t<p)return 0;if(t<f)return 1;if(t<A)return 2;if(t<m)return 3;throw new Error("参数错误")}var b;!function(){function t(e){if(null===t.NodeTypes&&(t.NodeTypes={},this.InitCache()),this.Value=e,e>=4&&e<=9)this.LevelValues=[5],this.Level=0;else{var n=function(t){var e=v(t);if(0==e)return[t];if(1<=e&&e<=4){var n=new Array(e+1);n[0]=d;for(var i=t-g(e),a=0;a<n.length;++a)n[a]?n[a]+=Math.floor(i/(1<<8*(e-a))%256):n[a]=Math.floor(i/(1<<8*(e-a))%256);return n}throw new Error("参数错误")}(function(t){if(t<0)throw new Error("参数错误");return 3<=t&&t<=9?y(b.Point,t):10<=t&&t<=12?y(b.MeasDef,t):13==t?y(b.Device,t):t}(e));this.LevelValues=n,this.Level=this.LevelValues.length-1}}t.FromValue=function(e){return new t(e).Origin.Value},t.prototype.InitCache=function(){for(var e=0;e<32;e++)t.NodeTypes[e]=new t(e)},Object.defineProperty(t.prototype,"Origin",{get:function(){return t.NodeTypes[Math.floor(this.LevelValues[0])]},enumerable:!1,configurable:!0}),t.NodeTypes=null}();!function(t){t[t.ErrorType=-1]="ErrorType",t[t.Root=0]="Root",t[t.Org=1]="Org",t[t.Device=2]="Device",t[t.Vib=3]="Vib",t[t.Switch=4]="Switch",t[t.Craft=5]="Craft",t[t.Temp=6]="Temp",t[t.Speed=7]="Speed",t[t.Inspect=8]="Inspect",t[t.Lubrication=9]="Lubrication",t[t.WaveMeasDef=10]="WaveMeasDef",t[t.SpectrumMeasDef=11]="SpectrumMeasDef",t[t.EnvelopeMeasDef=12]="EnvelopeMeasDef",t[t.Beltline=13]="Beltline",t[t.Part=20]="Part",t[t.Point=21]="Point",t[t.MeasDef=22]="MeasDef",t[t.MeasDefGroup=23]="MeasDefGroup"}(b||(b={}));var C={IndustryType_GT:{code:"IndustryType_GT",name:"钢铁"},IndustryType_HG:{code:"IndustryType_HG",name:"化工"},IndustryType_FD:{code:"IndustryType_FD",name:"风电"},IndustryType_SH:{code:"IndustryType_SH",name:"石化"},IndustryType_SN:{code:"IndustryType_SN",name:"水泥"},IndustryType_BL:{code:"IndustryType_BL",name:"玻璃"},IndustryType_SY:{code:"IndustryType_SY",name:"试验"},IndustryType_XJ:{code:"IndustryType_XJ",name:"橡胶"},IndustryType_SHD:{code:"IndustryType_SHD:",name:"水电"},IndustryType_HD:{code:"IndustryType_HD",name:"火电"},IndustryType_GK:{code:"IndustryType_GK",name:"港口"},IndustryType_JJ:{code:"IndustryType_JJ",name:"建机"},IndustryType_KS:{code:"IndustryType_KS",name:"矿山"},IndustryType_QC:{code:"IndustryType_QC",name:"汽车"},IndustryType_SD:{code:"IndustryType_SD",name:"隧道"},IndustryType_YJ:{code:"IndustryType_YJ",name:"冶金"},IndustryType_ZLS:{code:"IndustryType_ZLS",name:"自来水"},IndustryType_ZY:{code:"IndustryType_ZY",name:"纸业"},IndustryType_Other:{code:"IndustryType_Other",name:"其他"}}},function(t,e,n){var i=n(120),a=i.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return a(t,e,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=i:(r(i,e),e.Buffer=o),r(a,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=a(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=i=function(t){return n(t)}:t.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},i(e)}t.exports=i},function(t,e,n){t.exports=n(238)},function(t,e,n){t.exports=n(286)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n=!1),this.addListener(t,e,n)},t.prototype.addListener=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=""),this._events||(this._events=Object.create(null)),e.origin=e,i&&(e.id=i),this._events[t]?n?this._events[t].unshift(e):this._events[t].push(e):this._events[t]=[e]},t.prototype.emit=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this._events[t]&&this._events[t].forEach(function(t){return t.call.apply(t,function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t}([e],n))})},t.prototype.once=function(t,e){var n=this;this.on(t,function i(){e(),n.removeListener(t,i,"")})},t.prototype.removeListener=function(t,e,n){this._events[t]&&(this._events[t]=this._events[t].filter(function(t){return t!==e&&t.origin!==e||n&&t.id&&t.id!==n}))},t.prototype.prependListener=function(t,e){this.on(t,e,!0)},t}(),a=window.EPMEvent||new i;function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a&&a.emit(t,e)}window.EPMEvent||(window.EPMEvent=a),e.b=a},function(t,e,n){var i=n(9),a=n(44),r=n(23),o=n(25),s=n(32),l=function(t,e,n){var c,u,h,d,p=t&l.F,f=t&l.G,A=t&l.S,m=t&l.P,y=t&l.B,g=f?i:A?i[e]||(i[e]={}):(i[e]||{}).prototype,v=f?a:a[e]||(a[e]={}),b=v.prototype||(v.prototype={});for(c in f&&(n=e),n)h=((u=!p&&g&&void 0!==g[c])?g:n)[c],d=y&&u?s(h,i):m&&"function"==typeof h?s(Function.call,h):h,g&&o(g,c,h,t&l.U),v[c]!=h&&r(v,c,d),m&&b[c]!=h&&(b[c]=h)};i.core=a,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(97)("wks"),a=n(45),r=n(9).Symbol,o="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=o&&r[t]||(o?r:a)("Symbol."+t))}).store=i},function(t,e){function n(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,a)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise(function(a,r){var o=t.apply(e,i);function s(t){n(o,a,r,s,l,"next",t)}function l(t){n(o,a,r,s,l,"throw",t)}s(void 0)})}}},function(t,e,n){for(var i=n(22),a=n(53),r=n(25),o=n(9),s=n(23),l=n(52),c=n(10),u=c("iterator"),h=c("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=a(p),A=0;A<f.length;A++){var m,y=f[A],g=p[y],v=o[y],b=v&&v.prototype;if(b&&(b[u]||s(b,u,d),b[h]||s(b,h,y),l[y]=d,g))for(m in i)b[m]||r(b,m,i[m],!0)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n(226),n(34),n(35),n(36);var i=n(4),a=n.n(i),r=n(19),o=n.n(r),s=n(30),l=n.n(s);n(12);"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var t={};return Object.getOwnPropertyNames(this).forEach(function(e){t[e]=this[e]},this),t},configurable:!0,writable:!0});var c=function(){function t(e){o()(this,t);var n=e;if(void 0===n)throw new Error("lajax初始化错误 - 构造函数的参数不能为空！");if("string"==typeof n)n={url:e};else{if("object"!==a()(n))throw new Error("lajax初始化错误 - 构造函数的参数格式不正确！");if("string"!=typeof e.url)throw new Error("lajax初始化错误 - 构造函数的参数 url 必须是一个字符串！");if(null!=e.logAjaxFilter&&"function"!=typeof e.logAjaxFilter)throw new Error("lajax初始化错误 - 构造函数的参数 logAjaxFilter 必须是一个函数！");if(null!=e.customDesc&&"function"!=typeof e.customDesc)throw new Error("lajax初始化错误 - 构造函数的参数 customDesc 必须是一个函数！")}this.appname=n.appname,this.url=n.url,this.autoLogError=null==n.autoLogError||n.autoLogError,this.autoLogRejection=null==n.autoLogRejection||n.autoLogRejection,this.autoLogAjax=null==n.autoLogAjax||n.autoLogAjax;this.logAjaxFilter=null==n.logAjaxFilter?function(t,e){return!0}:n.logAjaxFilter,this.stylize=null==n.stylize||n.stylize,this.stylize=this.stylize&&this._stylizeSupport(),this.showDesc=null==n.showDesc||n.showDesc,this.customDesc=n.customDesc;this.interval=null==n.interval?1e4:n.interval;this.maxErrorReq=null==n.maxErrorReq?5:n.maxErrorReq,this.errorReq=0,this.queue=[],this.xhr=null,this.xhrOpen=XMLHttpRequest.prototype.open,this.xhrSend=XMLHttpRequest.prototype.send,this._init()}return l()(t,[{key:"_init",value:function(){var t=this;!1!==window.RzGrapheOpenLogger&&(this._getReqId(),this._loadFromStorage(),this._printDesc(),this._exceptionHandler(),this._ajaxHandler(),this._storageUnsendData(),this.timer=setInterval(function(){t._send()},this.interval))}},{key:"_getReqId",value:function(){if(this.reqId=document.querySelector('[name="_reqId"]')?document.querySelector('[name="_reqId"]').content:"",this.reqId||(this.reqId=window._reqId),this.reqId)this.idFromServer=!0;else{var t=Date.now();"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),this.reqId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}),this.appname&&(this.reqId=this.appname),this.idFromServer=!1}}},{key:"_defaultDesc",value:function(t,e,n){return"🚀 lajax 前端日志模块加载完成。\n地址:".concat(this.url,"\n自动记录页面错误：      ").concat(this.autoLogError?"✔":"✘","\n自动记录Promise异常：   ").concat(this.autoLogRejection?"✔":"✘","\n自动记录Ajax请求：      ").concat(this.autoLogAjax?"✔":"✘","\n当前页面请求id：").concat(e)}},{key:"_printDesc",value:function(){console&&this.showDesc&&(this.customDesc?this.customDesc(this.lastUnsend,this.reqId,this.idFromServer):this._defaultDesc(this.lastUnsend,this.reqId,this.idFromServer),this.stylize&&window.RzGrapheOpenLogger)}},{key:"_isSecret",value:function(){try{var t="lajax-test";return window.localStorage.setItem(t,"1"),window.localStorage.removeItem(t),!1}catch(t){return!0}}},{key:"_loadFromStorage",value:function(){if(!this._isSecret()){var t=JSON.parse(window.localStorage.getItem("lajax"));Array.isArray(t)&&t.length&&(this.lastUnsend=t.length,this.queue=t,this._send()),window.localStorage.removeItem("lajax")}}},{key:"_exceptionHandler",value:function(){var t=this;this.autoLogError&&window.addEventListener("error",function(e){t.error("[OnError]",e.message,"(".concat(e.lineno,"行").concat(e.colno,"列)"))}),this.autoLogRejection&&window.addEventListener("unhandledrejection",function(e){t.error("[OnRejection]",e.reason)})}},{key:"_stylizeSupport",value:function(){var t=!!window.chrome,e=-1!==navigator.userAgent.indexOf("Firefox");return t||e}},{key:"_resolveUrl",value:function(t){var e=document.createElement("a");return e.href=t,"".concat(e.protocol,"//").concat(e.host).concat(e.pathname).concat(e.search).concat(e.hash)}},{key:"_ajaxHandler",value:function(){if(this.autoLogAjax){var e=this;XMLHttpRequest.prototype.open=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._lajaxMethod=n[0],this._lajaxUrl=e._resolveUrl(n[1]),e.xhrOpen.apply(this,n)},XMLHttpRequest.prototype.send=function(n){var i=new Date;e.logAjaxFilter(this._lajaxUrl,this._lajaxMethod)&&e._pushToQueue(i,t.levelEnum.info,"[ajax] 发送".concat(this._lajaxMethod.toLowerCase(),"请求：").concat(this._lajaxUrl)),e.xhrSend.call(this,n)}}}},{key:"_storageUnsendData",value:function(){var t=this;window.onunload=function(){t.queue.length&&(navigator.sendBeacon&&navigator.sendBeacon(t.url,JSON.stringify(t.queue))?t.queue=[]:t._isSecret()?t._send():window.localStorage.setItem("lajax",JSON.stringify(t.queue)))}}},{key:"_send",value:function(){var e=this,n=this.queue.length;if(n){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort());try{this.xhr=new XMLHttpRequest,this.xhrOpen.call(this.xhr,"POST",this.url||window.apiAddress+"/api/Log/AddJsLog",!0),this.xhr.setRequestHeader("Content-Type","application/json; charset=utf-8"),this.xhrSend.call(this.xhr,JSON.stringify(this.queue)),this.xhr.onreadystatechange=function(){e.xhr.readyState===XMLHttpRequest.DONE&&(e.xhr.status>=200&&e.xhr.status<400?(e.queue.splice(0,n),e.errorReq=0,console&&e.stylize):e._checkErrorReq(),e.xhr=null)}}catch(e){this._printConsole(null,t.levelEnum.error,"发送日志请求失败！配置的接口地址：".concat(this.url)),this._checkErrorReq(),this.xhr=null}}}},{key:"_checkErrorReq",value:function(){this.errorReq++,this.errorReq>=this.maxErrorReq&&(clearInterval(this.timer),this._printConsole(null,t.levelEnum.warn,"发送日志请求的连续失败次数过多，已停止发送日志。请检查日志接口 ".concat(this.url," 是否正常！")))}},{key:"_getTimeString",value:function(t){var e=null===t?new Date:t,n=String(e.getHours());1===n.length&&(n="0".concat(n));var i=String(e.getMinutes());1===i.length&&(i="0".concat(i));var a=String(e.getSeconds());1===a.length&&(a="0".concat(a));var r=String(e.getMilliseconds());return 1===r.length?r="00".concat(r):2===r.length&&(r="0".concat(r)),"".concat(n,":").concat(i,":").concat(a,".").concat(r)}},{key:"_getDateTimeString",value:function(t){var e=null===t?new Date:t,n=String(e.getFullYear()),i=String(e.getMonth()+1);1===i.length&&(i="0".concat(i));var a=String(e.getDate());return 1===a.length&&(a="0".concat(a)),"".concat(n,"-").concat(i,"-").concat(a," ").concat(this._getTimeString(e))}},{key:"_printConsole",value:function(e,n){if(console){for(var i=arguments.length,a=new Array(i>2?i-2:0),r=2;r<i;r++)a[r-2]=arguments[r];var o,s;this.stylize?(o=console)[n].apply(o,["%c[".concat(this.appname,"] [").concat(this._getTimeString(e),"] [").concat(n.toUpperCase(),"] -"),"color: ".concat(t.colorEnum[n])].concat(a)):(s=console)[n].apply(s,a)}}},{key:"_pushToQueue",value:function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];i.unshift("{".concat(this.reqId,"}")),this.queue.push({appname:this.appname,time:this._getDateTimeString(t),level:e,messages:i,url:window.location.href,agent:navigator.userAgent})}},{key:"_log",value:function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];this._printConsole.apply(this,[t,e].concat(i)),this._pushToQueue.apply(this,[t,e].concat(i))}},{key:"info",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._log.apply(this,[null,t.levelEnum.info].concat(n))}},{key:"log",value:function(){this.info.apply(this,arguments)}},{key:"warn",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._log.apply(this,[null,t.levelEnum.warn].concat(n))}},{key:"error",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._log.apply(this,[null,t.levelEnum.error].concat(n))}}]),t}();c.levelEnum={info:"info",warn:"warn",error:"error"},c.colorEnum={info:"DodgerBlue",warn:"orange",error:"red",ajaxGroup:"#800080",sendSuccess:"green",desc:"#d30775"};var u=c,h=n(90),d=new u({url:void 0===window.apiAddress?"":window.apiAddress+"/api/Log/AddJsLog",appname:"RZGraphe(".concat(h.a,")"),logAjaxFilter:function(t,e){return!1}});e.a=d},function(t,e,n){var i=n(24),a=n(127),r=n(63),o=Object.defineProperty;e.f=n(16)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),a)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";var i=n(149),a=Object.prototype.toString;function r(t){return"[object Array]"===a.call(t)}function o(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),r(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:r,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:o,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,a=arguments.length;i<a;i++)c(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,a=arguments.length;i<a;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,function(e,a){t[a]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";var i=n(263).Duplex,a=n(123),r=n(3).Buffer;function o(t){if(!(this instanceof o))return new o(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else this.append(t);i.call(this)}a.inherits(o,i),o.prototype._offset=function(t){var e,n=0,i=0;if(0===t)return[0,0];for(;i<this._bufs.length;i++){if(t<(e=n+this._bufs[i].length)||i==this._bufs.length-1)return[i,t-n];n=e}},o.prototype._reverseOffset=function(t){for(var e=t[0],n=t[1],i=0;i<e;i++)n+=this._bufs[i].length;return n},o.prototype.append=function(t){var e=0;if(r.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof o)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(r.from(t)));return this},o.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},o.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},o.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},o.prototype.end=function(t){i.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},o.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},o.prototype.copy=function(t,e,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length)return t||r.alloc(0);if(i<=0)return t||r.alloc(0);var a,o,s=!!t,l=this._offset(n),c=i-n,u=c,h=s&&e||0,d=l[1];if(0===n&&i==this.length){if(!s)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(t,h),h+=this._bufs[o].length;return t}if(u<=this._bufs[l[0]].length-d)return s?this._bufs[l[0]].copy(t,e,d,d+u):this._bufs[l[0]].slice(d,d+u);for(s||(t=r.allocUnsafe(c)),o=l[0];o<this._bufs.length;o++){if(!(u>(a=this._bufs[o].length-d))){this._bufs[o].copy(t,h,d,d+u),h+=a;break}this._bufs[o].copy(t,h,d),h+=a,u-=a,d&&(d=0)}return t.length>h?t.slice(0,h):t},o.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return new o;var n=this._offset(t),i=this._offset(e),a=this._bufs.slice(n[0],i[0]+1);return 0==i[1]?a.pop():a[a.length-1]=a[a.length-1].slice(0,i[1]),0!=n[1]&&(a[0]=a[0].slice(n[1])),new o(a)},o.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},o.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){for(var t=0,e=new o;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},o.prototype.indexOf=function(t,e,n){if(void 0===n&&"string"==typeof e&&(n=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=r.from([t]):"string"==typeof t?t=r.from(t,n):t instanceof o?t=t.slice():r.isBuffer(t)||(t=r.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var i=this._offset(e),a=i[0],s=i[1];a<this._bufs.length;a++){for(var l=this._bufs[a];s<l.length;){if(l.length-s>=t.length){var c=l.indexOf(t,s);if(-1!==c)return this._reverseOffset([a,c]);s=l.length-t.length+1}else{var u=this._reverseOffset([a,s]);if(this._match(u,t))return u;s++}}s=0}return-1},o.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var n=0;n<e.length;n++)if(this.get(t+n)!==e[n])return!1;return!0},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var e in t)!function(e){o.prototype[e]=null===t[e]?function(t,n){return this.slice(t,t+n)[e](0,n)}:function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),t.exports=o},function(t,e,n){"use strict";var i=n(66),a=n(128),r=n(52),o=n(50);t.exports=n(129)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,a(1)):a(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i=n(15),a=n(49);t.exports=n(16)?function(t,e,n){return i.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(18);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(9),a=n(23),r=n(31),o=n(45)("src"),s="toString",l=Function.toString,c=(""+l).split(s);n(44).inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(r(n,"name")||a(n,"name",e)),t[e]!==n&&(l&&(r(n,o)||a(n,o,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||l.call(this)})},function(t,e,n){var i;i=function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",a="day",r="week",o="month",s="quarter",l="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},d={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+h(i,2,"0")+":"+h(a,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,o),a=e-i<0,r=t.clone().add(n+(a?-1:1),o);return Number(-(n+(e-i)/(a?i-r:r-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:o,y:l,w:r,d:a,D:"date",h:i,m:n,s:e,ms:t,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f="en",A={};A[f]=p;var m=function(t){return t instanceof b},y=function(t,e,n){var i;if(!t)return f;if("string"==typeof t)A[t]&&(i=t),e&&(A[t]=e,i=t);else{var a=t.name;A[a]=t,i=a}return!n&&i&&(f=i),i||!n&&f},g=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new b(n)},v=d;v.l=y,v.i=m,v.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var b=function(){function h(t){this.$L=this.$L||y(t.locale,null,!0),this.parse(t)}var d=h.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(v.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(c);if(i)return n?new Date(Date.UTC(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)):new Date(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return v},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return g(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<g(t)},d.$g=function(t,e,n){return v.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,"$y",l)},d.month=function(t){return this.$g(t,"$M",o)},d.day=function(t){return this.$g(t,"$W",a)},d.date=function(t){return this.$g(t,"$D","date")},d.hour=function(t){return this.$g(t,"$H",i)},d.minute=function(t){return this.$g(t,"$m",n)},d.second=function(t){return this.$g(t,"$s",e)},d.millisecond=function(e){return this.$g(e,"$ms",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,s){var c=this,u=!!v.u(s)||s,h=v.p(t),d=function(t,e){var n=v.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return u?n:n.endOf(a)},p=function(t,e){return v.w(c.toDate()[t].apply(c.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},f=this.$W,A=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case l:return u?d(1,0):d(31,11);case o:return u?d(1,A):d(0,A+1);case r:var g=this.$locale().weekStart||0,b=(f<g?f+7:f)-g;return d(u?m-b:m+(6-b),A);case a:case"date":return p(y+"Hours",0);case i:return p(y+"Minutes",1);case n:return p(y+"Seconds",2);case e:return p(y+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(r,s){var c,u=v.p(r),h="set"+(this.$u?"UTC":""),d=(c={},c[a]=h+"Date",c.date=h+"Date",c[o]=h+"Month",c[l]=h+"FullYear",c[i]=h+"Hours",c[n]=h+"Minutes",c[e]=h+"Seconds",c[t]=h+"Milliseconds",c)[u],p=u===a?this.$D+(s-this.$W):s;if(u===o||u===l){var f=this.clone().set("date",1);f.$d[d](p),f.init(),this.$d=f.set("date",Math.min(this.$D,f.daysInMonth())).toDate()}else d&&this.$d[d](p);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[v.p(t)]()},d.add=function(t,s){var c,u=this;t=Number(t);var h=v.p(s),d=function(e){var n=g(u);return v.w(n.date(n.date()+Math.round(e*t)),u)};if(h===o)return this.set(o,this.$M+t);if(h===l)return this.set(l,this.$y+t);if(h===a)return d(1);if(h===r)return d(7);var p=(c={},c[n]=6e4,c[i]=36e5,c[e]=1e3,c)[h]||1,f=this.$d.getTime()+t*p;return v.w(f,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=v.z(this),a=this.$locale(),r=this.$H,o=this.$m,s=this.$M,l=a.weekdays,c=a.months,h=function(t,i,a,r){return t&&(t[i]||t(e,n))||a[i].substr(0,r)},d=function(t){return v.s(r%12||12,t,"0")},p=a.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:v.s(s+1,2,"0"),MMM:h(a.monthsShort,s,c,3),MMMM:h(c,s),D:this.$D,DD:v.s(this.$D,2,"0"),d:String(this.$W),dd:h(a.weekdaysMin,this.$W,l,2),ddd:h(a.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:v.s(r,2,"0"),h:d(1),hh:d(2),a:p(r,o,!0),A:p(r,o,!1),m:String(o),mm:v.s(o,2,"0"),s:String(this.$s),ss:v.s(this.$s,2,"0"),SSS:v.s(this.$ms,3,"0"),Z:i};return n.replace(u,function(t,e){return e||f[t]||i.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,c,u){var h,d=v.p(c),p=g(t),f=6e4*(p.utcOffset()-this.utcOffset()),A=this-p,m=v.m(this,p);return m=(h={},h[l]=m/12,h[o]=m,h[s]=m/3,h[r]=(A-f)/6048e5,h[a]=(A-f)/864e5,h[i]=A/36e5,h[n]=A/6e4,h[e]=A/1e3,h)[d]||A,u?m:v.a(m)},d.daysInMonth=function(){return this.endOf(o).$D},d.$locale=function(){return A[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=y(t,e,!0);return i&&(n.$L=i),n},d.clone=function(){return v.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},h}();return g.prototype=b.prototype,g.extend=function(t,e){return t(e,b,g),g},g.locale=y,g.isDayjs=m,g.unix=function(t){return g(1e3*t)},g.en=A[f],g.Ls=A,g},t.exports=i()},function(t,e,n){"use strict";var i=n(71),a=n(13);function r(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function l(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=a,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),a=0;a<t.length;a+=2)n.push(parseInt(t[a]+t[a+1],16))}else for(var i=0,a=0;a<t.length;a++){var o=t.charCodeAt(a);o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=63&o|128):r(t,a)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++a)),n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=63&o|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=63&o|128)}else for(a=0;a<t.length;a++)n[a]=0|t[a];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var n="",i=0;i<t.length;i++){var a=t[i];"little"===e&&(a=o(a)),n+=l(a.toString(16))}return n},e.zero2=s,e.zero8=l,e.join32=function(t,e,n,a){var r=n-e;i(r%4==0);for(var o=new Array(r/4),s=0,l=e;s<o.length;s++,l+=4){var c;c="big"===a?t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],o[s]=c>>>0}return o},e.split32=function(t,e){for(var n=new Array(4*t.length),i=0,a=0;i<t.length;i++,a+=4){var r=t[i];"big"===e?(n[a]=r>>>24,n[a+1]=r>>>16&255,n[a+2]=r>>>8&255,n[a+3]=255&r):(n[a+3]=r>>>24,n[a+2]=r>>>16&255,n[a+1]=r>>>8&255,n[a]=255&r)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,i){return t+e+n+i>>>0},e.sum32_5=function(t,e,n,i,a){return t+e+n+i+a>>>0},e.sum64=function(t,e,n,i){var a=t[e],r=i+t[e+1]>>>0,o=(r<i?1:0)+n+a;t[e]=o>>>0,t[e+1]=r},e.sum64_hi=function(t,e,n,i){return(e+i>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,i){return e+i>>>0},e.sum64_4_hi=function(t,e,n,i,a,r,o,s){var l=0,c=e;return l+=(c=c+i>>>0)<e?1:0,l+=(c=c+r>>>0)<r?1:0,t+n+a+o+(l+=(c=c+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,n,i,a,r,o,s){return e+i+r+s>>>0},e.sum64_5_hi=function(t,e,n,i,a,r,o,s,l,c){var u=0,h=e;return u+=(h=h+i>>>0)<e?1:0,u+=(h=h+r>>>0)<r?1:0,u+=(h=h+s>>>0)<s?1:0,t+n+a+o+l+(u+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,n,i,a,r,o,s,l,c){return e+i+r+s+c>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(120).Buffer)},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(73);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,a){return t.call(e,n,i,a)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(64),a=Math.min;t.exports=function(t){return t>0?a(i(t),9007199254740991):0}},function(t,e,n){"use strict";n(134);var i=n(24),a=n(102),r=n(16),o="toString",s=/./.toString,l=function(t){n(25)(RegExp.prototype,o,t,!0)};n(17)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?a.call(t):void 0)}):s.name!=o&&l(function(){return s.call(this)})},function(t,e,n){var i=Date.prototype,a="Invalid Date",r=i.toString,o=i.getTime;new Date(NaN)+""!=a&&n(25)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):a})},function(t,e,n){n(77)("replace",2,function(t,e,n){return[function(i,a){"use strict";var r=t(this),o=null==i?void 0:i[e];return void 0!==o?o.call(i,r,a):n.call(String(r),i,a)},n]})},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){var i=n(51);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(15).f,a=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in a||n(16)&&i(a,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},function(t,e,n){"use strict";if(n(16)){var i=n(47),a=n(9),r=n(17),o=n(8),s=n(137),l=n(209),c=n(32),u=n(70),h=n(49),d=n(23),p=n(69),f=n(64),A=n(33),m=n(138),y=n(65),g=n(63),v=n(31),b=n(106),C=n(18),x=n(38),w=n(104),D=n(67),I=n(132),B=n(56).f,T=n(105),S=n(45),M=n(10),E=n(139),k=n(95),F=n(141),O=n(22),L=n(52),U=n(79),P=n(80),R=n(103),H=n(142),Q=n(15),_=n(75),N=Q.f,j=_.f,Y=a.RangeError,z=a.TypeError,G=a.Uint8Array,V="ArrayBuffer",K="SharedArrayBuffer",W="BYTES_PER_ELEMENT",X=Array.prototype,q=l.ArrayBuffer,J=l.DataView,Z=E(0),$=E(2),tt=E(3),et=E(4),nt=E(5),it=E(6),at=k(!0),rt=k(!1),ot=O.values,st=O.keys,lt=O.entries,ct=X.lastIndexOf,ut=X.reduce,ht=X.reduceRight,dt=X.join,pt=X.sort,ft=X.slice,At=X.toString,mt=X.toLocaleString,yt=M("iterator"),gt=M("toStringTag"),vt=S("typed_constructor"),bt=S("def_constructor"),Ct=s.CONSTR,xt=s.TYPED,wt=s.VIEW,Dt="Wrong length!",It=E(1,function(t,e){return Et(F(t,t[bt]),e)}),Bt=r(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Tt=!!G&&!!G.prototype.set&&r(function(){new G(1).set({})}),St=function(t,e){var n=f(t);if(n<0||n%e)throw Y("Wrong offset!");return n},Mt=function(t){if(C(t)&&xt in t)return t;throw z(t+" is not a typed array!")},Et=function(t,e){if(!(C(t)&&vt in t))throw z("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Ft(F(t,t[bt]),e)},Ft=function(t,e){for(var n=0,i=e.length,a=Et(t,i);i>n;)a[n]=e[n++];return a},Ot=function(t,e,n){N(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,i,a,r,o,s=x(t),l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,d=T(s);if(null!=d&&!w(d)){for(o=d.call(s),i=[],e=0;!(r=o.next()).done;e++)i.push(r.value);s=i}for(h&&l>2&&(u=c(u,arguments[2],2)),e=0,n=A(s.length),a=Et(this,n);n>e;e++)a[e]=h?u(s[e],e):s[e];return a},Ut=function(){for(var t=0,e=arguments.length,n=Et(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!G&&r(function(){mt.call(new G(1))}),Rt=function(){return mt.apply(Pt?ft.call(Mt(this)):Mt(this),arguments)},Ht={copyWithin:function(t,e){return H.call(Mt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(Mt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return R.apply(Mt(this),arguments)},filter:function(t){return kt(this,$(Mt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Mt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Mt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(Mt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return dt.apply(Mt(this),arguments)},lastIndexOf:function(t){return ct.apply(Mt(this),arguments)},map:function(t){return It(Mt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ut.apply(Mt(this),arguments)},reduceRight:function(t){return ht.apply(Mt(this),arguments)},reverse:function(){for(var t,e=Mt(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return tt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Mt(this),t)},subarray:function(t,e){var n=Mt(this),i=n.length,a=y(t,i);return new(F(n,n[bt]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,A((void 0===e?i:y(e,i))-a))}},Qt=function(t,e){return kt(this,ft.call(Mt(this),t,e))},_t=function(t){Mt(this);var e=St(arguments[1],1),n=this.length,i=x(t),a=A(i.length),r=0;if(a+e>n)throw Y(Dt);for(;r<a;)this[e+r]=i[r++]},Nt={entries:function(){return lt.call(Mt(this))},keys:function(){return st.call(Mt(this))},values:function(){return ot.call(Mt(this))}},jt=function(t,e){return C(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Yt=function(t,e){return jt(t,e=g(e,!0))?h(2,t[e]):j(t,e)},zt=function(t,e,n){return!(jt(t,e=g(e,!0))&&C(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?N(t,e,n):(t[e]=n.value,t)};Ct||(_.f=Yt,Q.f=zt),o(o.S+o.F*!Ct,"Object",{getOwnPropertyDescriptor:Yt,defineProperty:zt}),r(function(){At.call({})})&&(At=mt=function(){return dt.call(this)});var Gt=p({},Ht);p(Gt,Nt),d(Gt,yt,Nt.values),p(Gt,{slice:Qt,set:_t,constructor:function(){},toString:At,toLocaleString:Rt}),Ot(Gt,"buffer","b"),Ot(Gt,"byteOffset","o"),Ot(Gt,"byteLength","l"),Ot(Gt,"length","e"),N(Gt,gt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,l){var c=t+((l=!!l)?"Clamped":"")+"Array",h="get"+t,p="set"+t,f=a[c],y=f||{},g=f&&I(f),v=!f||!s.ABV,x={},w=f&&f.prototype,T=function(t,n){var i=t._d;return i.v[h](n*e+i.o,Bt)},S=function(t,n,i){var a=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),a.v[p](n*e+a.o,i,Bt)},M=function(t,e){N(t,e,{get:function(){return T(this,e)},set:function(t){return S(this,e,t)},enumerable:!0})};v?(f=n(function(t,n,i,a){u(t,f,c,"_d");var r,o,s,l,h=0,p=0;if(C(n)){if(!(n instanceof q||(l=b(n))==V||l==K))return xt in n?Ft(f,n):Lt.call(f,n);r=n,p=St(i,e);var y=n.byteLength;if(void 0===a){if(y%e)throw Y(Dt);if((o=y-p)<0)throw Y(Dt)}else if((o=A(a)*e)+p>y)throw Y(Dt);s=o/e}else s=m(n),r=new q(o=s*e);for(d(t,"_d",{b:r,o:p,l:o,e:s,v:new J(r)});h<s;)M(t,h++)}),w=f.prototype=D(Gt),d(w,"constructor",f)):r(function(){f(1)})&&r(function(){new f(-1)})&&U(function(t){new f,new f(null),new f(1.5),new f(t)},!0)||(f=n(function(t,n,i,a){var r;return u(t,f,c),C(n)?n instanceof q||(r=b(n))==V||r==K?void 0!==a?new y(n,St(i,e),a):void 0!==i?new y(n,St(i,e)):new y(n):xt in n?Ft(f,n):Lt.call(f,n):new y(m(n))}),Z(g!==Function.prototype?B(y).concat(B(g)):B(y),function(t){t in f||d(f,t,y[t])}),f.prototype=w,i||(w.constructor=f));var E=w[yt],k=!!E&&("values"==E.name||null==E.name),F=Nt.values;d(f,vt,!0),d(w,xt,c),d(w,wt,!0),d(w,bt,f),(l?new f(1)[gt]==c:gt in w)||N(w,gt,{get:function(){return c}}),x[c]=f,o(o.G+o.W+o.F*(f!=y),x),o(o.S,c,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*r(function(){y.of.call(f,1)}),c,{from:Lt,of:Ut}),W in w||d(w,W,e),o(o.P,c,Ht),P(c),o(o.P+o.F*Tt,c,{set:_t}),o(o.P+o.F*!k,c,Nt),i||w.toString==At||(w.toString=At),o(o.P+o.F*r(function(){new f(1).slice()}),c,{slice:Qt}),o(o.P+o.F*(r(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!r(function(){w.toLocaleString.call([1,2])})),c,{toLocaleString:Rt}),L[c]=k?E:F,i||k||d(w,yt,F)}}else t.exports=function(){}},function(t,e){var n,i,a=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function A(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=A,a.addListener=A,a.once=A,a.off=A,a.removeListener=A,a.removeAllListeners=A,a.emit=A,a.prependListener=A,a.prependOnceListener=A,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,a){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,a)});default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return e.nextTick(function(){t.apply(null,r)})}}}:t.exports=e}).call(this,n(41))},function(t,e,n){var i=n(122);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){i(t,e,n[e])})}return t}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(96),a=n(51);t.exports=function(t){return i(a(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports={}},function(t,e,n){var i=n(130),a=n(100);t.exports=Object.keys||function(t){return i(t,a)}},function(t,e,n){var i=n(15).f,a=n(31),r=n(10)("toStringTag");t.exports=function(t,e,n){t&&!a(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){"use strict";var i=n(9),a=n(31),r=n(46),o=n(101),s=n(63),l=n(17),c=n(56).f,u=n(75).f,h=n(15).f,d=n(203).trim,p="Number",f=i.Number,A=f,m=f.prototype,y=r(n(67)(m))==p,g="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,a,r=(e=g?e.trim():d(e,3)).charCodeAt(0);if(43===r||45===r){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(var o,l=e.slice(2),c=0,u=l.length;c<u;c++)if((o=l.charCodeAt(c))<48||o>a)return NaN;return parseInt(l,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(y?l(function(){m.valueOf.call(n)}):r(n)!=p)?o(new A(v(e)),n,f):v(e)};for(var b,C=n(16)?c(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;C.length>x;x++)a(A,b=C[x])&&!a(f,b)&&h(f,b,u(A,b));f.prototype=m,m.constructor=f,n(25)(i,p,f)}},function(t,e,n){var i=n(130),a=n(100).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},function(t,e,n){var i=n(8);i(i.P,"Array",{fill:n(103)}),n(66)("fill")},function(t,e,n){"use strict";var i=n(8),a=n(139)(5),r="find",o=!0;r in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(66)(r)},function(t,e,n){"use strict";var i=n(42),a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var r=Object.create(n(29));r.inherits=n(13);var o=n(161),s=n(164);r.inherits(h,o);for(var l=a(s.prototype),c=0;c<l.length;c++){var u=l[c];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){"use strict";var i=n(42),a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var r=n(29);r.inherits=n(13);var o=n(168),s=n(171);r.inherits(h,o);for(var l=a(s.prototype),c=0;c<l.length;c++){var u=l[c];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){var i=n(276),a=n(277),r=n(278);t.exports=function(t,e){return i(t)||a(t,e)||r()}},function(t,e,n){(function(t,n){var i=200,a="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Boolean]",l="[object Date]",c="[object Function]",u="[object GeneratorFunction]",h="[object Map]",d="[object Number]",p="[object Object]",f="[object Promise]",A="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",D="[object Int8Array]",I="[object Int16Array]",B="[object Int32Array]",T="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",E="[object Uint32Array]",k=/\w*$/,F=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,L={};L[o]=L["[object Array]"]=L[b]=L[C]=L[s]=L[l]=L[x]=L[w]=L[D]=L[I]=L[B]=L[h]=L[d]=L[p]=L[A]=L[m]=L[y]=L[g]=L[T]=L[S]=L[M]=L[E]=!0,L["[object Error]"]=L[c]=L[v]=!1;var U="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,R=U||P||Function("return this")(),H=e&&!e.nodeType&&e,Q=H&&"object"==typeof n&&n&&!n.nodeType&&n,_=Q&&Q.exports===H;function N(t,e){return t.set(e[0],e[1]),t}function j(t,e){return t.add(e),t}function Y(t,e,n,i){var a=-1,r=t?t.length:0;for(i&&r&&(n=t[++a]);++a<r;)n=e(n,t[a],a,t);return n}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function V(t,e){return function(n){return t(e(n))}}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var W,X=Array.prototype,q=Function.prototype,J=Object.prototype,Z=R["__core-js_shared__"],$=(W=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",tt=q.toString,et=J.hasOwnProperty,nt=J.toString,it=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=_?R.Buffer:void 0,rt=R.Symbol,ot=R.Uint8Array,st=V(Object.getPrototypeOf,Object),lt=Object.create,ct=J.propertyIsEnumerable,ut=X.splice,ht=Object.getOwnPropertySymbols,dt=at?at.isBuffer:void 0,pt=V(Object.keys,Object),ft=Qt(R,"DataView"),At=Qt(R,"Map"),mt=Qt(R,"Promise"),yt=Qt(R,"Set"),gt=Qt(R,"WeakMap"),vt=Qt(Object,"create"),bt=Gt(ft),Ct=Gt(At),xt=Gt(mt),wt=Gt(yt),Dt=Gt(gt),It=rt?rt.prototype:void 0,Bt=It?It.valueOf:void 0;function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Mt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Et(t){this.__data__=new St(t)}function kt(t,e){var n=Kt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wt(t)}(t)&&et.call(t,"callee")&&(!ct.call(t,"callee")||nt.call(t)==o)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,a=!!i;for(var r in t)!e&&!et.call(t,r)||a&&("length"==r||Yt(r,i))||n.push(r);return n}function Ft(t,e,n){var i=t[e];et.call(t,e)&&Vt(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ot(t,e){for(var n=t.length;n--;)if(Vt(t[n][0],e))return n;return-1}function Lt(t,e,n,i,a,r,s){var l;if(i&&(l=r?i(t,a,r,s):i(t)),void 0!==l)return l;if(!Jt(t))return t;var h=Kt(t);if(h){if(l=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&et.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}(t,l)}else{var d=Nt(t),f=d==c||d==u;if(Xt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(d==p||d==o||f&&!r){if(z(t))return r?t:{};if(l=function(t){return"function"!=typeof t.constructor||zt(t)?{}:function(t){return Jt(t)?lt(t):{}}(st(t))}(f?{}:t),!e)return function(t,e){return Rt(t,_t(t),e)}(t,function(t,e){return t&&Rt(e,Zt(e),t)}(l,t))}else{if(!L[d])return r?t:{};l=jt(t,d,Lt,e)}}s||(s=new Et);var A=s.get(t);if(A)return A;if(s.set(t,l),!h)var m=n?function(t){return function(t,e,n){var i=e(t);return Kt(t)?i:function(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}(i,n(t))}(t,Zt,_t)}(t):Zt(t);return function(t,e){for(var n=-1,i=t?t.length:0;++n<i&&!1!==e(t[n],n,t););}(m||t,function(a,r){m&&(a=t[r=a]),Ft(l,r,Lt(a,e,n,i,r,t,s))}),l}function Ut(t){return!(!Jt(t)||function(t){return!!$&&$ in t}(t))&&(qt(t)||z(t)?it:F).test(Gt(t))}function Pt(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function Rt(t,e,n,i){n||(n={});for(var a=-1,r=e.length;++a<r;){var o=e[a],s=i?i(n[o],t[o],o,n,t):void 0;Ft(n,o,void 0===s?t[o]:s)}return n}function Ht(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Qt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ut(n)?n:void 0}Tt.prototype.clear=function(){this.__data__=vt?vt(null):{}},Tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Tt.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===a?void 0:n}return et.call(e,t)?e[t]:void 0},Tt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:et.call(e,t)},Tt.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?a:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},St.prototype.get=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Ot(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,i=Ot(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},Mt.prototype.clear=function(){this.__data__={hash:new Tt,map:new(At||St),string:new Tt}},Mt.prototype.delete=function(t){return Ht(this,t).delete(t)},Mt.prototype.get=function(t){return Ht(this,t).get(t)},Mt.prototype.has=function(t){return Ht(this,t).has(t)},Mt.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Et.prototype.clear=function(){this.__data__=new St},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var a=n.__data__;if(!At||a.length<i-1)return a.push([t,e]),this;n=this.__data__=new Mt(a)}return n.set(t,e),this};var _t=ht?V(ht,Object):function(){return[]},Nt=function(t){return nt.call(t)};function jt(t,e,n,i){var a=t.constructor;switch(e){case b:return Pt(t);case s:case l:return new a(+t);case C:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,i);case x:case w:case D:case I:case B:case T:case S:case M:case E:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,i);case h:return function(t,e,n){return Y(e?n(G(t),!0):G(t),N,new t.constructor)}(t,i,n);case d:case y:return new a(t);case A:return function(t){var e=new t.constructor(t.source,k.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return function(t,e,n){return Y(e?n(K(t),!0):K(t),j,new t.constructor)}(t,i,n);case g:return function(t){return Bt?Object(Bt.call(t)):{}}(t)}}function Yt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Gt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Vt(t,e){return t===e||t!=t&&e!=e}(ft&&Nt(new ft(new ArrayBuffer(1)))!=C||At&&Nt(new At)!=h||mt&&Nt(mt.resolve())!=f||yt&&Nt(new yt)!=m||gt&&Nt(new gt)!=v)&&(Nt=function(t){var e=nt.call(t),n=e==p?t.constructor:void 0,i=n?Gt(n):void 0;if(i)switch(i){case bt:return C;case Ct:return h;case xt:return f;case wt:return m;case Dt:return v}return e});var Kt=Array.isArray;function Wt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!qt(t)}var Xt=dt||function(){return!1};function qt(t){var e=Jt(t)?nt.call(t):"";return e==c||e==u}function Jt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Zt(t){return Wt(t)?kt(t):function(t){if(!zt(t))return pt(t);var e=[];for(var n in Object(t))et.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return Lt(t,!0,!0)}}).call(this,n(28),n(260)(t))},function(t,e,n){var i=n(18);t.exports=function(t,e){if(!i(t))return t;var n,a;if(e&&"function"==typeof(n=t.toString)&&!i(a=n.call(t)))return a;if("function"==typeof(n=t.valueOf)&&!i(a=n.call(t)))return a;if(!e&&"function"==typeof(n=t.toString)&&!i(a=n.call(t)))return a;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(64),a=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?a(t+e,0):r(t,e)}},function(t,e,n){var i=n(10)("unscopables"),a=Array.prototype;null==a[i]&&n(23)(a,i,{}),t.exports=function(t){a[i][t]=!0}},function(t,e,n){var i=n(24),a=n(200),r=n(100),o=n(99)("IE_PROTO"),s=function(){},l=function(){var t,e=n(94)("iframe"),i=r.length;for(e.style.display="none",n(131).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[r[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[o]=t):n=l(),void 0===e?n:a(n,e)}},function(t,e,n){n(77)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){var i=n(25);t.exports=function(t,e,n){for(var a in e)i(t,a,e[a],n);return t}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var i=n(27),a=n(71);function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=r,r.prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-n,this.endian);for(var a=0;a<t.length;a+=this._delta32)this._update(t,a,a+this._delta32)}return this},r.prototype.digest=function(t){return this.update(this._pad()),a(null===this.pending),this._digest(t)},r.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(t<<=3,"big"===this.endian){for(var r=8;r<this.padLength;r++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=t>>>24&255,i[a++]=t>>>16&255,i[a++]=t>>>8&255,i[a++]=255&t}else for(i[a++]=255&t,i[a++]=t>>>8&255,i[a++]=t>>>16&255,i[a++]=t>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,r=8;r<this.padLength;r++)i[a++]=0;return i}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(38),a=n(53);n(201)("keys",function(){return function(t){return a(i(t))}})},function(t,e,n){var i=n(76),a=n(49),r=n(50),o=n(63),s=n(31),l=n(127),c=Object.getOwnPropertyDescriptor;e.f=n(16)?c:function(t,e){if(t=r(t),e=o(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return a(!i.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var i=n(23),a=n(25),r=n(17),o=n(51),s=n(10);t.exports=function(t,e,n){var l=s(t),c=n(o,l,""[t]),u=c[0],h=c[1];r(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(a(String.prototype,t,u),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){n(77)("split",2,function(t,e,i){"use strict";var a=n(98),r=i,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!a(t))return r.call(n,t,e);var i,l,c,u,h,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,A=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,p+"g");for(s||(i=new RegExp("^"+m.source+"$(?!\\s)",p));(l=m.exec(n))&&!((c=l.index+l[0].length)>f&&(d.push(n.slice(f,l.index)),!s&&l.length>1&&l[0].replace(i,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(l[h]=void 0)}),l.length>1&&l.index<n.length&&o.apply(d,l.slice(1)),u=l[0].length,f=c,d.length>=A));)m.lastIndex===l.index&&m.lastIndex++;return f===n.length?!u&&m.test("")||d.push(""):d.push(n.slice(f)),d.length>A?d.slice(0,A):d}}else"0".split(void 0,0).length&&(i=function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)});return[function(n,a){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,a):i.call(String(r),n,a)},i]})},function(t,e,n){var i=n(10)("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},t(r)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(9),a=n(15),r=n(16),o=n(10)("species");t.exports=function(t){var e=i[t];r&&e&&!e[o]&&a.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,n){n(40)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){"use strict";var i,a,r,o,s=n(47),l=n(9),c=n(32),u=n(106),h=n(8),d=n(18),p=n(73),f=n(70),A=n(111),m=n(141),y=n(145).set,g=n(218)(),v=n(146),b=n(219),C=n(220),x=n(221),w="Promise",D=l.TypeError,I=l.process,B=I&&I.versions,T=B&&B.v8||"",S=l.Promise,M="process"==u(I),E=function(){},k=a=v.f,F=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(10)("species")]=function(t){t(E,E)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==T.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var i=t._v,a=1==t._s,r=0,o=function(e){var n,r,o,s=a?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(a||(2==t._h&&R(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),o=!0)),n===e.promise?c(D("Promise-chain cycle")):(r=O(n))?r.call(n,l,c):l(n)):c(i)}catch(t){u&&!o&&u.exit(),c(t)}};n.length>r;)o(n[r++]);t._c=[],t._n=!1,e&&!t._h&&U(t)})}},U=function(t){y.call(l,function(){var e,n,i,a=t._v,r=P(t);if(r&&(e=b(function(){M?I.emit("unhandledRejection",a,t):(n=l.onunhandledrejection)?n({promise:t,reason:a}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",a)}),t._h=M||P(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){y.call(l,function(){var e;M?I.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},H=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},Q=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw D("Promise can't be resolved itself");(e=O(t))?g(function(){var i={_w:n,_d:!1};try{e.call(t,c(Q,i,1),c(H,i,1))}catch(t){H.call(i,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){H.call({_w:n,_d:!1},t)}}};F||(S=function t(e){f(this,S,w,"_h"),p(e),i.call(this);try{e(c(Q,this,1),c(H,this,1))}catch(t){H.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(69)(S.prototype,{then:function(t,e){var n=k(m(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i;this.promise=t,this.resolve=c(Q,t,1),this.reject=c(H,t,1)},v.f=k=function(t){return t===S||t===o?new r(t):a(t)}),h(h.G+h.W+h.F*!F,{Promise:S}),n(54)(S,w),n(80)(w),o=n(44).Promise,h(h.S+h.F*!F,w,{reject:function(t){var e=k(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!F),w,{resolve:function(t){return x(s&&this===o?S:this,t)}}),h(h.S+h.F*!(F&&n(79)(function(t){S.all(t).catch(E)})),w,{all:function(t){var e=this,n=k(e),i=n.resolve,a=n.reject,r=b(function(){var n=[],r=0,o=1;A(t,!1,function(t){var s=r++,l=!1;n.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--o||i(n))},a)}),--o||i(n)});return r.e&&a(r.v),n.promise},race:function(t){var e=this,n=k(e),i=n.reject,a=b(function(){A(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return a.e&&i(a.v),n.promise}})},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function a(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,l=0;l<o;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var o;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(o=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.trace),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(t,a),n||(n=!0,e.apply(this,arguments))}return a.listener=e,this.on(t,a),this},n.prototype.removeListener=function(t,e){var n,r,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";var i=n(3).Buffer,a=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===a||!a(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=u,this.end=h,e=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var a=o(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<n||-2===a?0:(a=o(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<n||-2===a?0:(a=o(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAs/wAALP8BpM+sdgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMTSURBVHic7ZvLa1NbFIe/tZO0NifaFHXik17oHViLIjjSgaCDOywKCoogCEX0Kojc4VUHjhV8/BGCoBMRRBAfw17EFmfW+lYQK9b05NrHWQ7SxNbEVlKyFzb7G2WvfbLPxy9773PCSSAQqGLpsaE/rR184apLKqmUXF3V9zbrX8c/VQHkT7zYAWwuthV7/ev4p8YMSM4DaCLn1px81eZbyDezAlh59EkOZBMAQudYMtFlYuWRWQGMZ9r2gUqlkLDPu5FnZgUgyqGZbRUOzApkEVIJoP3v553Ath/613ccH97uV8kv32eASw4DVZ+2ihzy6OOdUgBn1QkcrH2I7i1tjosTB9D+aXgnsO4nx+QmMm27/Sn5pTQDdJ5prjp3/2+M4+zdtKBLgTvAHYTJGf33SnWZ7OgbardRbCxVm17+xLPPwDKAJJVZPnph7Yh3K4/UuBVuLkIA1gLWpBt9goFs9rRzbjWAql7pGRsbqGecfsgsyeUul9utLS3/dI2MjC7Ur+EBILJXVbsBnOpNoK4AgIyq9pUb41+/ngEWHEDTL4EQgLWANSEAawFrmj6AhlwGB6NoFMgCCDidrqvI9cEoKjVFTvYUCpfmGudJLtedqD6u1ZfA68EoAiClunZDHL+rx7VR9wFpIAWgM4o6c8apzjv7JkHc9Dg1qNRdjS91v0rTL4EQgLWANU0fQEM2Qae6Lfm+CV4VkT8AXJKcSkTuAyTOvZxvnGWFwtNCNrsVYEp1Scq5B+U+gb9U9SNAIY4/1OvakAC64/hR+fVAFBUrHSJPe+K4/1fH6YT/mT6+H7Kp6csegMDjjXH8fqGuTb8EQgDWAtaEAKwFrAkBWAtYEwKwFrAmBGAtYE0IwFrAmhCAtYA1IQBrAWtCANYC1oQArAWsCQFYC1jT9AFUPRgRyJQfabupiQP540NjCznBf7ePPGsvjnwCuLZh/5Z8V++KesbpHf+Svnjr8MNy+99d5/fkozXFud4zH0m65UaNH0sPJ4v9f0IV1G0JS+DHgqBvEtFWAFQeITrl3coXKflsrWDON6MBwtoKOzy6AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAGs0lEQVRYR+2Ya2xURRTH/3PvPrvbx/axlYoiBKICEaUoJKAY9YNEEQMaARM1EYIxUVETFCLaUKiKSkwwPgKKjwQxJgRQPvjiIQ+h2srbB4RahcJu6W6X7uvu3jvHzGy7bNtduncLiR+cj3dmzvzmnDn/OXMZcrU6UiYm/GOhKpOg8FqQMgqgoSBUEiMXA7MRKMGIRcDQAbB/wPhxcKUJCt+3n3mPoI7xnPbz7GB9x92y1DcOTFnAQDMBVOdpJ9swH4FtBPEPGuurDxZqJw1Yu6R9iMVCq0GYCYZ+4IUuAAKBYaOus6eaGqrOmLUjQSa+5B9FDDsZwxCzBvIdT4QzjDB1/3Lv8XzniHEpwKX+7WC43czEQsYSYWdjvdfUOhJw0st+okJWNDlHLLZvmdfU8ZGD72pop6745UcsdjB8v6TKPOD8NQH6rU1H0jDpEhPDrSpwfY0Fa+aXmwd86uMgJXRCa4eBYOTSe9LjYhhWocJmYVj9mKcwwB5nRDWC/zxHIMKhD0JmLQpQ7lLgLVFQZL/ANGjAHlCRNbEEIawRIhohniQILwtozgHhZ7GsogACRnjHYWVw2RncdganjYFl8VVBgIvWd5KAudxNQK+cW2Y+xFt+1WnXsbD00uVqwrtTRrsx4yaLecAvf06S26HgQEsMbYHkJWesKbfixuFOhOMcD95sNQ+4eEOIbhvjhtOmoDNi4KRPQ1tHEppeuEftFoaaCitGVNtR5lIRS3D8eDSMV2eXmgcUMiNCIHZZU2GTh5+IEIpyBMI6gmFD7l4skkgSDE7gBCgMUBUGm1UkhYJih4Iyt4pytwWlRQoYYzKZ2joSMjriCBWUJAKwJ66lRSpGVNtwZYUVdqtScLi1JMfpjiRO+hIIRS/cAIMGzCQSsOXFKjwuFW6HCqedSTmxKAyKwsC5kJ2U/MQ0QjguhN5AoMvoBZVp85ICFuy+i0wsCPB/HQTkLfO/Dpo5k/9JHdQNQkeYy+JCFMAio+Pdd7wqCgqVieJjLRh2Jw3rjl9XeFoH2rRU9cHoYETjONyqYd+JGM4ETVe8zQDe0TXLxqbXy0PZYPsB5quDSQ7s/j2KvX/E5S0jWomTYcIIm9TJHb/FkdD7LylKsGGVFpzrErdT+n5oA7E3wqr/3aN1YxKZsySgWZkRITzh06F1A4y72orptU7UDrfJED/7aVCGeNwwO+4cW4TKYlUC/XAkioOtGsTb5M2HPWhp17GlKYZjp1MFCoGOcK488Mvyqj96ICWgmXKrrdPAqUDKY9dUqVhwZzHGDLWmN71mWxhfNcck3JzJJb2KVlEEf77nvIS8b7wT8+5wy3lNLQms3RbG6aAh7u4IiF5urK9eJfokYL7l1qmAgbbOFNysW5yYO9kFq9q7OHniwwDaggaeu9eD6lJLvxj7OnWs2hpEjUfF+4+Xp/u1JOHjnRFsPRBLfSMs3l/vfU1az6fc6oxy/HnWkBXMs9OKMXW0I2sC3v9Wu6x0GuZUykqnbxOV0JLPz0k7m56v6tf/zaEY3v02LKsggnp3OkkGKre+OxxDMMLx2FQXZt5clFMd0h68x4PqsiweDOlY9XV/D2Ya3PBTBOv3RAXkrrxlZukX7TIrv3i6Uj6IcjVxlrbkcQanj3difvcZ7GtLSNec1R0QJWneMrOxMQL/eQMvTC/B5GvtOQHbzxtYmC2LwwZ+OJzKYreD4e1HPPCWqFntbNgbwfq9UdG3+6KAmbPFW/mvc4Y03vBQGa6p6h++nvFHTyXRsCkkpaZvExKz5P7SXpmfOebr5hiEEhCBOKcpEvDpdaFRxIydALvo77eT7QbOdXH59l04rRgTR+b2pPD25l9iaG5J4GzIQHWpKnVyxgRnVs+J58Da7WF8eyjencRsUeOyqjfSh2nhZ5EhupFYDWAm65afvrsXOia82N6Vkpqp19vx6K0uVOYIVc5zkNEhbO47oeGjHWH4QlyeOzA807jM+4kY1u+0P7kueKMCWgDGBKg32yJnOlN6aHBA/BS6fbQD08Y5MPKKC4I9EJx4Jvx0XMPmphhOnE3fic3gmJ35kzNnOtbVkeIbHhxrJWUSJz4BjI0CMBRABQNcmk62U0HDCHSRQt0bHVKmYvxwK66rseLqCgsqS5RUxovrQSP4QgZO+nUc+jspQx9N/81grSC+cn+99z2A9Tq4pt6o2bwy/kX/SIsN8xgwC8DIgTyX2U/AzyD+djyGzYfevCKSbe6gATONTnzFdwNx5S4AtQw0BoxdBVCJqAII1MkYWkA4wIFdCa5uP7ii8vRAG/oXPFuWYMFftwAAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAI/ElEQVR4Xu1daWwU2RH+nm3MLTBewAZzoxBOcWMQCIi4AgiQljVRkl8oqIfEm9/hR6JRIiX5vywzHaL8ygVhhTiW+xA3CBYBMeK+DbYAY45w2WO/6GvcvTPtOV73dHsZb5c0ErjrVVd9Xe9VdXW/agEXFA6H80pLS6cAmAtgspTyBwD6A+gKoKMLkW055D2A1wAeCiGuAzgH4HBNTc3ZcDjc7FQR4WTAxo0by2Kx2K+EED8DMMDJ2BzgfSCl/EdBQcGXa9asqVbVVwnA9evXFxcUFPwewC8AFKoKz1G+BgB/jcViv6usrKzLZENGACORSIUQ4ksAn2QS1s6OPwVQGQqFNqWzKyWA4XC4oKSk5AsAoXYGjFNzorW1tZ+Hw+FYsoFJAdR1vYuUksgvdXq2dsq/UwixStO0N3b7WgFIzystLf1KSrksnnnVqlUJYzdtSuvZ7Q5HIcT2mpqaT+2e2ApAXdejUkrNjsD3HUDiIYTQNU1LWNISAIxGo3SzfydznwBAC5WfhkKhf5n/swBsSVWupoq2AYAWgM8KCwt/uHr16ieGV5p/jkajkXQRNwDw23kZP5UNAHVdHyilvAmgQ6rVPwAwAZlGIcRwTdPuGwBGIpE/CSF+o7L2uQ2v7S1qSyn/vHbt2nWChYGSkpJ7AMoCAB25R3Vtbe0goev6NCnladWp6+gUccztzQNb0ppyEY1G1wH4YwCgc9cQQqyjB26RUn6aaXgQRFojJIT4ih74XwBjAgAzIZD0eBUBZNmmONPwwAOTIlRHAFnizlgkDQBMCmADAZSZvI/HAwCToxQAqOI9aXgCAAMAs0Qgy+GBB+Y6gIWFhWhubkYslvSZTZbm+T/8O/HA7t27Y+TIkejfvz8IIOn169d49OgRbt68iZcvX/pvuUdnaHMAR4wYgXHjxiEvLy+pCVJKXL9+HRcvXgT/3RY0YcIElJSUGBeRv9u3b6O+vl7p1G0K4Pjx40EAVYjeePLkSTQ1NamwZ8Uzd+5c9OnTx5Jx7NgxYzaoUJsByClLz7MTARJCJPXIhw8f4vjx4yp2ZMWzdOlSdO3K96I+0O7du5WXkTYBsG/fvpg9e7YBlEnv37/H2bNnjSvN6VxWVmYA3KVLlwQwOJWvXuWzLn+I5165cqWlG5eNLVu2GIFNhXwHsEOHDli8eDE6depk6fPmzRscOnTIWG/iqWPHjgbQRUVF1p/pofQIO6+KcSo8PXr0wKJFiyxWnmfnzp0qQw0e3wGcNGkShg8fbinEK3vgwIGUi3Tnzp2xcOFCEEyTqqurceLECWWjnDAOHDgQ06dPt4ZwRnANVCVfAezZsycWLFiQMHVVpuSgQYNQXl6eYMPevXvx/PlzVbuU+caMGYPRo0db/FwuqKMq+QrgzJkzjVzPJOZ3e/bsUUpP5s+fj169ellj7927h9OnUz66UbW3Fd+sWbPQr18/6+9nzpzB3bt3leX5BiCNJwjxxIjKyKpCNIrGmcSpv337djD4eEnLly9PWJ+dRGBf18AZM2ZgwIBv3wJ++vQpDh486Mh2Bh/etZikMv2dnICpC1MYkxobG7F161alGWKO8cUDmYpQsfi05ciRI6itrXVin5F0M/k26dWrV9i1a5cjGemYhwwZgqlTp1os1I96OiFfABw1ahTGjh2bsPZxajglRuJly5YlJNmHDx/G48ePnYpKyj9t2jQMHjzYOnbp0iVcuXLFkWxfALRPvfPnz+PGjRuOFDOZmWIw1TDp/v37OHXqlCtZ8YM4O7j+xadL+/fvx7NnzxzJ9hzA4uJizJs3z1KCZapt27a5LlfxLmbOnDmWPK+CiV3u27dvsWPHDkfrny9BZPLkyRg2bJhlMFMCpgbZkP1e9cKFC7h27Vo2Io08k/mmSZwhnClOyVMP5LRYsWKFVeOjMm6Ch90I+5rKYMI11W25i3c7vCjxJTXeHdXVZdwW0gpfTwFkSYilIZPevXtn5G5uDTXlJAsmLHU9ePDAqcMY/FOmTMHQoUOtsaz97du3z5UsTwG01/tu3bqFc+e4FS17shtNL+RdjWrVxNSgd+/exkWOT7EYlBic3JCnANqjr5PCZCblmfRSfvy0u3z5MqqqqjINtY6z8kLw4iNvNt7naRDp1q0blixZYinLMhSzei8ryvbKDpcG1hTv3LmTFkR6GwPGxIkTwfKaSRzPuyM3a58pwzMPtGf1NTU1OHr0qLJ3qDDyARRrdwwC8cSlgg+jXrx4YXgo+fjjRWVaxWJt/C2hOdaLW0PPAPQiq1cBkWsY88JUD6VUZJDH6fRPJdczAO25GqcGCwh+EIsUzOPcgNjQ0GDkeyyPeUGeAcgCAktYLMfzx9KV0wjpxCB6Ir0+/mFQuvEEjlOdj0yZXnlFngHolUJO5NADWQygR7L6zecuvGgEi7dmfL7BKMuZ8OTJk6zz0WS65TSATsD2izcAMEtkAwBbAHT7Bm4AYABglnMwADAA0BsEspQSrIHfIYDBRhv3+2CMjTbBVi/3ABpbvYLNhu4BrAq2u2aRxpjbXdNuuDbXZrdRKsu1vc2Gu7HP2HC9YcOG8ry8vIyP+t2coM2s9+BEbuwTQpRnbDqRygM90DmnRCTp+fCh6QStSNf2JADwAwJ2AK22JzzI1p5NTU230m28trt4TrmPB8raAGzIz88fxlah8a2f2KXyl6nOFQCY0O4vGgqF1hIre/MxvrGTsX+CBxf0oxPhIIjUxWKxEWZ/1YT2d5FI5CdCCKu120dnpY8KqQLIDsaapv3TVEW5AaOPuueS6L+EQqGE5pStANy8eXNhfX39f+wtQHPJSj90ZQvQoqKizyoqKtgm2aKUTWibm5u3CCF+7IcyOSjzayFEhVITWtM4Xdf5Fs4Xyfqp5iAArlVms0UAn2ua1phMiEojbgYW9pP+Pjbi/nV8v1RXAHKQruufSCn/AGC1Spcj15f74xjINe5vQojfapqW8eWejB4Yb1PLHUslgJ+3fL3h4zDZGy24B+3v+fn56z3/GIFdP/NzGFLKHwkhJrV8DoMdMLul68PqjZ1ZS+Fa9j8A1fwchpTyGyHEIbefw/g/0qeQQTVYcagAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAALRklEQVR4Xu1dZ3AUyxHukQ6Rg5AACUTOFDmKnDMFBSqEy/YvytQetp5/mx92XdlVtv8/HndrXP7lBDxRJEORcyhyEDmDQCIIkYM4aVzfwB57q73b3dk9ncLrqitV6XZmer7t6enu6eljJEGBQCAlOzt7FBFNJaKRnPM+RNSJiJoTUWOJLmuyySciekdEjxhjN4joNBHtLykpORUIBKqcMsKcNFi7dm1OOBz+DWPsF0TU2UnbOvDsQ875v3w+3w8rVqwotsuvLQBXr16d4fP5/khEvyKiNLud19HnKojo7+Fw+A8FBQVlVnOwBDAYDOYzxn4gokyrzurZ98+JqMDv96+LN6+YAAYCAV9WVtb3ROSvZ8A4nU6otLT0u0AgEDZraAqgqqrNOOdAfoHT0erp89sYY8sURXlvnF81ACF52dnZhZzzhfUUDKlpMca2lJSU5BklsRqAqqqGOOeK1Cj1vBFjTFUUJUqlRQEYCoWWEdF/k4HD0KFDqXXr1tS0aVNq3LgxpaSkUKNGjSgcDovP58+fqaKigt69e0dv3ryh8vJyKisro0+fYNbVKP3c7/f/RxsxAuBXU+VasnbbWbNmUXp6uiMkOOcCyMePH9P9+/fp7du3jtpLPvwiLS2t3/Lly5+hfQTAUCgUTOaOO3LkSOrZs6fknL40e/78OV27do0ePXrkqh+rxvqlLABUVbUL5/wWETWyapyo77t3706jR4/2pPuXL1/S2bNn6dkzISSJoM+MsV6KojwQAAaDwb8wxn7ndiTorU6dOlFOTg5lZGQIfVZVVUXv378nTKq4uFhIB/5npCZNmlBmZqZYhtBrlZWVQu+lpqaKT1paGrVo0ULoyVatWlGbNm3Eh7HYvsC9e/cEkOjHa+Kc/3XlypWrGAIDWVlZ94kox80gAG3IkCFikvEIAF24cEGA6Zaw2XTs2JG6detG7du3N+0OG86xY8fEC/SYiktLS7syVVXHcM5PyHYOCRg8eDD169fPURfQVRcvXiRsBF4QpLJ///7UtWvXalKJXfzIkSP05MkTL4aK9MEYy2WhUGgVEf1ZtmdInVPwtLEAIqTRS8JODl2K5a0nqISjR49SSUmJZ8MxxlZBAn/knOfJ9Nq5c2caN25cVFPot1u3btGDBw/o1atX4jvoLUgGdlnoST1heT18+FBm+JhtMAZebJ8+CFN+I4C4b98+evHihSfjMcYKIYGXiGig0x7B5Pz586lZs2aRph8+fKDDhw8L28yMIBWTJk0Sm4tGaLNt2zbTjcUpT8bne/fuTcOHD4/6Nza0Xbt2eWWAFwFAhG0ynDILicrNzY00g+Tt3r3bUlkDxJkzZ0ZJ4okTJ4QhnAjq1asXjRgxIqprWALQiR5QGQCEL+Q4SIqliyWs0Y0bN+jcuXO2eBo2bFjU8sKODP2UKIIUQhr1dPz4caFmXFIFAJTaBhcsWEDNm+MI5Avt2bNH+KZ2CDbijBkzIo/Cv8UyThRB3UybNk3YphphzO3bt7tWHdIALl26NGoZbtiwwTYzmBDaa4Tlj/aJJJg5s2fPjuIZKwYrxw1JA5iXl0c+ny8ythMA0Q7taxJAjGU0ubzYwKQBnDdvHrVs2bJOLGGNSbiLUD1wDTVya0ZJA2jcRG7evCn8TjtkVOqJ3kT0PBk3sKdPn9L+/fvtsG36jDSAdcWMMc4aRv2cOXOi/r1lyxbCcpYhaQBjGdKHDh2KaQvWtCEdCxDYoW3bto18ferUKbpz544MfiQNIEarra6cFRIIOiAAopEbw9oVgGY7mxXz+u8TEUywMz5WAkwajRCt2bhxo1RkyDWACGdBMRstfauJYNOBHeZVOMtqPOP3ixYtIuzKGu3cuTNK9WBecBSszllcA6gx4CSgijig1xEYpwAiqJGdnR1pdunSJXHih3AY9COkFJ7VwYMH43btGYAYBRsL9CLABCNa1AU7HCI0MFcAnFlI3ykAss9DsuCVDBo0SBw/IMQFvs2OBk6ePEl37951ByBC9AiZFxUVyfKctHYABmYLXqb2gWTpDelYzAHYzZs3W56nWErggAEDxNu6cuUKQczrEgGoCRMmUFZWlmO2sVLgpViRJYBz584VIg+6evWqOMeoSwQQx48fH6Xv7PCP8Jqdg6+4ABq3ewycLNPDzqRjPYOlDNcTOs8O4Rh006ZNtnR1XABhbMLoNNL169fp/PnzdnipNc8ARETQ9UHgWMzBK4F3YofiAmgMmuo7dBKBtsNITTyDnXbMmDHigCseHThwwPYRaEwAkSUwffr0uAPVVRBHjRpFSCUxI5hcW7dutW3gxwTQ7BzBbEAcYZ45c6YmBMizMSCJSGbq0aOHa/VkCiAGWLhwYZSrE4/727dv0+nTuG5Rt8hMSHDkGetY1mx2pgDCbpo8ebIjNJwoXkcdJ/hhJHb27dtXjII8Ghw0OSFTAJEaEUtHxOscbg92r2QFCJxMXP+sZm3A27p8+bKjbqoBCMMTkQqk19oh2EwQeXyQMoFsUYSH6hoNHDiQkA5nFX0xzqsagAgEwHI3I0iW5nTDrYO7A7FvyFQNQO2wyChZCCjowz9uwuD1CXBTCURWlVGytKCCNnnoO4R7GjpZBhM0gDp06EBTpkyJ4IUsJxicDZ1sA4jNZfHixVGxtB07dtDr16+TjiEO+LGT4iU72fyQsYrokhs9bhtAoATbUB9bw0aCOGEyCeDhmNIucEZeoeuRlicLoiMAjbl2Moan12DDYoDl4IbcZEY4AhBZ8XDx9Gm6e/fuFRdckkVLliyRlj6NZ9ithYWFUlNwBCBGGDt2LHXp0iUymJu3J8WxodGyZbje943WrYt7PzryoGw7I8+OAcR9jKlTUWviGzl1wL0ATutDFgjZdq4BRAfILtVne+L8FEs5GT6wLBCy7TwBsF27diJlVk9IbUO2QU2TLBCy7TwBEJ1MnDhRXLPSCIflkEKv7mDYfRGyQMi28wxA5I0gz06f5gvvBCDib02RLBCy7TwDEB0hwIBDGj0hvwS3gWoKRFkgZNt5CiA6MwuLf/z4UZzqJ/C+rmtzxEsApS7aaDNAfBAhMKM3AJ2ITAZ8kGeSKJIFQradYR7ioo3UVS99R/HOWxHhRZgcV7kSYebIAiHbzgCguOolddmwmi5gjBAWR9zQjKATEUPE9SovIzhJduWKXF13NQMKpg0OrvXZn8bnACb0I85RACY2HpQ0gU+K5Y7ICsJn8L2x28PXjlXeJJnBBO26q6sL12Ygor4BUuJwPzheTQO7ejHebU5kjsEzchPOwj0/mVUhLlyvWbMmNyUl5bjdyTh5DsmZuM0Oc8dOUmOsvq0u8WgBVcQq9XZpPF4h7aWlpa4CquLKv1dFJ+IxC+nQUn8RjHAKJrwbBD1rGX0pOgGmvCp7YmeCAA/ptghGIP0WUgp9qZV7ggRBH2LHht6DvsQhV21Lp4uUPcGkUdqzsrLytszFazug1cNnKlJTU3uiVKi+9BOqVP66Hk42EVMK+f3+lejYWHzsukz9hERwWIv7LAuHw321+qpRdZOCweDPGGOR0m61eBJJYw0VjBVF+XfElTVy8lMBxrjv5m9+vz+qOGW1yl3r169PKy8v3/BTCdBoIFECND09fWl+fj7KJEcoZhHaqqqqHxljc5O2VmrXwP9jjOXbKkKr8a2qKhIEv2/o9VRRbJGIvlMUxbSGnp1C3NhYUE+6IRbi/q2+XqrZorAEEI1UVc3knP+JiJY3AGMbOu4fjLHfK4pimXJhC0AN+a8eSwER/fLrrzfULk3ljhsUXv1namrqas9/jMDIl/ZzGJzzaYyxEV9/DgMZPihfaS+52t1k3bSGLkO532L8HAbn/AxjbJ/sz2H8H0XblVD9VncEAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAKr0lEQVR4Xu1dZ2wUSRZ+ZQ8mB2MDHjBJhCMHAWLJORxJQoA53e4v66webr37+/hxp9GddHf/l2Wmzyf4cwljgwQsIoPICBA5g0iGGYIxOZix6/S13EN3e0LVhG578JNWWuPqCl9VvffqJTNKgLxeb5bb7Z5ARLOIaDznfDAR9SKi9kTUOoEu7fzkExG9I6JHjLGbRHSGiA4GAoHTXq+3XnYiTOaDsrKywlAo9D1j7Fsi6i3zbTNo+5Bz/m+Xy/VzSUlJleh8hQBct25dnsvl+jMR/Y6IckQ7b6btaonon6FQ6E+lpaXV8dYQF0Cfz1fEGPuZiPLjdZZhv39ORKUej2dTrHVFBdDr9boKCgp+IiJPhgEjuxx/MBj8wev1hiJ9GBFAVVXbcc6B/BLZ0TK0/Q7G2GpFUd5b19cIQJw8t9tdyTlflqFgJLQsxti2QCCwwnoSGwGoqqqfc64kNEqGf8QYUxVFMbE0E4B+v381Ef0vw3FIdnm/9Xg8/9U7CQPYoKpc/wqlrSygL3JycoYUFxc/w4dhAP1+v88JiduqVSvKz8+n3Nxc6ty5M7Vv357atm1LOTk55HK5tMWFQiGqra2ljx8/0tu3b+nVq1dUU1NDz58/p8+fP8sCkHR741XWAFRVtQ/n/DYRtUq6d4EO2rVrR71796bCwkLKy8sjxuKqoxF75ZxTdXU1VVVV0cOHD+n9+0ZCUmA2CTX5zBgbqCjKA23mPp/vb4yxPyTUlcRH3bp1oyFDhpDb7U4YtGjDAcxAIEDXr1+nZ8+025VW4pz/fc2aNWsZDAMFBQX3iagwXSN2796dRowYQQDQDgKAly9fpqdPn6ZzuKpgMNiXqao6kXN+Mh0jgZeNHj2a+vbtG7N78DUsFnztzZs3Gp/79OmTxvtA4IWtW7emDh06UMeOHTV+iU3Bz7Ho/v37dOHCBfrw4UM6lodb9A3z+/1rieivqR4BPG7ChAkEIRGJIAju3bun8a5372Bdkifw0j59+lC/fv00ARSJIGROnz6tjZNqYoytxQms4JyvkO0cpwD8DAvAqQC9fv1aY+gQChAQkQh86tq1aynnU2APQ4cO1fhrJLp16xadP3+e6uulTX5RoWGMVeIEXiKiEaIAZmVl0eTJk2nYsGExBQFOFaQirh8AffnyJZ05c0aTmukkSPVx48Zp19xK4I1Hjx7VVKIU0WUACLNNnkiHAG/RokXUqxeMz/EJAAIw7P7t27cJktIOwoYNHjyYRo0aRZizkbCRhw4d0nhsCqgaAKInISPp1KlTafjw4VLj3rhxQ5uwE9S1a1fttkA5NxKE1cGDB1OhhNcCQKFjgSuxatUq07WFIDh16hQ9evRImx9O5sSJE00MHadu8+bNmoSNRatX4xn+hTZtimnHFN4PvGimT5+uKexGevLkCR0+fDhpnigMIHZy5MiR4TkAvC1btjTiJ5jw8uXLqUuXLuG2ly5douPHjzsCIAYFH54yZQoVFBSY5gC2cvbsWeHNiNRQGECcECMoe/bsobt370YcvH///jR//vzw78B34p2odJ1AfRLZ2dk0a9asRicRG5uMiiMMYElJiYkhb9y4Mao0g+5XXFwcBhCqQ1lZmWMnUB8YyvjcuXNNCjj0xF27diX8jrYFQExyw4YNjgOICeAWAUScSJ2gux47diyhqywMYDJXGAKkvLy8SQCISUDFGTt2rGk+0BQgWGRJGECrEAFf27p1a7MQIlZQoCeCRxt5OmyL+/fvl8WPhAGETrVy5cqIagyuAAjPt0hqTEVFBb148aLJnEBMBGoNrrKRDhw4IP3EFAYQAyWiSF+5ckV7PsWjdEvhSONDPzS+nR8/fkxHjhyJN1XT76UAlH3KQcHeuXOnkLLqBIBwJcyZMycMCJT+bdu2aa4DUZICEJ2KGBMwEVhcTpw4EbbpxZuQEwBiTgsXLjS9nM6dO0c3byJoS4ykAdS7xdMO5iPY/Tp16qSdMhhDwQ9hVo/H86zTcwpAmORg9NVJVpgkDKDY/oi3cgpAGGWXLl1qusbQLkS9fV89gEAOJjrdKIyfYWSA4VeEWgBEiO348TRgwIAwXnBIQXsQoRYAiWjgwIGaFVunBw8eaAJQhFoAJKIePXrQzJkzw3hBAO7du1cEP/GXiFBvSTRySohgyrBYL1nyJRQSblDogyKUshNoBUBkcJk28eyJMn1Z28LgumLFF8ck/NGVlZVCXbYA2ABTojegBcCG1xX8PTrhUQA/jggJA4h3Y11dneaaxH9wohvdlM35Cut+HB0w+I2hTIuQMIAQ83gHgz9gh65evSqsrYtMJNErJNJ3vDaIsVm8eHG4GYICduzYEe8z7ffCAMIhA20dpxAAnjx5Mq6rUmgGSfIgmTGitbVFjZk0aZIWB6MTwjTu3LmTivlrfTh5Am1RpBELY/QLAzyAmCpyEkBbnnKw3MKCqxMc63AHZgLZYkyArxcRB8Z45u3btyfsT20qwNtqzoL5G+qMToj+hPG0OZOtBlWrPxWuzd27dzdn/GjBggUm92ZaTfpt2rShZcuWma4xfKkwgzdHcsSpNG3aNOrZs2cYL1huYcFtjmS7WxMgIRZ59uzZJrz27duX9tDdVG+QI451fRFWYQJeiHA3u0J4kwUTmsS8efNMcdSy3jh9DsJPOeOkrU8f/E6W+SYLQjLfOxJcZJ0wIj6NqQx4I+Mq4zQ2ZUI+CU6f7eFtVlCggMKrb0ykQYYRQExRBHzK98HRAMtIq0FUAsLejIS0BkTA40Q2JXI8xDcaGLATwpphpGAwqEV86rluTgPZJILMo4EAI+uMGTO05D/rSYR+mMKsoIT2IVqaA7KWEJWabOqXVKJNtBVgktANrQl/sOwiCl420CghpCJ8hKBQ2DGtWZ2wJCGYMgWbqyXaCKd6xVoYnnk4icawWbTHDl+8eFELGbNLT4yV6gXwcPJkYgBjrFtL9ZJKNowFIiQyolit1xnfINAcSS0Zl2yYaLprLJ44ZswYGjRoUMQmeDvDIZVqAwQMA7CaR0t3RVYSlP1keZ5xUXq6q2MJ18h0SqZYhF68AplRjiVcr1+//pusrCyxUCRJ7i6a8o/IVqT84xWD/4fwAYM3pvxDUCGGBZ5B8FmwCWNMX6SpIcoKSdZpTfm3q+gEHFJGa7bkXkg1B3tAgqMtRScws5ayJ1L7ozUOlz3BDyjtWVdXByevUOK1/HDmL/RiETBGQFdLpvAOdEwEtuO62lh4pzY7O3sASoUaSz+hSuXvkwVH9ntj6SfwNvA5PPrx78bSTwj6hpEC/BG80snST0Tk93g8a7BWa/GxG6L1E2SByqD21aFQ6Fd6fVVT0Sqfz/cbxli4tFsGLTplS0EFY0VR/qN32FKAUQ7af3g8HlNxykYAlpeX59TU1GxuKQFqRhYlQHNzc1cVFRWZis5ELUJbX19fwRj7tdwGZWzrXxhjRUJFaHUIVFVF0aufvvZ6qii2SEQ/KIoSsdJj3MqHDYIF9aS/xkLcPxrrpUa6X3EBxEeqquZzzv9CRCjFYYuy7SAzAI/bwBj7o6IocWNWhADUF9PwYiklou8a/nqDg+tM+dAov/Sv7OzsdSn/YwTWqep/DoNzPpsxNq7hz2Gg3h0qItpShzUJ+MDL3hJRFf4cBuf8LGPsQKJ/DuP/Fl6nULbHxBMAAAAASUVORK5CYII="},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="0.2.11"},function(t,e,n){var i=n(4),a=n(288);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var i=n(126);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){var i=n(18),a=n(9).document,r=i(a)&&i(a.createElement);t.exports=function(t){return r?a.createElement(t):{}}},function(t,e,n){var i=n(50),a=n(33),r=n(65);t.exports=function(t){return function(e,n,o){var s,l=i(e),c=a(l.length),u=r(o,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(46);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(44),a=n(9),r="__core-js_shared__",o=a[r]||(a[r]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(47)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(18),a=n(46),r=n(10)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},function(t,e,n){var i=n(97)("keys"),a=n(45);t.exports=function(t){return i[t]||(i[t]=a(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(18),a=n(133).set;t.exports=function(t,e,n){var r,o=e.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&i(r)&&a&&a(t,r),t}},function(t,e,n){"use strict";var i=n(24);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var i=n(38),a=n(65),r=n(33);t.exports=function(t){for(var e=i(this),n=r(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:a(l,n);c>s;)e[s++]=t;return e}},function(t,e,n){var i=n(52),a=n(10)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[a]===t)}},function(t,e,n){var i=n(106),a=n(10)("iterator"),r=n(52);t.exports=n(44).getIteratorMethod=function(t){if(null!=t)return t[a]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(46),a=n(10)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:r?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){n(40)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(40)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(45)("meta"),a=n(18),r=n(31),o=n(15).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(17)(function(){return l(Object.preventExtensions({}))}),u=function(t){o(t,i,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},getWeak:function(t,e){if(!r(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},onFreeze:function(t){return c&&h.NEED&&l(t)&&!r(t,i)&&u(t),t}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(32),a=n(136),r=n(104),o=n(24),s=n(33),l=n(105),c={},u={};(e=t.exports=function(t,e,n,h,d){var p,f,A,m,y=d?function(){return t}:l(t),g=i(n,h,e?2:1),v=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(r(y)){for(p=s(t.length);p>v;v++)if((m=e?g(o(f=t[v])[0],f[1]):g(t[v]))===c||m===u)return m}else for(A=y.call(t);!(f=A.next()).done;)if((m=a(A,g,f.value,e))===c||m===u)return m}).BREAK=c,e.RETURN=u},function(t,e,n){var i=n(8);i(i.S,"Object",{setPrototypeOf:n(133).set})},function(t,e,n){var i=n(8),a=n(17),r=n(51),o=/"/g,s=function(t,e,n,i){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*a(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){n(40)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAs/wAALP8BpM+sdgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJvSURBVHic7ZqxTxNRHIC/312JyEUK6CBE0qiDA4IR3IyLxpiYmLgQw4abcVC7uNodDU4OnXTxX3AkcdBJh2KMiVHE4qQiEKCNpfdzqEXaqzr1/ZS+b2reu+R9/XKvd80deDwJ0rc+jFs7uCJIjOQ0COL48YHbb/YZ+DgnEaD/y+IFhWNbpa5JCyHXJM+AsDpTm5HcoWxxr2sh1zQE6M0WB2KVEQCU4TUYNbFySEOAsFqZkp0D1coVtzruaQigwnTT5BSTGjo1csx2gIHs2xGUU03zg+mhhbOOnZyyHSDeCq+2PEJl2pWMBbUtn5tLpZczRYGDzQcolCWQwZX7h1ec2zkgAOj7lrnY6ssDCHRrlV37Y1jbAqrTfzxK/jL/HxMwqSEqnwTyAnmE7zvmHwnkAyjs1ltjaR7ou/F+FegFiMOu/Wuzw8vOrRySvBXuMHwAawFrUtYCAIWenssich1ARJ4fX1+/42rtfyKAiGSA8wCqWna5dsdvAR/AWsAaH8BawJqOD2B2GSxE0azAzRZTl+ajKP75+dXoxsZYOz3MAkjt7Ev8Gfs1DergDO34LeADWAtY4wNYLRzH8UysOhGrTgB36+MKT+vjItL2B7RmV4ETpdISsAQwH0Vn6uMCq2Obmy9defgtYC1gjQ9gLWCND2AtYI0PYC1gjQ9gLWCND2AtYI0PYC1gjQ9gLWCND2AtYI0PYC1gjQ9gLWCND2AtYE2rd4XLwB4AFe4JlNotce7dk6HTi3NHAT72H/n68OS11+1eEyAlwYMWARZi0N89t99daDDe8Vsg+WxQ9QVCN4Aiz0C3nFs5IqTy2drBnB9gE4yhhNizZAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTExLTIzVDEyOjIwOjI3KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTIzVDEyOjIwOjI3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0xMS0yM1QxMjoyMDoyNyswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowZGNmZTJmMi1kMDAyLTdjNGYtYTc5Yi1iYmY5MzgzZTBiMmEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjMzg4YmI4Zi04MGMwLTY5NDctODRhOC0xMGI5MGNlYTkyMmUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3YWNkNWU5OC0xZDNmLTc3NDItYWUwNC1hNTgyMWRjNTMyZmMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YWNkNWU5OC0xZDNmLTc3NDItYWUwNC1hNTgyMWRjNTMyZmMiIHN0RXZ0OndoZW49IjIwMTgtMTEtMjNUMTI6MjA6MjcrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGRjZmUyZjItZDAwMi03YzRmLWE3OWItYmJmOTM4M2UwYjJhIiBzdEV2dDp3aGVuPSIyMDE4LTExLTIzVDEyOjIwOjI3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+DfKr0AAACeVJREFUeJzt3X2MXFUdxvHvLrR0tyEtrUsRjKgEC8WNpbUgasVQTaxY8AWwiBoLvgBREo3SaP+gii/4RhBNiYJaCyIhbZGXEBARSxug1CqyECpitiHVAquF2rIt1d3xj99M98ydmZ2dO3fuufee55Nslnt2Xk7ok3vvOfe8dJVKJUR86fZdAQmbAiheKYDilQIoXimA4pUCKF4pgOKVAiheKYDilQIoXimA4pUCKF4pgOKVAiheKYDilQIoXh3a1rv3HZJQNaQQekZafkt7ARwzBGwD/go8Xf55CngGaL1WEoyutobkj50BG33Iy8BfgMeAPwF/BgaA/8b/UsmsGGfATgewnmFgM7AR2AQ8AuyJXwnJDI8BHCF+g+Z/2NnxPuC3wEPlMskbjwE8DJjt/Mwp/+4HJrX4qbuB+7Ew3gn8M34FJVUeA9jIZCyE84D55d8nM/HGzyh2iV4HrAe2x6mmpCSDAaxnKvBWYGH559Ry2URsBW4BbkZnxuzJSQCjJgGnAe8t/8wFupq8ZwS7TK8BbsMaNuJbTgMYdRQWxPcDi4HeJq/fi50VV2HdPOJLQQLomgq8D/hw+ffhTV6/GQvircD+zlZNahQwgK4pwBLgAiyM47Wu/w1cD/wQeK7zVROg8AF0HQmcD3wca1038gpwE/A97DGhdFJAAXTNBy7BAtnofnEUuAv4BrAlpXqFJ9AAVhwBfBK4GHjjOK+7C7gCe/oiSQo8gBXdWAv6cuDtDV5TAm7Hgvh4SvUqPgWwxtuwIC6h/rPqUawL5yvAsynWq5gUwIZOxM5251I/iPuAq4GrsH5FiSNGAEMZkv8UsBR7yrKe2uFjPcAKbADtxYTz/8W7UM6AUXOBb2NPXOrZgrWst6ZVoULQGXDCHsMe8y0u/3fUAuBR4EfA9LQqFaJQA1hxD9aPeBGwM/K3buBzjF2+pQNCDyBYS/jnWN/hD6gdjX0U8Gvs3nFWulUrPgVwzF7gS9ig2U11/v5B4Engo2lWqugUwFoDwDuBZdigBtdM4FfYGMRXpVyvQlIA6ysBq4GTsOkAUR/AppsuSq9KxaQAju954BysETIU+dvR2MSpq2h94pWUhdoPGMeRwHXAh+r8bQvwEWAw1RpljfoBO+oFbGT2p6mdg7IAG11zdtqVyjsFsHU3YH2H0fkn07HGyTeBoC4N7VAA49mGzeS7hurnyl3AV7ExhzPSr1b+6B6wfedgHdnRCVN/A84s/w6D7gG9WAucgp0VXcdjqzqcnnqNckQBTMY2LITRPsMZWFfNRanXKCcUwOTswQa8Xkn1feFkrOHyLZqv+BAc3QN2xlLgF9hcZtfPgM9S1FVjNSQ/U04DfoN1YLvuwDqti7dygxohmfIwtgrY05Hys7BxiNPTrlAWKYCdNQi8A/hjpPx04HfYXOagKYCdNwScgS0n55pfLpuZeo0yRAFMxx5sQaVbI+UnY2fCvtRrlBEKYHoOYKOp10TK52JnwiBDqACmawRbv+b6SHk/1jCZlnaFfFMA01fC+gJviJTPw3YFaLYibKEogH6UgM9gndWuhdiz5cmp18gTBdCfEja4dW2kfDFwI4GMKVQA/RrBlhy+J1J+HjawtfAUQP8OYEP9N0bKl2Pr0xSangVnxzQshP1O2Qg2CeoOLzVqlZ4F59purLN6h1N2CLYsyAIvNUqBApgtO7AQ7nbKerF1aaKjagpBAcyeAWz7Cfd69hoK2j2jAGbTncAXI2ULsVl4haIAZte11HZUX0LB5peoFZxthwEbsC1tK/Zjq/9nb2NGtYIL5xVs3rG7390UrGXcbOPGXFAAs28HNofEPb3MxhZKyj0FMB8exPY5cV1AAe4HdQ+YH93AvcC7nbJhbFR1dOKTH7oHLLRR4GNU3w/2YiOsc3smUADz5XngE1SvvHAqNnAhlxTA/LkP+HGk7ArgzR7q0jbdA+ZTL9YP6O6LPAC8BRve5YfuAYMxjF2K3X/xfmxr2lxRAPNrM7ZCv2sF4+8Wnzm6BOfbFGyzxdlO2f3Ae6jdkrbzdAkOzn5siqcbtkXYcK5cUADzbwO2RrXr++Rk9S0FsBgux/YxqegDVvqpSmsUwGLYRW0L+FLgBA91aYkCWBw3Ur0O4STgak91mTAFsDhGgc9T3SBZjE1yyiwFsFgeAW6OlH2HDP87Z7ZiEttyqjdTfBMZ3uVdASyef2ATmlwryeiexgpgMX0XeNE5Pg74lKe6jEsBLKYXsRC6VgA9HuoyLgWwuK4FdjrHxwAXeqpLQwpgcQ1Texb8Mhm7F1QAi+2n2D4lFcdis+kyQwEstmFq15NZTob+3TNTEemYVcBLzvEJ2KKXmaAAFt9LWAhdl3moR10aER2GVwPbqV5fcB5JL3CkEdHSwE7glkhZJs6COgOGYz7Vw7X2Aa8F/pXYN+gMKOPYio2WqejBdmvySgEMyzWR4wuBLg/1OEgBDMttVHdMH4ft3u6NAhiWA8BNkbJlPipSoUZIeE4CnnCOh7Fumv+0/clqhMgEPAk87Bz3YksAe6EAhim6/cP5XmqBLsGhmoF1TleejIxi4wWfa/iOidAlWCZoF7bQZUU3cK6PiiiA4Yo+mjvPRyV0CQ7X4dia05V5IqPYgNUdDd/RjC7B0oI9wN3OcTewJO1KKIBhuz1yfGbaFdAlOGwzsJZvZaLSPmBm+XfrdAmWFu0CNjnHPcAZaVZAAZR7I8epXoYVQLk7cpzqcm4KoDyBdcdUHAscn9aXK4BSAh6IlKV2H6gACtQGMLVBqgqgAPw+cqwASqqeAZ51jo/Ghut3nAIoFQ9Fjk9p8vo+4F3YpomxKYBSsTlyXAngLKxRcilwHXa/+EL55wFsa7DYDm3nzVIof48cL8P2nJvZ5H3R0dUt0bPg8BwDzMEmJ51Y/j0HOCLGZ23H7hVHgVjPgnUGLL5FwFLGQjctwc9eQyV8MekMWHx9wKPA6xL+3BJ29hs8WKLRMFLHEHA21ZvXJGEjbvhiUgDD8DjWXZLkLuptNT4qFMBwrAO+ntBn7QXWJvFBCmBYvoYtUNSu9VgI26YAhqWE9e0NtPk5iVx+Qa3gUL0ee/LRF+O9g1jrtzY4agXLBA1iE9EPxHjvGhJszCiA4foD8IUW31MCfplkJRTAsK0CftLC6zeQQN+fSwGUy7BgTcTqpL9cjRABa4xswSYkNbIXW0m1cfeLGiES0xBwFuM/rltLQn1/LgVQKpo9rlvdiS9VAMW1DriyTvkg8GAnvlABlKiV1D6uW02yAxkOUiNE6pmKraTfjwXvDdjo5/GpESIJeRkbQziEddFs79QXaUi+NDKI7R8yq5NfokuwJEeXYMmb9s6AIm3SGVC8UgDFKwVQvFIAxSsFULxSAMUrBVC8UgDFq/8DgV1FgfhNlF8AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTExLTIzVDEyOjIwOjE5KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTIzVDEyOjIwOjE5KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0xMS0yM1QxMjoyMDoxOSswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1ZDM2MjhkYS02NDMyLWQ5NGEtOGFlZS1iN2UyNmY0ZjI2MWUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NjFmYzQyYi0yYTRiLTkyNGUtYTZjZC04MzNmMGFkNjI3OGUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YjQ5ZmJjOS0yNDY4LTgyNDgtYTkwZS01ZTRhYTYxOWE4ZjkiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4YjQ5ZmJjOS0yNDY4LTgyNDgtYTkwZS01ZTRhYTYxOWE4ZjkiIHN0RXZ0OndoZW49IjIwMTgtMTEtMjNUMTI6MjA6MTkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NWQzNjI4ZGEtNjQzMi1kOTRhLThhZWUtYjdlMjZmNGYyNjFlIiBzdEV2dDp3aGVuPSIyMDE4LTExLTIzVDEyOjIwOjE5KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YpdqBwAACfhJREFUeJzt3XuMXkUdxvHvbsvS7S4UeqHWUIRSiIAFW62UCqgQxHoBK1UMBbWK1npBURE1IqIoUf4QNPGuFBUUqAo1kSopYItoRcqlFkhAUVILtCgl9rq4u/7xe08977zvvrc9Z+Zcnk+yIWf23Xem4cnMuczM6RoeHkYklO7QDZByUwAlKAVQglIAJSgFUIIaW1Oya0yAZkjm9Q6m8rXqASUonwHsBk4BrgHO81ivZFjtEJy8w4F3Vn4OqZQt91Cv5EBaAewHFgFLgJOALuf3D6VUr+RMkgHswsK2BAtf/wif21r5EUkkgNEQuxiY0cLn1fvJXp0GsNkQ24gCKHu1E8BWh9hmNnb4d1JArQTwMOBcbJg9PIE61QPKXo0CuBh4H+0Psc0ogLJXoxvRm4GjSTZ8/wKeTvD7JOcaBfAO4BXAgwnWNxb4GnAONrRLyXXVTMmvnYzQD/wIWJhC/U8Ad2JhvxP4ewp1SBJSmozQSgDBhuHPA5eQ7JDsehz4DbAKWA1sT7EuaUfgAEYWYc9x+1JpTbUBrFdcCdwCbPJQp4wkIwEEOA64GTi0g/peBxwJnACcCExv8e+GgLuBG4AVwFMd1C2jkaEAAkzBgnByG3U9C0x0yg4FXgWcCpwGvKCF7xkC1gA/xQL5XBttkE5lLIAA+wDfAJa2+Pm7sHuKjRwLvAE4A7sCbzZfcRdwE/ADYC2gRc5pyWAAI8uAq7FANvJdWg8rWC/7RuBNwAJgXJPP/xUL4veAZ9qoR1qR4QACvBrriSY3+MyFwFWdfDmwP3AmcDbwWhqHfTc2PH8duL/D+sSV8QCCnc/dgg2j9ZwO/LbTL4+ZiF2Nvwu7mGlkLRb6m7FzR+lUDgIIdtP6WuAtdX43neRvpbwEeDc2WWJKg889DHwFuB54PuE2lENOAgh2o/pS4HP8/6b1c8ABo/3iBvYF3gxcAMxv8Ll/AFcCP8QuYKRVOQpg5CzspnU/8AcaByNJLwc+CrwV6BnhM08CVwDfwW54SzM5XBf8c+CV2PNdn1Ow/owNyS/CQlbvPuE07CLlUWyCrdZHB5JmDxiZjD09WZ30F7doAvAh4COMfJ74EPBx7Bm01JPDIThr+rAJtp9k5Ccuq7AgatKsSwFMTD92sXIR9S+MBrAnPJcD27y1KusUwMRNBC4GPgz01vn9M1hv+GP0iE8BTNHBwFeBt1N/ruNq7HHjoz4blTk5vArOi03YEoH52BW061TgAeCzjHxbRzqkHrBaN/aI7wrgoDq/fxB4BxbIclEP6MUQ9pTkqMp/3XO/Y4E/AZ/Bz85ihacesLHXAN/GZnG71mH7HJbj3FA9YBB3YDfRvwz81/nd8dh0ryWe21Qo6gFbdzy2PLVeb3gd8H6KvIpPPWBw64DZ2E1q99xwMbAeeKnnNuWeAtiendhTlNOpXZl3BDbr5z2+G5VnCmBnbsN6Q3eG9zjg+8A3ab5GRlAAR+MpbLHUJdReoCwDbgem+m5U3ugiJBknYWuUpznlm7DlCfd4b1HSdBGSaWuBudhN6riDgd+RzsZOhaAAJuef2E4R1zjlvdguEp/w3qIcUACTtQdbpXcB1eeF3dhiqKsBnePE6BwwPQuAG6ndzP1G7BFevhZD6Rwwd27FhuTNTvnbsIXy4303KIsUwHTdh+3esMEpX4BtxDnBe4syRgFM3xNYT3iXU34idq+w0Y4OhacA+rENe3x3q1M+B5vyX9oQKoD+7MS2D1nhlM/CHu1N8t2gLFAA/RrAFj8td8qPw0J4oO8GhaYA+jeI3St0b1jPxkJYqgsTBTCMYeC91PaELwN+QYlu0SiA4QwC5wM/ccpPwXZ4LcUTAQUwrEFsGegNTvkZ2GKoNF8KlAkKYHiD2Frj253y87HFUIWmAGbDADZla51T/insgqWwNBkhW6Zgb4SaGSsbwB7duT2kX5qMUApbsddQbI2V9WAzaGbW/YucUwCz53Hs5Ty7Y2WTsMd4hbtRrQBm0zrsIiR+fjQTWwBfqP9nhfrHFMx1wBedsmgVXmHoIiTburDzv0WxsiHsHXruzJp0aYfU0urDdlyYFSt7Fnsfyt+8tUJXwaW1A3vpT/x9JwcCP6MAO7YqgPkQvVAnPlzNBb4QpjnJUQDz45fYss64i7A9rHNL54D50gP8EZs7GHkS2zo43Zd06xxQsMdy52DnhZFp2Nvoc0kBzJ9HsLeBxi3Egpk7GoLzawV2dRz5N3AMtRtnJkNDsDg+QPV530RsY8xcUQDzawv2Gtq4hdiqu9zQEJx/N1H9qO5p4MUk/aZPDcEygg9SPRRPBb4UqC1tUwDzbwv2Eu64pdiz4szTEFwMXcAabMOjyD3APGz2zOhpCJYGhrGr4viurHOxxe+ZpgAWxwbgKqfsMmB//01pnQJYLJdRfSN6KnBxoLa0RAEslu3Ym93jLgQOCdCWliiAxbMce7N7pBe4PExTmlMAi2eQ2neSnIvtQZg5CmAx3Ub1oqUuMtoL6j5gcc0G7qV6h60TsAmt7dN9QGnTfdg0/rhLQzSkEfWAxTYLuJ/qjmYetbtwNaceUDqwAZstE/fpEA0ZiXrA4jsGuy0TdTZDlbJH2voW9YDSoY3Ar2LH3cDHArWlhnrAcpgP/D52vAc4DFvS2Rr1gDIKd1MdwH2xiazBKYDlcaVzvBQYF6IhcQpgeazE9piJTMbeXRyUAlgew8C3nLJlIRoSp4uQcjkAe4N7b6xsDvbUpDFdhEgCtgHXO2VBe0H1gOUzB5ukEPkPtsHRjvofr1APKAlZX/mJ7Ie9SDsIBbCcrnWOzwvSCjQEl9VBwCZgn8rxILZuZPOIf6EhWBK0BVgVOx4DLA7REAWwvNxh+OwQjdAQXF7jsJ5wv1jZDOxddbU0BEvCdgO/dsoW+m6EAlhuK5zjs+p+KkUagsutD3s3cfRobgiYTr2rYQ3BkoIdVK8f7gbO9NkABVBWOsev91m5hmB5IXZTOlrAvh2bK7in6lMagiUlm4EHYsf9VO+0mioFUKD6qQjAab4qVgAFagPo7Q2cOgcUsEkJ24DxleNBYBLxl2TrHFBS9DzV+8WMwdN5oAIokTXO8ck+KlUAJbLWOZ7no1KdA0pkPHbON7ZyvAtbRTcA6BxQUreT6uWZvdguWqlSACVuvXM8O+0KFUCJu9c5npN2hQqgxLk9YOoB1EWIxPVgC9V7Ksc7gAnAoC5CxIcB4C+x4z7giDQrVADFtdE5PjrNyhRAcbkBPCrNyhRAcT3sHCuA4tVjzvGMNCtTAMX1GDYdK3JkmpWNbf4RKZkBPOZCPaAEVXsjWsQj9YASlAIoQSmAEpQCKEEpgBKUAihBKYASlAIoQSmAEpQCKEEpgBKUAihBKYASlAIoQSmAEpQCKEEpgBKUAihBKYASlAIoQSmAEtT/AGDQP69qofqVAAAAAElFTkSuQmCC"},function(t,e,n){"use strict";var i=n(261),a=n(160),r="Map";t.exports=n(262)(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(a(this,r),t);return e&&e.v},set:function(t,e){return i.def(a(this,r),0===t?0:t,e)}},i,!0)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(t){var i=n(264),a=n(265),r=n(119);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),a=(t=s(t,i)).write(e,n);return a!==i&&(t=t.slice(0,a)),t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):d(t,e);if("Buffer"===e.type&&r(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=s(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return _(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(t).length;default:if(i)return _(t).length;e=(""+e).toLowerCase(),i=!0}}function A(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,a){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,a);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,a);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,a){var r,o=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(a){var u=-1;for(r=n;r<s;r++)if(c(t,r)===c(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*o}else-1!==u&&(r-=r-u),u=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){for(var h=!0,d=0;d<l;d++)if(c(t,r+d)!==c(e,d)){h=!1;break}if(h)return r}return-1}function g(t,e,n,i){n=Number(n)||0;var a=t.length-n;i?(i=Number(i))>a&&(i=a):i=a;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var o=0;o<i;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function v(t,e,n,i){return j(_(e,t.length-n),t,n,i)}function b(t,e,n,i){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function C(t,e,n,i){return b(t,e,n,i)}function x(t,e,n,i){return j(N(e),t,n,i)}function w(t,e,n,i){return j(function(t,e){for(var n,i,a,r=[],o=0;o<t.length&&!((e-=2)<0);++o)i=(n=t.charCodeAt(o))>>8,a=n%256,r.push(a),r.push(i);return r}(e,t.length-n),t,n,i)}function D(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var i=[],a=e;a<n;){var r,o,s,l,c=t[a],u=null,h=c>239?4:c>223?3:c>191?2:1;if(a+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(r=t[a+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=t[a+1],o=t[a+2],128==(192&r)&&128==(192&o)&&(l=(15&c)<<12|(63&r)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=t[a+1],o=t[a+2],s=t[a+3],128==(192&r)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),a+=h}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=B));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,a=0,r=Math.min(n,i);a<r;++a)if(t[a]!==e[a]){n=t[a],i=e[a];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var o=t[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)A(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)A(this,e,e+3),A(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)A(this,e,e+7),A(this,e+1,e+6),A(this,e+2,e+5),A(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,a){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),e<0||n>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&e>=n)return 0;if(i>=a)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(a>>>=0)-(i>>>=0),o=(n>>>=0)-(e>>>=0),s=Math.min(r,o),c=this.slice(i,a),u=t.slice(e,n),h=0;h<s;++h)if(c[h]!==u[h]){r=c[h],o=u[h];break}return r<o?-1:o<r?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return C(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function T(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(127&t[a]);return i}function S(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(t[a]);return i}function M(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var a="",r=e;r<n;++r)a+=Q(t[r]);return a}function E(t,e,n){for(var i=t.slice(e,n),a="",r=0;r<i.length;r+=2)a+=String.fromCharCode(i[r]+256*i[r+1]);return a}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,i,a,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function O(t,e,n,i){e<0&&(e=65535+e+1);for(var a=0,r=Math.min(t.length-n,2);a<r;++a)t[n+a]=(e&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function L(t,e,n,i){e<0&&(e=4294967295+e+1);for(var a=0,r=Math.min(t.length-n,4);a<r;++a)t[n+a]=e>>>8*(i?a:3-a)&255}function U(t,e,n,i,a,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,i,r){return r||U(t,0,n,4),a.write(t,e,n,i,23,4),n+4}function R(t,e,n,i,r){return r||U(t,0,n,8),a.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var a=e-t;n=new l(a,void 0);for(var r=0;r<a;++r)n[r]=this[r+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t],a=1,r=0;++r<e&&(a*=256);)i+=this[t+r]*a;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t+--e],a=1;e>0&&(a*=256);)i+=this[t+--e]*a;return i},l.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t],a=1,r=0;++r<e&&(a*=256);)i+=this[t+r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=e,a=1,r=this[t+--i];i>0&&(a*=256);)r+=this[t+--i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),a.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),a.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),a.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),a.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||F(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,r=0;for(this[e]=255&t;++r<n&&(a*=256);)this[e+r]=t/a&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||F(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,r=1;for(this[e+a]=255&t;--a>=0&&(r*=256);)this[e+a]=t/r&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var a=Math.pow(2,8*n-1);F(this,t,e,n,a-1,-a)}var r=0,o=1,s=0;for(this[e]=255&t;++r<n&&(o*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var a=Math.pow(2,8*n-1);F(this,t,e,n,a-1,-a)}var r=n-1,o=1,s=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var a,r=i-n;if(this===t&&n<e&&e<i)for(a=r-1;a>=0;--a)t[a+e]=this[a+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<r;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var o=l.isBuffer(t)?t:_(new l(t,i).toString()),s=o.length;for(r=0;r<n-e;++r)this[r+e]=o[r%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function Q(t){return t<16?"0"+t.toString(16):t.toString(16)}function _(t,e){var n;e=e||1/0;for(var i=t.length,a=null,r=[],o=0;o<i;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&r.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&r.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function N(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,i){for(var a=0;a<i&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}}).call(this,n(28))},function(t,e){!function(e){"use strict";var n,i=Object.prototype,a=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",c="object"==typeof t,u=e.regeneratorRuntime;if(u)c&&(t.exports=u);else{(u=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",A={},m={};m[o]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==i&&a.call(g,o)&&(m=g);var v=D.prototype=x.prototype=Object.create(m);w.prototype=v.constructor=D,D.constructor=w,D[l]=w.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,D):(t.__proto__=D,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(v),t},u.awrap=function(t){return{__await:t}},I(B.prototype),B.prototype[s]=function(){return this},u.AsyncIterator=B,u.async=function(t,e,n,i){var a=new B(b(t,e,n,i));return u.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(v),v[l]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},u.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,a){return s.type="throw",s.arg=t,e.next=i,a&&(e.method="next",e.arg=n),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:k(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),A}}}function b(t,e,n,i){var a=e&&e.prototype instanceof x?e:x,r=Object.create(a.prototype),o=new E(i||[]);return r._invoke=function(t,e,n){var i=h;return function(a,r){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===a)throw r;return F()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=C(t,e,n);if("normal"===l.type){if(i=n.done?f:d,l.arg===A)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(t,n,o),r}function C(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function w(){}function D(){}function I(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function B(t){function e(n,i,r,o){var s=C(t[n],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(c).then(function(t){l.value=t,r(l)},o)}o(s.arg)}var n;this._invoke=function(t,i){function a(){return new Promise(function(n,a){e(t,i,n,a)})}return n=n?n.then(a,a):a()}}function T(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,T(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var a=C(i,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,A;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,A):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:F}}function F(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){(function(t,i){var a=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,o=String(t).replace(a,function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),l=i[n];n<r;l=i[++n])m(l)||!C(l)?o+=" "+l:o+=" "+s(l);return o},e.deprecate=function(n,a){if(v(t.process))return function(){return e.deprecate(n,a).apply(this,arguments)};if(!0===i.noDeprecation)return n;var r=!1;return function(){if(!r){if(i.throwDeprecation)throw new Error(a);i.traceDeprecation,r=!0}return n.apply(this,arguments)}};var r,o={};function s(t,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),A(n)?i.showHidden=n:n&&e._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,t,i.depth)}function l(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function u(t,n,i){if(t.customInspect&&n&&D(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(i,t);return g(a)||(a=u(t,a,i)),a}var r=h(t,n);if(r)return r;var o=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),w(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(D(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return d(n)}var c,A="",m=!1,y=["{","}"];return f(n)&&(m=!0,y=["[","]"]),D(n)&&(A=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(A=" "+RegExp.prototype.toString.call(n)),x(n)&&(A=" "+Date.prototype.toUTCString.call(n)),w(n)&&(A=" "+d(n)),0!==o.length||m&&0!=n.length?i<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=m?function(t,e,n,i,a){for(var r=[],o=0,s=e.length;o<s;++o)B(e,String(o))?r.push(p(t,e,n,i,String(o),!0)):r.push("");return a.forEach(function(a){a.match(/^\d+$/)||r.push(p(t,e,n,i,a,!0))}),r}(t,n,i,s,o):o.map(function(e){return p(t,n,i,s,e,m)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,A,y)):y[0]+A+y[1]}function h(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):A(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,i,a,r){var o,s,l;if((l=Object.getOwnPropertyDescriptor(e,a)||{value:e[a]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),B(i,a)||(o="["+a+"]"),s||(t.seen.indexOf(l.value)<0?(s=m(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(s=r?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(o)){if(r&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function f(t){return Array.isArray(t)}function A(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return C(t)&&"[object RegExp]"===I(t)}function C(t){return"object"==typeof t&&null!==t}function x(t){return C(t)&&"[object Date]"===I(t)}function w(t){return C(t)&&("[object Error]"===I(t)||t instanceof Error)}function D(t){return"function"==typeof t}function I(t){return Object.prototype.toString.call(t)}e.debuglog=function(t){if(v(r)&&(r=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){i.pid;o[t]=function(){e.format.apply(e,arguments)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=A,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=C,e.isDate=x,e.isError=w,e.isFunction=D,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(271);function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){},e.inherits=n(13),e._extend=function(t,e){if(!e||!C(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,n(28),n(41))},function(t,e,n){(e=t.exports=n(168)).Stream=e,e.Readable=e,e.Writable=n(171),e.Duplex=n(60),e.Transform=n(172),e.PassThrough=n(275)},function(t,e,n){var i=n(282),a=n(283),r=n(284);t.exports=function(t){return i(t)||a(t)||r()}},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e,n){t.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(94)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(47),a=n(8),r=n(25),o=n(23),s=n(52),l=n(199),c=n(54),u=n(132),h=n(10)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",f="values",A=function(){return this};t.exports=function(t,e,n,m,y,g,v){l(n,e,m);var b,C,x,w=function(t){if(!d&&t in T)return T[t];switch(t){case p:case f:return function(){return new n(this,t)}}return function(){return new n(this,t)}},D=e+" Iterator",I=y==f,B=!1,T=t.prototype,S=T[h]||T["@@iterator"]||y&&T[y],M=S||w(y),E=y?I?w("entries"):M:void 0,k="Array"==e&&T.entries||S;if(k&&(x=u(k.call(new t)))!==Object.prototype&&x.next&&(c(x,D,!0),i||"function"==typeof x[h]||o(x,h,A)),I&&S&&S.name!==f&&(B=!0,M=function(){return S.call(this)}),i&&!v||!d&&!B&&T[h]||o(T,h,M),s[e]=M,s[D]=A,y)if(b={values:I?M:w(f),keys:g?M:w(p),entries:E},v)for(C in b)C in T||r(T,C,b[C]);else a(a.P+a.F*(d||B),e,b);return b}},function(t,e,n){var i=n(31),a=n(50),r=n(95)(!1),o=n(99)("IE_PROTO");t.exports=function(t,e){var n,s=a(t),l=0,c=[];for(n in s)n!=o&&i(s,n)&&c.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~r(c,n)||c.push(n));return c}},function(t,e,n){var i=n(9).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(31),a=n(38),r=n(99)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=a(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var i=n(18),a=n(24),r=function(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(32)(Function.call,n(75).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},function(t,e,n){n(16)&&"g"!=/./g.flags&&n(15).f(RegExp.prototype,"flags",{configurable:!0,get:n(102)})},function(t,e,n){"use strict";var i=n(32),a=n(8),r=n(38),o=n(136),s=n(104),l=n(33),c=n(208),u=n(105);a(a.S+a.F*!n(79)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,a,h,d=r(t),p="function"==typeof this?this:Array,f=arguments.length,A=f>1?arguments[1]:void 0,m=void 0!==A,y=0,g=u(d);if(m&&(A=i(A,f>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(e=l(d.length));e>y;y++)c(n,y,m?A(d[y],y):d[y]);else for(h=g.call(d),n=new p;!(a=h.next()).done;y++)c(n,y,m?o(h,A,[a.value,y],!0):a.value);return n.length=y,n}})},function(t,e,n){var i=n(24);t.exports=function(t,e,n,a){try{return a?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){for(var i,a=n(9),r=n(23),o=n(45),s=o("typed_array"),l=o("view"),c=!(!a.ArrayBuffer||!a.DataView),u=c,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=a[d[h++]])?(r(i.prototype,s,!0),r(i.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(t,e,n){var i=n(64),a=n(33);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=a(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(32),a=n(96),r=n(38),o=n(33),s=n(210);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h,p=e||s;return function(e,s,f){for(var A,m,y=r(e),g=a(y),v=i(s,f,3),b=o(g.length),C=0,x=n?p(e,b):l?p(e,0):void 0;b>C;C++)if((d||C in g)&&(m=v(A=g[C],C,y),t))if(n)x[C]=m;else if(m)switch(t){case 3:return!0;case 5:return A;case 6:return C;case 2:x.push(A)}else if(u)return!1;return h?-1:c||u?u:x}}},function(t,e,n){var i=n(46);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(24),a=n(73),r=n(10)("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||null==(n=i(o)[r])?e:a(n)}},function(t,e,n){"use strict";var i=n(38),a=n(65),r=n(33);t.exports=[].copyWithin||function(t,e){var n=i(this),o=r(n.length),s=a(t,o),l=a(e,o),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?o:a(c,o))-l,o-s),h=1;for(l<s&&s<l+u&&(h=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=h,l+=h;return n}},function(t,e,n){var i=n(9),a=n(44),r=n(47),o=n(144),s=n(15).f;t.exports=function(t){var e=a.Symbol||(a.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,n){e.f=n(10)},function(t,e,n){var i,a,r,o=n(32),s=n(217),l=n(131),c=n(94),u=n(9),h=u.process,d=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,A=u.Dispatch,m=0,y={},g=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},v=function(t){g.call(t.data)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},i(m),m},p=function(t){delete y[t]},"process"==n(46)(h)?i=function(t){h.nextTick(o(g,t,1))}:A&&A.now?i=function(t){A.now(o(g,t,1))}:f?(r=(a=new f).port2,a.port1.onmessage=v,i=o(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",v,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),g.call(t)}}:function(t){setTimeout(o(g,t,1),0)}),t.exports={set:d,clear:p}},function(t,e,n){"use strict";var i=n(73);function a(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new a(t)}},function(t,e,n){var i=n(9),a=n(101),r=n(15).f,o=n(56).f,s=n(98),l=n(102),c=i.RegExp,u=c,h=c.prototype,d=/a/g,p=/a/g,f=new c(d)!==d;if(n(16)&&(!f||n(17)(function(){return p[n(10)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,i=s(t),r=void 0===e;return!n&&i&&t.constructor===c&&r?t:a(f?new u(i&&!r?t.source:t,e):u((i=t instanceof c)?t.source:t,i&&r?l.call(t):e),n?this:h,c)};for(var A=function(t){t in c||r(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=o(u),y=0;m.length>y;)A(m[y++]);h.constructor=c,c.prototype=h,n(25)(i,"RegExp",c)}n(80)("RegExp")},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAglQAAIJUBXAiQdwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAneSURBVHic7ZprdFTVFcd/596ZOzNk8gQTMJVHQMMbdSHyEEpUzIRHeCYTAS3V+mpFqlWXq4qyau2ytbZW15K1rKtSoZhHVR4GZvARKUYQUYsg76dBkBBDHjCZ172nH2LQZBImCTOTD81/rfkw5+69z3/vdc85e+97oBvd6EY3utGNbnSjC2BxuhdbnK5fdyUH0VUTW251T5GG3AAIoTDd94bD1RU8uiQAFmfpVRJ1G5D8/VAtqOP8RVP2xpqLEusJmf9OskRdByQn2i0k2S0AiaCvI8+VEms6sQ1AXrGq6eZVQKZZVXhwzggezhuFxawCDLIorCGvWIslpZgGwKwkvAByqhDwi6mDuTI9kQG947l3+lCEAAkTLUriy7HkpMZqInO++w4heAZg5vj+5Izpe+FZeq84DAP2VdQAXGsasbBK373q01jwiskbYCpwTRRCLge4emAv5k3KCJGZOzGDsUPSAJCSv1mc7pxYcIt6AKx57gGq5E1AS+8Vx/2zhqGI0MNHCLhn+hAG9kkAUCXyXxZn6VXR5hfdAOSujTcUuU7CZfE2jYfzrsammdoU10wqD80bSXK8FaDxtJhVlhRNitELwLJlimazrAaGq4pgyZzhpCZZw6ol2S38Zu5INJMKkGnWfMVMLms7apeIqAXAvHfsc8B0gNzx/emZYKOyxktljZc6jz9Evs7jv/A8zmYmd1w/AIRgijnV/3y0eEYlEzTnbVokFOO1tp7/dGQf7p42tNnYK6V72PzlqTZtSkP8MlCSvTxyLBsR8TdAu9X9mFCMVyNtVyjyJa3A/VSk7UZubU0uM2mpvt9jyEcR8lm/oj/XUkTTTa8BM8NYWutXgz8P0TXUR5A8Zc53pwSSej7MK6MDkaAdkQDY8tanG4q3SCImNI6IBlZPPxsi6HT7QYaxJvyt6ha4GgAhhHzAUlt1tbrQVeBZ5Wh7zbQTl7wErPmum4PC/PkPzkcfEiYFA3xuzXdlXaqtzr8By5Yp2r6xjxuSpwSoCT0aa5jWdviWOPJtPYVlh0LG2oMeVjNSShp8wd6G4F0tf+NSf7HjWRDhXq1W0bkAzH6vp7Y3uBLIAcjoHc+SOSN44e1d7QpAReU5KirPdWrq+B4WZk0azPry/Zw8U68ixB+0fPcEv3TdTomjuqP2OnwMmgvc1wspi4G+QkD26CuYf+OVqIrgiRXbOXqqHqAI5JstdRXJUEMowwCswQZrsr8uGeCsJbHaq1p9jTLGV4ZgTytU5wLOtBQ7tzlGoRsGH35+jC8OXNgGjkmh5AUKb9nREX869AZYnO7FUso/A5pNM3H3tCGMGZzamqgThLPloBRK9hcfLHje8HheBObywx6kAyuM8+eXjHFumgCGOxwXVVG4aXQG6akJbPrkEP6A3l9I4yOz0/1goKj9+UL7ApC7Nl7rYXlVSpkP0DfVzpI5I+mdbGsmlmy3cj6p+ekkgTM13sbJpC50j2etgBtb+gPcqcTF9TVJ/fnA98VSYmO3qBnstub9ksF9e5GaFMe6LfuoqvVYBPJlzem6wW9Y7qEkK+w6C7sEtFvdgzHkv4FhADcM78MdjsymLk5Y6Ibk9j9+AMCiw2ueWbx35eMXk39p6M+eXpGRuxTgoYLxKEr7VmlQ13l/x1F2HT7dNLQfxDx/Ufbui+ld9Bg0F7huw5CfAcM0k8pdU4dw34yh7Xa+Jfqf++a6cDL96k+M6Yxtk6qSff0gpowZiElRADJBbtUKXPMvptd2ABaVWYWBE+gBkJZiY8SAS+tZqoYethw0yWD4kvEiGJieTHLChaVpx+A2FpW1abPtAKzI8vqLs2cg5W8BvaLyHI//Yzs7D3/XaXI1lsTD4WSqLUmHwsm0hePf1vD6xp2cqTkPoCN40j902zRWZHnb0mnXArPmu7J0wRsC0oQQzBzfn7kTB4R0djbtOEF1ffO5DAmlnxwHYNC5E/lFHy5ZDvRsY6qqgqyX7jsYd3kJwHVD0mnZPIq3Wbgms0+zMYlk664TbN1VgUQiJZUqLPAWO94L51u7TgFvsaOsx0LXNXqAQinlpDXlRzn4TS33zxxGUwYI8J/dJ5vygFZx2N63FsPIRVHWAJe1eFwpDWPWobifxIMBwKd7vwmxkZZibxYAjy9A6ccHOH6qBgCBLFdl0NlQMiNUuRV0LBGaXGbS0nzPAI8AIjneyuKZw8i8orFr9aNE6CsQocmMDBYpqLV9G07ZZx/b5OjlPZsJcMaWsm9Nvynur219zhnoiQhTSA4BcigwrCkRAjh5pp715fup9/gApIS/BhJ7PdaRSrFTDRGL0z1dIl8HklVFMHNCf+ZMyGDpP78PgOBJf6Hj6ZZ6mtNdDDIvDKUSf1F2fohugWspkt81BWDnodN8sOMIumEA1IO801+UU9JRXzpVC/iKst+xzn9vtKEHS3RDXvvWlqN8ffo8Xr/eLn1VUTCbmu+/gaDR5MxFEQjqrNuyjwMVFzbjncJgnq8kp1ObZ6erQe/qm4+Qs2G8OV79kxDygR0HKtutO6R/Lxxjr2w25tp2kN1Hwtuormuguq6h6e9KvydwL+tneDpAvRkurSGycaovAEvMBa4dQrIciLske+2GaJDIXwWKHG32HduLiPQEA4WOlSDGAvsjYS8MDkrkuEg4D5HuCueV2S2Kd4MU4nIpOdqKxAgBacMzUttcAhJOA7taIToAqPL7LA7WZNVEinJkPziUZJ3zLVs22bJ33EaQt3TGhIA0Gn8tH2z0F2ZPBxF+p+zYfFFAXpldU3zlwEiAkYPSSLL/UDpflmRjwOXN64qjJ6s5U3Nhc+NsfcOPK7sv/JqYyMrs85GmGrUrMtb5pf30oLpdCFJTEmzMv2UUVq19VaQvoPPGpi+pqvUg4bRJiOsaCrMrosEzap/GvKunHZeKmA34qusaeKd8P1KG71tKKSkt309VrQfAKw05O1rOQ5S/DgcLsz+WcDfAsVNn2fzf42F1yj47xpGTjZ8FpJD3B0tytkaTY9RviBhfrdqpDF8YL2D8yap64mwWeqfYW5XdfaSSLTubgiSfDRTlhHxdijRickMkMGTboyDXA7z/6WEqKmtDZE5U1vHu9gvtgo1+o/6JWHCL3T3B3LXxms1aDnKEzWJiQfYokuyNjZq68z5WuXfi8QYA9vgNdTwlU0KjFAXE7pbYupn1ijByBZxp8AV5e/NefAEdf0Dnrc17Gp0XfCcwcmPlPHTBTVFT3oafKoryLmAemJ6CIRtzAMBvGPKmYEnOR7Hk0yVXZc35rruE4JUfj0m4I1L5fUcQ+6uyQKDY8XcpxYtN/yX8pSuch0jXAh1AQNY+pJEwEIEpYNQ92lU8uhazypJYsCGhq2l0oxvd6EY3uvF/iv8BSJ+iN3/CGscAAAAASUVORK5CYII="},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(20);function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(i.isURLSearchParams(e))r=e.toString();else{var o=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(a(e)+"="+a(t))}))}),r=o.join("&")}if(r){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var i=n(20),a=n(243),r={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(153):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=n(153)),t}(),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){s.headers[t]={}}),i.forEach(["post","put","patch"],function(t){s.headers[t]=i.merge(r)}),t.exports=s}).call(this,n(41))},function(t,e,n){"use strict";var i=n(20),a=n(244),r=n(150),o=n(246),s=n(249),l=n(250),c=n(154);t.exports=function(t){return new Promise(function e(u,h){var d=t.data,p=t.headers;i.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var A=t.auth.username||"",m=t.auth.password||"";p.Authorization="Basic "+btoa(A+":"+m)}var y=o(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),r(y,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:e,config:t,request:f};a(u,h,n),f=null}},f.onabort=function(){f&&(h(c("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){h(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),h(c(e,t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var g=n(251),v=(t.withCredentials||l(y))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;v&&(p[t.xsrfHeaderName]=v)}if("setRequestHeader"in f&&i.forEach(p,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)}),i.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),h(t),f=null)}),void 0===d&&(d=null),f.send(d)})}},function(t,e,n){"use strict";var i=n(245);t.exports=function(t,e,n,a,r){var o=new Error(t);return i(o,e,n,a,r)}},function(t,e,n){"use strict";var i=n(20);t.exports=function(t,e){e=e||{};var n={},a=["url","method","params","data"],r=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(a,function(t){void 0!==e[t]&&(n[t]=e[t])}),i.forEach(r,function(a){i.isObject(e[a])?n[a]=i.deepMerge(t[a],e[a]):void 0!==e[a]?n[a]=e[a]:i.isObject(t[a])?n[a]=i.deepMerge(t[a]):void 0!==t[a]&&(n[a]=t[a])}),i.forEach(o,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])});var s=a.concat(r).concat(o),l=Object.keys(e).filter(function(t){return-1===s.indexOf(t)});return i.forEach(l,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i=n(27).rotr32;function a(t,e,n){return t&e^~t&n}function r(t,e,n){return t&e^t&n^e&n}function o(t,e,n){return t^e^n}e.ft_1=function(t,e,n,i){return 0===t?a(e,n,i):1===t||3===t?o(e,n,i):2===t?r(e,n,i):void 0},e.ch32=a,e.maj32=r,e.p32=o,e.s0_256=function(t){return i(t,2)^i(t,13)^i(t,22)},e.s1_256=function(t){return i(t,6)^i(t,11)^i(t,25)},e.g0_256=function(t){return i(t,7)^i(t,18)^t>>>3},e.g1_256=function(t){return i(t,17)^i(t,19)^t>>>10}},function(t,e,n){"use strict";var i=n(27),a=n(72),r=n(157),o=n(71),s=i.sum32,l=i.sum32_4,c=i.sum32_5,u=r.ch32,h=r.maj32,d=r.s0_256,p=r.s1_256,f=r.g0_256,A=r.g1_256,m=a.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}i.inherits(g,m),t.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=l(A(n[i-2]),n[i-7],f(n[i-15]),n[i-16]);var a=this.h[0],r=this.h[1],m=this.h[2],y=this.h[3],g=this.h[4],v=this.h[5],b=this.h[6],C=this.h[7];for(o(this.k.length===n.length),i=0;i<n.length;i++){var x=c(C,p(g),u(g,v,b),this.k[i],n[i]),w=s(d(a),h(a,r,m));C=b,b=v,v=g,g=s(y,x),y=m,m=r,r=a,a=s(x,w)}this.h[0]=s(this.h[0],a),this.h[1]=s(this.h[1],r),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],y),this.h[4]=s(this.h[4],g),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],b),this.h[7]=s(this.h[7],C)},g.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";var i=n(27),a=n(72),r=n(71),o=i.rotr64_hi,s=i.rotr64_lo,l=i.shr64_hi,c=i.shr64_lo,u=i.sum64,h=i.sum64_hi,d=i.sum64_lo,p=i.sum64_4_hi,f=i.sum64_4_lo,A=i.sum64_5_hi,m=i.sum64_5_lo,y=a.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function b(t,e,n,i,a){var r=t&n^~t&a;return r<0&&(r+=4294967296),r}function C(t,e,n,i,a,r){var o=e&i^~e&r;return o<0&&(o+=4294967296),o}function x(t,e,n,i,a){var r=t&n^t&a^n&a;return r<0&&(r+=4294967296),r}function w(t,e,n,i,a,r){var o=e&i^e&r^i&r;return o<0&&(o+=4294967296),o}function D(t,e){var n=o(t,e,28)^o(e,t,2)^o(e,t,7);return n<0&&(n+=4294967296),n}function I(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function B(t,e){var n=o(t,e,14)^o(t,e,18)^o(e,t,9);return n<0&&(n+=4294967296),n}function T(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function S(t,e){var n=o(t,e,1)^o(t,e,8)^l(t,e,7);return n<0&&(n+=4294967296),n}function M(t,e){var n=s(t,e,1)^s(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}function E(t,e){var n=o(t,e,19)^o(e,t,29)^l(t,e,6);return n<0&&(n+=4294967296),n}function k(t,e){var n=s(t,e,19)^s(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}i.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var n=this.W,i=0;i<32;i++)n[i]=t[e+i];for(;i<n.length;i+=2){var a=E(n[i-4],n[i-3]),r=k(n[i-4],n[i-3]),o=n[i-14],s=n[i-13],l=S(n[i-30],n[i-29]),c=M(n[i-30],n[i-29]),u=n[i-32],h=n[i-31];n[i]=p(a,r,o,s,l,c,u,h),n[i+1]=f(a,r,o,s,l,c,u,h)}},v.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],l=this.h[4],c=this.h[5],p=this.h[6],f=this.h[7],y=this.h[8],g=this.h[9],v=this.h[10],S=this.h[11],M=this.h[12],E=this.h[13],k=this.h[14],F=this.h[15];r(this.k.length===n.length);for(var O=0;O<n.length;O+=2){var L=k,U=F,P=B(y,g),R=T(y,g),H=b(y,0,v,0,M),Q=C(0,g,0,S,0,E),_=this.k[O],N=this.k[O+1],j=n[O],Y=n[O+1],z=A(L,U,P,R,H,Q,_,N,j,Y),G=m(L,U,P,R,H,Q,_,N,j,Y);L=D(i,a),U=I(i,a),P=x(i,0,o,0,l),R=w(0,a,0,s,0,c);var V=h(L,U,P,R),K=d(L,U,P,R);k=M,F=E,M=v,E=S,v=y,S=g,y=h(p,f,z,G),g=d(f,f,z,G),p=l,f=c,l=o,c=s,o=i,s=a,i=h(z,G,V,K),a=d(z,G,V,K)}u(this.h,0,i,a),u(this.h,2,o,s),u(this.h,4,l,c),u(this.h,6,p,f),u(this.h,8,y,g),u(this.h,10,v,S),u(this.h,12,M,E),u(this.h,14,k,F)},v.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){var i=n(18);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";(function(e,i){var a=n(42);t.exports=b;var r,o=n(119);b.ReadableState=v;n(83).EventEmitter;var s=function(t,e){return t.listeners(e).length},l=n(162),c=n(3).Buffer,u=e.Uint8Array||function(){};var h=Object.create(n(29));h.inherits=n(13);var d=n(266),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var f,A=n(267),m=n(163);h.inherits(b,l);var y=["error","close","destroy","pause","resume"];function g(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function v(t,e){t=t||{};var i=e instanceof(r=r||n(59));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var a=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(84).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function b(t){if(r=r||n(59),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function C(t,e,n,i,a){var r,o=t._readableState;return null===e?(o.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,I(t)}}(t,o)):(a||(r=function(t,e){var n;return function(t){return c.isBuffer(t)||t instanceof u}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,e)),r?t.emit("error",r):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),i?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?x(t,o,e,!1):T(t,o)):x(t,o,e,!1))):i||(o.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function x(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&I(t)),T(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=c.from(t,e),e=""),n=!0),C(this,t,e,!1,n)},b.prototype.unshift=function(t){return C(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return f||(f=n(84).StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};var w=8388608;function D(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?a.nextTick(B,t):B(t))}function B(t){p("emit readable"),t.emit("readable"),k(t)}function T(t,e){e.readingMore||(e.readingMore=!0,a.nextTick(S,t,e))}function S(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){p("readable nexttick read 0"),t.read(0)}function E(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,a=n.data;for(t-=a.length;n=n.next;){var r=n.data,o=t>r.length?r.length:t;if(o===r.length?a+=r:a+=r.slice(0,t),0==(t-=o)){o===r.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=r.slice(o));break}++i}return e.length-=i,a}(t,e):function(t,e){var n=c.allocUnsafe(t),i=e.head,a=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var r=i.data,o=t>r.length?r.length:t;if(r.copy(n,n.length-t,0,o),0==(t-=o)){o===r.length?(++a,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=r.slice(o));break}++a}return e.length-=a,n}(t,e),i}(t,e.buffer,e.decoder),n);var n}function O(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,a.nextTick(L,e,t))}function L(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function U(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):I(this),null;if(0===(t=D(t,e))&&e.ended)return 0===e.length&&O(this),null;var i,a=e.needReadable;return p("need readable",a),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",a=!0),e.ended||e.reading?p("reading or ended",a=!1):a&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=D(n,e))),null===(i=t>0?F(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&O(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,p("pipe count=%d opts=%j",r.pipesCount,e);var o=e&&!1===e.end||t===i.stdout||t===i.stderr?b:c;function l(t,e){p("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,d())}function c(){p("onend"),t.end()}r.endEmitted?a.nextTick(o):n.once("end",o),t.on("unpipe",l);var u=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,k(t))}}(n);t.on("drain",u);var h=!1;function d(){p("cleanup"),t.removeListener("close",y),t.removeListener("finish",v),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",A),h=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u()}var f=!1;function A(e){p("ondata"),f=!1,!1!==t.write(e)||f||((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==U(r.pipes,t))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function m(e){p("onerror",e),b(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",v),b()}function v(){p("onfinish"),t.removeListener("close",y),b()}function b(){p("unpipe"),n.unpipe(t)}return n.on("data",A),g(t,"error",m),t.once("close",y),t.once("finish",v),t.emit("pipe",n),r.flowing||(p("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<a;r++)i[r].emit("unpipe",this,n);return this}var o=U(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&I(this):a.nextTick(M,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,a.nextTick(E,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var a in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(a){p("wrapped data"),n.decoder&&(a=n.decoder.write(a)),(!n.objectMode||null!=a)&&(n.objectMode||a&&a.length)&&(e.push(a)||(i=!0,t.pause()))}),t)void 0===this[a]&&"function"==typeof t[a]&&(this[a]=function(e){return function(){return t[e].apply(t,arguments)}}(a));for(var r=0;r<y.length;r++)t.on(y[r],this.emit.bind(this,y[r]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=F}).call(this,n(28),n(41))},function(t,e,n){t.exports=n(83).EventEmitter},function(t,e,n){"use strict";var i=n(42);function a(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return r||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(a,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(e,i,a){var r=n(42);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var a=i.callback;e.pendingcb--,a(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=g;var s,l=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:r.nextTick;g.WritableState=y;var c=Object.create(n(29));c.inherits=n(13);var u={deprecate:n(166)},h=n(162),d=n(3).Buffer,p=a.Uint8Array||function(){};var f,A=n(163);function m(){}function y(t,e){s=s||n(59),t=t||{};var i=e instanceof s;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var a=t.highWaterMark,r=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i&&(r||0===r)?r:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){D(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function g(t){if(s=s||n(59),!(f.call(g,this)||this instanceof s))return new g(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e){var n=new Error("write after end");t.emit("error",n),r.nextTick(e,n)}function b(t,e,n,i){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),r.nextTick(i,o),a=!1),a}function C(t,e,n,i,a,r){if(!n){var o=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,n)),e}(e,i,a);i!==o&&(n=!0,a="buffer",i=o)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:a,isBuf:n,callback:r,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,s,i,a,r);return l}function x(t,e,n,i,a,r,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(a,e.onwrite):t._write(a,r,e.onwrite),e.sync=!1}function w(t,e,n,i,a){--e.pendingcb,n?(r.nextTick(a,i),r.nextTick(M,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(a(i),t._writableState.errorEmitted=!0,t.emit("error",i),M(t,e))}function D(t,e){var n=t._writableState,i=n.sync,a=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)w(t,n,i,e,a);else{var r=T(n);r||n.corked||n.bufferProcessing||!n.bufferedRequest||B(t,n),i?l(I,t,n,r,a):I(t,n,r,a)}}function I(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),M(t,e)}function B(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,a=new Array(i),r=e.corkedRequestsFree;r.entry=n;for(var s=0,l=!0;n;)a[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;a.allBuffers=l,x(t,e,!0,e.length,a,"",r.finish),e.pendingcb++,e.lastBufferedRequest=null,r.next?(e.corkedRequestsFree=r.next,r.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(x(t,e,!1,e.objectMode?1:c.length,c,u,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),M(t,e)})}function M(t,e){var n=T(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,r.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(g,h),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===g&&t&&t._writableState instanceof y}})):f=function(t){return t instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(t,e,n){var i=this._writableState,a=!1,r=!i.objectMode&&function(t){return d.isBuffer(t)||t instanceof p}(t);return r&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"==typeof e&&(n=e,e=null),r?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?v(this,n):(r||b(this,i,t,n))&&(i.pendingcb++,a=C(this,i,r,t,e,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||B(this,t))},g.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,M(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),g.prototype.destroy=A.destroy,g.prototype._undestroy=A.undestroy,g.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(41),n(165).setImmediate,n(28))},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(a.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(a.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(269),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(28))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation"),i=!0}return t.apply(this,arguments)}}}).call(this,n(28))},function(t,e,n){"use strict";t.exports=o;var i=n(59),a=Object.create(n(29));function r(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){l(t,e,n)}):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}a.inherits=n(13),a.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var a=this._readableState;(i.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";(function(e,i){var a=n(42);t.exports=b;var r,o=n(119);b.ReadableState=v;n(83).EventEmitter;var s=function(t,e){return t.listeners(e).length},l=n(169),c=n(3).Buffer,u=e.Uint8Array||function(){};var h=n(29);h.inherits=n(13);var d=n(272),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var f,A=n(273),m=n(170);h.inherits(b,l);var y=["error","close","destroy","pause","resume"];function g(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function v(t,e){t=t||{};var i=e instanceof(r=r||n(60));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var a=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(84).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function b(t){if(r=r||n(60),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function C(t,e,n,i,a){var r,o=t._readableState;return null===e?(o.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,I(t)}}(t,o)):(a||(r=function(t,e){var n;return function(t){return c.isBuffer(t)||t instanceof u}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,e)),r?t.emit("error",r):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),i?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?x(t,o,e,!1):T(t,o)):x(t,o,e,!1))):i||(o.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function x(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&I(t)),T(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=c.from(t,e),e=""),n=!0),C(this,t,e,!1,n)},b.prototype.unshift=function(t){return C(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return f||(f=n(84).StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};var w=8388608;function D(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?a.nextTick(B,t):B(t))}function B(t){p("emit readable"),t.emit("readable"),k(t)}function T(t,e){e.readingMore||(e.readingMore=!0,a.nextTick(S,t,e))}function S(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){p("readable nexttick read 0"),t.read(0)}function E(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,a=n.data;for(t-=a.length;n=n.next;){var r=n.data,o=t>r.length?r.length:t;if(o===r.length?a+=r:a+=r.slice(0,t),0==(t-=o)){o===r.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=r.slice(o));break}++i}return e.length-=i,a}(t,e):function(t,e){var n=c.allocUnsafe(t),i=e.head,a=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var r=i.data,o=t>r.length?r.length:t;if(r.copy(n,n.length-t,0,o),0==(t-=o)){o===r.length?(++a,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=r.slice(o));break}++a}return e.length-=a,n}(t,e),i}(t,e.buffer,e.decoder),n);var n}function O(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,a.nextTick(L,e,t))}function L(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function U(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):I(this),null;if(0===(t=D(t,e))&&e.ended)return 0===e.length&&O(this),null;var i,a=e.needReadable;return p("need readable",a),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",a=!0),e.ended||e.reading?p("reading or ended",a=!1):a&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=D(n,e))),null===(i=t>0?F(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&O(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,p("pipe count=%d opts=%j",r.pipesCount,e);var o=e&&!1===e.end||t===i.stdout||t===i.stderr?b:c;function l(t,e){p("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,d())}function c(){p("onend"),t.end()}r.endEmitted?a.nextTick(o):n.once("end",o),t.on("unpipe",l);var u=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,k(t))}}(n);t.on("drain",u);var h=!1;function d(){p("cleanup"),t.removeListener("close",y),t.removeListener("finish",v),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",A),h=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u()}var f=!1;function A(e){p("ondata"),f=!1,!1!==t.write(e)||f||((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==U(r.pipes,t))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function m(e){p("onerror",e),b(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",v),b()}function v(){p("onfinish"),t.removeListener("close",y),b()}function b(){p("unpipe"),n.unpipe(t)}return n.on("data",A),g(t,"error",m),t.once("close",y),t.once("finish",v),t.emit("pipe",n),r.flowing||(p("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<a;r++)i[r].emit("unpipe",this,n);return this}var o=U(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&I(this):a.nextTick(M,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,a.nextTick(E,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var a in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(a){p("wrapped data"),n.decoder&&(a=n.decoder.write(a)),(!n.objectMode||null!=a)&&(n.objectMode||a&&a.length)&&(e.push(a)||(i=!0,t.pause()))}),t)void 0===this[a]&&"function"==typeof t[a]&&(this[a]=function(e){return function(){return t[e].apply(t,arguments)}}(a));for(var r=0;r<y.length;r++)t.on(y[r],this.emit.bind(this,y[r]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=F}).call(this,n(28),n(41))},function(t,e,n){t.exports=n(83).EventEmitter},function(t,e,n){"use strict";var i=n(42);function a(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return r||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(a,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(e,i,a){var r=n(42);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var a=i.callback;e.pendingcb--,a(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=g;var s,l=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:r.nextTick;g.WritableState=y;var c=n(29);c.inherits=n(13);var u={deprecate:n(166)},h=n(169),d=n(3).Buffer,p=a.Uint8Array||function(){};var f,A=n(170);function m(){}function y(t,e){s=s||n(60),t=t||{};var i=e instanceof s;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var a=t.highWaterMark,r=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i&&(r||0===r)?r:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){D(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function g(t){if(s=s||n(60),!(f.call(g,this)||this instanceof s))return new g(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e){var n=new Error("write after end");t.emit("error",n),r.nextTick(e,n)}function b(t,e,n,i){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),r.nextTick(i,o),a=!1),a}function C(t,e,n,i,a,r){if(!n){var o=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,n)),e}(e,i,a);i!==o&&(n=!0,a="buffer",i=o)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:a,isBuf:n,callback:r,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,s,i,a,r);return l}function x(t,e,n,i,a,r,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(a,e.onwrite):t._write(a,r,e.onwrite),e.sync=!1}function w(t,e,n,i,a){--e.pendingcb,n?(r.nextTick(a,i),r.nextTick(M,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(a(i),t._writableState.errorEmitted=!0,t.emit("error",i),M(t,e))}function D(t,e){var n=t._writableState,i=n.sync,a=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)w(t,n,i,e,a);else{var r=T(n);r||n.corked||n.bufferProcessing||!n.bufferedRequest||B(t,n),i?l(I,t,n,r,a):I(t,n,r,a)}}function I(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),M(t,e)}function B(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,a=new Array(i),r=e.corkedRequestsFree;r.entry=n;for(var s=0,l=!0;n;)a[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;a.allBuffers=l,x(t,e,!0,e.length,a,"",r.finish),e.pendingcb++,e.lastBufferedRequest=null,r.next?(e.corkedRequestsFree=r.next,r.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(x(t,e,!1,e.objectMode?1:c.length,c,u,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),M(t,e)})}function M(t,e){var n=T(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,r.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(g,h),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===g&&t&&t._writableState instanceof y}})):f=function(t){return t instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(t,e,n){var i=this._writableState,a=!1,r=!i.objectMode&&function(t){return d.isBuffer(t)||t instanceof p}(t);return r&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"==typeof e&&(n=e,e=null),r?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?v(this,n):(r||b(this,i,t,n))&&(i.pendingcb++,a=C(this,i,r,t,e,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||B(this,t))},g.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,M(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),g.prototype.destroy=A.destroy,g.prototype._undestroy=A.undestroy,g.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(41),n(165).setImmediate,n(28))},function(t,e,n){"use strict";t.exports=o;var i=n(60),a=n(29);function r(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){l(t,e,n)}):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}a.inherits=n(13),a.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var a=this._readableState;(i.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){n(40)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(40)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(40)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(40)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(8);i(i.P,"Array",{copyWithin:n(142)}),n(66)("copyWithin")},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAC0PAAAtDwECVDVRAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA3LTA4VDE1OjE1OjMwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNy0wOFQxNToxNzowMSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNy0wOFQxNToxNzowMSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkN2M2MGFiNS0wNGNjLTM4NDgtYWI5Zi0wNDRhOGE1ZTVlYzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZDdjNjBhYjUtMDRjYy0zODQ4LWFiOWYtMDQ0YThhNWU1ZWMwIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDdjNjBhYjUtMDRjYy0zODQ4LWFiOWYtMDQ0YThhNWU1ZWMwIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpkN2M2MGFiNS0wNGNjLTM4NDgtYWI5Zi0wNDRhOGE1ZTVlYzAiIHN0RXZ0OndoZW49IjIwMjEtMDctMDhUMTU6MTU6MzArMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4zIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4uzLVqAAADiklEQVR4nO2bTWhcVRiGn+/OT2Kn+emkYMRWkC66ECxKBUtLqbioiGgp2KAgBrUghbSIi4KbqouWbFpBQReC4MJYwVUV4w+I67aLgKWLoU6lUMFWbXWSzGRyz9dF7iSTzNymE+P5bO59YOD8fee8951z7uWeMyOqSpIJrAX8LymOlDZZa/BF2xngJDPGSKnLtxgLWgwojpQfB3b1S+5pAz3eaTHABe44AOqOJWEWLDZguNyNyh4AhG0Dmn3QvyS/LDJgQ5/bD0gjHwb6vHdFnllkgKoML8m/6FWNAfPf9sAbV+4Pw/qvQKa5gTp97OYHW855V+aJ+RngwvowSy4eQILFs2Kt0bwEXopp88JafhoEABuOXNqlsDWmTbEvyDzrUZNXAmi9+bWwXP1dTMDbP2ZRtoCcjz5hU/0EyHlBNxZHSr1mKv9DZGlB/+FfbgK9AC6TG/j71OY/vavySOJfh7M+B8sPjf+r+JnTT62SkgXSGbAanZSKxd7qzMxoI1+rVA5vh3oHXTwBHIjSE8BHnYyfH/rmhIj0A9SC2bf47Jm/7jR2VQyYqdXWAa83Fb1JZwY83BR/hg4NQOVlhfsA7nG549NwxwYkfgmkBlgLsCY1wFqANYk3YMWPwYs9PQOhc6cBFPLNdV2Fwtc/QwhQD8PXHqlWL7fp4hCwP0pvbirfAfwQpcvAwXbj54e+/ULRIoCqFIW5I75ZZSw3NF4FCAIZrY3t/f5217FiAyQMu1TkyZjqPY0TxyCbXR/TZivQLn5jU/mFuPEV3S1w75yYhfNNQXc20s7pp3HxDRK/BFIDrAVYk3gDVnwTzHR3V+rV6vsAAaxzIq/OV6p+CMwC5FT/iOniJxZ2pLYBu6N0GfgqSl+NG1/gY0WjbTp5RaAAoPAJaCVqdnG561iVLbELhcKgg98a+drkZGE7TC1td5sNkSPAe1H6DNB2FzpuQyR/YPwqMvc2mBF5YPrzvVeW09wg8UsgNcBagDWpAdYCrEkNsBZgTWqAtQBrUgOsBViTGmAtwJrUAGsB1qQGWAuwJjXAWoA1qQHWAqxJDbAWYE3iDWhzMFKugBbmarPPoe6f5Tp56PeJntHvDr3TyA/v+/Lo9fWDnfxMjqlrpZMAXX2D72byPTc6iZ2+dumY4vo6jc/NTp5tZ4ADbSlfk2jwaOKXQMvhqMCUE80BoHIZcJ41eSOboSpJ//v8LVCn7XsOAwsXAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAs/wAALP8BpM+sdgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAO1SURBVHic7ZtLaFxVGMd/371zJ+nMZDqJ0UTQLrpRhLQQFUUrvqgW6gMXSXERaQWDj0YXoisXulTBByjiRhR8BEEXhuIoLoILV3XRhkLFNkltjRCpYpwkk5m593ORuWPnkeQ2xHswc34wMN93znfP//zvPXc49zJgsTTR9fxPvaY1xIXTKulWvA8ZUjdmLUZoMqD76NkBlIPdfefuMyEobpqvANHXAdTxX+HlU8nYFcVMvQGjxz0Vp3rm5ebsfHaXAU2xUmdArrP3AUDC2PVWHoldUczUXwEaHK4L1Xk0TjEmqJ3tzJNnrkoknQuAV9dB2Pvn27tPxq4sJmpXQKLDGaFh8gAoI3EKipt/l4DyWKsOCiOMHm82ZpvgAOw8evYmYM8affq6O3oOxCcpXhwAceTwep10g/b/Mw5D6iLcAkxXP8El7bPAtKre0Pvi6S4TAv9rpDGRe3b6LyALELjeFQtvXvtH7KpipOVmqJ2wBpgWYJrElhxl5Jt0ckWfCcPSfMcbTN5diVp+MpW60RG5F0BFzgwUCl9ezvDeoa+fFpUMQKm48h5fPfx31NotMSBdrHSVHffVWqKr8A4Q2QAR2aewWq86AVyWAaLyEsLVADtSnZ8tQ2QD2n4JWANMCzCNNcC0ANO0vQGb/xkcyvd4wjhACUkKWmvydiQmGM77AG7Cf6L46cFzjeVTmcxTqIbPHC99+HrrVDr9LYCKzO4pFEZbDZ88lB9XpQdAoSfc1FRUP/GG80UAF14rfn7gu/WmsWkDUq7TWdFg/2qkdW0ick/4PfATrXeRqtcD+1u0XFnLq55aa3yFu0Toa8wL3BFu8Xz4eL05gF0C1gBrgGkBptn0TXDJl0VPeLcapkQ4ErapyvugFQAvqRdLLepF5PsgCFwAgb2I7Fut1VngWDU/t9b4IvKBBpqthkdESFXH/gi0sCqE0xvNY0seiaWHjvWXHfe3MC4tldNMPLi0UV3IVDr9HPBWNZwYWFx8KGotQHI4PxfuBl2RXcvj95+PWtv2S8AaYFqAaawBpgWYxhpgWoBprAGmBZjGGmBagGmsAaYFmMYaYFqAaawBpgWYxhpgWoBprAGmBZjGGmBagGna3oCmN0MCbviy262Ub8+NzSxsdBC/tJiVhbkTYbzzmutuk7GZclQRk5MvZAd//eEEwO+Z/oXc41/cGbUWYPni9M+oPw+QyPYP5sZmdkep8/ylH1u8GZoJQJvy2xJ1Bu0SaEwILKvU8r+gdf8f2Fa4LkXTGozzDwu/8uwPDSwaAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAEU0lEQVRYR+2YbWxTVRjH/+fevrh1L8hcCWbixsIKKMxBDEanxjmhNSIxccOXQKJ+YQn6BQ0uMX6di0ZCjCkx0S8ks+1iyFyydgHMAoLLmGN1CRtbSx0UNlv6Yte3e297j7mNnXXr1tKuE5Pdr/c8//t7/s/znHtyCO7zh2TiU7ZajlGCNgA1AEIAPBRwgJIxAnqBF2QDONPsyaST6/uMgIqDlj8BlD3dUIVXm7YgFOHh9Udxxx3EjZs+2G76EIoI/ZRQgxCfM6K7NZIrTLq4bADph289gy+6LuFEe/MiDVGkmPzdi6vjf+DqtVkIMfo5I0If7d7nuGfQlr5KdL/sTo3LGzBVLBwRMGi9g4GhaQSC3AlGxuq5rr1T2YAq3rAcL1bIPwvzwse8QduZjFlRwKSoEBNxecSJs5cdCEVjHfys4lMMvBBLB/rAm/1NYlxs0zxa+frzDdX4pmd4mjdqqwsKmBSPRGMwX7Tj0ogTVKTvc2HhO/TuD6PFxMqZ0l0AOVxSpDj64u7NqNtUkQiTWok3aueNK4iDC52avRvCj+emYLvlBS+ILoYh6g3rVXisRo0dtRsgY5n5kP8EMByMw+fhExDhqACFnP0XVGpCqw4YjcThdfOgNJtRWeUSc1ERHheXNdyq9qBUVr83e+eS/ha8xFIpA34BwUDaXWXZOguxOE6aBkO8UVtSkG2G50T4vQIEXsyu4RasCnMC9D8MuTmjVr2igLEYTbgWCcVzAksG+eYi+LZ3ZJI3ajV5A/rnOEw7A/B4I4jHgHKVEhsrSsEwGbfWJZO47Q7AcG7sZ86gfTYnwGPv7MGVsRmM2+/C7Q07AVhB4AIhcgJaLZexjdLmu0uzEQ+WFt2zm9ccLvT9MnWaN2oP5wQIYBQU34OwvbzxpfFFBG/3lSnj7HsAvtxWXYnGnZtQplJmDXp++AZGp2aOcgbt1zkBpv4jl/1qi4lVMOUfsQw6GjQPY8/2KhQpZUuGxEUKm9ODs0N2BOLR9eh6xVdYwKT6/t5ihUrRLmeZT3ZsVmN7jRoPrSsGyzAIRjjMeoJwzPhgc3oR5gQTA6qPGnQDqZlk7GjFQcv8gTVrBxd6dahfpeTxLgU9BJDHASrV/TYoGaagZqWS9ARP73Ols3h1ALPuwsUL1wDzMC8RuubgmoMrss3kYeNaD+Zh3toU52ve/9BBE1rYkq22RkLEZgKym1Jae6C+sy55u9VjPS4dg9yEEDsF/RWUnJ+b2HKxFd35nfWX8ToxxRQgZs3OIwSkHQSPpK4/UN+JFMDFUhS3KGiH7vpvp0hCamWfBKB5a/1JAB+kk84I+E/QV7oJa1qNfJATgBZNvY8SrMsTMKybsKrygVnyPHjfOyj1oGXbE22gtB1AVWomp6peg7niKeg8gzjiPJMuSScI6dCOj+oL1oPJr0pTXKaZfI4yaALFkwBqAUg3i+V/r5Eu1KUbfTsIrhARPwWu110o5BT/BV+QnEcenodEAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAEdUlEQVRYR+2Ya0xTZxzGn/dwLuVSbmspwohuIkN0A+IUw4fNsQgFZwzZSpmbCd82syX6wSzZ9nFZskx3MdkXsywsAQfUxEwN0JIMYzZ3MSIOGSBzoliEVUDW0ttpe97lHNOObkBbSw3b7Kfm9Hmf/+885738ewhW+Yescj48BIz3CT1M8IEnKBjNByjwHgB1vMX/Nn4KlOwXTTVfL7we0yNObrQUcFzSjaa6ciYthV9RvtvTDhy3DNh8Jr3uvgF5Q+eTmmz1QFNd+YrCBc2OfHUeYoc+LLSYElwMMH9tckTYiZvukGahfuF1WfD/BIwYXwyChCQYQ/2I0oQAxjoHl6P87wNyjZYKbUbyj6t3m2noPqzJSj20OgF3nGU5ndda+Gi2rv6ZjYvuaxFXwTICeU+Maw4KDZbda7Rpp198bhMELmn1AfINlpPVFevrnyoMOyrjCe0fY+8/QUOXNpVnrfvrt/H8gvTcXj/sTs+KQE5MO9B78fpVsUNfHHOzILdYuRr1p5sfy8GdORdm7S5Mz7ngEn0zoLgJgMZNSTGFJPqO2FY7sCRgV3HZ+wT0kCygIEfqRi6/K3/njOZeAIQhGAEwSAgZZlkMzrfU2OIGi2AQ1s10F5f6AQRXgFg78rOQaIBI/v8uwI+27DlZ5LpVz4BKhNIPgo840l0m8vewBHljdytAXgEQYDkUuFr1k4ksHo13GCBnNE/lPaLWTc44wHHMQWdr9dFoTBKpCQEKBnMhZfDrzm3r0T86iZk/3Oe87TU7Elk8Gu8QIN/Q/SoIaWnaVY7R8Rl8f2U8wPMk70FsJcuBhgC5BvNnKj7pjTdf2o4ZuwtfdvaDMMzr3rbqY9HcaaI0fyVoNF9Ym5u51VC1SanV3NmPu3Z3r6e95vlEFY/GVwEsMQzy1xirY+vGfP7Z8nXKuB8Gb+H8wLik4vCEvVV/LRqzRGgUwNS9PWW+gNRfV1mEknVapY7TI+LzU30ISPSUt726HiDxnbe7z6QIKrZAApOWlcXO2Y5VXQeJ7BkEbPIFpGa5U9ZkpoSC6Bu5jbOXxuRj+AQBmiWKHEKwiyFUClByTpem7rB+UTm7VHK8oasEDLMXwAsA5LnDBrUswwz7IRnENv0vEReJ8LLlEwbk4AHjdjAk/GXDhaEJeUXDH5AUn4xUAX6JwukWQQi8FOQEC3LU1V59MViIa+x5mlBJbjT2MAwhBTkZyNemIztdBYFn4XCKiue8W5wDxWuiSW9aClKhUTVavtFmpVbt05cuqvOIfqW9UgksNBn3ErbddeLKb79j+MYdeEQ/pUAvA4xSQDapVPEsthTnoWzDGiQLoeBC/nanF6e/HcHU7LzcO/UQio9BpDFK2H0Cx1gcLTu/k8UKoNBotm1+XKetqSiMeZ77/AFcujqJoTEbnB4fMtUqFBVoULohN+yvwWLGkkSVQ+GnIStcHt9CiQSKt0WT/sN7c9DQmSvxhHUfr7PGTLgSAwymZCEpvUqSiA6E9hHgLQJ62dtRezimt1srwRKrx5/DkdI4IRTeaQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAICAYAAAAiJnXPAAAAAXNSR0IArs4c6QAAAMRJREFUGBljYMACdu/ezX/ixImNIBqLNAMzumBDQwOTtrb2WkZGRh82NjY9GRmZFQcOHPiPrI4RmQNinzx5sgNIlSOJd5qbm1cg8RlQNAGdFAG0YTmyAhD7////kRYWFitg4nBNx44dM2RiYjoK1MQJk4TRQE3f//37Z21lZXUeJAbWdPToUTEWFpbTQL4cTCEW+tGfP39Mra2tXzHPnDmTVVJScivQBj0sCpGF+IFqLExNTZcwAv0xA8hJR5bFxwY6dSYA08E8jbvSEHYAAAAASUVORK5CYII="},function(t,e,n){var i=n(126);function a(e,n,r){return function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=a=Reflect.construct:t.exports=a=function(t,e,n){var a=[null];a.push.apply(a,e);var r=new(Function.bind.apply(t,a));return n&&i(r,n.prototype),r},a.apply(null,arguments)}t.exports=a},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAABSxJREFUeNrt3c9LVGscx/HnOUYllRBCUURGmGA4BTNKtS+QCMzFFFS0byG0aNUiXCb9QougRVCELYp2tYgWLVo3rYpoEUn/QxCi5y7kdl10u/Xl2pnJ12sjgjKfI8jbR87MpAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPCHyFUPgE4wfGb4zPCZoaHFo4tHF4/euPHbHvhT+pQ+TU+3LrYuti4+fVr1zwGWW1P1AOgEiyOLI4sje/bka/lavnb48G974EvpUrr05EnV1w/fU1Q9ADpBca+4V9zbsqXqHdBOBAR+QlmURVkICCwnIPATysfl4/JxX1/VO6CdCAj8hHwz38w3R0aq3gHtREDgBw48PPDwwMOtW9NgGkyDQ0NV74F24i4s+IGFKwtXFq4cP56KVKSi8AcXLOMXAn6gnCwny8lz56reAe3ICQS+o/G+8b7xfmwsnU6n0+n9+6veA+3ICQSW2fto76O9jzZuTLfT7XT76tWq90A7cwKBb3Lunuqe6p66c2fp8/7+qhdBO3MCgZRz43rjeuP6369xdepU1YugEziBsCrVarVarbZ589rxteNrx+/eTbNpNs2Oj1e9CzqJgLAq9M/0z/TPrFvX09fT19N39mx+kV/kF5OT6Vl6lp5t3171PuhEAsIfqVFv1Bv1nTvLXeWuctfJk/lD/pA/nD+f7qf76b5gwP9BQOgoBz8f/Hzwc3f3191fd3/dPTBQ1IpaURsYKEfL0XL00KH8JX/JX0ZH06v0Kr0aHMxzeS7PpZTm0lyaq3o9/FkEhBXRbDabzWZX18djH499PHbhwr9+4UyaSTMbNiw936KnJx1JR9KR3t7yTfmmfNPbm8bSWBrr7U3r0/q0ftu2+Yn5ifmJHTuKfcW+Yl/+9oZo+Xl+np9XfdWwuggIK+Jt823zbbOra+m22MuX//MbZtNsmv3nY0556e0yp9N0mq76aoDvcRsvACECAkCIgAAQIiAAhAgIACECAkCIgAAQIiAAhAgIACECAkCIgAAQIiAAhHgxRVbEuxPvTrw7MT9fr9fr9frwcNV7ftmtdCvdevkyT+SJPLFpU9VzoB0JCCuoLFutVqvVev266iW/qvGg8aDxYGGh6h3QzvwLC4AQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAACBEQAEIEBIAQAQEgREAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACA1eYvzi21Ki8j6bMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDItMjBUMTQ6Mzc6MjgrMDg6MDApygNpAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAyLTIwVDE0OjM3OjI4KzA4OjAwWJe71QAAAEh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fdWlybnBnaXJkMS9zaHV6aS0uc3ZntCVV8gAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU4RkMwMUUwNzM1RDExRUI4MkM2OUEzQzg4QzlGNTU3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU4RkMwMUUxNzM1RDExRUI4MkM2OUEzQzg4QzlGNTU3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NThGQzAxREU3MzVEMTFFQjgyQzY5QTNDODhDOUY1NTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NThGQzAxREY3MzVEMTFFQjgyQzY5QTNDODhDOUY1NTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz77ckyhAAAA90lEQVR42uyX4Q2DIBCFoRuwAiu4giu4Aiu4grPYEViBjkBHsCNQbI7kconlKDY0KSQX/fH04y68F5VCiCAarRbgcGnVbQd3MF0q1hLLx9rAEfvVxTLfstME2ne1b0JzmRywIYA11giQCTougbPAiox1ONAtZGPVYPzCOaP1SKtqwR51m1szApvayEw7vzO0N3Q/1NopgR9/EyBpxBx/6oOxfxQgFh2YIaNdkVbXnmqcWDbTbdK5s5LLkpfSbkYUMpzJsME0HJKvNwIMMCFxJpimGC3HPIAvpoSHZKEbNIx39/gVPF7i8+KO+1dmB/8+WLb6aXsKMAAXFnFkYrHf6gAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUwOEQ3QUYzNzM1RDExRUJCMjkwREE2RUZGRTY1NzE0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUwOEQ3QUY0NzM1RDExRUJCMjkwREE2RUZGRTY1NzE0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTA4RDdBRjE3MzVEMTFFQkIyOTBEQTZFRkZFNjU3MTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTA4RDdBRjI3MzVEMTFFQkIyOTBEQTZFRkZFNjU3MTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5x9eLJAAAA2klEQVR42mJkYGD4zzBAYCAs/s80UL4dtXjUYnRgDMS7gfgdNDe8g+JVUDmaZKeZULW4cBotslMaksH3gDgMiJWhuBMqRpMC5AxS0NK1ABGE0u/pnbhgQakExB30LKtd0BLSO6gDBCmxk9hUHYqUjZDxKjIcQJLFyCn8LpYQUKK1xciFyRkky8/Qy2IYQPY9Xevje7RM1WdwFInGSAmOJkF9Fy0hvcOSwl1oYfFuPJXDGRJTNNhORqhmRiI1KEF9Bsq3e6Dx+57WBchoK3PU4qFhMeNAddoAAgwANDhhvGEgfM8AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzQzI5QjU5NzM1RDExRUI4RDFEQUM4NDQzRTREMkVBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzQzI5QjVBNzM1RDExRUI4RDFEQUM4NDQzRTREMkVBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzNDMjlCNTc3MzVEMTFFQjhEMURBQzg0NDNFNEQyRUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzNDMjlCNTg3MzVEMTFFQjhEMURBQzg0NDNFNEQyRUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6230POAAAA+ElEQVR42uyXbw2GIBDG8W1ABbJYgQpUoIIVrEAFK1iBClTwnRtuz9hxCHzgg7A5Jw+738H9GS5CiEsMGiPA12/Ubid4gr8FDrHG94K+Mf3hftbaBuKi5gltBcOUrqMWOGYOrMF4OnYwfL9lxmnXAsbj0sm8j/NHfJuMrlvBJ+G5hCM2jF7aELvAEnG0kFSSiOXjzNkDVuC9inNHkq0++X7ia3vAaNhCGXki0bZkveoF75BImoiphqNVTIlVg1eIo8tkKzYTrulUgdFwyDQFbDZcGVWDHSQZ1RQM6OHtdesNGLuYIXRZcKwZPC97EzzBxbGM+mn7CzAAuAaEAZbNbpsAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY3Q0YzQjRENzM1RDExRUI5NzI3RTcxMzY2NzZFMTE3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY3Q0YzQjRFNzM1RDExRUI5NzI3RTcxMzY2NzZFMTE3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjdDRjNCNEI3MzVEMTFFQjk3MjdFNzEzNjY3NkUxMTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjdDRjNCNEM3MzVEMTFFQjk3MjdFNzEzNjY3NkUxMTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6wn0z3AAAAe0lEQVR42mL8//8/w0AAJoYBAqMWD06LGRkZseFyIP4PxGmkmMVCgaONgXgVECvRK6hDgfguEJ8h11JyfLwbiF2Q+GehPqdb4gJZaALEFfRK1bOAWBlq6VlKUjWpQb16tAAZtXjU4lGLRy0etZjmgHG0QT9qMa0AQIABACT6ES/2qDLXAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZCREMwQzA3NzM1RDExRUI5NzkyQjZGQUVEOUQyQ0I2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZCREMwQzA4NzM1RDExRUI5NzkyQjZGQUVEOUQyQ0I2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkJEQzBDMDU3MzVEMTFFQjk3OTJCNkZBRUQ5RDJDQjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkJEQzBDMDY3MzVEMTFFQjk3OTJCNkZBRUQ5RDJDQjYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Z41zjAAAA+ElEQVR42uyW4Q2DIBCFpekCrMAKrOAKXcEVugIr0BFcwRVcwY6AI9CjweZCIp72qP3BJS+agPch3j0R3vvmjLg0J0UF/w9YCLFIgXqQA/mocD+ANJpHI4eqzinGPUzdkKHmfOclgpfkA6gFSZCKC3Jo/MYNDsn1yqYpBB65wWrji/UR7KhgalU/N8bneJW/bidJXCA7uD0DbNEbP8hPEYtrLUzSaux9nKvkTxuVBuvENPq9u3gEnFpnd+Tz7QVbBJxypsIJ7nJbWwqMvdhydAoVbLAPc4GvhDwa+bEizJ+Rd39lIBPhEIBlOf9O7CHqgb6CS8VLgAEAQwXl7re2JDQAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjczQzEyQzBCNzM1RDExRUJBOUVERThBOTMwNzMyNzY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjczQzEyQzBDNzM1RDExRUJBOUVERThBOTMwNzMyNzY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzNDMTJDMDk3MzVEMTFFQkE5RURFOEE5MzA3MzI3NjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzNDMTJDMEE3MzVEMTFFQkE5RURFOEE5MzA3MzI3NjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4oNC5oAAABIElEQVR42uyXjQ2CMBCFW+MCOAKOUEboCjiCrsIKrIAjwAg6Ao4AI9SruSYnSrkqP8bQ5EsaIH3cvesVpDFGLDE2YqGxCv+OsJTSEgEZUAOG0OB19xxf2Va1Dxy1fdRDA8Sc9Rwhqb4BB2AP7IAEqPBeBJRBuWZGrDxLlCRyNXbEV8+9M5mrOau67ZlPLhyTeTW2xz7RBv0tQqpaDi1O9maEOC81cCQ1kDjhsSPO3+xfu7/TkPU+2cctgabapvjS8XpSj61Q1u1e3Ii/LS6BXjvxYk5hgal+RD2Fx5zOFs19HsdLdS7N6OnBVZ3jCaR6CqshxaW5Hm+Z76exgLqppJ6exu7V6cAXyFPzmLJXpxh5hV8lL4Fwhlz/JP5e+C7AAPrZPsFS4YDaAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc4MTk5QTNGNzM1RDExRUJCNzY4QTJFNTBDMDI3NzkzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc4MTk5QTQwNzM1RDExRUJCNzY4QTJFNTBDMDI3NzkzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzgxOTlBM0Q3MzVEMTFFQkI3NjhBMkU1MEMwMjc3OTMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzgxOTlBM0U3MzVEMTFFQkI3NjhBMkU1MEMwMjc3OTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5lix3ZAAAA5ElEQVR42mL8//8/w0AAJoYBAqMW0w+AEhc2TCRwAeLdUJxGjLlw8ym0+AzIDiieSYrFlAR1KBAbD0QcdwxE4gIFqxIQ36OnxcZICSmdnhavgtKrgXgPvSyGBfF7IA6jVxy7UCOIySlA3kHz6yp0I2iZj0ElkyA0FYdRo8RkIjJeXagWxEQGdRpSUKbhMoKcoGbEVS4zMjKCUu9dKBeUis/iSXQM0GiAFSirgebOwudhFjxySkhsQSQL8KlXQnIEA7kWg3xYQUKZvQepQDlL6/qY5tlptM1FMWAcbdCPWkwrABBgAGsPB8s27UqaAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApUlEQVQYlXXOsUrDYADE8d+XFgqNQ6C7m9jVLR0D4p7HCOruE5TuHfIWyS5CR7u5Frr5AhWsgQySDk0Vof7h4OCO40KHr7q4wgK3jrzgKc7LbdjXxTXWSPzlA+kQcySDt3ej5Qq0j5nvm8sE8+g0O1quhF0j7JqfIu4i5+h+bdQf0t5numSsm1xoH7JT/hz2dTHF6z8nZ1GclxukqPDZq0Ia5+XmAJlALOl6Ji+pAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTAzLTA0VDIwOjEwOjE5KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wMy0wNFQyMDoxMjoyOSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wMy0wNFQyMDoxMjoyOSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4YzgzOWIwOS00NWY1LWY3NDctYmEzNy04OTVlNzdkMDE5NWIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OGM4MzliMDktNDVmNS1mNzQ3LWJhMzctODk1ZTc3ZDAxOTViIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OGM4MzliMDktNDVmNS1mNzQ3LWJhMzctODk1ZTc3ZDAxOTViIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4YzgzOWIwOS00NWY1LWY3NDctYmEzNy04OTVlNzdkMDE5NWIiIHN0RXZ0OndoZW49IjIwMjEtMDMtMDRUMjA6MTA6MTkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4xaV+xAAAAgUlEQVQYlYWPMQrEIBREB0FR+6Sw3JDKxhwiYGkOkaNL7iBm/jbZZcmy7MCrHlM8CIC2LWuPodJp0mn2GGrbllUAoJWU6Q0FkE/oDVtJGT2GepcvegwVdPrr/cZqKvyZ4mM4fslzGg7FedzFG7lL8UY4jzvkKukxVFpN2iuzpCwAngxTVzP+TeskAAAAAElFTkSuQmCC"},function(t,e,n){var i=e;i.utils=n(27),i.common=n(72),i.sha=n(254),i.ripemd=n(258),i.hmac=n(259),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},function(t,e,n){"use strict";var i=n(8),a=n(95)(!0);i(i.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(66)("includes")},function(t,e,n){"use strict";var i=n(8),a=n(197),r="includes";i(i.P+i.F*n(198)(r),"String",{includes:function(t){return!!~a(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(98),a=n(51);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(t))}},function(t,e,n){var i=n(10)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";var i=n(67),a=n(49),r=n(54),o={};n(23)(o,n(10)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(o,{next:a(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(15),a=n(24),r=n(53);t.exports=n(16)?Object.defineProperties:function(t,e){a(t);for(var n,o=r(e),s=o.length,l=0;s>l;)i.f(t,n=o[l++],e[n]);return t}},function(t,e,n){var i=n(8),a=n(44),r=n(17);t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",o)}},function(t,e,n){var i=n(8);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(8),a=n(51),r=n(17),o=n(204),s="["+o+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,n){var a={},s=r(function(){return!!o[t]()||"​"!="​"[t]()}),l=a[t]=s?e(h):o[t];n&&(a[n]=l),i(i.P+i.F*s,"String",a)},h=u.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(8);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){"use strict";(function(t){var e=n(34),i=(n.n(e),n(35)),a=(n.n(i),n(36));n.n(a);!function(e){function i(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e,n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(e in n)t==e&&(t=n[e]);var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}];for(e=0;e<a.length;e++){var r=a[e].process,o=a[e].re.exec(t);o&&(channels=r(o),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=0>this.r||isNaN(this.r)?0:255<this.r?255:this.r,this.g=0>this.g||isNaN(this.g)?0:255<this.g?255:this.g,this.b=0>this.b||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=[],e=0;e<a.length;e++)for(var r=a[e].example,o=0;o<r.length;o++)t[t.length]=r[o];for(var s in n)t[t.length]=s;for((r=document.createElement("ul")).setAttribute("id","rgbcolor-examples"),e=0;e<t.length;e++)try{var l=document.createElement("li"),c=new i(t[e]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),u.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[e]+" -> "+c.toRGB()+" -> "+c.toHex());l.appendChild(u),l.appendChild(h),r.appendChild(l)}catch(t){}return r}}"function"==typeof define&&n(37)?define(function(){return i}):t.exports?t.exports=i:e.RGBColor=i}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0)}).call(this,n(48)(t))},function(t,e,n){"use strict";(function(t){var e,i,a=n(57),r=(n.n(a),n(68)),o=(n.n(r),n(36)),s=(n.n(o),n(134)),l=(n.n(s),n(74)),c=(n.n(l),n(135)),u=(n.n(c),n(34)),h=(n.n(u),n(35)),d=(n.n(h),n(39)),p=(n.n(d),n(22)),f=(n.n(p),n(12)),A=(n.n(f),n(107)),m=(n.n(A),n(108)),y=(n.n(m),n(81)),g=(n.n(y),n(212)),v=(n.n(g),n(213)),b=(n.n(v),n(214)),C=(n.n(b),n(82)),x=(n.n(C),n(222)),w=(n.n(x),n(112)),D=(n.n(w),n(4));e=void 0,i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function i(t,e,n,i){return new(n||(n=Promise))(function(a,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,s)}l((i=i.apply(t,e||[])).next())})}function a(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}for(var r=function(){function t(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}return t.prototype.add=function(e,n,i,a){return new t(this.left+e,this.top+n,this.width+i,this.height+a)},t.fromClientRect=function(e){return new t(e.left,e.top,e.width,e.height)},t}(),o=function(t){return r.fromClientRect(t.getBoundingClientRect())},s=function(t){for(var e=[],n=0,i=t.length;n<i;){var a=t.charCodeAt(n++);if(a>=55296&&a<=56319&&n<i){var r=t.charCodeAt(n++);56320==(64512&r)?e.push(((1023&a)<<10)+(1023&r)+65536):(e.push(a),n--)}else e.push(a)}return e},l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var i=[],a=-1,r="";++a<n;){var o=t[a];o<=65535?i.push(o):(o-=65536,i.push(55296+(o>>10),o%1024+56320)),(a+1===n||i.length>16384)&&(r+=String.fromCharCode.apply(String,i),i.length=0)}return r},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),h=0;h<c.length;h++)u[c.charCodeAt(h)]=h;var d,p=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},f=function(){function t(t,e,n,i,a,r){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=r}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),A=10,m=13,y=15,g=17,v=18,b=19,C=20,x=21,w=22,D=24,I=25,B=26,T=27,S=28,M=30,E=32,k=33,F=34,O=35,L=37,U=38,P=39,R=40,H=42,Q="!",_=function(t){var e=function(t){var e,n,i,a,r,o=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),h=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=u[t.charCodeAt(e)],i=u[t.charCodeAt(e+1)],a=u[t.charCodeAt(e+2)],r=u[t.charCodeAt(e+3)],h[l++]=n<<2|i>>4,h[l++]=(15&i)<<4|a>>2,h[l++]=(3&a)<<6|63&r;return c}(t),n=Array.isArray(e)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=4)n.push(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]);return n}(e):new Uint32Array(e),i=Array.isArray(e)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n.push(t[i+1]<<8|t[i]);return n}(e):new Uint16Array(e),a=p(i,12,n[4]/2),r=2===n[5]?p(i,(24+n[4])/2):function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))}(n,Math.ceil((24+n[4])/4));return new f(n[0],n[1],n[2],n[3],a,r)}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),N=[M,36],j=[1,2,3,5],Y=[A,8],z=[T,B],G=j.concat(Y),V=[U,P,R,F,O],K=[y,m],W=function(t,e,n,i){var a=i[n];if(Array.isArray(t)?-1!==t.indexOf(a):t===a)for(var r=n;r<=i.length;){if((l=i[++r])===e)return!0;if(l!==A)break}if(a===A)for(r=n;r>0;){var o=i[--r];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var s=n;s<=i.length;){var l;if((l=i[++s])===e)return!0;if(l!==A)break}if(o!==A)break}return!1},X=function(t,e){for(var n=t;n>=0;){var i=e[n];if(i!==A)return i;n--}return 0},q=function(t,e,n,i,a){if(0===n[i])return"×";var r=i-1;if(Array.isArray(a)&&!0===a[r])return"×";var o=r-1,s=r+1,l=e[r],c=o>=0?e[o]:0,u=e[s];if(2===l&&3===u)return"×";if(-1!==j.indexOf(l))return Q;if(-1!==j.indexOf(u))return"×";if(-1!==Y.indexOf(u))return"×";if(8===X(r,e))return"÷";if(11===_.get(t[r])&&(u===L||u===E||u===k))return"×";if(7===l||7===u)return"×";if(9===l)return"×";if(-1===[A,m,y].indexOf(l)&&9===u)return"×";if(-1!==[g,v,b,D,S].indexOf(u))return"×";if(X(r,e)===w)return"×";if(W(23,w,r,e))return"×";if(W([g,v],x,r,e))return"×";if(W(12,12,r,e))return"×";if(l===A)return"÷";if(23===l||23===u)return"×";if(16===u||16===l)return"÷";if(-1!==[m,y,x].indexOf(u)||14===l)return"×";if(36===c&&-1!==K.indexOf(l))return"×";if(l===S&&36===u)return"×";if(u===C&&-1!==N.concat(C,b,I,L,E,k).indexOf(l))return"×";if(-1!==N.indexOf(u)&&l===I||-1!==N.indexOf(l)&&u===I)return"×";if(l===T&&-1!==[L,E,k].indexOf(u)||-1!==[L,E,k].indexOf(l)&&u===B)return"×";if(-1!==N.indexOf(l)&&-1!==z.indexOf(u)||-1!==z.indexOf(l)&&-1!==N.indexOf(u))return"×";if(-1!==[T,B].indexOf(l)&&(u===I||-1!==[w,y].indexOf(u)&&e[s+1]===I)||-1!==[w,y].indexOf(l)&&u===I||l===I&&-1!==[I,S,D].indexOf(u))return"×";if(-1!==[I,S,D,g,v].indexOf(u))for(var h=r;h>=0;){if((d=e[h])===I)return"×";if(-1===[S,D].indexOf(d))break;h--}if(-1!==[T,B].indexOf(u))for(h=-1!==[g,v].indexOf(l)?o:r;h>=0;){var d;if((d=e[h])===I)return"×";if(-1===[S,D].indexOf(d))break;h--}if(U===l&&-1!==[U,P,F,O].indexOf(u)||-1!==[P,F].indexOf(l)&&-1!==[P,R].indexOf(u)||-1!==[R,O].indexOf(l)&&u===R)return"×";if(-1!==V.indexOf(l)&&-1!==[C,B].indexOf(u)||-1!==V.indexOf(u)&&l===T)return"×";if(-1!==N.indexOf(l)&&-1!==N.indexOf(u))return"×";if(l===D&&-1!==N.indexOf(u))return"×";if(-1!==N.concat(I).indexOf(l)&&u===w||-1!==N.concat(I).indexOf(u)&&l===v)return"×";if(41===l&&41===u){for(var p=n[r],f=1;p>0&&41===e[--p];)f++;if(f%2!=0)return"×"}return l===E&&u===k?"×":"÷"},J=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=function(t,e){void 0===e&&(e="strict");var n=[],i=[],a=[];return t.forEach(function(t,r){var o=_.get(t);if(o>50?(a.push(!0),o-=50):a.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return i.push(r),n.push(16);if(4===o||11===o){if(0===r)return i.push(r),n.push(M);var s=n[r-1];return-1===G.indexOf(s)?(i.push(i[r-1]),n.push(s)):(i.push(r),n.push(M))}return i.push(r),31===o?n.push("strict"===e?x:L):o===H?n.push(M):29===o?n.push(M):43===o?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(L):n.push(M):void n.push(o)}),[i,n,a]}(t,e.lineBreak),i=n[0],a=n[1],r=n[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(a=a.map(function(t){return-1!==[I,M,H].indexOf(t)?L:t})),[i,a,"keep-all"===e.wordBreak?r.map(function(e,n){return e&&t[n]>=19968&&t[n]<=40959}):void 0]},Z=function(){function t(t,e,n,i){this.codePoints=t,this.required=e===Q,this.start=n,this.end=i}return t.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},t}();!function(t){t[t.STRING_TOKEN=0]="STRING_TOKEN",t[t.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",t[t.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",t[t.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",t[t.COMMA_TOKEN=4]="COMMA_TOKEN",t[t.HASH_TOKEN=5]="HASH_TOKEN",t[t.DELIM_TOKEN=6]="DELIM_TOKEN",t[t.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",t[t.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",t[t.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",t[t.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",t[t.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",t[t.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",t[t.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",t[t.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",t[t.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",t[t.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",t[t.NUMBER_TOKEN=17]="NUMBER_TOKEN",t[t.FUNCTION=18]="FUNCTION",t[t.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",t[t.IDENT_TOKEN=20]="IDENT_TOKEN",t[t.COLUMN_TOKEN=21]="COLUMN_TOKEN",t[t.URL_TOKEN=22]="URL_TOKEN",t[t.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",t[t.CDC_TOKEN=24]="CDC_TOKEN",t[t.CDO_TOKEN=25]="CDO_TOKEN",t[t.COLON_TOKEN=26]="COLON_TOKEN",t[t.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",t[t.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",t[t.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",t[t.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",t[t.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",t[t.EOF_TOKEN=32]="EOF_TOKEN"}(d||(d={}));var $=function(t){return t>=48&&t<=57},tt=function(t){return $(t)||t>=65&&t<=70||t>=97&&t<=102},et=function(t){return 10===t||9===t||32===t},nt=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},it=function(t){return nt(t)||$(t)||45===t},at=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},rt=function(t,e){return 92===t&&10!==e},ot=function(t,e,n){return 45===t?nt(e)||rt(e,n):!!nt(t)||!(92!==t||!rt(t,e))},st=function(t,e,n){return 43===t||45===t?!!$(e)||46===e&&$(n):$(46===t?e:t)},lt=function(t){var e=0,n=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(n=-1),e++);for(var i=[];$(t[e]);)i.push(t[e++]);var a=i.length?parseInt(l.apply(void 0,i),10):0;46===t[e]&&e++;for(var r=[];$(t[e]);)r.push(t[e++]);var o=r.length,s=o?parseInt(l.apply(void 0,r),10):0;69!==t[e]&&101!==t[e]||e++;var c=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(c=-1),e++);for(var u=[];$(t[e]);)u.push(t[e++]);var h=u.length?parseInt(l.apply(void 0,u),10):0;return n*(a+s*Math.pow(10,-o))*Math.pow(10,c*h)},ct={type:d.LEFT_PARENTHESIS_TOKEN},ut={type:d.RIGHT_PARENTHESIS_TOKEN},ht={type:d.COMMA_TOKEN},dt={type:d.SUFFIX_MATCH_TOKEN},pt={type:d.PREFIX_MATCH_TOKEN},ft={type:d.COLUMN_TOKEN},At={type:d.DASH_MATCH_TOKEN},mt={type:d.INCLUDE_MATCH_TOKEN},yt={type:d.LEFT_CURLY_BRACKET_TOKEN},gt={type:d.RIGHT_CURLY_BRACKET_TOKEN},vt={type:d.SUBSTRING_MATCH_TOKEN},bt={type:d.BAD_URL_TOKEN},Ct={type:d.BAD_STRING_TOKEN},xt={type:d.CDO_TOKEN},wt={type:d.CDC_TOKEN},Dt={type:d.COLON_TOKEN},It={type:d.SEMICOLON_TOKEN},Bt={type:d.LEFT_SQUARE_BRACKET_TOKEN},Tt={type:d.RIGHT_SQUARE_BRACKET_TOKEN},St={type:d.WHITESPACE_TOKEN},Mt={type:d.EOF_TOKEN},Et=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(s(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Mt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(it(e)||rt(n,i)){var a=ot(e,n,i)?2:1,r=this.consumeName();return{type:d.HASH_TOKEN,value:r,flags:a}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),dt;break;case 39:return this.consumeStringToken(39);case 40:return ct;case 41:return ut;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),vt;break;case 43:if(st(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return ht;case 45:var o=t,s=this.peekCodePoint(0),c=this.peekCodePoint(1);if(st(o,s,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(ot(o,s,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(45===s&&62===c)return this.consumeCodePoint(),this.consumeCodePoint(),wt;break;case 46:if(st(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(42===u&&47===(u=this.consumeCodePoint()))return this.consumeToken();if(-1===u)return this.consumeToken()}break;case 58:return Dt;case 59:return It;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),xt;break;case 64:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),f=this.peekCodePoint(2);if(ot(h,p,f)){r=this.consumeName();return{type:d.AT_KEYWORD_TOKEN,value:r}}break;case 91:return Bt;case 92:if(rt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Tt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),pt;break;case 123:return yt;case 125:return gt;case 117:case 85:var A=this.peekCodePoint(0),m=this.peekCodePoint(1);return 43!==A||!tt(m)&&63!==m||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),At;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),ft;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),mt;break;case-1:return Mt}return et(t)?(this.consumeWhiteSpace(),St):$(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):nt(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:d.DELIM_TOKEN,value:l(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();tt(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(l.apply(void 0,t.map(function(t){return 63===t?48:t})),16),a=parseInt(l.apply(void 0,t.map(function(t){return 63===t?70:t})),16);return{type:d.UNICODE_RANGE_TOKEN,start:i,end:a}}var r=parseInt(l.apply(void 0,t),16);if(45===this.peekCodePoint(0)&&tt(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var o=[];tt(e)&&o.length<6;)o.push(e),e=this.consumeCodePoint();a=parseInt(l.apply(void 0,o),16);return{type:d.UNICODE_RANGE_TOKEN,start:r,end:a}}return{type:d.UNICODE_RANGE_TOKEN,start:r,end:r}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:d.FUNCTION_TOKEN,value:t}):{type:d.IDENT_TOKEN,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:d.URL_TOKEN,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===d.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:d.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),bt)}for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:d.URL_TOKEN,value:l.apply(void 0,t)};if(et(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:d.URL_TOKEN,value:l.apply(void 0,t)}):(this.consumeBadUrlRemnants(),bt);if(34===i||39===i||40===i||at(i))return this.consumeBadUrlRemnants(),bt;if(92===i){if(!rt(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),bt;t.push(this.consumeEscapedCodePoint())}else t.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;et(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||-1===t)return;rt(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(6e4,t);e+=l.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var i=this._value[n];if(-1===i||void 0===i||i===t)return e+=this.consumeStringSlice(n),{type:d.STRING_TOKEN,value:e};if(10===i)return this._value.splice(0,n),Ct;if(92===i){var a=this._value[n+1];-1!==a&&void 0!==a&&(10===a?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):rt(i,a)&&(e+=this.consumeStringSlice(n),e+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||t.push(this.consumeCodePoint());$(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(46===n&&$(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;$(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((69===n||101===n)&&((43===i||45===i)&&$(a)||$(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;$(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[lt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),r=this.peekCodePoint(2);if(ot(i,a,r)){var o=this.consumeName();return{type:d.DIMENSION_TOKEN,number:e,flags:n,unit:o}}return 37===i?(this.consumeCodePoint(),{type:d.PERCENTAGE_TOKEN,number:e,flags:n}):{type:d.NUMBER_TOKEN,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(tt(t)){for(var e=l(t);tt(this.peekCodePoint(0))&&e.length<6;)e+=l(this.consumeCodePoint());et(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||function(t){return t>=55296&&t<=57343}(n)||n>1114111?65533:n}return-1===t?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(it(e))t+=l(e);else{if(!rt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=l(this.consumeEscapedCodePoint())}}},t}(),kt=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new Et;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===d.WHITESPACE_TOKEN;)t=this.consumeToken();if(t.type===d.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(t.type===d.WHITESPACE_TOKEN);if(t.type===d.EOF_TOKEN)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===d.EOF_TOKEN)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case d.LEFT_CURLY_BRACKET_TOKEN:case d.LEFT_SQUARE_BRACKET_TOKEN:case d.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(t.type);case d.FUNCTION_TOKEN:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(n.type===d.EOF_TOKEN||_t(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:d.FUNCTION};;){var n=this.consumeToken();if(n.type===d.EOF_TOKEN||n.type===d.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Mt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Ft=function(t){return t.type===d.DIMENSION_TOKEN},Ot=function(t){return t.type===d.NUMBER_TOKEN},Lt=function(t){return t.type===d.IDENT_TOKEN},Ut=function(t){return t.type===d.STRING_TOKEN},Pt=function(t,e){return Lt(t)&&t.value===e},Rt=function(t){return t.type!==d.WHITESPACE_TOKEN},Ht=function(t){return t.type!==d.WHITESPACE_TOKEN&&t.type!==d.COMMA_TOKEN},Qt=function(t){var e=[],n=[];return t.forEach(function(t){if(t.type===d.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}t.type!==d.WHITESPACE_TOKEN&&n.push(t)}),n.length&&e.push(n),e},_t=function(t,e){return e===d.LEFT_CURLY_BRACKET_TOKEN&&t.type===d.RIGHT_CURLY_BRACKET_TOKEN||e===d.LEFT_SQUARE_BRACKET_TOKEN&&t.type===d.RIGHT_SQUARE_BRACKET_TOKEN||e===d.LEFT_PARENTHESIS_TOKEN&&t.type===d.RIGHT_PARENTHESIS_TOKEN},Nt=function(t){return t.type===d.NUMBER_TOKEN||t.type===d.DIMENSION_TOKEN},jt=function(t){return t.type===d.PERCENTAGE_TOKEN||Nt(t)},Yt=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},zt={type:d.NUMBER_TOKEN,number:0,flags:4},Gt={type:d.PERCENTAGE_TOKEN,number:50,flags:4},Vt={type:d.PERCENTAGE_TOKEN,number:100,flags:4},Kt=function(t,e,n){var i=t[0],a=t[1];return[Wt(i,e),Wt(void 0!==a?a:i,n)]},Wt=function(t,e){if(t.type===d.PERCENTAGE_TOKEN)return t.number/100*e;if(Ft(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Xt=function(t){if(t.type===d.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},qt=function(t){return t.type===d.DIMENSION_TOKEN&&("deg"===t.unit||"grad"===t.unit||"rad"===t.unit||"turn"===t.unit)},Jt=function(t){switch(t.filter(Lt).map(function(t){return t.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zt,zt];case"to top":case"bottom":return Zt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zt,Vt];case"to right":case"left":return Zt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vt,Vt];case"to bottom":case"top":return Zt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vt,zt];case"to left":case"right":return Zt(270)}return 0},Zt=function(t){return Math.PI*t/180},$t=function(t){if(t.type===d.FUNCTION){var e=ce[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(t.values)}if(t.type===d.HASH_TOKEN){if(3===t.value.length){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return ne(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var r=t.value.substring(3,4);return ne(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(r+r,16)/255)}if(6===t.value.length){n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return ne(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(8===t.value.length){n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),r=t.value.substring(6,8);return ne(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(r,16)/255)}}if(t.type===d.IDENT_TOKEN){var o=ue[t.value.toUpperCase()];if(void 0!==o)return o}return ue.TRANSPARENT},te=function(t){return 0==(255&t)},ee=function(t){var e=255&t,n=255&t>>8,i=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+i+","+n+","+e/255+")":"rgb("+a+","+i+","+n+")"},ne=function(t,e,n,i){return(t<<24|e<<16|n<<8|Math.round(255*i)<<0)>>>0},ie=function(t,e){if(t.type===d.NUMBER_TOKEN)return t.number;if(t.type===d.PERCENTAGE_TOKEN){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},ae=function(t){var e=t.filter(Ht);if(3===e.length){var n=e.map(ie),i=n[0],a=n[1],r=n[2];return ne(i,a,r,1)}if(4===e.length){var o=e.map(ie),s=(i=o[0],a=o[1],r=o[2],o[3]);return ne(i,a,r,s)}return 0};function re(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var oe,se,le=function(t){var e=t.filter(Ht),n=e[0],i=e[1],a=e[2],r=e[3],o=(n.type===d.NUMBER_TOKEN?Zt(n.number):Xt(n))/(2*Math.PI),s=jt(i)?i.number/100:0,l=jt(a)?a.number/100:0,c=void 0!==r&&jt(r)?Wt(r,1):1;if(0===s)return ne(255*l,255*l,255*l,1);var u=l<=.5?l*(s+1):l+s-l*s,h=2*l-u,p=re(h,u,o+1/3),f=re(h,u,o),A=re(h,u,o-1/3);return ne(255*p,255*f,255*A,c)},ce={hsl:le,hsla:le,rgb:ae,rgba:ae},ue={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};!function(t){t[t.VALUE=0]="VALUE",t[t.LIST=1]="LIST",t[t.IDENT_VALUE=2]="IDENT_VALUE",t[t.TYPE_VALUE=3]="TYPE_VALUE",t[t.TOKEN_VALUE=4]="TOKEN_VALUE"}(oe||(oe={})),function(t){t[t.BORDER_BOX=0]="BORDER_BOX",t[t.PADDING_BOX=1]="PADDING_BOX",t[t.CONTENT_BOX=2]="CONTENT_BOX"}(se||(se={}));var he,de={name:"background-clip",initialValue:"border-box",prefix:!1,type:oe.LIST,parse:function(t){return t.map(function(t){if(Lt(t))switch(t.value){case"padding-box":return se.PADDING_BOX;case"content-box":return se.CONTENT_BOX}return se.BORDER_BOX})}},pe={name:"background-color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"},fe=function(t){var e=$t(t[0]),n=t[1];return n&&jt(n)?{color:e,stop:n}:{color:e,stop:null}},Ae=function(t,e){var n=t[0],i=t[t.length-1];null===n.stop&&(n.stop=zt),null===i.stop&&(i.stop=Vt);for(var a=[],r=0,o=0;o<t.length;o++){var s=t[o].stop;if(null!==s){var l=Wt(s,e);l>r?a.push(l):a.push(r),r=l}else a.push(null)}var c=null;for(o=0;o<a.length;o++){var u=a[o];if(null===u)null===c&&(c=o);else if(null!==c){for(var h=o-c,d=(u-a[c-1])/(h+1),p=1;p<=h;p++)a[c+p-1]=d*p;c=null}}return t.map(function(t,n){return{color:t.color,stop:Math.max(Math.min(1,a[n]/e),0)}})},me=function(t,e,n){var i="number"==typeof t?t:function(t,e,n){var i=e/2,a=n/2,r=Wt(t[0],e)-i,o=a-Wt(t[1],n);return(Math.atan2(o,r)+2*Math.PI)%(2*Math.PI)}(t,e,n),a=Math.abs(e*Math.sin(i))+Math.abs(n*Math.cos(i)),r=e/2,o=n/2,s=a/2,l=Math.sin(i-Math.PI/2)*s,c=Math.cos(i-Math.PI/2)*s;return[a,r-c,r+c,o-l,o+l]},ye=function(t,e){return Math.sqrt(t*t+e*e)},ge=function(t,e,n,i,a){return[[0,0],[0,e],[t,0],[t,e]].reduce(function(t,e){var r=e[0],o=e[1],s=ye(n-r,i-o);return(a?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},ve=function(t){var e=Zt(180),n=[];return Qt(t).forEach(function(t,i){if(0===i){var a=t[0];if(a.type===d.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(e=Jt(t));if(qt(a))return void(e=(Xt(a)+Zt(270))%Zt(360))}var r=fe(t);n.push(r)}),{angle:e,stops:n,type:he.LINEAR_GRADIENT}},be=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Ce=function(t,e,n,i,a){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(a),o},xe=function(t){return new Promise(function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},we={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var i=e.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(n),123===a)return!0}}return!1}(document);return Object.defineProperty(we,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(we,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas");e.width=100,e.height=100;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,a=e.toDataURL();i.src=a;var r=Ce(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),xe(r).then(function(e){n.drawImage(e,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var r=t.createElement("div");return r.style.backgroundImage="url("+a+")",r.style.height="100px",be(i)?xe(Ce(100,100,0,0,r)):Promise.reject(!1)}).then(function(t){return n.drawImage(t,0,0),be(n.getImageData(0,0,100,100).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(we,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(we,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(we,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(we,"SUPPORT_CORS_XHR",{value:t}),t}},De=function(){function t(t){this.id=t,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.debug||this.info.apply(this,t)},t.prototype.getTime=function(){return Date.now()-this.start},t.create=function(e){t.instances[e]=new t(e)},t.destroy=function(e){delete t.instances[e]},t.getInstance=function(e){var n=t.instances[e];if(void 0===n)throw new Error("No logger instance found with id "+e);return n},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&console.info},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.error||this.info.apply(this,t)},t.instances={},t}(),Ie=function(){function t(){}return t.create=function(e,n){return t._caches[e]=new Be(e,n)},t.destroy=function(e){delete t._caches[e]},t.open=function(e){var n=t._caches[e];if(void 0!==n)return n;throw new Error('Cache with key "'+e+'" not found')},t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t.getInstance=function(){var e=t._current;if(null===e)throw new Error("No cache instance attached");return e},t.attachInstance=function(e){t._current=e},t.detachInstance=function(){t._current=null},t._caches={},t._origin="about:blank",t._current=null,t}(),Be=function(){function t(t,e){this.id=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Oe(t)||Ee(t)?(this._cache[t]=this.loadImage(t),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return i(this,void 0,void 0,function(){var e,n,i,r,o=this;return a(this,function(a){switch(a.label){case 0:return e=Ie.isSameOrigin(t),n=!ke(t)&&!0===this._options.useCORS&&we.SUPPORT_CORS_IMAGES&&!e,i=!ke(t)&&!e&&"string"==typeof this._options.proxy&&we.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||ke(t)||i||n?(r=t,i?[4,this.proxy(r)]:[3,2]):[2];case 1:r=a.sent(),a.label=2;case 2:return De.getInstance(this.id).debug("Added image "+t.substring(0,256)),[4,new Promise(function(t,e){var i=new Image;i.onload=function(){return t(i)},i.onerror=e,(Fe(r)||n)&&(i.crossOrigin="anonymous"),i.src=r,!0===i.complete&&setTimeout(function(){return t(i)},500),o._options.imageTimeout>0&&setTimeout(function(){return e("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,r){var o=we.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===o)a(s.response);else{var t=new FileReader;t.addEventListener("load",function(){return a(t.result)},!1),t.addEventListener("error",function(t){return r(t)},!1),t.readAsDataURL(s.response)}else r("Failed to proxy resource "+i+" with status code "+s.status)},s.onerror=r,s.open("GET",n+"?url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),e._options.imageTimeout){var l=e._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return r("Timed out ("+l+"ms) proxying "+i)}}s.send()})},t}(),Te=/^data:image\/svg\+xml/i,Se=/^data:image\/.*;base64,/i,Me=/^data:image\/.*/i,Ee=function(t){return we.SUPPORT_SVG_DRAWING||!Le(t)},ke=function(t){return Me.test(t)},Fe=function(t){return Se.test(t)},Oe=function(t){return"blob"===t.substr(0,4)},Le=function(t){return"svg"===t.substr(-3).toLowerCase()||Te.test(t)},Ue="closest-side",Pe="farthest-side",Re="closest-corner",He="farthest-corner",Qe="ellipse",_e="contain",Ne=function(t){var e=je.CIRCLE,n=Ye.FARTHEST_CORNER,i=[],a=[];return Qt(t).forEach(function(t,r){var o=!0;if(0===r?o=t.reduce(function(t,e){if(Lt(e))switch(e.value){case"center":return a.push(Gt),!1;case"top":case"left":return a.push(zt),!1;case"right":case"bottom":return a.push(Vt),!1}else if(jt(e)||Nt(e))return a.push(e),!1;return t},o):1===r&&(o=t.reduce(function(t,i){if(Lt(i))switch(i.value){case"circle":return e=je.CIRCLE,!1;case Qe:return e=je.ELLIPSE,!1;case _e:case Ue:return n=Ye.CLOSEST_SIDE,!1;case Pe:return n=Ye.FARTHEST_SIDE,!1;case Re:return n=Ye.CLOSEST_CORNER,!1;case"cover":case He:return n=Ye.FARTHEST_CORNER,!1}else if(Nt(i)||jt(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return t},o)),o){var s=fe(t);i.push(s)}}),{size:n,shape:e,stops:i,position:a,type:he.RADIAL_GRADIENT}};!function(t){t[t.URL=0]="URL",t[t.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",t[t.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(he||(he={}));var je,Ye;!function(t){t[t.CIRCLE=0]="CIRCLE",t[t.ELLIPSE=1]="ELLIPSE"}(je||(je={})),function(t){t[t.CLOSEST_SIDE=0]="CLOSEST_SIDE",t[t.FARTHEST_SIDE=1]="FARTHEST_SIDE",t[t.CLOSEST_CORNER=2]="CLOSEST_CORNER",t[t.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(Ye||(Ye={}));var ze,Ge=function(t){if(t.type===d.URL_TOKEN){var e={url:t.value,type:he.URL};return Ie.getInstance().addImage(t.value),e}if(t.type===d.FUNCTION){var n=Ve[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(t.values)}throw new Error("Unsupported image type")},Ve={"linear-gradient":function(t){var e=Zt(180),n=[];return Qt(t).forEach(function(t,i){if(0===i){var a=t[0];if(a.type===d.IDENT_TOKEN&&"to"===a.value)return void(e=Jt(t));if(qt(a))return void(e=Xt(a))}var r=fe(t);n.push(r)}),{angle:e,stops:n,type:he.LINEAR_GRADIENT}},"-moz-linear-gradient":ve,"-ms-linear-gradient":ve,"-o-linear-gradient":ve,"-webkit-linear-gradient":ve,"radial-gradient":function(t){var e=je.CIRCLE,n=Ye.FARTHEST_CORNER,i=[],a=[];return Qt(t).forEach(function(t,r){var o=!0;if(0===r){var s=!1;o=t.reduce(function(t,i){if(s)if(Lt(i))switch(i.value){case"center":return a.push(Gt),t;case"top":case"left":return a.push(zt),t;case"right":case"bottom":return a.push(Vt),t}else(jt(i)||Nt(i))&&a.push(i);else if(Lt(i))switch(i.value){case"circle":return e=je.CIRCLE,!1;case Qe:return e=je.ELLIPSE,!1;case"at":return s=!0,!1;case Ue:return n=Ye.CLOSEST_SIDE,!1;case"cover":case Pe:return n=Ye.FARTHEST_SIDE,!1;case _e:case Re:return n=Ye.CLOSEST_CORNER,!1;case He:return n=Ye.FARTHEST_CORNER,!1}else if(Nt(i)||jt(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return t},o)}if(o){var l=fe(t);i.push(l)}}),{size:n,shape:e,stops:i,position:a,type:he.RADIAL_GRADIENT}},"-moz-radial-gradient":Ne,"-ms-radial-gradient":Ne,"-o-radial-gradient":Ne,"-webkit-radial-gradient":Ne,"-webkit-gradient":function(t){var e=Zt(180),n=[],i=he.LINEAR_GRADIENT,a=je.CIRCLE,r=Ye.FARTHEST_CORNER;return Qt(t).forEach(function(t,e){var a=t[0];if(0===e){if(Lt(a)&&"linear"===a.value)return void(i=he.LINEAR_GRADIENT);if(Lt(a)&&"radial"===a.value)return void(i=he.RADIAL_GRADIENT)}if(a.type===d.FUNCTION)if("from"===a.name){var r=$t(a.values[0]);n.push({stop:zt,color:r})}else if("to"===a.name)r=$t(a.values[0]),n.push({stop:Vt,color:r});else if("color-stop"===a.name){var o=a.values.filter(Ht);if(2===o.length){r=$t(o[1]);var s=o[0];Ot(s)&&n.push({stop:{type:d.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:r})}}}),i===he.LINEAR_GRADIENT?{angle:(e+Zt(180))%Zt(360),stops:n,type:i}:{size:r,shape:a,stops:n,position:[],type:i}}},Ke={name:"background-image",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===d.IDENT_TOKEN&&"none"===e.value?[]:t.filter(Ht).map(Ge)}},We={name:"background-origin",initialValue:"border-box",prefix:!1,type:oe.LIST,parse:function(t){return t.map(function(t){if(Lt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Xe={name:"background-position",initialValue:"0% 0%",type:oe.LIST,prefix:!1,parse:function(t){return Qt(t).map(function(t){return t.filter(jt)}).map(Yt)}};!function(t){t[t.REPEAT=0]="REPEAT",t[t.NO_REPEAT=1]="NO_REPEAT",t[t.REPEAT_X=2]="REPEAT_X",t[t.REPEAT_Y=3]="REPEAT_Y"}(ze||(ze={}));var qe,Je={name:"background-repeat",initialValue:"repeat",prefix:!1,type:oe.LIST,parse:function(t){return Qt(t).map(function(t){return t.filter(Lt).map(function(t){return t.value}).join(" ")}).map(Ze)}},Ze=function(t){switch(t){case"no-repeat":return ze.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return ze.REPEAT_X;case"repeat-y":case"no-repeat repeat":return ze.REPEAT_Y;case"repeat":default:return ze.REPEAT}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(qe||(qe={}));var $e,tn={name:"background-size",initialValue:"0",prefix:!1,type:oe.LIST,parse:function(t){return Qt(t).map(function(t){return t.filter(en)})}},en=function(t){return Lt(t)||jt(t)},nn=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"}},an=nn("top"),rn=nn("right"),on=nn("bottom"),sn=nn("left"),ln=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:oe.LIST,parse:function(t){return Yt(t.filter(jt))}}},cn=ln("top-left"),un=ln("top-right"),hn=ln("bottom-right"),dn=ln("bottom-left");!function(t){t[t.NONE=0]="NONE",t[t.SOLID=1]="SOLID"}($e||($e={}));var pn,fn=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"none":return $e.NONE}return $e.SOLID}}},An=fn("top"),mn=fn("right"),yn=fn("bottom"),gn=fn("left"),vn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:oe.VALUE,prefix:!1,parse:function(t){return Ft(t)?t.number:0}}},bn=vn("top"),Cn=vn("right"),xn=vn("bottom"),wn=vn("left"),Dn={name:"color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"},In={name:"display",initialValue:"inline-block",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(Lt).reduce(function(t,e){return t|Bn(e.value)},0)}},Bn=function(t){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.INLINE_START=3]="INLINE_START",t[t.INLINE_END=4]="INLINE_END"}(pn||(pn={}));var Tn,Sn={name:"float",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"left":return pn.LEFT;case"right":return pn.RIGHT;case"inline-start":return pn.INLINE_START;case"inline-end":return pn.INLINE_END}return pn.NONE}},Mn={name:"letter-spacing",initialValue:"0",prefix:!1,type:oe.VALUE,parse:function(t){return t.type===d.IDENT_TOKEN&&"normal"===t.value?0:t.type===d.NUMBER_TOKEN?t.number:t.type===d.DIMENSION_TOKEN?t.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(Tn||(Tn={}));var En,kn={name:"line-break",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"strict":return Tn.STRICT;case"normal":default:return Tn.NORMAL}}},Fn={name:"line-height",initialValue:"normal",prefix:!1,type:oe.TOKEN_VALUE},On={name:"list-style-image",initialValue:"none",type:oe.VALUE,prefix:!1,parse:function(t){return t.type===d.IDENT_TOKEN&&"none"===t.value?null:Ge(t)}};!function(t){t[t.INSIDE=0]="INSIDE",t[t.OUTSIDE=1]="OUTSIDE"}(En||(En={}));var Ln,Un={name:"list-style-position",initialValue:"outside",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"inside":return En.INSIDE;case"outside":default:return En.OUTSIDE}}};!function(t){t[t.NONE=-1]="NONE",t[t.DISC=0]="DISC",t[t.CIRCLE=1]="CIRCLE",t[t.SQUARE=2]="SQUARE",t[t.DECIMAL=3]="DECIMAL",t[t.CJK_DECIMAL=4]="CJK_DECIMAL",t[t.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",t[t.LOWER_ROMAN=6]="LOWER_ROMAN",t[t.UPPER_ROMAN=7]="UPPER_ROMAN",t[t.LOWER_GREEK=8]="LOWER_GREEK",t[t.LOWER_ALPHA=9]="LOWER_ALPHA",t[t.UPPER_ALPHA=10]="UPPER_ALPHA",t[t.ARABIC_INDIC=11]="ARABIC_INDIC",t[t.ARMENIAN=12]="ARMENIAN",t[t.BENGALI=13]="BENGALI",t[t.CAMBODIAN=14]="CAMBODIAN",t[t.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",t[t.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",t[t.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",t[t.DEVANAGARI=18]="DEVANAGARI",t[t.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",t[t.GEORGIAN=20]="GEORGIAN",t[t.GUJARATI=21]="GUJARATI",t[t.GURMUKHI=22]="GURMUKHI",t[t.HEBREW=22]="HEBREW",t[t.HIRAGANA=23]="HIRAGANA",t[t.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",t[t.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",t[t.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",t[t.KANNADA=27]="KANNADA",t[t.KATAKANA=28]="KATAKANA",t[t.KATAKANA_IROHA=29]="KATAKANA_IROHA",t[t.KHMER=30]="KHMER",t[t.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",t[t.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",t[t.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",t[t.LAO=34]="LAO",t[t.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",t[t.MALAYALAM=36]="MALAYALAM",t[t.MONGOLIAN=37]="MONGOLIAN",t[t.MYANMAR=38]="MYANMAR",t[t.ORIYA=39]="ORIYA",t[t.PERSIAN=40]="PERSIAN",t[t.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",t[t.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",t[t.TAMIL=43]="TAMIL",t[t.TELUGU=44]="TELUGU",t[t.THAI=45]="THAI",t[t.TIBETAN=46]="TIBETAN",t[t.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",t[t.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",t[t.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",t[t.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",t[t.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Ln||(Ln={}));var Pn,Rn={name:"list-style-type",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"disc":return Ln.DISC;case"circle":return Ln.CIRCLE;case"square":return Ln.SQUARE;case"decimal":return Ln.DECIMAL;case"cjk-decimal":return Ln.CJK_DECIMAL;case"decimal-leading-zero":return Ln.DECIMAL_LEADING_ZERO;case"lower-roman":return Ln.LOWER_ROMAN;case"upper-roman":return Ln.UPPER_ROMAN;case"lower-greek":return Ln.LOWER_GREEK;case"lower-alpha":return Ln.LOWER_ALPHA;case"upper-alpha":return Ln.UPPER_ALPHA;case"arabic-indic":return Ln.ARABIC_INDIC;case"armenian":return Ln.ARMENIAN;case"bengali":return Ln.BENGALI;case"cambodian":return Ln.CAMBODIAN;case"cjk-earthly-branch":return Ln.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Ln.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Ln.CJK_IDEOGRAPHIC;case"devanagari":return Ln.DEVANAGARI;case"ethiopic-numeric":return Ln.ETHIOPIC_NUMERIC;case"georgian":return Ln.GEORGIAN;case"gujarati":return Ln.GUJARATI;case"gurmukhi":return Ln.GURMUKHI;case"hebrew":return Ln.HEBREW;case"hiragana":return Ln.HIRAGANA;case"hiragana-iroha":return Ln.HIRAGANA_IROHA;case"japanese-formal":return Ln.JAPANESE_FORMAL;case"japanese-informal":return Ln.JAPANESE_INFORMAL;case"kannada":return Ln.KANNADA;case"katakana":return Ln.KATAKANA;case"katakana-iroha":return Ln.KATAKANA_IROHA;case"khmer":return Ln.KHMER;case"korean-hangul-formal":return Ln.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Ln.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Ln.KOREAN_HANJA_INFORMAL;case"lao":return Ln.LAO;case"lower-armenian":return Ln.LOWER_ARMENIAN;case"malayalam":return Ln.MALAYALAM;case"mongolian":return Ln.MONGOLIAN;case"myanmar":return Ln.MYANMAR;case"oriya":return Ln.ORIYA;case"persian":return Ln.PERSIAN;case"simp-chinese-formal":return Ln.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Ln.SIMP_CHINESE_INFORMAL;case"tamil":return Ln.TAMIL;case"telugu":return Ln.TELUGU;case"thai":return Ln.THAI;case"tibetan":return Ln.TIBETAN;case"trad-chinese-formal":return Ln.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Ln.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Ln.UPPER_ARMENIAN;case"disclosure-open":return Ln.DISCLOSURE_OPEN;case"disclosure-closed":return Ln.DISCLOSURE_CLOSED;case"none":default:return Ln.NONE}}},Hn=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:oe.TOKEN_VALUE}},Qn=Hn("top"),_n=Hn("right"),Nn=Hn("bottom"),jn=Hn("left");!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.SCROLL=2]="SCROLL",t[t.AUTO=3]="AUTO"}(Pn||(Pn={}));var Yn,zn={name:"overflow",initialValue:"visible",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(Lt).map(function(t){switch(t.value){case"hidden":return Pn.HIDDEN;case"scroll":return Pn.SCROLL;case"auto":return Pn.AUTO;case"visible":default:return Pn.VISIBLE}})}};!function(t){t.NORMAL="normal",t.BREAK_WORD="break-word"}(Yn||(Yn={}));var Gn,Vn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"break-word":return Yn.BREAK_WORD;case"normal":default:return Yn.NORMAL}}},Kn=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:oe.TYPE_VALUE,format:"length-percentage"}},Wn=Kn("top"),Xn=Kn("right"),qn=Kn("bottom"),Jn=Kn("left");!function(t){t[t.LEFT=0]="LEFT",t[t.CENTER=1]="CENTER",t[t.RIGHT=2]="RIGHT"}(Gn||(Gn={}));var Zn,$n={name:"text-align",initialValue:"left",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"right":return Gn.RIGHT;case"center":case"justify":return Gn.CENTER;case"left":default:return Gn.LEFT}}};!function(t){t[t.STATIC=0]="STATIC",t[t.RELATIVE=1]="RELATIVE",t[t.ABSOLUTE=2]="ABSOLUTE",t[t.FIXED=3]="FIXED",t[t.STICKY=4]="STICKY"}(Zn||(Zn={}));var ti,ei={name:"position",initialValue:"static",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"relative":return Zn.RELATIVE;case"absolute":return Zn.ABSOLUTE;case"fixed":return Zn.FIXED;case"sticky":return Zn.STICKY}return Zn.STATIC}},ni={name:"text-shadow",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){return 1===t.length&&Pt(t[0],"none")?[]:Qt(t).map(function(t){for(var e={color:ue.TRANSPARENT,offsetX:zt,offsetY:zt,blur:zt},n=0,i=0;i<t.length;i++){var a=t[i];Nt(a)?(0===n?e.offsetX=a:1===n?e.offsetY=a:e.blur=a,n++):e.color=$t(a)}return e})}};!function(t){t[t.NONE=0]="NONE",t[t.LOWERCASE=1]="LOWERCASE",t[t.UPPERCASE=2]="UPPERCASE",t[t.CAPITALIZE=3]="CAPITALIZE"}(ti||(ti={}));var ii,ai={name:"text-transform",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"uppercase":return ti.UPPERCASE;case"lowercase":return ti.LOWERCASE;case"capitalize":return ti.CAPITALIZE}return ti.NONE}},ri={name:"transform",initialValue:"none",prefix:!0,type:oe.VALUE,parse:function(t){if(t.type===d.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===d.FUNCTION){var e=oi[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},oi={matrix:function(t){var e=t.filter(function(t){return t.type===d.NUMBER_TOKEN}).map(function(t){return t.number});return 6===e.length?e:null},matrix3d:function(t){var e=t.filter(function(t){return t.type===d.NUMBER_TOKEN}).map(function(t){return t.number}),n=e[0],i=e[1],a=(e[2],e[3],e[4]),r=e[5],o=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),s=e[13];e[14],e[15];return 16===e.length?[n,i,a,r,o,s]:null}},si={type:d.PERCENTAGE_TOKEN,number:50,flags:4},li=[si,si],ci={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:oe.LIST,parse:function(t){var e=t.filter(jt);return 2!==e.length?li:[e[0],e[1]]}};!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.COLLAPSE=2]="COLLAPSE"}(ii||(ii={}));var ui,hi={name:"visible",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"hidden":return ii.HIDDEN;case"collapse":return ii.COLLAPSE;case"visible":default:return ii.VISIBLE}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(ui||(ui={}));var di,pi={name:"word-break",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"break-all":return ui.BREAK_ALL;case"keep-all":return ui.KEEP_ALL;case"normal":default:return ui.NORMAL}}},fi={name:"z-index",initialValue:"auto",prefix:!1,type:oe.VALUE,parse:function(t){if(t.type===d.IDENT_TOKEN)return{auto:!0,order:0};if(Ot(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Ai={name:"opacity",initialValue:"1",type:oe.VALUE,prefix:!1,parse:function(t){return Ot(t)?t.number:1}},mi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"},yi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(Lt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return 0!==t})}},gi={name:"font-family",initialValue:"",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(vi).map(function(t){return t.value})}},vi=function(t){return t.type===d.STRING_TOKEN||t.type===d.IDENT_TOKEN},bi={name:"font-size",initialValue:"0",prefix:!1,type:oe.TYPE_VALUE,format:"length"},Ci={name:"font-weight",initialValue:"normal",type:oe.VALUE,prefix:!1,parse:function(t){if(Ot(t))return t.number;if(Lt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},xi={name:"font-variant",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){return t.filter(Lt).map(function(t){return t.value})}};!function(t){t.NORMAL="normal",t.ITALIC="italic",t.OBLIQUE="oblique"}(di||(di={}));var wi,Di={name:"font-style",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"oblique":return di.OBLIQUE;case"italic":return di.ITALIC;case"normal":default:return di.NORMAL}}},Ii=function(t,e){return 0!=(t&e)},Bi={name:"content",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===d.IDENT_TOKEN&&"none"===e.value?[]:t}},Ti={name:"counter-increment",initialValue:"none",prefix:!0,type:oe.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===d.IDENT_TOKEN&&"none"===e.value)return null;for(var n=[],i=t.filter(Rt),a=0;a<i.length;a++){var r=i[a],o=i[a+1];if(r.type===d.IDENT_TOKEN){var s=o&&Ot(o)?o.number:1;n.push({counter:r.value,increment:s})}}return n}},Si={name:"counter-reset",initialValue:"none",prefix:!0,type:oe.LIST,parse:function(t){if(0===t.length)return[];for(var e=[],n=t.filter(Rt),i=0;i<n.length;i++){var a=n[i],r=n[i+1];if(Lt(a)&&"none"!==a.value){var o=r&&Ot(r)?r.number:0;e.push({counter:a.value,reset:o})}}return e}},Mi={name:"quotes",initialValue:"none",prefix:!0,type:oe.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===d.IDENT_TOKEN&&"none"===e.value)return null;var n=[],i=t.filter(Ut);if(i.length%2!=0)return null;for(var a=0;a<i.length;a+=2){var r=i[a].value,o=i[a+1].value;n.push({open:r,close:o})}return n}},Ei=function(t,e,n){if(!t)return"";var i=t[Math.min(e,t.length-1)];return i?n?i.open:i.close:""},ki={name:"box-shadow",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){return 1===t.length&&Pt(t[0],"none")?[]:Qt(t).map(function(t){for(var e={color:255,offsetX:zt,offsetY:zt,blur:zt,spread:zt,inset:!1},n=0,i=0;i<t.length;i++){var a=t[i];Pt(a,"inset")?e.inset=!0:Nt(a)?(0===n?e.offsetX=a:1===n?e.offsetY=a:2===n?e.blur=a:e.spread=a,n++):e.color=$t(a)}return e})}},Fi=function(){function t(t){this.backgroundClip=Ui(de,t.backgroundClip),this.backgroundColor=Ui(pe,t.backgroundColor),this.backgroundImage=Ui(Ke,t.backgroundImage),this.backgroundOrigin=Ui(We,t.backgroundOrigin),this.backgroundPosition=Ui(Xe,t.backgroundPosition),this.backgroundRepeat=Ui(Je,t.backgroundRepeat),this.backgroundSize=Ui(tn,t.backgroundSize),this.borderTopColor=Ui(an,t.borderTopColor),this.borderRightColor=Ui(rn,t.borderRightColor),this.borderBottomColor=Ui(on,t.borderBottomColor),this.borderLeftColor=Ui(sn,t.borderLeftColor),this.borderTopLeftRadius=Ui(cn,t.borderTopLeftRadius),this.borderTopRightRadius=Ui(un,t.borderTopRightRadius),this.borderBottomRightRadius=Ui(hn,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ui(dn,t.borderBottomLeftRadius),this.borderTopStyle=Ui(An,t.borderTopStyle),this.borderRightStyle=Ui(mn,t.borderRightStyle),this.borderBottomStyle=Ui(yn,t.borderBottomStyle),this.borderLeftStyle=Ui(gn,t.borderLeftStyle),this.borderTopWidth=Ui(bn,t.borderTopWidth),this.borderRightWidth=Ui(Cn,t.borderRightWidth),this.borderBottomWidth=Ui(xn,t.borderBottomWidth),this.borderLeftWidth=Ui(wn,t.borderLeftWidth),this.boxShadow=Ui(ki,t.boxShadow),this.color=Ui(Dn,t.color),this.display=Ui(In,t.display),this.float=Ui(Sn,t.cssFloat),this.fontFamily=Ui(gi,t.fontFamily),this.fontSize=Ui(bi,t.fontSize),this.fontStyle=Ui(Di,t.fontStyle),this.fontVariant=Ui(xi,t.fontVariant),this.fontWeight=Ui(Ci,t.fontWeight),this.letterSpacing=Ui(Mn,t.letterSpacing),this.lineBreak=Ui(kn,t.lineBreak),this.lineHeight=Ui(Fn,t.lineHeight),this.listStyleImage=Ui(On,t.listStyleImage),this.listStylePosition=Ui(Un,t.listStylePosition),this.listStyleType=Ui(Rn,t.listStyleType),this.marginTop=Ui(Qn,t.marginTop),this.marginRight=Ui(_n,t.marginRight),this.marginBottom=Ui(Nn,t.marginBottom),this.marginLeft=Ui(jn,t.marginLeft),this.opacity=Ui(Ai,t.opacity);var e=Ui(zn,t.overflow);this.overflowX=e[0],this.overflowY=e[e.length>1?1:0],this.overflowWrap=Ui(Vn,t.overflowWrap),this.paddingTop=Ui(Wn,t.paddingTop),this.paddingRight=Ui(Xn,t.paddingRight),this.paddingBottom=Ui(qn,t.paddingBottom),this.paddingLeft=Ui(Jn,t.paddingLeft),this.position=Ui(ei,t.position),this.textAlign=Ui($n,t.textAlign),this.textDecorationColor=Ui(mi,t.textDecorationColor||t.color),this.textDecorationLine=Ui(yi,t.textDecorationLine),this.textShadow=Ui(ni,t.textShadow),this.textTransform=Ui(ai,t.textTransform),this.transform=Ui(ri,t.transform),this.transformOrigin=Ui(ci,t.transformOrigin),this.visibility=Ui(hi,t.visibility),this.wordBreak=Ui(pi,t.wordBreak),this.zIndex=Ui(fi,t.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===ii.VISIBLE},t.prototype.isTransparent=function(){return te(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return this.position!==Zn.STATIC},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==pn.NONE},t.prototype.isInlineLevel=function(){return Ii(this.display,4)||Ii(this.display,33554432)||Ii(this.display,268435456)||Ii(this.display,536870912)||Ii(this.display,67108864)||Ii(this.display,134217728)},t}(),Oi=function(){return function(t){this.content=Ui(Bi,t.content),this.quotes=Ui(Mi,t.quotes)}}(),Li=function(){return function(t){this.counterIncrement=Ui(Ti,t.counterIncrement),this.counterReset=Ui(Si,t.counterReset)}}(),Ui=function(t,e){var n=new Et,i=null!=e?e.toString():t.initialValue;n.write(i);var a=new kt(n.read());switch(t.type){case oe.IDENT_VALUE:var r=a.parseComponentValue();return t.parse(Lt(r)?r.value:t.initialValue);case oe.VALUE:return t.parse(a.parseComponentValue());case oe.LIST:return t.parse(a.parseComponentValues());case oe.TOKEN_VALUE:return a.parseComponentValue();case oe.TYPE_VALUE:switch(t.format){case"angle":return Xt(a.parseComponentValue());case"color":return $t(a.parseComponentValue());case"image":return Ge(a.parseComponentValue());case"length":var o=a.parseComponentValue();return Nt(o)?o:zt;case"length-percentage":var s=a.parseComponentValue();return jt(s)?s:zt}}throw new Error("Attempting to parse unsupported css format type "+t.format)},Pi=function(){return function(t){this.styles=new Fi(window.getComputedStyle(t,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&ya(t)&&(t.style.transform="none"),this.bounds=o(t),this.flags=0}}(),Ri=function(){return function(t,e){this.text=t,this.bounds=e}}(),Hi=function(t,e,n){var i=[],a=0;return Ni(t,e).forEach(function(t){if(e.textDecorationLine.length||t.trim().length>0)if(we.SUPPORT_RANGE_BOUNDS)i.push(new Ri(t,_i(n,a,t.length)));else{var r=n.splitText(t.length);i.push(new Ri(t,Qi(n))),n=r}else we.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));a+=t.length}),i},Qi=function(t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var a=o(n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return new r(0,0,0,0)},_i=function(t,e,n){var i=t.ownerDocument;if(!i)throw new Error("Node has no owner document");var a=i.createRange();return a.setStart(t,e),a.setEnd(t,e+n),r.fromClientRect(a.getBoundingClientRect())},Ni=function(t,e){return 0!==e.letterSpacing?s(t).map(function(t){return l(t)}):ji(t,e)},ji=function(t,e){for(var n,i=function(t,e){var n=s(t),i=J(n,e),a=i[0],r=i[1],o=i[2],l=n.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var t="×";u<l&&"×"===(t=q(n,r,a,++u,o)););if("×"!==t||u===l){var e=new Z(n,t,c,u);return c=u,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===Yn.BREAK_WORD?"break-word":e.wordBreak}),a=[];!(n=i.next()).done;)n.value&&a.push(n.value.slice());return a},Yi=function(){return function(t,e){this.text=zi(t.data,e.textTransform),this.textBounds=Hi(this.text,e,t)}}(),zi=function(t,e){switch(e){case ti.LOWERCASE:return t.toLowerCase();case ti.CAPITALIZE:return t.replace(Gi,Vi);case ti.UPPERCASE:return t.toUpperCase();default:return t}},Gi=/(^|\s|:|-|\(|\))([a-z])/g,Vi=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Ki=function(t){function n(e){var n=t.call(this,e)||this;return n.src=e.currentSrc||e.src,n.intrinsicWidth=e.naturalWidth,n.intrinsicHeight=e.naturalHeight,Ie.getInstance().addImage(n.src),n}return e(n,t),n}(Pi),Wi=function(t){function n(e){var n=t.call(this,e)||this;return n.canvas=e,n.intrinsicWidth=e.width,n.intrinsicHeight=e.height,n}return e(n,t),n}(Pi),Xi=function(t){function n(e){var n=t.call(this,e)||this,i=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(e)),n.intrinsicWidth=e.width.baseVal.value,n.intrinsicHeight=e.height.baseVal.value,Ie.getInstance().addImage(n.svg),n}return e(n,t),n}(Pi),qi=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(Pi),Ji=function(t){function n(e){var n=t.call(this,e)||this;return n.start=e.start,n.reversed="boolean"==typeof e.reversed&&!0===e.reversed,n}return e(n,t),n}(Pi),Zi=[{type:d.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],$i=[{type:d.PERCENTAGE_TOKEN,flags:0,number:50}],ta=function(t){return t.width>t.height?new r(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new r(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},ea=function(t){var e=t.type===aa?new Array(t.value.length+1).join("•"):t.value;return 0===e.length?t.placeholder||"":e},na="checkbox",ia="radio",aa="password",ra=function(t){function n(e){var n=t.call(this,e)||this;switch(n.type=e.type.toLowerCase(),n.checked=e.checked,n.value=ea(e),n.type!==na&&n.type!==ia||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=$e.SOLID,n.styles.backgroundClip=[se.BORDER_BOX],n.styles.backgroundOrigin=[0],n.bounds=ta(n.bounds)),n.type){case na:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Zi;break;case ia:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=$i}return n}return e(n,t),n}(Pi),oa=function(t){function n(e){var n=t.call(this,e)||this,i=e.options[e.selectedIndex||0];return n.value=i&&i.text||"",n}return e(n,t),n}(Pi),sa=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(Pi),la=function(t){return $t(kt.create(t).parseComponentValue())},ca=function(t){function n(e){var n=t.call(this,e)||this;n.src=e.src,n.width=parseInt(e.width,10),n.height=parseInt(e.height,10),n.backgroundColor=n.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){n.tree=da(e.contentWindow.document.documentElement);var i=e.contentWindow.document.documentElement?la(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):ue.TRANSPARENT,a=e.contentWindow.document.body?la(getComputedStyle(e.contentWindow.document.body).backgroundColor):ue.TRANSPARENT;n.backgroundColor=te(i)?te(a)?n.styles.backgroundColor:a:i}}catch(t){}return n}return e(n,t),n}(Pi),ua=["OL","UL","MENU"],ha=function(t){return Da(t)?new Ki(t):wa(t)?new Wi(t):Ca(t)?new Xi(t):ga(t)?new qi(t):va(t)?new Ji(t):ba(t)?new ra(t):Ma(t)?new oa(t):Sa(t)?new sa(t):Ia(t)?new ca(t):new Pi(t)},da=function(t){var e=ha(t);return e.flags|=4,function t(e,n,i){for(var a=e.firstChild,r=void 0;a;a=r)if(r=a.nextSibling,Aa(a)&&a.data.trim().length>0)n.textNodes.push(new Yi(a,n.styles));else if(ma(a)){var o=ha(a);o.styles.isVisible()&&(pa(a,o,i)?o.flags|=4:fa(o.styles)&&(o.flags|=2),-1!==ua.indexOf(a.tagName)&&(o.flags|=8),n.elements.push(o),Sa(a)||Ca(a)||Ma(a)||t(a,o,i))}}(t,e,e),e},pa=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||xa(t)&&n.styles.isTransparent()},fa=function(t){return t.isPositioned()||t.isFloating()},Aa=function(t){return t.nodeType===Node.TEXT_NODE},ma=function(t){return t.nodeType===Node.ELEMENT_NODE},ya=function(t){return void 0!==t.style},ga=function(t){return"LI"===t.tagName},va=function(t){return"OL"===t.tagName},ba=function(t){return"INPUT"===t.tagName},Ca=function(t){return"svg"===t.tagName},xa=function(t){return"BODY"===t.tagName},wa=function(t){return"CANVAS"===t.tagName},Da=function(t){return"IMG"===t.tagName},Ia=function(t){return"IFRAME"===t.tagName},Ba=function(t){return"STYLE"===t.tagName},Ta=function(t){return"SCRIPT"===t.tagName},Sa=function(t){return"TEXTAREA"===t.tagName},Ma=function(t){return"SELECT"===t.tagName},Ea=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){return this.counters[t]||[]},t.prototype.pop=function(t){var e=this;t.forEach(function(t){return e.counters[t].pop()})},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,i=t.counterReset;null!==n&&n.forEach(function(t){var n=e.counters[t.counter];n&&(n[Math.max(0,n.length-1)]+=t.increment)});var a=[];return i.forEach(function(t){var n=e.counters[t.counter];a.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)}),a},t}(),ka={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Oa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},La={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Ua=function(t,e,n,i,a,r){return t<e||t>n?_a(t,a,r.length>0):i.integers.reduce(function(e,n,a){for(;t>=n;)t-=n,e+=i.values[a];return e},"")+r},Pa=function(t,e,n,i){var a="";do{n||t--,a=i(t)+a,t/=e}while(t*e>=e);return a},Ra=function(t,e,n,i,a){var r=n-e+1;return(t<0?"-":"")+(Pa(Math.abs(t),r,i,function(t){return l(Math.floor(t%r)+e)})+a)},Ha=function(t,e,n){void 0===n&&(n=". ");var i=e.length;return Pa(Math.abs(t),i,!1,function(t){return e[Math.floor(t%i)]})+n},Qa=function(t,e,n,i,a,r){if(t<-9999||t>9999)return _a(t,Ln.CJK_DECIMAL,a.length>0);var o=Math.abs(t),s=a;if(0===o)return e[0]+s;for(var l=0;o>0&&l<=4;l++){var c=o%10;0===c&&Ii(r,1)&&""!==s?s=e[c]+s:c>1||1===c&&0===l||1===c&&1===l&&Ii(r,2)||1===c&&1===l&&Ii(r,4)&&t>100||1===c&&l>1&&Ii(r,8)?s=e[c]+(l>0?n[l-1]:"")+s:1===c&&l>0&&(s=n[l-1]+s),o=Math.floor(o/10)}return(t<0?i:"")+s},_a=function(t,e,n){var i=n?". ":"",a=n?"、":"",r=n?", ":"",o=n?" ":"";switch(e){case Ln.DISC:return"•"+o;case Ln.CIRCLE:return"◦"+o;case Ln.SQUARE:return"◾"+o;case Ln.DECIMAL_LEADING_ZERO:var s=Ra(t,48,57,!0,i);return s.length<4?"0"+s:s;case Ln.CJK_DECIMAL:return Ha(t,"〇一二三四五六七八九",a);case Ln.LOWER_ROMAN:return Ua(t,1,3999,ka,Ln.DECIMAL,i).toLowerCase();case Ln.UPPER_ROMAN:return Ua(t,1,3999,ka,Ln.DECIMAL,i);case Ln.LOWER_GREEK:return Ra(t,945,969,!1,i);case Ln.LOWER_ALPHA:return Ra(t,97,122,!1,i);case Ln.UPPER_ALPHA:return Ra(t,65,90,!1,i);case Ln.ARABIC_INDIC:return Ra(t,1632,1641,!0,i);case Ln.ARMENIAN:case Ln.UPPER_ARMENIAN:return Ua(t,1,9999,Fa,Ln.DECIMAL,i);case Ln.LOWER_ARMENIAN:return Ua(t,1,9999,Fa,Ln.DECIMAL,i).toLowerCase();case Ln.BENGALI:return Ra(t,2534,2543,!0,i);case Ln.CAMBODIAN:case Ln.KHMER:return Ra(t,6112,6121,!0,i);case Ln.CJK_EARTHLY_BRANCH:return Ha(t,"子丑寅卯辰巳午未申酉戌亥",a);case Ln.CJK_HEAVENLY_STEM:return Ha(t,"甲乙丙丁戊己庚辛壬癸",a);case Ln.CJK_IDEOGRAPHIC:case Ln.TRAD_CHINESE_INFORMAL:return Qa(t,"零一二三四五六七八九","十百千萬","負",a,14);case Ln.TRAD_CHINESE_FORMAL:return Qa(t,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",a,15);case Ln.SIMP_CHINESE_INFORMAL:return Qa(t,"零一二三四五六七八九","十百千萬","负",a,14);case Ln.SIMP_CHINESE_FORMAL:return Qa(t,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",a,15);case Ln.JAPANESE_INFORMAL:return Qa(t,"〇一二三四五六七八九","十百千万","マイナス",a,0);case Ln.JAPANESE_FORMAL:return Qa(t,"零壱弐参四伍六七八九","拾百千万","マイナス",a,7);case Ln.KOREAN_HANGUL_FORMAL:return Qa(t,"영일이삼사오육칠팔구","십백천만","마이너스",r,7);case Ln.KOREAN_HANJA_INFORMAL:return Qa(t,"零一二三四五六七八九","十百千萬","마이너스",r,0);case Ln.KOREAN_HANJA_FORMAL:return Qa(t,"零壹貳參四五六七八九","拾百千","마이너스",r,7);case Ln.DEVANAGARI:return Ra(t,2406,2415,!0,i);case Ln.GEORGIAN:return Ua(t,1,19999,La,Ln.DECIMAL,i);case Ln.GUJARATI:return Ra(t,2790,2799,!0,i);case Ln.GURMUKHI:return Ra(t,2662,2671,!0,i);case Ln.HEBREW:return Ua(t,1,10999,Oa,Ln.DECIMAL,i);case Ln.HIRAGANA:return Ha(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Ln.HIRAGANA_IROHA:return Ha(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Ln.KANNADA:return Ra(t,3302,3311,!0,i);case Ln.KATAKANA:return Ha(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case Ln.KATAKANA_IROHA:return Ha(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case Ln.LAO:return Ra(t,3792,3801,!0,i);case Ln.MONGOLIAN:return Ra(t,6160,6169,!0,i);case Ln.MYANMAR:return Ra(t,4160,4169,!0,i);case Ln.ORIYA:return Ra(t,2918,2927,!0,i);case Ln.PERSIAN:return Ra(t,1776,1785,!0,i);case Ln.TAMIL:return Ra(t,3046,3055,!0,i);case Ln.TELUGU:return Ra(t,3174,3183,!0,i);case Ln.THAI:return Ra(t,3664,3673,!0,i);case Ln.TIBETAN:return Ra(t,3872,3881,!0,i);case Ln.DECIMAL:default:return Ra(t,48,57,!0,i)}},Na="data-html2canvas-ignore",ja=function(){function t(t,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ea,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return t.prototype.toIFrame=function(t,e){var n=this,i=za(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,r=t.defaultView.pageYOffset,o=i.contentWindow,s=o.document,l=Ga(i).then(function(){n.scrolledElements.forEach(Xa),o&&(o.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===e.top&&o.scrollX===e.left||(s.documentElement.style.top=-e.top+"px",s.documentElement.style.left=-e.left+"px",s.documentElement.style.position="absolute"));var t=n.options.onclone;return void 0===n.clonedReferenceElement?Promise.reject("Error finding the "+n.referenceElement.nodeName+" in the cloned document"):"function"==typeof t?Promise.resolve().then(function(){return t(s)}).then(function(){return i}):i});return s.open(),s.write(Ka(document.doctype)+"<html></html>"),Wa(this.referenceElement.ownerDocument,a,r),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),i.width=innerWidth+1,s.close(),l},t.prototype.createElementClone=function(t){return wa(t)?this.createCanvasClone(t):Ba(t)?this.createStyleClone(t):t.cloneNode(!1)},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce(function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(t){if(De.getInstance(this.options.id).error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){if(this.options.inlineImages&&t.ownerDocument){var e=t.ownerDocument.createElement("img");try{return e.src=t.toDataURL(),e}catch(t){De.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var i=t.getContext("2d"),a=n.getContext("2d");return a&&(i?a.putImageData(i.getImageData(0,0,t.width,t.height),0,0):a.drawImage(t,0,0)),n}catch(t){}return n},t.prototype.cloneNode=function(t){if(Aa(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(ya(t)&&e){var n=this.createElementClone(t),i=e.getComputedStyle(t),a=e.getComputedStyle(t,":before"),r=e.getComputedStyle(t,":after");this.referenceElement===t&&(this.clonedReferenceElement=n),xa(n)&&$a(n);for(var o=this.counters.parse(new Li(i)),s=this.resolvePseudoContent(t,n,a,wi.BEFORE),l=t.firstChild;l;l=l.nextSibling)ma(l)&&(Ta(l)||l.hasAttribute(Na)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&ma(l)&&Ba(l)||n.appendChild(this.cloneNode(l));s&&n.insertBefore(s,n.firstChild);var c=this.resolvePseudoContent(t,n,r,wi.AFTER);return c&&n.appendChild(c),this.counters.pop(o),i&&this.options.copyStyles&&!Ia(t)&&Va(i,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(Sa(t)||Ma(t))&&(Sa(n)||Ma(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,i){var a=this;if(n){var r=n.content,o=e.ownerDocument;if(o&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==n.display){this.counters.parse(new Li(n));var s=new Oi(n),l=o.createElement("html2canvaspseudoelement");return Va(n,l),s.content.forEach(function(e){if(e.type===d.STRING_TOKEN)l.appendChild(o.createTextNode(e.value));else if(e.type===d.URL_TOKEN){var n=o.createElement("img");n.src=e.value,n.style.opacity="1",l.appendChild(n)}else if(e.type===d.FUNCTION){if("attr"===e.name){var i=e.values.filter(Lt);i.length&&l.appendChild(o.createTextNode(t.getAttribute(i[0].value)||""))}else if("counter"===e.name){var r=e.values.filter(Ht),c=r[0],u=r[1];if(c&&Lt(c)){var h=a.counters.getCounterValue(c.value),p=u&&Lt(u)?Rn.parse(u.value):Ln.DECIMAL;l.appendChild(o.createTextNode(_a(h,p,!1)))}}else if("counters"===e.name){var f=e.values.filter(Ht),A=(c=f[0],f[1]);u=f[2];if(c&&Lt(c)){var m=a.counters.getCounterValues(c.value),y=u&&Lt(u)?Rn.parse(u.value):Ln.DECIMAL,g=A&&A.type===d.STRING_TOKEN?A.value:"",v=m.map(function(t){return _a(t,y,!1)}).join(g);l.appendChild(o.createTextNode(v))}}}else if(e.type===d.IDENT_TOKEN)switch(e.value){case"open-quote":l.appendChild(o.createTextNode(Ei(s.quotes,a.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(Ei(s.quotes,--a.quoteDepth,!1)))}}),l.className=qa+" "+Ja,e.className+=i===wi.BEFORE?" "+qa:" "+Ja,l}}},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(wi||(wi={}));var Ya,za=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(Na,"true"),t.body.appendChild(n),n},Ga=function(t){return new Promise(function(e,n){var i=t.contentWindow;if(!i)return n("No window assigned for iframe");var a=i.document;i.onload=t.onload=a.onreadystatechange=function(){i.onload=t.onload=a.onreadystatechange=null;var n=setInterval(function(){a.body.childNodes.length>0&&"complete"===a.readyState&&(clearInterval(n),e(t))},50)}})},Va=function(t,e){for(var n=t.length-1;n>=0;n--){var i=t.item(n);"content"!==i&&e.style.setProperty(i,t.getPropertyValue(i))}return e},Ka=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Wa=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Xa=function(t){var e=t[0],n=t[1],i=t[2];e.scrollLeft=n,e.scrollTop=i},qa="___html2canvas___pseudoelement_before",Ja="___html2canvas___pseudoelement_after",Za='{\n    content: "" !important;\n    display: none !important;\n}',$a=function(t){tr(t,"."+qa+":before"+Za+"\n         ."+Ja+":after"+Za)},tr=function(t,e){var n=t.ownerDocument;if(n){var i=n.createElement("style");i.textContent=e,t.appendChild(i)}};!function(t){t[t.VECTOR=0]="VECTOR",t[t.BEZIER_CURVE=1]="BEZIER_CURVE"}(Ya||(Ya={}));var er,nr=function(t,e){return t.length===e.length&&t.some(function(t,n){return t===e[n]})},ir=function(){function t(t,e){this.type=Ya.VECTOR,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),ar=function(t,e,n){return new ir(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},rr=function(){function t(t,e,n,i){this.type=Ya.BEZIER_CURVE,this.start=t,this.startControl=e,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,n){var i=ar(this.start,this.startControl,e),a=ar(this.startControl,this.endControl,e),r=ar(this.endControl,this.end,e),o=ar(i,a,e),s=ar(a,r,e),l=ar(o,s,e);return n?new t(this.start,i,o,l):new t(l,s,r,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),or=function(t){return t.type===Ya.BEZIER_CURVE},sr=function(){return function(t){var e=t.styles,n=t.bounds,i=Kt(e.borderTopLeftRadius,n.width,n.height),a=i[0],r=i[1],o=Kt(e.borderTopRightRadius,n.width,n.height),s=o[0],l=o[1],c=Kt(e.borderBottomRightRadius,n.width,n.height),u=c[0],h=c[1],d=Kt(e.borderBottomLeftRadius,n.width,n.height),p=d[0],f=d[1],A=[];A.push((a+s)/n.width),A.push((p+u)/n.width),A.push((r+f)/n.height),A.push((l+h)/n.height);var m=Math.max.apply(Math,A);m>1&&(a/=m,r/=m,s/=m,l/=m,u/=m,h/=m,p/=m,f/=m);var y=n.width-s,g=n.height-h,v=n.width-u,b=n.height-f,C=e.borderTopWidth,x=e.borderRightWidth,w=e.borderBottomWidth,D=e.borderLeftWidth,I=Wt(e.paddingTop,t.bounds.width),B=Wt(e.paddingRight,t.bounds.width),T=Wt(e.paddingBottom,t.bounds.width),S=Wt(e.paddingLeft,t.bounds.width);this.topLeftBorderBox=a>0||r>0?lr(n.left,n.top,a,r,er.TOP_LEFT):new ir(n.left,n.top),this.topRightBorderBox=s>0||l>0?lr(n.left+y,n.top,s,l,er.TOP_RIGHT):new ir(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||h>0?lr(n.left+v,n.top+g,u,h,er.BOTTOM_RIGHT):new ir(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||f>0?lr(n.left,n.top+b,p,f,er.BOTTOM_LEFT):new ir(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||r>0?lr(n.left+D,n.top+C,Math.max(0,a-D),Math.max(0,r-C),er.TOP_LEFT):new ir(n.left+D,n.top+C),this.topRightPaddingBox=s>0||l>0?lr(n.left+Math.min(y,n.width+D),n.top+C,y>n.width+D?0:s-D,l-C,er.TOP_RIGHT):new ir(n.left+n.width-x,n.top+C),this.bottomRightPaddingBox=u>0||h>0?lr(n.left+Math.min(v,n.width-D),n.top+Math.min(g,n.height+C),Math.max(0,u-x),h-w,er.BOTTOM_RIGHT):new ir(n.left+n.width-x,n.top+n.height-w),this.bottomLeftPaddingBox=p>0||f>0?lr(n.left+D,n.top+b,Math.max(0,p-D),f-w,er.BOTTOM_LEFT):new ir(n.left+D,n.top+n.height-w),this.topLeftContentBox=a>0||r>0?lr(n.left+D+S,n.top+C+I,Math.max(0,a-(D+S)),Math.max(0,r-(C+I)),er.TOP_LEFT):new ir(n.left+D+S,n.top+C+I),this.topRightContentBox=s>0||l>0?lr(n.left+Math.min(y,n.width+D+S),n.top+C+I,y>n.width+D+S?0:s-D+S,l-(C+I),er.TOP_RIGHT):new ir(n.left+n.width-(x+B),n.top+C+I),this.bottomRightContentBox=u>0||h>0?lr(n.left+Math.min(v,n.width-(D+S)),n.top+Math.min(g,n.height+C+I),Math.max(0,u-(x+B)),h-(w+T),er.BOTTOM_RIGHT):new ir(n.left+n.width-(x+B),n.top+n.height-(w+T)),this.bottomLeftContentBox=p>0||f>0?lr(n.left+D+S,n.top+b,Math.max(0,p-(D+S)),f-(w+T),er.BOTTOM_LEFT):new ir(n.left+D+S,n.top+n.height-(w+T))}}();!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(er||(er={}));var lr=function(t,e,n,i,a){var r=(Math.sqrt(2)-1)/3*4,o=n*r,s=i*r,l=t+n,c=e+i;switch(a){case er.TOP_LEFT:return new rr(new ir(t,c),new ir(t,c-s),new ir(l-o,e),new ir(l,e));case er.TOP_RIGHT:return new rr(new ir(t,e),new ir(t+o,e),new ir(l,c-s),new ir(l,c));case er.BOTTOM_RIGHT:return new rr(new ir(l,e),new ir(l,e+s),new ir(t+o,c),new ir(t,c));case er.BOTTOM_LEFT:default:return new rr(new ir(l,c),new ir(l-o,c),new ir(t,e+s),new ir(t,e))}},cr=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},ur=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},hr=function(){return function(t,e,n){this.type=0,this.offsetX=t,this.offsetY=e,this.matrix=n,this.target=6}}(),dr=function(){return function(t,e){this.type=1,this.target=e,this.path=t}}(),pr=function(){return function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),fr=function(){function t(t,e){if(this.container=t,this.effects=e.slice(0),this.curves=new sr(t),null!==t.styles.transform){var n=t.bounds.left+t.styles.transformOrigin[0].number,i=t.bounds.top+t.styles.transformOrigin[1].number,a=t.styles.transform;this.effects.push(new hr(n,i,a))}if(t.styles.overflowX!==Pn.VISIBLE){var r=cr(this.curves),o=ur(this.curves);nr(r,o)?this.effects.push(new dr(r,6)):(this.effects.push(new dr(r,2)),this.effects.push(new dr(o,4)))}}return t.prototype.getParentEffects=function(){var t=this.effects.slice(0);if(this.container.styles.overflowX!==Pn.VISIBLE){var e=cr(this.curves),n=ur(this.curves);nr(e,n)||t.push(new dr(n,6))}return t},t}(),Ar=function(t,e){for(var n=t instanceof Ji?t.start:1,i=t instanceof Ji&&t.reversed,a=0;a<e.length;a++){var r=e[a];r.container instanceof qi&&"number"==typeof r.container.value&&0!==r.container.value&&(n=r.container.value),r.listValue=_a(n,r.container.styles.listStyleType,!0),n+=i?-1:1}},mr=function(t){var e=new fr(t,[]),n=new pr(e),i=[];return function t(e,n,i,a){e.container.elements.forEach(function(r){var o=Ii(r.flags,4),s=Ii(r.flags,2),l=new fr(r,e.getParentEffects());Ii(r.styles.display,2048)&&a.push(l);var c=Ii(r.flags,8)?[]:a;if(o||s){var u=o||r.styles.isPositioned()?i:n,h=new pr(l);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var d=r.styles.zIndex.order;if(d<0){var p=0;u.negativeZIndex.some(function(t,e){return d>t.element.container.styles.zIndex.order&&(p=e,!0)}),u.negativeZIndex.splice(p,0,h)}else if(d>0){var f=0;u.positiveZIndex.some(function(t,e){return d>t.element.container.styles.zIndex.order&&(f=e+1,!0)}),u.positiveZIndex.splice(f,0,h)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else r.styles.isFloating()?u.nonPositionedFloats.push(h):u.nonPositionedInlineLevel.push(h);t(l,h,o?h:i,c)}else r.styles.isInlineLevel()?n.inlineLevel.push(l):n.nonInlineLevel.push(l),t(l,n,i,c);Ii(r.flags,8)&&Ar(r,c)})}(e,n,n,i),Ar(e.container,i),n},yr=function(t,e,n,i){var a=[];return or(t)?a.push(t.subdivide(.5,!1)):a.push(t),or(n)?a.push(n.subdivide(.5,!0)):a.push(n),or(i)?a.push(i.subdivide(.5,!0).reverse()):a.push(i),or(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},gr=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},vr=function(t){var e=t.styles,n=t.bounds,i=Wt(e.paddingLeft,n.width),a=Wt(e.paddingRight,n.width),r=Wt(e.paddingTop,n.width),o=Wt(e.paddingBottom,n.width);return n.add(i+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+a),-(e.borderTopWidth+e.borderBottomWidth+r+o))},br=function(t,e,n){var i=function(t,e){return 0===t?e.bounds:2===t?vr(e):gr(e)}(Dr(t.styles.backgroundOrigin,e),t),a=function(t,e){return t===se.BORDER_BOX?e.bounds:t===se.CONTENT_BOX?vr(e):gr(e)}(Dr(t.styles.backgroundClip,e),t),r=wr(Dr(t.styles.backgroundSize,e),n,i),o=r[0],s=r[1],l=Kt(Dr(t.styles.backgroundPosition,e),i.width-o,i.height-s);return[Ir(Dr(t.styles.backgroundRepeat,e),l,r,i,a),Math.round(i.left+l[0]),Math.round(i.top+l[1]),o,s]},Cr=function(t){return Lt(t)&&t.value===qe.AUTO},xr=function(t){return"number"==typeof t},wr=function(t,e,n){var i=e[0],a=e[1],r=e[2],o=t[0],s=t[1];if(jt(o)&&s&&jt(s))return[Wt(o,n.width),Wt(s,n.height)];var l=xr(r);if(Lt(o)&&(o.value===qe.CONTAIN||o.value===qe.COVER))return xr(r)?n.width/n.height<r!=(o.value===qe.COVER)?[n.width,n.width/r]:[n.height*r,n.height]:[n.width,n.height];var c=xr(i),u=xr(a),h=c||u;if(Cr(o)&&(!s||Cr(s)))return c&&u?[i,a]:l||h?h&&l?[c?i:a*r,u?a:i/r]:[c?i:n.width,u?a:n.height]:[n.width,n.height];if(l){var d=0,p=0;return jt(o)?d=Wt(o,n.width):jt(s)&&(p=Wt(s,n.height)),Cr(o)?d=p*r:s&&!Cr(s)||(p=d/r),[d,p]}var f=null,A=null;if(jt(o)?f=Wt(o,n.width):s&&jt(s)&&(A=Wt(s,n.height)),null===f||s&&!Cr(s)||(A=c&&u?f/i*a:n.height),null!==A&&Cr(o)&&(f=c&&u?A/a*i:n.width),null!==f&&null!==A)return[f,A];throw new Error("Unable to calculate background-size for element")},Dr=function(t,e){var n=t[e];return void 0===n?t[0]:n},Ir=function(t,e,n,i,a){var r=e[0],o=e[1],s=n[0],l=n[1];switch(t){case ze.REPEAT_X:return[new ir(Math.round(i.left),Math.round(i.top+o)),new ir(Math.round(i.left+i.width),Math.round(i.top+o)),new ir(Math.round(i.left+i.width),Math.round(l+i.top+o)),new ir(Math.round(i.left),Math.round(l+i.top+o))];case ze.REPEAT_Y:return[new ir(Math.round(i.left+r),Math.round(i.top)),new ir(Math.round(i.left+r+s),Math.round(i.top)),new ir(Math.round(i.left+r+s),Math.round(i.height+i.top)),new ir(Math.round(i.left+r),Math.round(i.height+i.top))];case ze.NO_REPEAT:return[new ir(Math.round(i.left+r),Math.round(i.top+o)),new ir(Math.round(i.left+r+s),Math.round(i.top+o)),new ir(Math.round(i.left+r+s),Math.round(i.top+o+l)),new ir(Math.round(i.left+r),Math.round(i.top+o+l))];default:return[new ir(Math.round(a.left),Math.round(a.top)),new ir(Math.round(a.left+a.width),Math.round(a.top)),new ir(Math.round(a.left+a.width),Math.round(a.height+a.top)),new ir(Math.round(a.left),Math.round(a.height+a.top))]}},Br="Hidden Text",Tr=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),r=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",r.appendChild(n),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(Br)),n.appendChild(a),n.appendChild(i);var o=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(Br)),n.style.lineHeight="normal",i.style.verticalAlign="super";var s=i.offsetTop-n.offsetTop+2;return r.removeChild(n),{baseline:o,middle:s}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),Sr=function(){function t(t){this._activeEffects=[],this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.fontMetrics=new Tr(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],De.getInstance(t.id).debug("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.applyEffects=function(t,e){for(var n=this;this._activeEffects.length;)this.popEffect();t.filter(function(t){return Ii(t.target,e)}).forEach(function(t){return n.applyEffect(t)})},t.prototype.applyEffect=function(t){this.ctx.save(),0===t.type&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),function(t){return 1===t.type}(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(t){return i(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return(e=t.element.container.styles).isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(t){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(t,e){var n=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height):s(t.text).map(function(t){return l(t)}).reduce(function(e,i){return n.ctx.fillText(i,e,t.bounds.top+t.bounds.height),e+n.ctx.measureText(i).width},t.bounds.left)},t.prototype.createFontStyle=function(t){var e=t.fontVariant.filter(function(t){return"normal"===t||"small-caps"===t}).join(""),n=t.fontFamily.join(", "),i=Ft(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,i,n].join(" "),n,i]},t.prototype.renderTextNode=function(t,e){return i(this,void 0,void 0,function(){var n,i,r,o,s=this;return a(this,function(a){return n=this.createFontStyle(e),i=n[0],r=n[1],o=n[2],this.ctx.font=i,t.textBounds.forEach(function(t){s.ctx.fillStyle=ee(e.color),s.renderTextWithLetterSpacing(t,e.letterSpacing);var n=e.textShadow;n.length&&t.text.trim().length&&(n.slice(0).reverse().forEach(function(e){s.ctx.shadowColor=ee(e.color),s.ctx.shadowOffsetX=e.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=e.offsetY.number*s.options.scale,s.ctx.shadowBlur=e.blur.number,s.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)}),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),e.textDecorationLine.length&&(s.ctx.fillStyle=ee(e.textDecorationColor||e.color),e.textDecorationLine.forEach(function(e){switch(e){case 1:var n=s.fontMetrics.getMetrics(r,o).baseline;s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+n),t.bounds.width,1);break;case 2:s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:var i=s.fontMetrics.getMetrics(r,o).middle;s.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+i),t.bounds.width,1)}}))}),[2]})})},t.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=vr(t),a=ur(e);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return i(this,void 0,void 0,function(){var n,i,o,s,l,c,u,h,p,f,A,m,y,g;return a(this,function(a){switch(a.label){case 0:this.applyEffects(e.effects,4),n=e.container,i=e.curves,o=n.styles,s=0,l=n.textNodes,a.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof Ki))return[3,8];a.label=5;case 5:return a.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return m=a.sent(),this.renderReplacedElement(n,i,m),[3,8];case 7:return a.sent(),De.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Wi&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Xi))return[3,12];a.label=9;case 9:return a.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return m=a.sent(),this.renderReplacedElement(n,i,m),[3,12];case 11:return a.sent(),De.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof ca&&n.tree?[4,new t({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}).render(n.tree)]:[3,14];case 13:u=a.sent(),this.ctx.drawImage(u,0,0,n.width,n.width,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),a.label=14;case 14:if(n instanceof ra&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===na?n.checked&&(this.ctx.save(),this.path([new ir(n.bounds.left+.39363*h,n.bounds.top+.79*h),new ir(n.bounds.left+.16*h,n.bounds.top+.5549*h),new ir(n.bounds.left+.27347*h,n.bounds.top+.44071*h),new ir(n.bounds.left+.39694*h,n.bounds.top+.5649*h),new ir(n.bounds.left+.72983*h,n.bounds.top+.23*h),new ir(n.bounds.left+.84*h,n.bounds.top+.34085*h),new ir(n.bounds.left+.39363*h,n.bounds.top+.79*h)]),this.ctx.fillStyle=ee(707406591),this.ctx.fill(),this.ctx.restore()):n.type===ia&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=ee(707406591),this.ctx.fill(),this.ctx.restore())),Mr(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=ee(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign=kr(n.styles.textAlign),g=vr(n),p=0,n.styles.textAlign){case Gn.CENTER:p+=g.width/2;break;case Gn.RIGHT:p+=g.width}f=g.add(p,0,0,-g.height/2+1),this.ctx.save(),this.path([new ir(g.left,g.top),new ir(g.left+g.width,g.top),new ir(g.left+g.width,g.top+g.height),new ir(g.left,g.top+g.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ri(n.value,f),o.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Ii(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if((A=n.styles.listStyleImage).type!==he.URL)return[3,18];m=void 0,y=A.url,a.label=15;case 15:return a.trys.push([15,17,,18]),[4,this.options.cache.match(y)];case 16:return m=a.sent(),this.ctx.drawImage(m,n.bounds.left-(m.width+10),n.bounds.top),[3,18];case 17:return a.sent(),De.getInstance(this.options.id).error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&n.styles.listStyleType!==Ln.NONE&&(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=ee(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",g=new r(n.bounds.left,n.bounds.top+Wt(n.styles.paddingTop,n.bounds.width),n.bounds.width,function(t,e){return Lt(t)&&"normal"===t.value?1.2*e:t.type===d.NUMBER_TOKEN?e*t.number:jt(t)?Wt(t,e):e}(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ri(e.listValue,g),o.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),a.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(t){return i(this,void 0,void 0,function(){var e,n,i,r,o,s,l,c,u,h,d,p,f,A,m;return a(this,function(a){switch(a.label){case 0:return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:a.sent(),e=0,n=t.negativeZIndex,a.label=2;case 2:return e<n.length?(m=n[e],[4,this.renderStack(m)]):[3,5];case 3:a.sent(),a.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:a.sent(),i=0,r=t.nonInlineLevel,a.label=7;case 7:return i<r.length?(m=r[i],[4,this.renderNode(m)]):[3,10];case 8:a.sent(),a.label=9;case 9:return i++,[3,7];case 10:o=0,s=t.nonPositionedFloats,a.label=11;case 11:return o<s.length?(m=s[o],[4,this.renderStack(m)]):[3,14];case 12:a.sent(),a.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,a.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:a.sent(),a.label=17;case 17:return l++,[3,15];case 18:u=0,h=t.inlineLevel,a.label=19;case 19:return u<h.length?(m=h[u],[4,this.renderNode(m)]):[3,22];case 20:a.sent(),a.label=21;case 21:return u++,[3,19];case 22:d=0,p=t.zeroOrAutoZIndexOrTransformedOrOpacity,a.label=23;case 23:return d<p.length?(m=p[d],[4,this.renderStack(m)]):[3,26];case 24:a.sent(),a.label=25;case 25:return d++,[3,23];case 26:f=0,A=t.positiveZIndex,a.label=27;case 27:return f<A.length?(m=A[f],[4,this.renderStack(m)]):[3,30];case 28:a.sent(),a.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},t.prototype.formatPath=function(t){var e=this;t.forEach(function(t,n){var i=or(t)?t.start:t;0===n?e.ctx.moveTo(i.x,i.y):e.ctx.lineTo(i.x,i.y),or(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)})},t.prototype.renderRepeat=function(t,e,n,i){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},t.prototype.resizeImage=function(t,e,n){if(t.width===e&&t.height===n)return t;var i=this.canvas.ownerDocument.createElement("canvas");return i.width=e,i.height=n,i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),i},t.prototype.renderBackgroundImage=function(t){return i(this,void 0,void 0,function(){var e,n,i,r,o,s;return a(this,function(l){switch(l.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var r,o,s,l,c,u,h,d,p,f,A,m,y,g,v,b,C,x,w,D,I,B,T,S,M,E,k,F,O,L,U;return a(this,function(a){switch(a.label){case 0:if(n.type!==he.URL)return[3,5];r=void 0,o=n.url,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.options.cache.match(o)];case 2:return r=a.sent(),[3,4];case 3:return a.sent(),De.getInstance(i.options.id).error("Error loading background-image "+o),[3,4];case 4:return r&&(s=br(t,e,[r.width,r.height,r.width/r.height]),b=s[0],B=s[1],T=s[2],w=s[3],D=s[4],g=i.ctx.createPattern(i.resizeImage(r,w,D),"repeat"),i.renderRepeat(b,g,B,T)),[3,6];case 5:!function(t){return t.type===he.LINEAR_GRADIENT}(n)?function(t){return t.type===he.RADIAL_GRADIENT}(n)&&(v=br(t,e,[null,null,null]),b=v[0],C=v[1],x=v[2],w=v[3],D=v[4],I=0===n.position.length?[Gt]:n.position,B=Wt(I[0],w),T=Wt(I[I.length-1],D),S=function(t,e,n,i,a){var r=0,o=0;switch(t.size){case Ye.CLOSEST_SIDE:t.shape===je.CIRCLE?r=o=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(n),Math.abs(n-a)):t.shape===je.ELLIPSE&&(r=Math.min(Math.abs(e),Math.abs(e-i)),o=Math.min(Math.abs(n),Math.abs(n-a)));break;case Ye.CLOSEST_CORNER:if(t.shape===je.CIRCLE)r=o=Math.min(ye(e,n),ye(e,n-a),ye(e-i,n),ye(e-i,n-a));else if(t.shape===je.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-a))/Math.min(Math.abs(e),Math.abs(e-i)),l=ge(i,a,e,n,!0),c=l[0],u=l[1];o=s*(r=ye(c-e,(u-n)/s))}break;case Ye.FARTHEST_SIDE:t.shape===je.CIRCLE?r=o=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(n),Math.abs(n-a)):t.shape===je.ELLIPSE&&(r=Math.max(Math.abs(e),Math.abs(e-i)),o=Math.max(Math.abs(n),Math.abs(n-a)));break;case Ye.FARTHEST_CORNER:if(t.shape===je.CIRCLE)r=o=Math.max(ye(e,n),ye(e,n-a),ye(e-i,n),ye(e-i,n-a));else if(t.shape===je.ELLIPSE){s=Math.max(Math.abs(n),Math.abs(n-a))/Math.max(Math.abs(e),Math.abs(e-i));var h=ge(i,a,e,n,!1);c=h[0],u=h[1],o=s*(r=ye(c-e,(u-n)/s))}}return Array.isArray(t.size)&&(r=Wt(t.size[0],i),o=2===t.size.length?Wt(t.size[1],a):r),[r,o]}(n,B,T,w,D),M=S[0],E=S[1],M>0&&M>0&&(k=i.ctx.createRadialGradient(C+B,x+T,0,C+B,x+T,M),Ae(n.stops,2*M).forEach(function(t){return k.addColorStop(t.stop,ee(t.color))}),i.path(b),i.ctx.fillStyle=k,M!==E?(F=t.bounds.left+.5*t.bounds.width,O=t.bounds.top+.5*t.bounds.height,U=1/(L=E/M),i.ctx.save(),i.ctx.translate(F,O),i.ctx.transform(1,0,0,L,0,0),i.ctx.translate(-F,-O),i.ctx.fillRect(C,U*(x-O)+O,w,D*U),i.ctx.restore()):i.ctx.fill())):(l=br(t,e,[null,null,null]),b=l[0],B=l[1],T=l[2],w=l[3],D=l[4],c=me(n.angle,w,D),u=c[0],h=c[1],d=c[2],p=c[3],f=c[4],(A=document.createElement("canvas")).width=w,A.height=D,m=A.getContext("2d"),y=m.createLinearGradient(h,p,d,f),Ae(n.stops,u).forEach(function(t){return y.addColorStop(t.stop,ee(t.color))}),m.fillStyle=y,m.fillRect(0,0,w,D),g=i.ctx.createPattern(A,"repeat"),i.renderRepeat(b,g,B,T)),a.label=6;case 6:return e--,[2]}})},i=this,r=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return r<o.length?(s=o[r],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.renderBorder=function(t,e,n){return i(this,void 0,void 0,function(){return a(this,function(i){return this.path(function(t,e){switch(e){case 0:return yr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return yr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return yr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return yr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}}(n,e)),this.ctx.fillStyle=ee(t),this.ctx.fill(),[2]})})},t.prototype.renderNodeBackgroundAndBorders=function(t){return i(this,void 0,void 0,function(){var e,n,i,r,o,s,l,c,u=this;return a(this,function(a){switch(a.label){case 0:return this.applyEffects(t.effects,2),e=t.container.styles,n=!te(e.backgroundColor)||e.backgroundImage.length,i=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],r=Er(Dr(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),te(e.backgroundColor)||(this.ctx.fillStyle=ee(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:a.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(e){u.ctx.save();var n=cr(t.curves),i=e.inset?0:1e4,a=function(t,e,n,i,a){return t.map(function(t,r){switch(r){case 0:return t.add(e,n);case 1:return t.add(e+i,n);case 2:return t.add(e+i,n+a);case 3:return t.add(e,n+a)}return t})}(n,-i+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(u.path(n),u.ctx.clip(),u.mask(a)):(u.mask(n),u.ctx.clip(),u.path(a)),u.ctx.shadowOffsetX=e.offsetX.number+i,u.ctx.shadowOffsetY=e.offsetY.number,u.ctx.shadowColor=ee(e.color),u.ctx.shadowBlur=e.blur.number,u.ctx.fillStyle=e.inset?ee(e.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),a.label=2;case 2:o=0,s=0,l=i,a.label=3;case 3:return s<l.length?(c=l[s]).style===$e.NONE||te(c.color)?[3,5]:[4,this.renderBorder(c.color,o++,t.curves)]:[3,6];case 4:a.sent(),a.label=5;case 5:return s++,[3,3];case 6:return[2]}})})},t.prototype.render=function(t){return i(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ee(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),e=mr(t),[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}})})},t}(),Mr=function(t){return t instanceof sa||t instanceof oa||t instanceof ra&&t.type!==ia&&t.type!==na},Er=function(t,e){switch(t){case se.BORDER_BOX:return cr(e);case se.CONTENT_BOX:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);case se.PADDING_BOX:default:return ur(e)}},kr=function(t){switch(t){case Gn.CENTER:return"center";case Gn.RIGHT:return"right";case Gn.LEFT:default:return"left"}},Fr=function(){function t(t){this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),De.getInstance(t.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.render=function(t){return i(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return e=Ce(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,t),[4,Or(e)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ee(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(),Or=function(t){return new Promise(function(e,n){var i=new Image;i.onload=function(){e(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},Lr=function(t){return $t(kt.create(t).parseComponentValue())};Ie.setContext(window);var Ur=function(t,e){return i(void 0,void 0,void 0,function(){var i,s,l,c,u,h,d,p,f,A,m,y,g,v,b,C,x,w,D,I,B,T,S;return a(this,function(a){switch(a.label){case 0:if(!(i=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=i.defaultView))throw new Error("Document is not attached to a Window");return l=(Math.round(1e3*Math.random())+Date.now()).toString(16),c=xa(t)||function(t){return"HTML"===t.tagName}(t)?function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),a=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new r(0,0,i,a)}(i):o(t),u=c.width,h=c.height,d=c.left,p=c.top,f=n({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},e),A={backgroundColor:"#ffffff",cache:e.cache?e.cache:Ie.create(l,f),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:s.devicePixelRatio||1,windowWidth:s.innerWidth,windowHeight:s.innerHeight,scrollX:s.pageXOffset,scrollY:s.pageYOffset,x:d,y:p,width:Math.ceil(u),height:Math.ceil(h),id:l},m=n({},A,f,e),y=new r(m.scrollX,m.scrollY,m.windowWidth,m.windowHeight),De.create(l),De.getInstance(l).debug("Starting document clone"),g=new ja(t,{id:l,onclone:m.onclone,ignoreElements:m.ignoreElements,inlineImages:m.foreignObjectRendering,copyStyles:m.foreignObjectRendering}),(v=g.clonedReferenceElement)?[4,g.toIFrame(i,y)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return b=a.sent(),C=i.documentElement?Lr(getComputedStyle(i.documentElement).backgroundColor):ue.TRANSPARENT,x=i.body?Lr(getComputedStyle(i.body).backgroundColor):ue.TRANSPARENT,w=e.backgroundColor,D="string"==typeof w?Lr(w):4294967295,I=t===i.documentElement?te(C)?te(x)?D:x:C:D,B={id:l,cache:m.cache,backgroundColor:I,scale:m.scale,x:m.x,y:m.y,scrollX:m.scrollX,scrollY:m.scrollY,width:m.width,height:m.height,windowWidth:m.windowWidth,windowHeight:m.windowHeight},m.foreignObjectRendering?(De.getInstance(l).debug("Document cloned, using foreign object rendering"),[4,new Fr(B).render(v)]):[3,3];case 2:return T=a.sent(),[3,5];case 3:return De.getInstance(l).debug("Document cloned, using computed rendering"),Ie.attachInstance(m.cache),De.getInstance(l).debug("Starting DOM parsing"),S=da(v),Ie.detachInstance(),I===S.styles.backgroundColor&&(S.styles.backgroundColor=ue.TRANSPARENT),De.getInstance(l).debug("Starting renderer"),[4,new Sr(B).render(S)];case 4:T=a.sent(),a.label=5;case 5:return!0===m.removeContainer&&(Pr(b)||De.getInstance(l).error("Cannot detach cloned iframe as it is not in the DOM anymore")),De.getInstance(l).debug("Finished rendering"),De.destroy(l),Ie.destroy(l),[2,T]}})})},Pr=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)};return function(t,e){return void 0===e&&(e={}),Ur(t,e)}},"object"===("undefined"==typeof exports?"undefined":n.n(D)()(exports))&&void 0!==t?t.exports=i():"function"==typeof define&&n(37)?define(i):(e=e||self).html2canvas=i()}).call(this,n(48)(t))},function(t,e,n){"use strict";var i=n(15),a=n(49);t.exports=function(t,e,n){e in t?i.f(t,e,a(0,n)):t[e]=n}},function(t,e,n){"use strict";var i=n(9),a=n(16),r=n(47),o=n(137),s=n(23),l=n(69),c=n(17),u=n(70),h=n(64),d=n(33),p=n(138),f=n(56).f,A=n(15).f,m=n(103),y=n(54),g="ArrayBuffer",v="DataView",b="prototype",C="Wrong index!",x=i.ArrayBuffer,w=i.DataView,D=i.Math,I=i.RangeError,B=i.Infinity,T=x,S=D.abs,M=D.pow,E=D.floor,k=D.log,F=D.LN2,O="buffer",L="byteLength",U="byteOffset",P=a?"_b":O,R=a?"_l":L,H=a?"_o":U;function Q(t,e,n){var i,a,r,o=new Array(n),s=8*n-e-1,l=(1<<s)-1,c=l>>1,u=23===e?M(2,-24)-M(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=S(t))!=t||t===B?(a=t!=t?1:0,i=l):(i=E(k(t)/F),t*(r=M(2,-i))<1&&(i--,r*=2),(t+=i+c>=1?u/r:u*M(2,1-c))*r>=2&&(i++,r/=2),i+c>=l?(a=0,i=l):i+c>=1?(a=(t*r-1)*M(2,e),i+=c):(a=t*M(2,c-1)*M(2,e),i=0));e>=8;o[h++]=255&a,a/=256,e-=8);for(i=i<<e|a,s+=e;s>0;o[h++]=255&i,i/=256,s-=8);return o[--h]|=128*d,o}function _(t,e,n){var i,a=8*n-e-1,r=(1<<a)-1,o=r>>1,s=a-7,l=n-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===u)u=1-o;else{if(u===r)return i?NaN:c?-B:B;i+=M(2,e),u-=o}return(c?-1:1)*i*M(2,u-e)}function N(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function j(t){return[255&t]}function Y(t){return[255&t,t>>8&255]}function z(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return Q(t,52,8)}function V(t){return Q(t,23,4)}function K(t,e,n){A(t[b],e,{get:function(){return this[n]}})}function W(t,e,n,i){var a=p(+n);if(a+e>t[R])throw I(C);var r=t[P]._b,o=a+t[H],s=r.slice(o,o+e);return i?s:s.reverse()}function X(t,e,n,i,a,r){var o=p(+n);if(o+e>t[R])throw I(C);for(var s=t[P]._b,l=o+t[H],c=i(+a),u=0;u<e;u++)s[l+u]=c[r?u:e-u-1]}if(o.ABV){if(!c(function(){x(1)})||!c(function(){new x(-1)})||c(function(){return new x,new x(1.5),new x(NaN),x.name!=g})){for(var q,J=(x=function(t){return u(this,x),new T(p(t))})[b]=T[b],Z=f(T),$=0;Z.length>$;)(q=Z[$++])in x||s(x,q,T[q]);r||(J.constructor=x)}var tt=new w(new x(2)),et=w[b].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||l(w[b],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else x=function(t){u(this,x,g);var e=p(t);this._b=m.call(new Array(e),0),this[R]=e},w=function(t,e,n){u(this,w,v),u(t,x,v);var i=t[R],a=h(e);if(a<0||a>i)throw I("Wrong offset!");if(a+(n=void 0===n?i-a:d(n))>i)throw I("Wrong length!");this[P]=t,this[H]=a,this[R]=n},a&&(K(x,L,"_l"),K(w,O,"_b"),K(w,L,"_l"),K(w,U,"_o")),l(w[b],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return N(W(this,4,t,arguments[1]))},getUint32:function(t){return N(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return _(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return _(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){X(this,1,t,j,e)},setUint8:function(t,e){X(this,1,t,j,e)},setInt16:function(t,e){X(this,2,t,Y,e,arguments[2])},setUint16:function(t,e){X(this,2,t,Y,e,arguments[2])},setInt32:function(t,e){X(this,4,t,z,e,arguments[2])},setUint32:function(t,e){X(this,4,t,z,e,arguments[2])},setFloat32:function(t,e){X(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){X(this,8,t,G,e,arguments[2])}});y(x,g),y(w,v),s(w[b],o.VIEW,!0),e.ArrayBuffer=x,e.DataView=w},function(t,e,n){var i=n(211);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(18),a=n(140),r=n(10)("species");t.exports=function(t){var e;return a(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!a(e.prototype)||(e=void 0),i(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var i=n(8),a=n(65),r=String.fromCharCode,o=String.fromCodePoint;i(i.S+i.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,o=0;i>o;){if(e=+arguments[o++],a(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?r(e):r(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){n(143)("asyncIterator")},function(t,e,n){"use strict";var i=n(9),a=n(31),r=n(16),o=n(8),s=n(25),l=n(109).KEY,c=n(17),u=n(97),h=n(54),d=n(45),p=n(10),f=n(144),A=n(143),m=n(215),y=n(140),g=n(24),v=n(18),b=n(50),C=n(63),x=n(49),w=n(67),D=n(216),I=n(75),B=n(15),T=n(53),S=I.f,M=B.f,E=D.f,k=i.Symbol,F=i.JSON,O=F&&F.stringify,L=p("_hidden"),U=p("toPrimitive"),P={}.propertyIsEnumerable,R=u("symbol-registry"),H=u("symbols"),Q=u("op-symbols"),_=Object.prototype,N="function"==typeof k,j=i.QObject,Y=!j||!j.prototype||!j.prototype.findChild,z=r&&c(function(){return 7!=w(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=S(_,e);i&&delete _[e],M(t,e,n),i&&t!==_&&M(_,e,i)}:M,G=function(t){var e=H[t]=w(k.prototype);return e._k=t,e},V=N&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},K=function(t,e,n){return t===_&&K(Q,e,n),g(t),e=C(e,!0),g(n),a(H,e)?(n.enumerable?(a(t,L)&&t[L][e]&&(t[L][e]=!1),n=w(n,{enumerable:x(0,!1)})):(a(t,L)||M(t,L,x(1,{})),t[L][e]=!0),z(t,e,n)):M(t,e,n)},W=function(t,e){g(t);for(var n,i=m(e=b(e)),a=0,r=i.length;r>a;)K(t,n=i[a++],e[n]);return t},X=function(t){var e=P.call(this,t=C(t,!0));return!(this===_&&a(H,t)&&!a(Q,t))&&(!(e||!a(this,t)||!a(H,t)||a(this,L)&&this[L][t])||e)},q=function(t,e){if(t=b(t),e=C(e,!0),t!==_||!a(H,e)||a(Q,e)){var n=S(t,e);return!n||!a(H,e)||a(t,L)&&t[L][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=E(b(t)),i=[],r=0;n.length>r;)a(H,e=n[r++])||e==L||e==l||i.push(e);return i},Z=function(t){for(var e,n=t===_,i=E(n?Q:b(t)),r=[],o=0;i.length>o;)!a(H,e=i[o++])||n&&!a(_,e)||r.push(H[e]);return r};N||(s((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===_&&e.call(Q,n),a(this,L)&&a(this[L],t)&&(this[L][t]=!1),z(this,t,x(1,n))};return r&&Y&&z(_,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),I.f=q,B.f=K,n(56).f=D.f=J,n(76).f=X,n(110).f=Z,r&&!n(47)&&s(_,"propertyIsEnumerable",X,!0),f.f=function(t){return G(p(t))}),o(o.G+o.W+o.F*!N,{Symbol:k});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)p($[tt++]);for(var et=T(p.store),nt=0;et.length>nt;)A(et[nt++]);o(o.S+o.F*!N,"Symbol",{for:function(t){return a(R,t+="")?R[t]:R[t]=k(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),o(o.S+o.F*!N,"Object",{create:function(t,e){return void 0===e?w(t):W(w(t),e)},defineProperty:K,defineProperties:W,getOwnPropertyDescriptor:q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),F&&o(o.S+o.F*(!N||c(function(){var t=k();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],a=1;arguments.length>a;)i.push(arguments[a++]);if(n=e=i[1],(v(e)||void 0!==t)&&!V(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),i[1]=e,O.apply(F,i)}}),k.prototype[U]||n(23)(k.prototype,U,k.prototype.valueOf),h(k,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var i=n(53),a=n(110),r=n(76);t.exports=function(t){var e=i(t),n=a.f;if(n)for(var o,s=n(t),l=r.f,c=0;s.length>c;)l.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,n){var i=n(50),a=n(56).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==r.call(t)?function(t){try{return a(t)}catch(t){return o.slice()}}(t):a(i(t))}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(9),a=n(145).set,r=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,l="process"==n(46)(o);t.exports=function(){var t,e,n,c=function(){var i,a;for(l&&(i=o.domain)&&i.exit();t;){a=t.fn,t=t.next;try{a()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){o.nextTick(c)};else if(!r||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){a.call(i,c)};else{var h=!0,d=document.createTextNode("");new r(c).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(i){var a={fn:i,next:void 0};e&&(e.next=a),t||(t=a,n()),e=a}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(9).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(24),a=n(18),r=n(146);t.exports=function(t,e){if(i(t),a(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(8);i(i.S+i.F,"Object",{assign:n(223)})},function(t,e,n){"use strict";var i=n(53),a=n(110),r=n(76),o=n(38),s=n(96),l=Object.assign;t.exports=!l||n(17)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=o(t),l=arguments.length,c=1,u=a.f,h=r.f;l>c;)for(var d,p=s(arguments[c++]),f=u?i(p).concat(u(p)):i(p),A=f.length,m=0;A>m;)h.call(p,d=f[m++])&&(n[d]=p[d]);return n}:l},function(t,e,n){"use strict";n(113)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(113)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){n(77)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){"use strict";(function(t){var e,i=n(78),a=(n.n(i),n(34)),r=(n.n(a),n(35)),o=(n.n(r),n(68)),s=(n.n(o),n(55)),l=(n.n(s),n(112)),c=(n.n(l),n(39)),u=(n.n(c),n(58)),h=(n.n(u),n(228)),d=(n.n(h),n(57)),p=(n.n(d),n(12)),f=(n.n(p),n(4)),A=n.n(f);e=function(t){var e=t?t._modules:{};function n(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}n(e,"Extensions/Annotations/Mixins/EventEmitterMixin.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){var n=e.addEvent,i=e.fireEvent,a=e.objectEach,r=e.pick,o=e.removeEvent;return{addEvents:function(){var e=this,r=function(i){n(i,t.isTouchDevice?"touchstart":"mousedown",function(t){e.onMouseDown(t)})};if(r(this.graphic.element),(e.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&r(t.graphic.text.element)}),a(e.options.events,function(t,i){var a=function(n){"click"===i&&e.cancelClick||t.call(e,e.chart.pointer.normalize(n),e.target)};-1===(e.nonDOMEvents||[]).indexOf(i)?e.graphic.on(i,a):n(e,i,a)}),e.options.draggable&&(n(e,"drag",e.onDrag),!e.graphic.renderer.styledMode)){var o={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[e.options.draggable]};e.graphic.css(o),(e.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(o)})}e.isUpdating||i(e,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(e){var a,o,s=this,l=s.chart.pointer;e.preventDefault&&e.preventDefault(),2!==e.button&&(e=l.normalize(e),a=e.chartX,o=e.chartY,s.cancelClick=!1,s.chart.hasDraggedAnnotation=!0,s.removeDrag=n(t.doc,t.isTouchDevice?"touchmove":"mousemove",function(t){s.hasDragged=!0,(t=l.normalize(t)).prevChartX=a,t.prevChartY=o,i(s,"drag",t),a=t.chartX,o=t.chartY}),s.removeMouseUp=n(t.doc,t.isTouchDevice?"touchend":"mouseup",function(t){s.cancelClick=s.hasDragged,s.hasDragged=!1,s.chart.hasDraggedAnnotation=!1,i(r(s.target,s),"afterUpdate"),s.onMouseUp(t)}))},onMouseUp:function(t){var e=this.chart,n=this.target||this,i=e.options.annotations,a=e.annotations.indexOf(n);this.removeDocEvents(),i[a]=n.options},onDrag:function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop)){var e=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(e.y=0),"y"===this.options.draggable&&(e.x=0),this.points.length?this.translate(e.x,e.y):(this.shapes.forEach(function(t){t.translate(e.x,e.y)}),this.labels.forEach(function(t){t.translate(e.x,e.y)})),this.redraw(!1)}},mouseMoveToRadians:function(t,e,n){var i,a=t.prevChartY-n,r=t.prevChartX-e,o=t.chartY-n,s=t.chartX-e;return this.chart.inverted&&(i=r,r=a,a=i,i=s,s=o,o=i),Math.atan2(o,s)-Math.atan2(a,r)},mouseMoveToTranslation:function(t){var e,n=t.chartX-t.prevChartX,i=t.chartY-t.prevChartY;return this.chart.inverted&&(e=i,i=n,n=e),{x:n,y:i}},mouseMoveToScale:function(t,e,n){var i,a=t.prevChartX-e,r=t.prevChartY-n,o=(t.chartX-e||1)/(a||1),s=(t.chartY-n||1)/(r||1);return this.chart.inverted&&(i=s,s=o,o=i),{x:o,y:s}},destroy:function(){this.removeDocEvents(),o(this),this.hcEvents=null}}}),n(e,"Extensions/Annotations/ControlPoint.js",[e["Core/Utilities.js"],e["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],function(t,e){t.extend;var n=t.merge,i=t.pick;return function(){function t(t,n,a,r){this.addEvents=e.addEvents,this.graphic=void 0,this.mouseMoveToRadians=e.mouseMoveToRadians,this.mouseMoveToScale=e.mouseMoveToScale,this.mouseMoveToTranslation=e.mouseMoveToTranslation,this.onDrag=e.onDrag,this.onMouseDown=e.onMouseDown,this.onMouseUp=e.onMouseUp,this.removeDocEvents=e.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=n,this.options=a,this.index=i(a.index,r)}return t.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},t.prototype.render=function(){var t=this.chart,e=this.options;this.graphic=t.renderer.symbol(e.symbol,0,0,e.width,e.height).add(t.controlPointsGroup).css(e.style),this.setVisibility(e.visible),this.addEvents()},t.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},t.prototype.destroy=function(){e.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null},t.prototype.update=function(t){var e=this.chart,i=this.target,a=this.index,r=n(!0,this.options,t);this.destroy(),this.constructor(e,i,r,a),this.render(e.controlPointsGroup),this.redraw()},t}()}),n(e,"Extensions/Annotations/MockPoint.js",[e["Core/Globals.js"],e["Core/Utilities.js"],e["Core/Axis/Axis.js"]],function(t,e,n){var i=e.defined,a=(e.extend,e.fireEvent);return function(){function e(e,n,i){this.isInside=void 0,this.plotX=void 0,this.plotY=void 0,this.x=void 0,this.y=void 0,this.mock=!0,this.series={visible:!0,chart:e,getPlotBox:t.Series.prototype.getPlotBox},this.target=n||null,this.options=i,this.applyOptions(this.getOptions())}return e.fromPoint=function(t){return new e(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},e.pointToPixels=function(t,e){var n,i=t.series,a=i.chart,r=t.plotX,o=t.plotY;return a.inverted&&(t.mock?(r=t.plotY,o=t.plotX):(r=a.plotWidth-t.plotY,o=a.plotHeight-t.plotX)),i&&!e&&(r+=(n=i.getPlotBox()).translateX,o+=n.translateY),{x:r,y:o}},e.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},e.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},e.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},e.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},e.prototype.setAxis=function(t,e){var a=e+"Axis",r=t[a],o=this.series.chart;this.series[a]=r instanceof n?r:i(r)?o[a][r]||o.get(r):null},e.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},e.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},e.prototype.isInsidePlot=function(){var t=this.plotX,e=this.plotY,n=this.series.xAxis,r=this.series.yAxis,o={x:t,y:e,isInsidePlot:!0};return n&&(o.isInsidePlot=i(t)&&t>=0&&t<=n.len),r&&(o.isInsidePlot=o.isInsidePlot&&i(e)&&e>=0&&e<=r.len),a(this.series.chart,"afterIsInsidePlot",o),o.isInsidePlot},e.prototype.refresh=function(){var t=this.series,e=t.xAxis,n=t.yAxis,i=this.getOptions();e?(this.x=i.x,this.plotX=e.toPixels(i.x,!0)):(this.x=null,this.plotX=i.x),n?(this.y=i.y,this.plotY=n.toPixels(i.y,!0)):(this.y=null,this.plotY=i.y),this.isInside=this.isInsidePlot()},e.prototype.translate=function(t,e,n,i){this.hasDynamicOptions()||(this.plotX+=n,this.plotY+=i,this.refreshOptions())},e.prototype.scale=function(t,e,n,i){if(!this.hasDynamicOptions()){var a=this.plotX*n,r=this.plotY*i,o=(1-n)*t,s=(1-i)*e;this.plotX=o+a,this.plotY=s+r,this.refreshOptions()}},e.prototype.rotate=function(t,e,n){if(!this.hasDynamicOptions()){var i,a,r=Math.cos(n),o=Math.sin(n),s=this.plotX,l=this.plotY;i=(s-=t)*r-(l-=e)*o,a=s*o+l*r,this.plotX=i+t,this.plotY=a+e,this.refreshOptions()}},e.prototype.refreshOptions=function(){var t=this.series,e=t.xAxis,n=t.yAxis;this.x=this.options.x=e?this.options.x=e.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=n?n.toValue(this.plotY,!0):this.plotY},e}()}),n(e,"Extensions/Annotations/Mixins/ControllableMixin.js",[e["Extensions/Annotations/ControlPoint.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Tooltip.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a=i.isObject,r=i.isString,o=i.merge,s=i.splat;return{init:function(t,e,n){this.annotation=t,this.chart=t.chart,this.options=e,this.points=[],this.controlPoints=[],this.index=n,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&s(t.point)},attrsFromOptions:function(t){var e,n,i=this.constructor.attrsMap,a={},r=this.chart.styledMode;for(e in t)!(n=i[e])||r&&-1!==["fill","stroke","stroke-width"].indexOf(n)||(a[n]=t[e]);return a},anchor:function(t){var e=t.series.getPlotBox(),i=t.series.chart,a=t.mock?t.toAnchor():n.prototype.getAnchor.call({chart:t.series.chart},t),r={x:a[0]+(this.options.x||0),y:a[1]+(this.options.y||0),height:a[2]||0,width:a[3]||0};return{relativePosition:r,absolutePosition:o(r,{x:r.x+(t.mock?e.translateX:i.plotLeft),y:r.y+(t.mock?e.translateY:i.plotTop)})}},point:function(t,n){if(t&&t.series)return t;if(!n||null===n.series)if(a(t))n=new e(this.chart,this,t);else if(r(t))n=this.chart.get(t)||null;else if("function"==typeof t){var i=t.call(n,this);n=i.series?i:new e(this.chart,this,t)}return n},linkPoints:function(){var t,e,n=this.getPointsOptions(),i=this.points,a=n&&n.length||0;for(t=0;t<a;t++){if(!(e=this.point(n[t],i[t])))return void(i.length=0);e.mock&&e.refresh(),i[t]=e}return i},addControlPoints:function(){var e=this.options.controlPoints;(e||[]).forEach(function(n,i){var a=o(this.options.controlPointOptions,n);a.index||(a.index=i),e[i]=a,this.controlPoints.push(new t(this.chart,this,a))},this)},shouldBeDrawn:function(){return Boolean(this.points.length)},render:function(t){this.controlPoints.forEach(function(t){t.render()})},redraw:function(t){this.controlPoints.forEach(function(e){e.redraw(t)})},transform:function(t,e,n,i,a){if(this.chart.inverted){var r=e;e=n,n=r}this.points.forEach(function(r,o){this.transformPoint(t,e,n,i,a,o)},this)},transformPoint:function(t,n,i,a,r,o){var s=this.points[o];s.mock||(s=this.points[o]=e.fromPoint(s)),s[t](n,i,a,r)},translate:function(t,e){this.transform("translate",null,null,t,e)},translatePoint:function(t,e,n){this.transformPoint("translate",null,null,t,e,n)},translateShape:function(t,e){var n=this.annotation.chart,i=this.annotation.userOptions,a=n.annotations.indexOf(this.annotation),r=n.options.annotations[a];this.translatePoint(t,e,0),r[this.collection][this.index].point=this.options.point,i[this.collection][this.index].point=this.options.point},rotate:function(t,e,n){this.transform("rotate",t,e,n)},scale:function(t,e,n,i){this.transform("scale",t,e,n,i)},setControlPointsVisibility:function(t){this.controlPoints.forEach(function(e){e.setVisibility(t)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(t){t.destroy()}),this.chart=null,this.points=null,this.controlPoints=null,this.options=null,this.annotation&&(this.annotation=null)},update:function(t){var e=this.annotation,n=o(!0,this.options,t),i=this.graphic.parentGroup;this.destroy(),this.constructor(e,n),this.render(i),this.redraw()}}}),n(e,"Extensions/Annotations/Mixins/MarkerMixin.js",[e["Core/Chart/Chart.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,n){var i=n.addEvent,a=n.defined,r=n.merge,o=n.objectEach,s=n.uniqueKey,l={arrow:{tagName:"marker",render:!1,id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 0 L 10 5 L 0 10 Z",strokeWidth:0}]},"reverse-arrow":{tagName:"marker",render:!1,id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 5 L 10 0 L 10 10 Z",strokeWidth:0}]}};function c(t){return function(e){this.attr(t,"url(#"+e+")")}}e.prototype.addMarker=function(t,e){var n={id:t},i={stroke:e.color||"none",fill:e.color||"rgba(0, 0, 0, 0.75)"};n.children=e.children.map(function(t){return r(i,t)});var a=this.definition(r(!0,{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"},e,n));return a.id=t,a};var u={markerEndSetter:c("marker-end"),markerStartSetter:c("marker-start"),setItemMarkers:function(t){var e=t.options,n=t.chart,i=n.options.defs,o=e.fill,l=a(o)&&"none"!==o?o:e.stroke;["markerStart","markerEnd"].forEach(function(a){var o,c,u,h,d=e[a];if(d){for(u in i)if(d===(o=i[u]).id&&"marker"===o.tagName){c=o;break}c&&(h=t[a]=n.renderer.addMarker((e.id||s())+"-"+c.id,r(c,{color:l})),t.attr(a,h.attr("id")))}})}};return i(t,"afterGetContainer",function(){this.options.defs=r(l,this.options.defs||{}),o(this.options.defs,function(t){"marker"===t.tagName&&!1!==t.render&&this.renderer.addMarker(t.id,t)},this)}),u}),n(e,"Extensions/Annotations/Controllables/ControllablePath.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Core/Globals.js"],e["Extensions/Annotations/Mixins/MarkerMixin.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a=i.extend,r="rgba(192,192,192,"+(e.svg?1e-4:.002)+")";return function(){function e(e,i,a){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.setMarkers=n.setItemMarkers,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translate=t.translate,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="path",this.init(e,i,a),this.collection="shapes"}return e.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var e,n=this.points,i=n.length,a=i,r=n[0],o=a&&this.anchor(r).absolutePosition,s=0,l=[];if(o)for(l.push(["M",o.x,o.y]);++s<i&&a;)e=(r=n[s]).command||"L",o=this.anchor(r).absolutePosition,"M"===e?l.push([e,o.x,o.y]):"L"===e?l.push([e,o.x,o.y]):"Z"===e&&l.push([e]),a=r.series.visible;return a?this.chart.renderer.crispLine(l,this.graphic.strokeWidth()):null},e.prototype.shouldBeDrawn=function(){return t.shouldBeDrawn.call(this)||Boolean(this.options.d)},e.prototype.render=function(e){var i=this.options,o=this.attrsFromOptions(i);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(o).add(e),i.className&&this.graphic.addClass(i.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(e),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:r,fill:r,"stroke-width":this.graphic.strokeWidth()+2*i.snap}),t.render.call(this),a(this.graphic,{markerStartSetter:n.markerStartSetter,markerEndSetter:n.markerEndSetter}),this.setMarkers(this)},e.prototype.redraw=function(e){var n=this.toD(),i=e?"animate":"attr";n?(this.graphic[i]({d:n}),this.tracker[i]({d:n})):(this.graphic.attr({d:"M 0 "+-9e9}),this.tracker.attr({d:"M 0 "+-9e9})),this.graphic.placed=this.tracker.placed=Boolean(n),t.redraw.call(this,e)},e.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},e}()}),n(e,"Extensions/Annotations/Controllables/ControllableRect.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/Controllables/ControllablePath.js"],e["Core/Utilities.js"]],function(t,e,n){var i=n.merge;return function(){function n(e,n,i){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="rect",this.translate=t.translateShape,this.init(e,n,i),this.collection="shapes"}return n.prototype.render=function(e){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(n).add(e),t.render.call(this)},n.prototype.redraw=function(e){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[e?"animate":"attr"]({x:n.x,y:n.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(n),t.redraw.call(this,e)},n.attrsMap=i(e.attrsMap,{width:"width",height:"height"}),n}()}),n(e,"Extensions/Annotations/Controllables/ControllableCircle.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/Controllables/ControllablePath.js"],e["Core/Utilities.js"]],function(t,e,n){var i=n.merge;return function(){function n(e,n,i){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="circle",this.translate=t.translateShape,this.init(e,n,i),this.collection="shapes"}return n.prototype.render=function(e){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(n).add(e),t.render.call(this)},n.prototype.redraw=function(e){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[e?"animate":"attr"]({x:n.x,y:n.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(n),t.redraw.call(this,e)},n.prototype.setRadius=function(t){this.options.r=t},n.attrsMap=i(e.attrsMap,{r:"r"}),n}()}),n(e,"Extensions/Annotations/Controllables/ControllableLabel.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Tooltip.js"],e["Core/Utilities.js"]],function(t,e,n,i,a){var r=a.extend,o=a.format,s=a.isNumber,l=a.pick,c=function(){function n(e,n,i){this.addControlPoints=t.addControlPoints,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translateShape=t.translateShape,this.update=t.update,this.init(e,n,i),this.collection="labels"}return n.alignedPosition=function(t,e){var n,i,a=t.align,r=t.verticalAlign,o=(e.x||0)+(t.x||0),s=(e.y||0)+(t.y||0);return"right"===a?n=1:"center"===a&&(n=2),n&&(o+=(e.width-(t.width||0))/n),"bottom"===r?i=1:"middle"===r&&(i=2),i&&(s+=(e.height-(t.height||0))/i),{x:Math.round(o),y:Math.round(s)}},n.justifiedOptions=function(t,e,n,i){var a,r=n.align,o=n.verticalAlign,s=e.box?0:e.padding||0,l=e.getBBox(),c={align:r,verticalAlign:o,x:n.x,y:n.y,width:e.width,height:e.height},u=i.x-t.plotLeft,h=i.y-t.plotTop;return(a=u+s)<0&&("right"===r?c.align="left":c.x=-a),(a=u+l.width-s)>t.plotWidth&&("left"===r?c.align="right":c.x=t.plotWidth-a),(a=h+s)<0&&("bottom"===o?c.verticalAlign="top":c.y=-a),(a=h+l.height-s)>t.plotHeight&&("top"===o?c.verticalAlign="bottom":c.y=t.plotHeight-a),c},n.prototype.translatePoint=function(e,n){t.translatePoint.call(this,e,n,0)},n.prototype.translate=function(t,e){var n,i=this.annotation.chart,a=this.annotation.userOptions,r=i.annotations.indexOf(this.annotation),o=i.options.annotations[r];i.inverted&&(n=t,t=e,e=n),this.options.x+=t,this.options.y+=e,o[this.collection][this.index].x=this.options.x,o[this.collection][this.index].y=this.options.y,a[this.collection][this.index].x=this.options.x,a[this.collection][this.index].y=this.options.y},n.prototype.render=function(e){var i=this.options,a=this.attrsFromOptions(i),r=i.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,i.shape,null,null,i.useHTML,null,"annotation-label").attr(a).add(e),this.annotation.chart.styledMode||("contrast"===r.color&&(r.color=this.annotation.chart.renderer.getContrast(n.shapesWithoutBackground.indexOf(i.shape)>-1?"#FFFFFF":i.backgroundColor)),this.graphic.css(i.style).shadow(i.shadow)),i.className&&this.graphic.addClass(i.className),this.graphic.labelrank=i.labelrank,t.render.call(this)},n.prototype.redraw=function(e){var n,i,a=this.options,r=this.text||a.format||a.text,s=this.graphic,l=this.points[0];s.attr({text:r?o(r,l.getLabelConfig(),this.annotation.chart):a.formatter.call(l,this)}),n=this.anchor(l),(i=this.position(n))?(s.alignAttr=i,i.anchorX=n.absolutePosition.x,i.anchorY=n.absolutePosition.y,s[e?"animate":"attr"](i)):s.attr({x:0,y:-9999}),s.placed=!!i,t.redraw.call(this,e)},n.prototype.anchor=function(e){var n=t.anchor.apply(this,arguments),i=this.options.x||0,a=this.options.y||0;return n.absolutePosition.x-=i,n.absolutePosition.y-=a,n.relativePosition.x-=i,n.relativePosition.y-=a,n},n.prototype.position=function(t){var a,o,s,c,u=this.graphic,h=this.annotation.chart,d=this.points[0],p=this.options,f=t.absolutePosition,A=t.relativePosition,m=d.series.visible&&e.prototype.isInsidePlot.call(d);return m&&(p.distance?a=i.prototype.getPosition.call({chart:h,distance:l(p.distance,16)},u.width,u.height,{plotX:A.x,plotY:A.y,negative:d.negative,ttBelow:d.ttBelow,h:A.height||A.width}):p.positioner?a=p.positioner.call(this):(o={x:f.x,y:f.y,width:0,height:0},a=n.alignedPosition(r(p,{width:u.width,height:u.height}),o),"justify"===this.options.overflow&&(a=n.alignedPosition(n.justifiedOptions(h,u,p,a),o))),p.crop&&(s=a.x-h.plotLeft,c=a.y-h.plotTop,m=h.isInsidePlot(s,c)&&h.isInsidePlot(s+u.width,c+u.height))),m?a:null},n.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},n.shapesWithoutBackground=["connector"],n}();return n.prototype.symbols.connector=function(t,e,n,i,a){var r,o,l=a&&a.anchorX,c=a&&a.anchorY,u=n/2;return s(l)&&s(c)&&(r=[["M",l,c]],(o=e-c)<0&&(o=-i-o),o<n&&(u=l<t+n/2?o:n-o),c>e+i?r.push(["L",t+u,e+i]):c<e?r.push(["L",t+u,e]):l<t?r.push(["L",t,e+i/2]):l>t+n&&r.push(["L",t+n,e+i/2])),r||[]},c}),n(e,"Extensions/Annotations/Controllables/ControllableImage.js",[e["Extensions/Annotations/Controllables/ControllableLabel.js"],e["Extensions/Annotations/Mixins/ControllableMixin.js"]],function(t,e){return function(){function n(t,n,i){this.addControlPoints=e.addControlPoints,this.anchor=e.anchor,this.attr=e.attr,this.attrsFromOptions=e.attrsFromOptions,this.destroy=e.destroy,this.getPointsOptions=e.getPointsOptions,this.init=e.init,this.linkPoints=e.linkPoints,this.point=e.point,this.rotate=e.rotate,this.scale=e.scale,this.setControlPointsVisibility=e.setControlPointsVisibility,this.shouldBeDrawn=e.shouldBeDrawn,this.transform=e.transform,this.transformPoint=e.transformPoint,this.translatePoint=e.translatePoint,this.translateShape=e.translateShape,this.update=e.update,this.type="image",this.translate=e.translateShape,this.init(t,n,i),this.collection="shapes"}return n.prototype.render=function(t){var n=this.attrsFromOptions(this.options),i=this.options;this.graphic=this.annotation.chart.renderer.image(i.src,0,-9e9,i.width,i.height).attr(n).add(t),this.graphic.width=i.width,this.graphic.height=i.height,e.render.call(this)},n.prototype.redraw=function(n){var i=this.anchor(this.points[0]),a=t.prototype.position.call(this,i);a?this.graphic[n?"animate":"attr"]({x:a.x,y:a.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(a),e.redraw.call(this,n)},n.attrsMap={width:"width",height:"height",zIndex:"zIndex"},n}()}),n(e,"Extensions/Annotations/Annotations.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Chart/Chart.js"],e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/Controllables/ControllableRect.js"],e["Extensions/Annotations/Controllables/ControllableCircle.js"],e["Extensions/Annotations/Controllables/ControllablePath.js"],e["Extensions/Annotations/Controllables/ControllableImage.js"],e["Extensions/Annotations/Controllables/ControllableLabel.js"],e["Extensions/Annotations/ControlPoint.js"],e["Extensions/Annotations/Mixins/EventEmitterMixin.js"],e["Core/Globals.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Pointer.js"],e["Core/Utilities.js"]],function(t,e,n,i,a,r,o,s,l,c,u,h,d,p){var f=t.getDeferredAnimation,A=e.prototype,m=p.addEvent,y=p.defined,g=p.destroyObjectProperties,v=p.erase,b=p.extend,C=p.find,x=p.fireEvent,w=p.merge,D=p.pick,I=p.splat,B=p.wrap,T=function(){function t(t,e){var n;this.annotation=void 0,this.coll="annotations",this.collection=void 0,this.animationConfig=void 0,this.graphic=void 0,this.group=void 0,this.labelCollector=void 0,this.labelsGroup=void 0,this.shapesGroup=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=w(this.defaultOptions,e),this.userOptions=e,n=this.getLabelsAndShapesOptions(this.options,e),this.options.labels=n.labels,this.options.shapes=n.shapes,this.init(t,this.options)}return t.prototype.init=function(){var t=this.chart,e=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=f(t,e)},t.prototype.getLabelsAndShapesOptions=function(t,e){var n={};return["labels","shapes"].forEach(function(i){t[i]&&(n[i]=I(e[i]).map(function(e,n){return w(t[i][n],e)}))}),n},t.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(t,e){var n=this.initShape(t,e);w(!0,this.options.shapes[e],n.options)},this)},t.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(t,e){var n=this.initLabel(t,e);w(!0,this.options.labels[e],n.options)},this)},t.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},t.prototype.setClipAxes=function(){var t=this.chart.xAxis,e=this.chart.yAxis,n=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(n,i){return[t[i&&i.point&&i.point.xAxis]||n[0],e[i&&i.point&&i.point.yAxis]||n[1]]},[]);this.clipXAxis=n[0],this.clipYAxis=n[1]},t.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},t.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce(function(t,e){return e.options.allowOverlap||t.push(e.graphic),t},[])},t.chart.labelCollectors.push(t.labelCollector)},t.prototype.setOptions=function(t){this.options=w(this.defaultOptions,t)},t.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),n.redraw.call(this,t)},t.prototype.redrawItems=function(t,e){for(var n=t.length;n--;)this.redrawItem(t[n],e)},t.prototype.renderItems=function(t){for(var e=t.length;e--;)this.renderItem(t[e])},t.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),n.render.call(this)},t.prototype.setVisibility=function(t){var e=this.options,n=D(t,!e.visible);this.graphic.attr("visibility",n?"visible":"hidden"),n||this.setControlPointsVisibility(!1),e.visible=n},t.prototype.setControlPointsVisibility=function(t){var e=function(e){e.setControlPointsVisibility(t)};n.setControlPointsVisibility.call(this,t),this.shapes.forEach(e),this.labels.forEach(e)},t.prototype.destroy=function(){var t=this.chart,e=function(t){t.destroy()};this.labels.forEach(e),this.shapes.forEach(e),this.clipXAxis=null,this.clipYAxis=null,v(t.labelCollectors,this.labelCollector),c.destroy.call(this),n.destroy.call(this),g(this,t)},t.prototype.remove=function(){return this.chart.removeAnnotation(this)},t.prototype.update=function(t,e){var n=this.chart,i=this.getLabelsAndShapesOptions(this.userOptions,t),a=n.annotations.indexOf(this),r=w(!0,this.userOptions,t);r.labels=i.labels,r.shapes=i.shapes,this.destroy(),this.constructor(n,r),n.options.annotations[a]=r,this.isUpdating=!0,D(e,!0)&&n.redraw(),x(this,"afterUpdate"),this.isUpdating=!1},t.prototype.initShape=function(e,n){var i=w(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},e),a=new t.shapesMap[i.type](this,i,n);return a.itemType="shape",this.shapes.push(a),a},t.prototype.initLabel=function(t,e){var n=w(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),i=new s(this,n,e);return i.itemType="label",this.labels.push(i),i},t.prototype.redrawItem=function(t,e){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(D(e,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},t.prototype.adjustVisibility=function(t){var e=!1,n=t.graphic;t.points.forEach(function(t){!1!==t.series.visible&&!1!==t.visible&&(e=!0)}),e?"hidden"===n.visibility&&n.show():n.hide()},t.prototype.destroyItem=function(t){v(this[t.itemType+"s"],t),t.destroy()},t.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},t.ControlPoint=l,t.MockPoint=h,t.shapesMap={rect:i,circle:a,path:r,image:o},t.types={},t}();return w(!0,T.prototype,n,c,w(T.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"black",borderRadius:3,borderWidth:1,className:"",crop:!1,formatter:function(){return y(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{stroke:"black","stroke-width":2,fill:"white"},visible:!1,events:{}},events:{},zIndex:6}})),u.extendAnnotation=function(t,e,n,i){e=e||T,w(!0,t.prototype,e.prototype,n),t.prototype.defaultOptions=w(t.prototype.defaultOptions,i||{})},b(A,{initAnnotation:function(t){var e=new(T.types[t.type]||T)(this,t);return this.annotations.push(e),e},addAnnotation:function(t,e){var n=this.initAnnotation(t);return this.options.annotations.push(n.options),D(e,!0)&&(n.redraw(),n.graphic.attr({opacity:1})),n},removeAnnotation:function(t){var e=this.annotations,n="annotations"===t.coll?t:C(e,function(e){return e.options.id===t});n&&(x(n,"remove"),v(this.options.annotations,n.options),v(e,n),n.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)})}}),A.collectionsWithUpdate.push("annotations"),A.collectionsWithInit.annotations=[A.addAnnotation],A.callbacks.push(function(t){t.annotations=[],t.options.annotations||(t.options.annotations=[]),t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach(function(e,n){var i=t.initAnnotation(e);t.options.annotations[n]=i.options}),t.drawAnnotations(),m(t,"redraw",t.drawAnnotations),m(t,"destroy",function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()}),m(t,"exportData",function(e){var n,i,a,r,o,s,l,c,u=t.annotations,h=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,d=!e.dataRows[1].xValues,p=null===(i=null===(n=t.options.lang)||void 0===n?void 0:n.exportData)||void 0===i?void 0:i.annotationHeader,f=function(t){var e;return h&&!1!==(e=h(t))?e:(e=p+" "+t,d?{columnTitle:e,topLevelColumnTitle:e}:e)},A=e.dataRows[0].length,m=null===(o=null===(r=null===(a=t.options.exporting)||void 0===a?void 0:a.csv)||void 0===r?void 0:r.annotations)||void 0===o?void 0:o.itemDelimiter,y=null===(c=null===(l=null===(s=t.options.exporting)||void 0===s?void 0:s.csv)||void 0===l?void 0:l.annotations)||void 0===c?void 0:c.join;u.forEach(function(t){t.options.labelOptions.includeInDataExport&&t.labels.forEach(function(t){if(t.options.text){var n=t.options.text;t.points.forEach(function(t){var i=t.x,a=t.series.xAxis?t.series.xAxis.options.index:-1,r=!1;if(-1===a){for(var o=e.dataRows[0].length,s=new Array(o),l=0;l<o;++l)s[l]="";s.push(n),s.xValues=[],s.xValues[a]=i,e.dataRows.push(s),r=!0}if(r||e.dataRows.forEach(function(t,e){!r&&t.xValues&&void 0!==a&&i===t.xValues[a]&&(y&&t.length>A?t[t.length-1]+=m+n:t.push(n),r=!0)}),!r){for(o=e.dataRows[0].length,s=new Array(o),l=0;l<o;++l)s[l]="";s[0]=i,s.push(n),s.xValues=[],void 0!==a&&(s.xValues[a]=i),e.dataRows.push(s)}})}})});var g=0;e.dataRows.forEach(function(t){g=Math.max(g,t.length)});for(var v=g-e.dataRows[0].length,b=0;b<v;b++){var C=f(b+1);d?(e.dataRows[0].push(C.topLevelColumnTitle),e.dataRows[1].push(C.columnTitle)):e.dataRows[0].push(C)}})}),B(d.prototype,"onContainerMouseDown",function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))}),u.Annotation=T,T}),n(e,"Extensions/Annotations/Types/BasicAnnotation.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Utilities.js"]],function(t,e,n){var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n.merge,o=function(n){function i(t,e){return n.call(this,t,e)||this}return a(i,n),i.prototype.addControlPoints=function(){var t=this.options,e=i.basicControlPoints,n=this.basicType;(t.labels||t.shapes).forEach(function(t){t.controlPoints=e[n]})},i.prototype.init=function(){var e=this.options;e.shapes?(delete e.labelOptions,"circle"===e.shapes[0].type?this.basicType="circle":this.basicType="rectangle"):(delete e.shapes,this.basicType="label"),t.prototype.init.apply(this,arguments)},i.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(t){if(!t.graphic.placed)return{x:0,y:-9e7};var n=e.pointToPixels(t.points[0]);return{x:n.x-this.graphic.width/2,y:n.y-this.graphic.height/2}},events:{drag:function(t,e){var n=this.mouseMoveToTranslation(t);e.translatePoint(n.x,n.y),e.annotation.userOptions.labels[0].point=e.options.point,e.redraw(!1)}}},{symbol:"square",positioner:function(t){return t.graphic.placed?{x:t.graphic.alignAttr.x-this.graphic.width/2,y:t.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(t,e){var n=this.mouseMoveToTranslation(t);e.translate(n.x,n.y),e.annotation.userOptions.labels[0].point=e.options.point,e.redraw(!1)}}}],rectangle:[{positioner:function(t){var n=e.pointToPixels(t.points[2]);return{x:n.x-4,y:n.y-4}},events:{drag:function(t,e){var n=e.annotation,i=this.chart.pointer.getCoordinates(t),a=i.xAxis[0].value,r=i.yAxis[0].value,o=e.options.points;o[1].x=a,o[2].x=a,o[2].y=r,o[3].y=r,n.userOptions.shapes[0].points=e.options.points,n.redraw(!1)}}}],circle:[{positioner:function(t){var n=e.pointToPixels(t.points[0]),i=t.options.r;return{x:n.x+i*Math.cos(Math.PI/4)-this.graphic.width/2,y:n.y+i*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(t,e){var n=e.annotation,i=this.mouseMoveToTranslation(t);e.setRadius(Math.max(e.options.r+i.y/Math.sin(Math.PI/4),5)),n.userOptions.shapes[0].r=e.options.r,n.userOptions.shapes[0].point=e.options.point,e.redraw(!1)}}}]},i}(t);return o.prototype.defaultOptions=r(t.prototype.defaultOptions,{}),t.types.basicAnnotation=o,o}),n(e,"Extensions/Annotations/Types/CrookedLine.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/ControlPoint.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=i.merge,s=function(t){function n(e,n){return t.call(this,e,n)||this}return r(n,t),n.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},n.prototype.getPointsOptions=function(){var t=this.options.typeOptions;return(t.points||[]).map(function(e){return e.xAxis=t.xAxis,e.yAxis=t.yAxis,e})},n.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},n.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach(function(t,n){var i=new e(this.chart,this,o(this.options.controlPointOptions,t.controlPoint),n);this.controlPoints.push(i),t.controlPoint=i.options},this)},n.prototype.addShapes=function(){var t=this.options.typeOptions,e=this.initShape(o(t.line,{type:"path",points:this.points.map(function(t,e){return function(t){return t.annotation.points[e]}})}),!1);t.line=e.options},n}(t);return s.prototype.defaultOptions=o(t.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(t){var e=this.graphic,i=n.pointToPixels(t.points[this.index]);return{x:i.x-e.width/2,y:i.y-e.height/2}},events:{drag:function(t,e){if(e.chart.isInsidePlot(t.chartX-e.chart.plotLeft,t.chartY-e.chart.plotTop)){var n=this.mouseMoveToTranslation(t);e.translatePoint(n.x,n.y,this.index),e.options.typeOptions.points[this.index].x=e.points[this.index].x,e.options.typeOptions.points[this.index].y=e.points[this.index].y,e.redraw(!1)}}}}}),t.types.crookedLine=s,s}),n(e,"Extensions/Annotations/Types/ElliottWave.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/Types/CrookedLine.js"],e["Core/Utilities.js"]],function(t,e,n){var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n.merge,o=function(t){function e(e,n){return t.call(this,e,n)||this}return a(e,t),e.prototype.addLabels=function(){this.getPointsOptions().forEach(function(t,e){var n=this.options.typeOptions,i=this.initLabel(r(t.label,{text:n.labels[e],point:function(t){return t.annotation.points[e]}}),!1);t.label=i.options},this)},e}(e);return o.prototype.defaultOptions=r(e.prototype.defaultOptions,{typeOptions:{labels:["(0)","(A)","(B)","(C)","(D)","(E)"],line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),t.types.elliottWave=o,o}),n(e,"Extensions/Annotations/Types/Tunnel.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/ControlPoint.js"],e["Extensions/Annotations/Types/CrookedLine.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Utilities.js"]],function(t,e,n,i,a){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=a.merge;function l(t,e,n){return(e.y-t.y)/(e.x-t.x)*(n-t.x)+t.y}var c=function(t){function a(e,n){return t.call(this,e,n)||this}return o(a,t),a.prototype.getPointsOptions=function(){var t=n.prototype.getPointsOptions.call(this);return t[2]=this.heightPointOptions(t[1]),t[3]=this.heightPointOptions(t[0]),t},a.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},a.prototype.heightPointOptions=function(t){var e=s(t),n=this.options.typeOptions;return e.y+=n.height,e},a.prototype.addControlPoints=function(){n.prototype.addControlPoints.call(this);var t=this.options,i=t.typeOptions,a=new e(this.chart,this,s(t.controlPointOptions,i.heightControlPoint),2);this.controlPoints.push(a),i.heightControlPoint=a.options},a.prototype.addShapes=function(){this.addLine(),this.addBackground()},a.prototype.addLine=function(){var t=this.initShape(s(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(t){var e=i.pointToOptions(t.annotation.points[2]);return e.command="M",e},this.points[3]]}),!1);this.options.typeOptions.line=t.options},a.prototype.addBackground=function(){var t=this.initShape(s(this.options.typeOptions.background,{type:"path",points:this.points.slice()}));this.options.typeOptions.background=t.options},a.prototype.translateSide=function(t,e,n){var i=Number(n),a=0===i?3:2;this.translatePoint(t,e,i),this.translatePoint(t,e,a)},a.prototype.translateHeight=function(t){this.translatePoint(0,t,2),this.translatePoint(0,t,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y},a}(n);return c.prototype.defaultOptions=s(n.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(t){var e=i.pointToPixels(t.points[2]),n=i.pointToPixels(t.points[3]),a=(e.x+n.x)/2;return{x:a-this.graphic.width/2,y:l(e,n,a)-this.graphic.height/2}},events:{drag:function(t,e){e.chart.isInsidePlot(t.chartX-e.chart.plotLeft,t.chartY-e.chart.plotTop)&&(e.translateHeight(this.mouseMoveToTranslation(t).y),e.redraw(!1))}}}},controlPointOptions:{events:{drag:function(t,e){if(e.chart.isInsidePlot(t.chartX-e.chart.plotLeft,t.chartY-e.chart.plotTop)){var n=this.mouseMoveToTranslation(t);e.translateSide(n.x,n.y,this.index),e.redraw(!1)}}}}}),t.types.tunnel=c,c}),n(e,"Extensions/Annotations/Types/InfinityLine.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/Types/CrookedLine.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=i.merge,s=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.edgePoint=function(t,i){return function(a){var r=a.annotation,o=r.points,s=r.options.typeOptions.type;return"horizontalLine"===s?o=[o[0],new n(r.chart,o[0].target,{x:o[0].x+1,y:o[0].y,xAxis:o[0].options.xAxis,yAxis:o[0].options.yAxis})]:"verticalLine"===s&&(o=[o[0],new n(r.chart,o[0].target,{x:o[0].x,y:o[0].y+1,xAxis:o[0].options.xAxis,yAxis:o[0].options.yAxis})]),e.findEdgePoint(o[t],o[i])}},e.findEdgeCoordinate=function(t,e,n,i){var a="x"===n?"y":"x";return(e[n]-t[n])*(i-t[a])/(e[a]-t[a])+t[n]},e.findEdgePoint=function(t,i){var a,r,o,s=t.series.xAxis,l=i.series.yAxis,c=n.pointToPixels(t),u=n.pointToPixels(i),h=u.x-c.x,d=u.y-c.y,p=s.left,f=p+s.width,A=l.top,m=A+l.height,y=h<0?p:f,g=d<0?A:m,v={x:0===h?c.x:y,y:0===d?c.y:g};return 0!==h&&0!==d&&(r=e.findEdgeCoordinate(c,u,"y",y),a=e.findEdgeCoordinate(c,u,"x",g),r>=A&&r<=m?(v.x=y,v.y=r):(v.x=a,v.y=g)),v.x-=p,v.y-=A,t.series.chart.inverted&&(o=v.x,v.x=v.y,v.y=o),v},e.prototype.addShapes=function(){var t=this.options.typeOptions,n=[this.points[0],e.endEdgePoint];t.type.match(/Line/g)&&(n[0]=e.startEdgePoint);var i=this.initShape(o(t.line,{type:"path",points:n}),!1);t.line=i.options},e.endEdgePoint=e.edgePoint(0,1),e.startEdgePoint=e.edgePoint(1,0),e}(e);return s.prototype.defaultOptions=o(e.prototype.defaultOptions,{}),t.types.infinityLine=s,s}),n(e,"Extensions/Annotations/Types/Fibonacci.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/MockPoint.js"],e["Extensions/Annotations/Types/Tunnel.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=i.merge,s=function(t,e){return function(){var n,i,a=this.annotation,r=this.anchor(a.startRetracements[t]).absolutePosition,o=this.anchor(a.endRetracements[t]).absolutePosition,s=[["M",Math.round(r.x),Math.round(r.y)],["L",Math.round(o.x),Math.round(o.y)]];return e&&(n=this.anchor(a.endRetracements[t-1]).absolutePosition,i=this.anchor(a.startRetracements[t-1]).absolutePosition,s.push(["L",Math.round(n.x),Math.round(n.y)],["L",Math.round(i.x),Math.round(i.y)])),s}},l=function(t){function n(e,n){return t.call(this,e,n)||this}return r(n,t),n.prototype.linkPoints=function(){t.prototype.linkPoints.call(this),this.linkRetracementsPoints()},n.prototype.linkRetracementsPoints=function(){var t=this.points,e=t[0].y-t[3].y,i=t[1].y-t[2].y,a=t[0].x,r=t[1].x;n.levels.forEach(function(n,o){var s=t[0].y-e*n,l=t[1].y-i*n;this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(o,a,s,this.startRetracements),this.linkRetracementPoint(o,r,l,this.endRetracements)},this)},n.prototype.linkRetracementPoint=function(t,n,i,a){var r=a[t],o=this.options.typeOptions;r?(r.options.x=n,r.options.y=i,r.refresh()):a[t]=new e(this.chart,this,{x:n,y:i,xAxis:o.xAxis,yAxis:o.yAxis})},n.prototype.addShapes=function(){n.levels.forEach(function(t,e){this.initShape({type:"path",d:s(e)},!1),e>0&&this.initShape({type:"path",fill:this.options.typeOptions.backgroundColors[e-1],strokeWidth:0,d:s(e,!0)})},this)},n.prototype.addLabels=function(){n.levels.forEach(function(t,n){var i=this.options.typeOptions,a=this.initLabel(o(i.labels[n],{point:function(t){var i=e.pointToOptions(t.annotation.startRetracements[n]);return i},text:t.toString()}));i.labels[n]=a.options},this)},n.levels=[0,.236,.382,.5,.618,.786,1],n}(n);return l.prototype.defaultOptions=o(n.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:["rgba(130, 170, 255, 0.4)","rgba(139, 191, 216, 0.4)","rgba(150, 216, 192, 0.4)","rgba(156, 229, 161, 0.4)","rgba(162, 241, 130, 0.4)","rgba(169, 255, 101, 0.4)"],lineColor:"grey",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),t.types.fibonacci=l,l}),n(e,"Extensions/Annotations/Types/Pitchfork.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/Types/InfinityLine.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=i.merge,s=function(t){function i(e,n){return t.call(this,e,n)||this}return r(i,t),i.outerLineEdgePoint=function(t){return function(e){var a=e.annotation,r=a.points;return i.findEdgePoint(r[t],r[0],new n(a.chart,e,a.midPointOptions()))}},i.findEdgePoint=function(t,e,n){var i=Math.atan2(n.plotY-e.plotY,n.plotX-e.plotX);return{x:t.plotX+1e7*Math.cos(i),y:t.plotY+1e7*Math.sin(i)}},i.middleLineEdgePoint=function(t){var i=t.annotation,a=i.points;return e.findEdgePoint(a[0],new n(i.chart,t,i.midPointOptions()))},i.prototype.midPointOptions=function(){var t=this.points;return{x:(t[1].x+t[2].x)/2,y:(t[1].y+t[2].y)/2,xAxis:t[0].series.xAxis,yAxis:t[0].series.yAxis}},i.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},i.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],i.middleLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[1],i.topLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[2],i.bottomLineEdgePoint]},!1)},i.prototype.addBackgrounds=function(){var t=this.shapes,e=this.options.typeOptions,n=this.initShape(o(e.innerBackground,{type:"path",points:[function(t){var e=t.annotation,n=e.points,i=e.midPointOptions();return{x:(n[1].x+i.x)/2,y:(n[1].y+i.y)/2,xAxis:i.xAxis,yAxis:i.yAxis}},t[1].points[1],t[2].points[1],function(t){var e=t.annotation,n=e.points,i=e.midPointOptions();return{x:(i.x+n[2].x)/2,y:(i.y+n[2].y)/2,xAxis:i.xAxis,yAxis:i.yAxis}}]})),i=this.initShape(o(e.outerBackground,{type:"path",points:[this.points[1],t[1].points[1],t[2].points[1],this.points[2]]}));e.innerBackground=n.options,e.outerBackground=i.options},i.topLineEdgePoint=i.outerLineEdgePoint(1),i.bottomLineEdgePoint=i.outerLineEdgePoint(0),i}(e);return s.prototype.defaultOptions=o(e.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),t.types.pitchfork=s,s}),n(e,"Extensions/Annotations/Types/VerticalLine.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Utilities.js"]],function(t,e,n){var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n.merge,o=function(t){function n(e,n){return t.call(this,e,n)||this}return a(n,t),n.connectorFirstPoint=function(t){var n=t.annotation,i=n.points[0],a=e.pointToPixels(i,!0),r=a.y,o=n.options.typeOptions.label.offset;return n.chart.inverted&&(r=a.x),{x:i.x,xAxis:i.series.xAxis,y:r+o}},n.connectorSecondPoint=function(t){var n=t.annotation,i=n.options.typeOptions,a=n.points[0],r=i.yOffset,o=e.pointToPixels(a,!0)[n.chart.inverted?"x":"y"];return i.label.offset<0&&(r*=-1),{x:a.x,xAxis:a.series.xAxis,y:o+r}},n.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},n.prototype.addShapes=function(){var t=this.options.typeOptions,e=this.initShape(r(t.connector,{type:"path",points:[n.connectorFirstPoint,n.connectorSecondPoint]}),!1);t.connector=e.options},n.prototype.addLabels=function(){var t=this.options.typeOptions,e=t.label,n=0,i=e.offset,a=e.offset<0?"bottom":"top",o="center";this.chart.inverted&&(n=e.offset,i=0,a="middle",o=e.offset<0?"right":"left");var s=this.initLabel(r(e,{verticalAlign:a,align:o,x:n,y:i}));t.label=s.options},n}(t);return o.prototype.defaultOptions=r(t.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(t){return t.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),t.types.verticalLine=o,o}),n(e,"Extensions/Annotations/Types/Measure.js",[e["Extensions/Annotations/Annotations.js"],e["Extensions/Annotations/ControlPoint.js"],e["Core/Utilities.js"]],function(t,e,n){var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n.extend,o=n.isNumber,s=n.merge,l=function(n){function i(t,e){return n.call(this,t,e)||this}return a(i,n),i.prototype.init=function(e,n,a){t.prototype.init.call(this,e,n,a),this.offsetX=0,this.offsetY=0,this.resizeX=0,this.resizeY=0,i.calculations.init.call(this),this.addValues(),this.addShapes()},i.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},i.prototype.pointsOptions=function(){return this.options.points},i.prototype.shapePointsOptions=function(){var t=this.options.typeOptions,e=t.xAxis,n=t.yAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:e,yAxis:n},{x:this.xAxisMax,y:this.yAxisMin,xAxis:e,yAxis:n},{x:this.xAxisMax,y:this.yAxisMax,xAxis:e,yAxis:n},{x:this.xAxisMin,y:this.yAxisMax,xAxis:e,yAxis:n}]},i.prototype.addControlPoints=function(){var t,n=this.options.typeOptions.selectType;t=new e(this.chart,this,this.options.controlPointOptions,0),this.controlPoints.push(t),"xy"!==n&&(t=new e(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(t))},i.prototype.addValues=function(t){var e=this.options.typeOptions,n=e.label.formatter;i.calculations.recalculate.call(this,t),e.label.enabled&&(this.labels.length>0?this.labels[0].text=n&&n.call(this)||i.calculations.defaultFormatter.call(this):this.initLabel(r({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"dash",overflow:"none",align:"left",vertical:"top",crop:!0,point:function(t){var n=t.annotation,i=n.chart,a=i.inverted,r=i.xAxis[e.xAxis],o=i.yAxis[e.yAxis],s=i.plotTop,l=i.plotLeft;return{x:(a?s:10)+r.toPixels(n.xAxisMin,!a),y:(a?10-l:s)+o.toPixels(n.yAxisMin)}},text:n&&n.call(this)||i.calculations.defaultFormatter.call(this)},e.label)))},i.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},i.prototype.addBackground=function(){void 0!==this.shapePointsOptions()[0].x&&this.initShape(r({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),!1)},i.prototype.addCrosshairs=function(){var t,e,n,i=this.chart,a=this.options.typeOptions,o=this.options.typeOptions.point,l=i.xAxis[a.xAxis],c=i.yAxis[a.yAxis],u=i.inverted,h=l.toPixels(this.xAxisMin),d=l.toPixels(this.xAxisMax),p=c.toPixels(this.yAxisMin),f=c.toPixels(this.yAxisMax),A={point:o,type:"path"},m=[],y=[];u&&(n=h,h=p,p=n,n=d,d=f,f=n),a.crosshairX.enabled&&(m=[["M",h,p+(f-p)/2],["L",d,p+(f-p)/2]]),a.crosshairY.enabled&&(y=[["M",h+(d-h)/2,p],["L",h+(d-h)/2,f]]),this.shapes.length>0?(this.shapes[0].options.d=m,this.shapes[1].options.d=y):(t=s(A,a.crosshairX),e=s(A,a.crosshairY),this.initShape(r({d:m},t),!1),this.initShape(r({d:y},e),!1))},i.prototype.onDrag=function(t){var e=this.mouseMoveToTranslation(t),n=this.options.typeOptions.selectType,i="y"===n?0:e.x,a="x"===n?0:e.y;this.translate(i,a),this.offsetX+=i,this.offsetY+=a,this.redraw(!1,!1,!0)},i.prototype.resize=function(t,e,n,a){var r=this.shapes[2];"x"===a?0===n?(r.translatePoint(t,0,0),r.translatePoint(t,e,3)):(r.translatePoint(t,0,1),r.translatePoint(t,e,2)):"y"===a?0===n?(r.translatePoint(0,e,0),r.translatePoint(0,e,1)):(r.translatePoint(0,e,2),r.translatePoint(0,e,3)):(r.translatePoint(t,0,1),r.translatePoint(t,e,2),r.translatePoint(0,e,3)),i.calculations.updateStartPoints.call(this,!1,!0,n,t,e),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},i.prototype.redraw=function(t,e,n){this.linkPoints(),this.graphic||this.render(),n&&i.calculations.updateStartPoints.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(e),this.addCrosshairs(),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),this.controlPoints.forEach(function(t){t.redraw()})},i.prototype.translate=function(t,e){this.shapes.forEach(function(n){n.translate(t,e)}),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},i.calculations={init:function(){var t=this.options.typeOptions,e=this.chart,n=i.calculations.getPointPos,a=e.inverted,r=e.xAxis[t.xAxis],s=e.yAxis[t.yAxis],l=t.background,c=a?l.height:l.width,u=a?l.width:l.height,h=t.selectType,d=a?r.left:s.top,p=a?s.top:r.left;this.startXMin=t.point.x,this.startYMin=t.point.y,o(c)?this.startXMax=this.startXMin+c:this.startXMax=n(r,this.startXMin,parseFloat(c)),o(u)?this.startYMax=this.startYMin-u:this.startYMax=n(s,this.startYMin,parseFloat(u)),"x"===h?(this.startYMin=s.toValue(d),this.startYMax=s.toValue(d+s.len)):"y"===h&&(this.startXMin=r.toValue(p),this.startXMax=r.toValue(p+r.len))},recalculate:function(t){var e=i.calculations,n=this.options.typeOptions,a=this.chart.xAxis[n.xAxis],r=this.chart.yAxis[n.yAxis],o=i.calculations.getPointPos,s=this.offsetX,l=this.offsetY;this.xAxisMin=o(a,this.startXMin,s),this.xAxisMax=o(a,this.startXMax,s),this.yAxisMin=o(r,this.startYMin,l),this.yAxisMax=o(r,this.startYMax,l),this.min=e.min.call(this),this.max=e.max.call(this),this.average=e.average.call(this),this.bins=e.bins.call(this),t&&this.resize(0,0)},getPointPos:function(t,e,n){return t.toValue(t.toPixels(e)+n)},updateStartPoints:function(t,e,n,a,r){var o=this.options.typeOptions,s=o.selectType,l=this.chart.xAxis[o.xAxis],c=this.chart.yAxis[o.yAxis],u=i.calculations.getPointPos,h=this.startXMin,d=this.startXMax,p=this.startYMin,f=this.startYMax,A=this.offsetX,m=this.offsetY;e&&("x"===s?0===n?this.startXMin=u(l,h,a):this.startXMax=u(l,d,a):"y"===s?0===n?this.startYMin=u(c,p,r):this.startYMax=u(c,f,r):(this.startXMax=u(l,d,a),this.startYMax=u(c,f,r))),t&&(this.startXMin=u(l,h,A),this.startXMax=u(l,d,A),this.startYMin=u(c,p,m),this.startYMax=u(c,f,m),this.offsetX=0,this.offsetY=0)},defaultFormatter:function(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins},getExtremes:function(t,e,n,i){return{xAxisMin:Math.min(e,t),xAxisMax:Math.max(e,t),yAxisMin:Math.min(i,n),yAxisMax:Math.max(i,n)}},min:function(){var t=1/0,e=this.chart.series,n=i.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),a=!1;return e.forEach(function(e){e.visible&&"highcharts-navigator-series"!==e.options.id&&e.points.forEach(function(e){!e.isNull&&e.y<t&&e.x>n.xAxisMin&&e.x<=n.xAxisMax&&e.y>n.yAxisMin&&e.y<=n.yAxisMax&&(t=e.y,a=!0)})}),a||(t=""),t},max:function(){var t=-1/0,e=this.chart.series,n=i.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),a=!1;return e.forEach(function(e){e.visible&&"highcharts-navigator-series"!==e.options.id&&e.points.forEach(function(e){!e.isNull&&e.y>t&&e.x>n.xAxisMin&&e.x<=n.xAxisMax&&e.y>n.yAxisMin&&e.y<=n.yAxisMax&&(t=e.y,a=!0)})}),a||(t=""),t},average:function(){var t="";return""!==this.max&&""!==this.min&&(t=(this.max+this.min)/2),t},bins:function(){var t=0,e=this.chart.series,n=i.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),a=!1;return e.forEach(function(e){e.visible&&"highcharts-navigator-series"!==e.options.id&&e.points.forEach(function(e){!e.isNull&&e.x>n.xAxisMin&&e.x<=n.xAxisMax&&e.y>n.yAxisMin&&e.y<=n.yAxisMax&&(t++,a=!0)})}),a||(t=""),t}},i}(t);return l.prototype.defaultOptions=s(t.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(t){var e,n,i=this.index,a=t.chart,r=t.options,o=r.typeOptions,s=o.selectType,c=r.controlPointOptions,u=a.inverted,h=a.xAxis[o.xAxis],d=a.yAxis[o.yAxis],p=t.xAxisMax,f=t.yAxisMax,A=l.calculations.getExtremes(t.xAxisMin,t.xAxisMax,t.yAxisMin,t.yAxisMax);return"x"===s&&(f=(A.yAxisMax-A.yAxisMin)/2,0===i&&(p=t.xAxisMin)),"y"===s&&(p=A.xAxisMin+(A.xAxisMax-A.xAxisMin)/2,0===i&&(f=t.yAxisMin)),u?(e=d.toPixels(f),n=h.toPixels(p)):(e=h.toPixels(p),n=d.toPixels(f)),{x:e-c.width/2,y:n-c.height/2}},events:{drag:function(t,e){var n=this.mouseMoveToTranslation(t),i=e.options.typeOptions.selectType,a=this.index,r="y"===i?0:n.x,o="x"===i?0:n.y;e.resize(r,o,a,i),e.resizeX+=r,e.resizeY+=o,e.redraw(!1,!0)}}}}),t.types.measure=l,l}),n(e,"Mixins/Navigation.js",[],function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(t,e){this.updates.forEach(function(n){n.update.call(n.context,t,e)})}})},addUpdate:function(t,e){e.navigation||this.initUpdate(e),e.navigation.updates.push({update:t,context:e})}}}),n(e,"Extensions/Annotations/NavigationBindings.js",[e["Extensions/Annotations/Annotations.js"],e["Core/Chart/Chart.js"],e["Mixins/Navigation.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,n,i,a){var r=a.addEvent,o=a.attr,s=(a.extend,a.format),l=a.fireEvent,c=a.isArray,u=a.isFunction,h=a.isNumber,d=a.isObject,p=a.merge,f=a.objectEach,m=a.pick,y=a.setOptions,g=i.doc,v=i.win,b="highcharts-";var C={updateRectSize:function(t,e){var n=e.chart,i=e.options.typeOptions,a=n.pointer.getCoordinates(t),r=a.xAxis[0].value-i.point.x,o=i.point.y-a.yAxis[0].value;e.update({typeOptions:{background:{width:n.inverted?o:r,height:n.inverted?r:o}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[A()(t)]}},x=function(){function t(t,e){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=t,this.options=e,this.eventsToUnbind=[],this.container=g.getElementsByClassName(this.options.bindingsClassName||"")}return t.prototype.initEvents=function(){var t=this,e=t.chart,n=t.container,a=t.options;t.boundClassNames={},f(a.bindings||{},function(e){t.boundClassNames[e.className]=e}),[].forEach.call(n,function(e){t.eventsToUnbind.push(r(e,"click",function(n){var i=t.getButtonEvents(e,n);i&&t.bindingsButtonClick(i.button,i.events,n)}))}),f(a.events||{},function(e,n){u(e)&&t.eventsToUnbind.push(r(t,n,e))}),t.eventsToUnbind.push(r(e.container,"click",function(n){!e.cancelClick&&e.isInsidePlot(n.chartX-e.plotLeft,n.chartY-e.plotTop)&&t.bindingsChartClick(this,n)})),t.eventsToUnbind.push(r(e.container,i.isTouchDevice?"touchmove":"mousemove",function(e){t.bindingsContainerMouseMove(this,e)}))},t.prototype.initUpdate=function(){var t=this;n.addUpdate(function(e){t.update(e)},this.chart)},t.prototype.bindingsButtonClick=function(t,e,n){var i=this.chart;this.selectedButtonElement&&(l(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&i.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),this.selectedButton=e,this.selectedButtonElement=t,l(this,"selectButton",{button:t}),e.init&&e.init.call(this,t,n),(e.start||e.steps)&&i.renderer.boxWrapper.addClass(b+"draw-mode")},t.prototype.bindingsChartClick=function(t,e){t=this.chart;var n=this.selectedButton,i=t.renderer.boxWrapper;this.activeAnnotation&&!e.activeAnnotation&&e.target.parentNode&&!function(t,e){var n=v.Element.prototype,i=n.matches||n.msMatchesSelector||n.webkitMatchesSelector,a=null;if(n.closest)a=n.closest.call(t,e);else do{if(i.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return a}(e.target,"."+b+"popup")&&(l(this,"closePopup"),this.deselectAnnotation()),n&&n.start&&(this.nextEvent?(this.nextEvent(e,this.currentUserDetails),this.steps&&(this.stepIndex++,n.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]:(l(this,"deselectButton",{button:this.selectedButtonElement}),i.removeClass(b+"draw-mode"),n.end&&n.end.call(this,e,this.currentUserDetails),this.nextEvent=!1,this.mouseMoveEvent=!1,this.selectedButton=null))):(this.currentUserDetails=n.start.call(this,e),n.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]):(l(this,"deselectButton",{button:this.selectedButtonElement}),i.removeClass(b+"draw-mode"),this.steps=!1,this.selectedButton=null,n.end&&n.end.call(this,e,this.currentUserDetails))))},t.prototype.bindingsContainerMouseMove=function(t,e){this.mouseMoveEvent&&this.mouseMoveEvent(e,this.currentUserDetails)},t.prototype.fieldsToOptions=function(t,e){return f(t,function(t,n){var i=parseFloat(t),a=n.split("."),r=e,o=a.length-1;!h(i)||t.match(/px/g)||n.match(/format/g)||(t=i),""!==t&&"undefined"!==t&&a.forEach(function(e,n){var i=m(a[n+1],"");o===n?r[e]=t:r[e]?r=r[e]:(r[e]=i.match(/\d/g)?[]:{},r=r[e])})}),e},t.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},t.prototype.annotationToFields=function(e){var n=e.options,i=t.annotationsEditable,a=i.nestedOptions,r=this.utils.getFieldType,o=m(n.type,n.shapes&&n.shapes[0]&&n.shapes[0].type,n.labels&&n.labels[0]&&n.labels[0].itemType,"label"),l=t.annotationsNonEditable[n.langKey]||[],u={langKey:n.langKey,type:o};function h(t,n,i,o){var u;i&&t&&-1===l.indexOf(n)&&((i.indexOf&&i.indexOf(n))>=0||i[n]||!0===i)&&(c(t)?(o[n]=[],t.forEach(function(t,e){d(t)?(o[n][e]={},f(t,function(t,i){h(t,i,a[n],o[n][e])})):h(t,0,a[n],o[n])})):d(t)?(u={},c(o)?(o.push(u),u[n]={},u=u[n]):o[n]=u,f(t,function(t,e){h(t,e,0===n?i:a[n],u)})):"format"===n?o[n]=[s(t,e.labels[0].points[0]).toString(),"text"]:c(o)?o.push([t,r(t)]):o[n]=[t,r(t)])}return f(n,function(t,e){"typeOptions"===e?(u[e]={},f(n[e],function(t,n){h(t,n,a,u[e])})):h(t,e,i[o],u)}),u},t.prototype.getClickedClassNames=function(t,e){for(var n,i=e.target,a=[];i;)if((n=o(i,"class"))&&(a=a.concat(n.split(" ").map(function(t){return[t,i]}))),(i=i.parentNode)===t)return a;return a},t.prototype.getButtonEvents=function(t,e){var n,i=this;return this.getClickedClassNames(t,e).forEach(function(t){i.boundClassNames[t[0]]&&!n&&(n={events:i.boundClassNames[t[0]],button:t[1]})}),n},t.prototype.update=function(t){this.options=p(!0,this.options,t),this.removeEvents(),this.initEvents()},t.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(t){t()})},t.prototype.destroy=function(){this.removeEvents()},t.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},t.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},t}();function w(t){var e=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;p(!0,t.prototype.defaultOptions.events,{click:function(t){var n=this,i=n.chart.navigationBindings,a=i.activeAnnotation;e&&e.call(n,t),a!==n?(i.deselectAnnotation(),i.activeAnnotation=n,n.setControlPointsVisibility(!0),l(i,"showPopup",{annotation:n,formType:"annotation-toolbar",options:i.annotationToFields(n),onSubmit:function(t){var e,a={};"remove"===t.actionType?(i.activeAnnotation=!1,i.chart.removeAnnotation(n)):(i.fieldsToOptions(t.fields,a),i.deselectAnnotation(),e=a.typeOptions,"measure"===n.options.type&&(e.crosshairY.enabled=0!==e.crosshairY.strokeWidth,e.crosshairX.enabled=0!==e.crosshairX.strokeWidth),n.update(a))}})):(i.deselectAnnotation(),l(i,"closePopup")),t.activeAnnotation=!0}})}return x.prototype.utils=C,e.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new x(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},r(e,"load",function(){this.initNavigationBindings()}),r(e,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),r(x,"deselectButton",function(){this.selectedButtonElement=null}),r(t,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),i.Annotation&&(w(t),f(t.types,function(t){w(t)})),y({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t),n=this.chart.options.navigation;return this.chart.addAnnotation(p({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:e.xAxis[0].value,y:e.yAxis[0].value},r:5}]},n.annotationsOptions,n.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,e){var n=e.options.shapes[0].point,i=this.chart.xAxis[0].toPixels(n.x),a=this.chart.yAxis[0].toPixels(n.y),r=this.chart.inverted,o=Math.max(Math.sqrt(Math.pow(r?a-t.chartX:i-t.chartX,2)+Math.pow(r?i-t.chartY:a-t.chartY,2)),5);e.update({shapes:[{r:o}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t),n=this.chart.options.navigation,i=e.xAxis[0].value,a=e.yAxis[0].value;return this.chart.addAnnotation(p({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:i,y:a},{xAxis:0,yAxis:0,x:i,y:a},{xAxis:0,yAxis:0,x:i,y:a},{xAxis:0,yAxis:0,x:i,y:a}]}]},n.annotationsOptions,n.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,e){var n=e.options.shapes[0].points,i=this.chart.pointer.getCoordinates(t),a=i.xAxis[0].value,r=i.yAxis[0].value;n[1].x=a,n[2].x=a,n[2].y=r,n[3].y=r,e.update({shapes:[{points:n}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t),n=this.chart.options.navigation;return this.chart.addAnnotation(p({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:e.xAxis[0].value,y:e.yAxis[0].value},overflow:"none",crop:!0}]},n.annotationsOptions,n.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),x}),n(e,"Extensions/Annotations/Popup.js",[e["Core/Globals.js"],e["Extensions/Annotations/NavigationBindings.js"],e["Core/Pointer.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a=i.addEvent,r=i.createElement,o=i.defined,s=i.getOptions,l=i.isArray,c=i.isObject,u=i.isString,h=i.objectEach,d=i.pick,p=/\d/g,f="highcharts-",A="div",m="input",y="label",g="span";(0,i.wrap)(n.prototype,"onContainerMouseDown",function(t,e){var n=e.target&&e.target.className;u(n)&&n.indexOf(f+"popup-field")>=0||t.apply(this,Array.prototype.slice.call(arguments,1))}),t.Popup=function(t,e){this.init(t,e)},t.Popup.prototype={init:function(t,e){this.container=r(A,{className:f+"popup"},null,t),this.lang=this.getLangpack(),this.iconsURL=e,this.addCloseBtn()},addCloseBtn:function(){var t,e=this;(t=r(A,{className:f+"popup-close"},null,this.container)).style["background-image"]="url("+this.iconsURL+"close.svg)",["click","touchstart"].forEach(function(n){a(t,n,function(){e.closePopup()})})},addColsContainer:function(t){var e,n;return n=r(A,{className:f+"popup-lhs-col"},null,t),e=r(A,{className:f+"popup-rhs-col"},null,t),r(A,{className:f+"popup-rhs-col-wrapper"},null,e),{lhsCol:n,rhsCol:e}},addInput:function(t,e,n,i){var a=t.split("."),o=a[a.length-1],s=this.lang,l=f+e+"-"+o;l.match(p)||r(y,{innerHTML:s[o]||o,htmlFor:l},null,n),r(m,{name:l,value:i[0],type:i[1],className:f+"popup-field"},null,n).setAttribute(f+"data-name",t)},addButton:function(t,e,n,i,o){var s,l=this,c=this.closePopup,u=this.getFields;return s=r("button",{innerHTML:e},null,t),["click","touchstart"].forEach(function(t){a(s,t,function(){return c.call(l),i(u(o,n))})}),s},getFields:function(t,e){var n,i,a=t.querySelectorAll("input"),r=t.querySelectorAll("#highcharts-select-series > option:checked")[0],o=t.querySelectorAll("#highcharts-select-volume > option:checked")[0];return i={actionType:e,linkedTo:r&&r.getAttribute("value"),fields:{}},[].forEach.call(a,function(t){n=t.getAttribute(f+"data-name"),t.getAttribute(f+"data-series-id")?i.seriesId=t.value:n?i.fields[n]=t.value:i.type=t.value}),o&&(i.fields["params.volumeSeriesID"]=o.getAttribute("value")),i},showPopup:function(){var t=this.container,e=f+"annotation-toolbar",n=t.querySelectorAll("."+f+"popup-close")[0];t.innerHTML="",t.className.indexOf(e)>=0&&(t.classList.remove(e),t.removeAttribute("style")),t.appendChild(n),t.style.display="block"},closePopup:function(){this.popup.container.style.display="none"},showForm:function(t,e,n,i){this.popup=e.navigationBindings.popup,this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,e,n,i),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,e,n,i),"annotation-edit"===t&&this.annotations.addForm.call(this,e,n,i),"flag"===t&&this.annotations.addForm.call(this,e,n,i,!0)},getLangpack:function(){return s().lang.navigation.popup},annotations:{addToolbar:function(t,e,n){var i,a=this,o=this.lang,s=this.popup.container,l=this.showForm,c=f+"annotation-toolbar";-1===s.className.indexOf(c)&&(s.className+=" "+c),s.style.top=t.plotTop+10+"px",r(g,{innerHTML:d(o[e.langKey]||e.langKey,e.shapes&&e.shapes[0].type)},null,s),(i=this.addButton(s,o.removeButton||"remove","remove",n,s)).className+=" "+f+"annotation-remove-button",i.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(i=this.addButton(s,o.editButton||"edit","edit",function(){l.call(a,"annotation-edit",t,e,n)},s)).className+=" "+f+"annotation-edit-button",i.style["background-image"]="url("+this.iconsURL+"edit.svg)"},addForm:function(t,e,n,i){var a,o,s=this.popup.container,l=this.lang;r("h2",{innerHTML:l[e.langKey]||e.langKey,className:f+"popup-main-title"},null,s),o=r(A,{className:f+"popup-lhs-col "+f+"popup-lhs-full"},null,s),a=r(A,{className:f+"popup-bottom-row"},null,s),this.annotations.addFormFields.call(this,o,t,"",e,[],!0),this.addButton(a,i?l.addButton||"add":l.saveButton||"save",i?"add":"save",n,s)},addFormFields:function(t,e,n,i,a,o){var s,u,d=this,A=this.annotations.addFormFields,m=this.addInput,y=this.lang;h(i,function(i,r){s=""!==n?n+"."+r:r,c(i)&&(!l(i)||l(i)&&c(i[0])?((u=y[r]||r).match(p)||a.push([!0,u,t]),A.call(d,t,e,s,i,a,!1)):a.push([d,s,"annotation",t,i]))}),o&&(a=a.sort(function(t){return t[1].match(/format/g)?-1:1})).forEach(function(t){!0===t[0]?r(g,{className:f+"annotation-title",innerHTML:t[1]},null,t[2]):m.apply(t[0],t.splice(1))})}},indicators:{addForm:function(t,e,n){var i,a,r=this.indicators,o=this.lang;this.tabs.init.call(this,t),i=this.popup.container.querySelectorAll("."+f+"tab-item-content"),this.addColsContainer(i[0]),r.addIndicatorList.call(this,t,i[0],"add"),a=i[0].querySelectorAll("."+f+"popup-rhs-col")[0],this.addButton(a,o.addButton||"add","add",n,a),this.addColsContainer(i[1]),r.addIndicatorList.call(this,t,i[1],"edit"),a=i[1].querySelectorAll("."+f+"popup-rhs-col")[0],this.addButton(a,o.saveButton||"save","edit",n,a),this.addButton(a,o.removeButton||"remove","remove",n,a)},addIndicatorList:function(t,e,n){var i,o,s,l=this,c=e.querySelectorAll("."+f+"popup-lhs-col")[0],u=e.querySelectorAll("."+f+"popup-rhs-col")[0],d="edit"===n,p=d?t.series:t.options.plotOptions,A=this.indicators.addFormFields;o=r("ul",{className:f+"indicator-list"},null,c),i=u.querySelectorAll("."+f+"popup-rhs-col-wrapper")[0],h(p,function(e,n){var c=e.options;if(e.params||c&&c.params){var u=l.indicators.getNameType(e,n),h=u.type;s=r("li",{className:f+"indicator-list",innerHTML:u.name},null,o),["click","touchstart"].forEach(function(n){a(s,n,function(){A.call(l,t,d?e:p[h],u.type,i),d&&e.options&&r(m,{type:"hidden",name:f+"id-"+h,value:e.options.id},null,i).setAttribute(f+"data-series-id",e.options.id)})})}}),o.childNodes.length>0&&o.childNodes[0].click()},getNameType:function(e,n){var i=e.options,a=t.seriesTypes,r=a[n]&&a[n].prototype.nameBase||n.toUpperCase(),o=n;return i&&i.type&&(o=e.options.type,r=e.name),{name:r,type:o}},listAllSeries:function(t,e,n,i,a){var s,l,c=f+e+"-type-"+t,u=this.lang;r(y,{innerHTML:u[e]||e,htmlFor:c},null,i),(s=r("select",{name:c,className:f+"popup-field"},null,i)).setAttribute("id",f+"select-"+e),n.series.forEach(function(t){!(l=t.options).params&&l.id&&l.id!==f+"navigator-series"&&r("option",{innerHTML:l.name||l.id,value:l.id},null,s)}),o(a)&&(s.value=a)},addFormFields:function(t,e,n,i){var a=e.params||e.options.params,o=this.indicators.getNameType;i.innerHTML="",r("h3",{className:f+"indicator-title",innerHTML:o(e,n).name},null,i),r(m,{type:"hidden",name:f+"type-"+n,value:n},null,i),this.indicators.listAllSeries.call(this,n,"series",t,i,e.linkedParent&&a.volumeSeriesID),a.volumeSeriesID&&this.indicators.listAllSeries.call(this,n,"volume",t,i,e.linkedParent&&e.linkedParent.options.id),this.indicators.addParamInputs.call(this,t,"params",a,n,i)},addParamInputs:function(t,e,n,i,a){var r,o=this,s=this.indicators.addParamInputs,l=this.addInput;h(n,function(n,u){r=e+"."+u,c(n)?s.call(o,t,r,n,i,a):"params.volumeSeriesID"!==r&&l.call(o,r,i,a,[n,"text"])})},getAmount:function(){var t=0;return this.series.forEach(function(e){var n=e.options;(e.params||n&&n.params)&&t++}),t}},tabs:{init:function(t){var e,n=this.tabs,i=this.indicators.getAmount.call(t);e=n.addMenuItem.call(this,"add"),n.addMenuItem.call(this,"edit",i),n.addContentItem.call(this,"add"),n.addContentItem.call(this,"edit"),n.switchTabs.call(this,i),n.selectTab.call(this,e,0)},addMenuItem:function(t,e){var n,i=this.popup.container,a=f+"tab-item",o=this.lang;return 0===e&&(a+=" "+f+"tab-disabled"),(n=r(g,{innerHTML:o[t+"Button"]||t,className:a},null,i)).setAttribute(f+"data-tab-type",t),n},addContentItem:function(){var t=this.popup.container;return r(A,{className:f+"tab-item-content"},null,t)},switchTabs:function(t){var e=this;this.popup.container.querySelectorAll("."+f+"tab-item").forEach(function(n,i){"edit"===n.getAttribute(f+"data-tab-type")&&0===t||["click","touchstart"].forEach(function(t){a(n,t,function(){e.tabs.deselectAll.call(e),e.tabs.selectTab.call(e,this,i)})})})},selectTab:function(t,e){var n=this.popup.container.querySelectorAll("."+f+"tab-item-content");t.className+=" "+f+"tab-item-active",n[e].className+=" "+f+"tab-item-show"},deselectAll:function(){var t,e=this.popup.container,n=e.querySelectorAll("."+f+"tab-item"),i=e.querySelectorAll("."+f+"tab-item-content");for(t=0;t<n.length;t++)n[t].classList.remove(f+"tab-item-active"),i[t].classList.remove(f+"tab-item-show")}}},a(e,"showPopup",function(e){this.popup||(this.popup=new t.Popup(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/8.2.2/gfx/stock-icons/")),this.popup.showForm(e.formType,this.chart,e.options,e.onSubmit)}),a(e,"closePopup",function(){this.popup&&this.popup.closePopup()})}),n(e,"masters/modules/annotations-advanced.src.js",[],function(){})},"object"===A()(t)&&t.exports?(e.default=e,t.exports=e):"function"==typeof define&&n(37)?define("highcharts/modules/annotations-advanced",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}).call(this,n(48)(t))},function(t,e,n){"use strict";n(113)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";(function(t){var e,i=n(55),a=(n.n(i),n(57)),r=(n.n(a),n(12)),o=(n.n(r),n(4));e=function(t){var e=t?t._modules:{};function n(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}n(e,"Extensions/BoostCanvas.js",[e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Series/LineSeries.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],function(t,e,n,i,a,r){var o,s=e.parse,l=n.doc,c=n.noop,u=r.addEvent,h=r.extend,d=r.fireEvent,p=r.isNumber,f=r.merge,A=r.pick,m=r.wrap,y=a.seriesTypes;return function(){n.seriesTypes.heatmap&&m(n.seriesTypes.heatmap.prototype,"drawPoints",function(){var t=this.chart,e=this.getContext(),n=this.chart.inverted,i=this.xAxis,a=this.yAxis;e?(this.points.forEach(function(r){var o,s,l=r.plotY;void 0===l||isNaN(l)||null===r.y||(o=r.shapeArgs,s=t.styledMode?r.series.colorAttribs(r):r.series.pointAttribs(r),e.fillStyle=s.fill,n?e.fillRect(a.len-o.y+i.left,i.len-o.x+a.top,-o.height,-o.width):e.fillRect(o.x+i.left,o.y+a.top,o.width,o.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}),h(i.prototype,{getContext:function(){var t,e=this.chart,i=e.chartWidth,a=e.chartHeight,r=e.seriesGroup||this.group,o=this,s=function(t,e,n,i,a,r,o){t.call(this,n,e,i,a,r,o)};return e.isChartSeriesBoosting()&&(o=e,r=e.seriesGroup),t=o.ctx,o.canvas?n.Chart:(o.canvas=l.createElement("canvas"),o.renderTarget=e.renderer.image("",0,0,i,a).addClass("highcharts-boost-canvas").add(r),o.ctx=t=o.canvas.getContext("2d"),e.inverted&&["moveTo","lineTo","rect","arc"].forEach(function(e){m(t,e,s)}),o.boostCopy=function(){o.renderTarget.attr({href:o.canvas.toDataURL("image/png")})},o.boostClear=function(){t.clearRect(0,0,o.canvas.width,o.canvas.height),o===this&&o.renderTarget.attr({href:""})},o.boostClipRect=e.renderer.clipRect(),o.renderTarget.clip(o.boostClipRect)),o.canvas.width!==i&&(o.canvas.width=i),o.canvas.height!==a&&(o.canvas.height=a),o.renderTarget.attr({x:0,y:0,width:i,height:a,style:"pointer-events: none",href:""}),o.boostClipRect.attr(e.getBoostClipRect(o)),t},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear&&this.boostClear():(this.boostCopy||this.chart.boostCopy)&&(this.boostCopy||this.chart.boostCopy)()},cvsLineTo:function(t,e,n){t.lineTo(e,n)},renderCanvas:function(){var t,i,a,l,m,y,g,v,b,C,x=this,w=x.options,D=x.chart,I=this.xAxis,B=this.yAxis,T=D.options.boost||{},S=(T.timeRendering,T.timeSeriesProcessing,T.timeSetup,0),M=x.processedXData,E=x.processedYData,k=w.data,F=I.getExtremes(),O=F.min,L=F.max,U=B.getExtremes(),P=U.min,R=U.max,H={},Q=!!x.sampling,_=w.marker&&w.marker.radius,N=this.cvsDrawPoint,j=w.lineWidth?this.cvsLineTo:void 0,Y=_&&_<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,z=this.cvsStrokeBatch||1e3,G=!1!==w.enableMouseTracking,V=w.threshold,K=B.getThreshold(V),W=p(V),X=K,q=this.fill,J=x.pointArrayMap&&"low,high"===x.pointArrayMap.join(","),Z=!!w.stacking,$=x.cropStart||0,tt=D.options.loading,et=x.requireSorting,nt=w.connectNulls,it=!M,at=Z?x.data:M||k,rt=x.fillOpacity?new e(x.color).setOpacity(A(w.fillOpacity,.75)).get():x.color,ot=function(){q?(t.fillStyle=rt,t.fill()):(t.strokeStyle=x.color,t.lineWidth=w.lineWidth,t.stroke())},st=function(e,n,i,a){0===S&&(t.beginPath(),j&&(t.lineJoin="round")),D.scroller&&"highcharts-navigator-series"===x.options.className?(n+=D.scroller.top,i&&(i+=D.scroller.top)):n+=D.plotTop,e+=D.plotLeft,m?t.moveTo(e,n):N?N(t,e,n,i,l):j?j(t,e,n):Y&&Y.call(x,t,e,n,_,a),(S+=1)===z&&(ot(),S=0),l={clientX:e,plotY:n,yBottom:i}},lt="x"===w.findNearestPointBy,ct=this.xData||this.options.xData||this.processedXData||!1,ut=function(t,e,n){C=lt?t:t+","+e,G&&!H[C]&&(H[C]=!0,D.inverted&&(t=I.len-t,e=B.len-e),a.push({x:!!ct&&ct[$+n],clientX:t,plotX:t,plotY:e,i:$+n}))};this.renderTarget&&this.renderTarget.attr({href:""}),(this.points||this.graph)&&this.destroyGraphics(),x.plotGroup("group","series",x.visible?"visible":"hidden",w.zIndex,D.seriesGroup),x.markerGroup=x.group,u(x,"destroy",function(){x.markerGroup=null}),a=this.points=[],t=this.getContext(),x.buildKDTree=c,this.boostClear&&this.boostClear(),this.visible&&(k.length>99999&&(D.options.loading=f(tt,{labelStyle:{backgroundColor:s("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),r.clearTimeout(o),D.showLoading("Drawing..."),D.options.loading=tt),n.eachAsync(at,function(t,e){var n,a,r,o,s,l,c=!1,u=!1,h=!1,d=!1,p=void 0===D.index,f=!0;return p||(it?(n=t[0],a=t[1],at[e+1]&&(h=at[e+1][0]),at[e-1]&&(d=at[e-1][0])):(n=t,a=E[e],at[e+1]&&(h=at[e+1]),at[e-1]&&(d=at[e-1])),h&&h>=O&&h<=L&&(c=!0),d&&d>=O&&d<=L&&(u=!0),J?(it&&(a=t.slice(1,3)),l=a[0],a=a[1]):Z&&(n=t.x,l=(a=t.stackY)-t.y),et||(f=a>=P&&a<=R),!(s=null===a)&&(n>=O&&n<=L&&f||c||u)&&(r=Math.round(I.toPixels(n,!0)),Q?(void 0!==v&&r!==i||(J||(l=a),(void 0===b||a>g)&&(g=a,b=e),(void 0===v||l<y)&&(y=l,v=e)),r!==i&&(void 0!==v&&(o=B.toPixels(g,!0),K=B.toPixels(y,!0),st(r,W?Math.min(o,X):o,W?Math.max(K,X):K,e),ut(r,o,b),K!==o&&ut(r,K,v)),v=b=void 0,i=r)):(o=Math.round(B.toPixels(a,!0)),st(r,o,K,e),ut(r,o,e))),m=s&&!nt,e%5e4==0&&(x.boostCopy||x.chart.boostCopy)&&(x.boostCopy||x.chart.boostCopy)()),!p},function(){var t=D.loadingDiv,e=D.loadingShown;ot(),x.canvasToSVG(),d(x,"renderedCanvas"),e&&(h(t.style,{transition:"opacity 250ms",opacity:0}),D.loadingShown=!1,o=setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),D.loadingDiv=D.loadingSpan=null},250)),delete x.buildKDTree,x.buildKDTree()},D.renderer.forExport?Number.MAX_VALUE:void 0))}}),y.scatter.prototype.cvsMarkerCircle=function(t,e,n,i){t.moveTo(e,n),t.arc(e,n,i,0,2*Math.PI,!1)},y.scatter.prototype.cvsMarkerSquare=function(t,e,n,i){t.rect(e-i,n-i,2*i,2*i)},y.scatter.prototype.fill=!0,y.bubble&&(y.bubble.prototype.cvsMarkerCircle=function(t,e,n,i,a){t.moveTo(e,n),t.arc(e,n,this.radii&&this.radii[a],0,2*Math.PI,!1)},y.bubble.prototype.cvsStrokeBatch=1),h(y.area.prototype,{cvsDrawPoint:function(t,e,n,i,a){a&&e!==a.clientX&&(t.moveTo(a.clientX,a.yBottom),t.lineTo(a.clientX,a.plotY),t.lineTo(e,n),t.lineTo(e,i))},fill:!0,fillOpacity:!0,sampling:!0}),h(y.column.prototype,{cvsDrawPoint:function(t,e,n,i){t.rect(e-1,n,1,i-n)},fill:!0,sampling:!0}),t.prototype.callbacks.push(function(t){u(t,"predraw",function(){t.renderTarget&&t.renderTarget.attr({href:""}),t.canvas&&t.canvas.getContext("2d").clearRect(0,0,t.canvas.width,t.canvas.height)}),u(t,"render",function(){t.boostCopy&&t.boostCopy()})})}}),n(e,"masters/modules/boost-canvas.src.js",[],function(){})},"object"===n.n(o)()(t)&&t.exports?(e.default=e,t.exports=e):"function"==typeof define&&n(37)?define("highcharts/modules/boost-canvas",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}).call(this,n(48)(t))},function(t,e,n){"use strict";(function(t){var e,i=n(57),a=(n.n(i),n(114)),r=(n.n(a),n(55)),o=(n.n(r),n(12)),s=(n.n(o),n(4)),l=n.n(s),c=n(0);e=function(t){var e=t?t._modules:{};function n(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}n(e,"Extensions/Boost/Boostables.js",[],function(){return["area","arearange","column","columnrange","bar","line","scatter","heatmap","bubble","treemap"]}),n(e,"Extensions/Boost/BoostableMap.js",[e["Extensions/Boost/Boostables.js"]],function(t){var e={};return t.forEach(function(t){e[t]=1}),e}),n(e,"Extensions/Boost/WGLShader.js",[e["Core/Utilities.js"]],function(t){var e=t.clamp,n=t.error,i=t.pick;return function(t){var a,r,o,s,l,c,u,h,d,p,f,A=["#version 100","#define LN10 2.302585092994046","precision highp float;","attribute vec4 aVertexPosition;","attribute vec4 aColor;","varying highp vec2 position;","varying highp vec4 vColor;","uniform mat4 uPMatrix;","uniform float pSize;","uniform float translatedThreshold;","uniform bool hasThreshold;","uniform bool skipTranslation;","uniform float xAxisTrans;","uniform float xAxisMin;","uniform float xAxisMinPad;","uniform float xAxisPointRange;","uniform float xAxisLen;","uniform bool  xAxisPostTranslate;","uniform float xAxisOrdinalSlope;","uniform float xAxisOrdinalOffset;","uniform float xAxisPos;","uniform bool  xAxisCVSCoord;","uniform bool  xAxisIsLog;","uniform bool  xAxisReversed;","uniform float yAxisTrans;","uniform float yAxisMin;","uniform float yAxisMinPad;","uniform float yAxisPointRange;","uniform float yAxisLen;","uniform bool  yAxisPostTranslate;","uniform float yAxisOrdinalSlope;","uniform float yAxisOrdinalOffset;","uniform float yAxisPos;","uniform bool  yAxisCVSCoord;","uniform bool  yAxisIsLog;","uniform bool  yAxisReversed;","uniform bool  isBubble;","uniform bool  bubbleSizeByArea;","uniform float bubbleZMin;","uniform float bubbleZMax;","uniform float bubbleZThreshold;","uniform float bubbleMinSize;","uniform float bubbleMaxSize;","uniform bool  bubbleSizeAbs;","uniform bool  isInverted;","float bubbleRadius(){","float value = aVertexPosition.w;","float zMax = bubbleZMax;","float zMin = bubbleZMin;","float radius = 0.0;","float pos = 0.0;","float zRange = zMax - zMin;","if (bubbleSizeAbs){","value = value - bubbleZThreshold;","zMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);","zMin = 0.0;","}","if (value < zMin){","radius = bubbleZMin / 2.0 - 1.0;","} else {","pos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;","if (bubbleSizeByArea && pos > 0.0){","pos = sqrt(pos);","}","radius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;","}","return radius * 2.0;","}","float translate(float val,","float pointPlacement,","float localA,","float localMin,","float minPixelPadding,","float pointRange,","float len,","bool  cvsCoord,","bool  isLog,","bool  reversed","){","float sign = 1.0;","float cvsOffset = 0.0;","if (cvsCoord) {","sign *= -1.0;","cvsOffset = len;","}","if (isLog) {","val = log(val) / LN10;","}","if (reversed) {","sign *= -1.0;","cvsOffset -= sign * len;","}","return sign * (val - localMin) * localA + cvsOffset + ","(sign * minPixelPadding);","}","float xToPixels(float value) {","if (skipTranslation){","return value;// + xAxisPos;","}","return translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;","}","float yToPixels(float value, float checkTreshold) {","float v;","if (skipTranslation){","v = value;// + yAxisPos;","} else {","v = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;","if (v > yAxisLen) {","v = yAxisLen;","}","}","if (checkTreshold > 0.0 && hasThreshold) {","v = min(v, translatedThreshold);","}","return v;","}","void main(void) {","if (isBubble){","gl_PointSize = bubbleRadius();","} else {","gl_PointSize = pSize;","}","vColor = aColor;","if (skipTranslation && isInverted) {","gl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);","} else if (isInverted) {","gl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);","} else {","gl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);","}","}"].join("\n"),m=["precision highp float;","uniform vec4 fillColor;","varying highp vec2 position;","varying highp vec4 vColor;","uniform sampler2D uSampler;","uniform bool isCircle;","uniform bool hasColor;","void main(void) {","vec4 col = fillColor;","vec4 tcol = texture2D(uSampler, gl_PointCoord.st);","if (hasColor) {","col = vColor;","}","if (isCircle) {","col *= tcol;","if (tcol.r < 0.0) {","discard;","} else {","gl_FragColor = col;","}","} else {","gl_FragColor = col;","}","}"].join("\n"),y={},g=[];function v(){g.length&&n("[highcharts boost] shader error - "+g.join("\n"))}function b(e,n){var i="vertex"===n?t.VERTEX_SHADER:t.FRAGMENT_SHADER,a=t.createShader(i);return t.shaderSource(a,e),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)?a:(g.push("when compiling "+n+" shader:\n"+t.getShaderInfoLog(a)),!1)}function C(){var e=b(A,"vertex"),n=b(m,"fragment");if(!e||!n)return a=!1,v(),!1;function i(e){return t.getUniformLocation(a,e)}return a=t.createProgram(),t.attachShader(a,e),t.attachShader(a,n),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)?(t.useProgram(a),t.bindAttribLocation(a,0,"aVertexPosition"),r=i("uPMatrix"),o=i("pSize"),s=i("fillColor"),l=i("isBubble"),c=i("bubbleSizeAbs"),u=i("bubbleSizeByArea"),f=i("uSampler"),h=i("skipTranslation"),d=i("isCircle"),p=i("isInverted"),!0):(g.push(t.getProgramInfoLog(a)),v(),a=!1,!1)}function x(e,n){if(t&&a){var i=y[e]=y[e]||t.getUniformLocation(a,e);t.uniform1f(i,n)}}return!(t&&!C())&&{psUniform:function(){return o},pUniform:function(){return r},fillColorUniform:function(){return s},setBubbleUniforms:function(n,r,o){var s=n.options,h=Number.MAX_VALUE,p=-Number.MAX_VALUE;t&&a&&"bubble"===n.type&&(h=i(s.zMin,e(r,!1===s.displayNegative?s.zThreshold:-Number.MAX_VALUE,h)),p=i(s.zMax,Math.max(p,o)),t.uniform1i(l,1),t.uniform1i(d,1),t.uniform1i(u,"width"!==n.options.sizeBy),t.uniform1i(c,n.options.sizeByAbsoluteValue),x("bubbleZMin",h),x("bubbleZMax",p),x("bubbleZThreshold",n.options.zThreshold),x("bubbleMinSize",n.minPxSize),x("bubbleMaxSize",n.maxPxSize))},bind:function(){t&&a&&t.useProgram(a)},program:function(){return a},create:C,setUniform:x,setPMatrix:function(e){t&&a&&t.uniformMatrix4fv(r,!1,e)},setColor:function(e){t&&a&&t.uniform4f(s,e[0]/255,e[1]/255,e[2]/255,e[3])},setPointSize:function(e){t&&a&&t.uniform1f(o,e)},setSkipTranslation:function(e){t&&a&&t.uniform1i(h,!0===e?1:0)},setTexture:function(e){t&&a&&t.uniform1i(f,e)},setDrawAsCircle:function(e){t&&a&&t.uniform1i(d,e?1:0)},reset:function(){t&&a&&(t.uniform1i(l,0),t.uniform1i(d,0))},setInverted:function(e){t&&a&&t.uniform1i(p,e)},destroy:function(){t&&a&&(t.deleteProgram(a),a=!1)}}}}),n(e,"Extensions/Boost/WGLVBuffer.js",[],function(){return function(t,e,n){var i,a=!1,r=!1,o=n||2,s=!1,l=0;function c(){a&&(t.deleteBuffer(a),a=!1,r=!1),l=0,o=n||2,i=[]}return{destroy:c,bind:function(){if(!a)return!1;t.vertexAttribPointer(r,o,t.FLOAT,!1,0,0)},data:i,build:function(n,l,u){var h;return(i=n||[])&&0!==i.length||s?(o=u||o,a&&t.deleteBuffer(a),s||(h=new Float32Array(i)),a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,s||h,t.STATIC_DRAW),r=t.getAttribLocation(e.program(),l),t.enableVertexAttribArray(r),h=!1,!0):(c(),!1)},render:function(e,n,r){var l=s?s.length:i.length;return!!a&&!!l&&((!e||e>l||e<0)&&(e=0),(!n||n>l)&&(n=l),r=r||"points",t.drawArrays(t[r.toUpperCase()],e/o,(n-e)/o),!0)},allocate:function(t){l=-1,s=new Float32Array(t*=4)},push:function(t,e,n,i){s&&(s[++l]=t,s[++l]=e,s[++l]=n,s[++l]=i)}}}}),n(e,"Extensions/Boost/WGLRenderer.js",[e["Core/Color/Color.js"],e["Extensions/Boost/WGLShader.js"],e["Extensions/Boost/WGLVBuffer.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,n,i,a){var r=t.parse,o=i.doc,s=a.isNumber,l=a.isObject,c=a.merge,u=a.objectEach,h=a.pick;return function(a){var d=!1,p=!1,f=!1,A=0,m=0,y=!1,g=!1,v={},b=!1,C=[],x={},w={column:!0,columnrange:!0,bar:!0,area:!0,arearange:!0},D={scatter:!0,bubble:!0},I={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}};function B(t){var e,n,i;return t.isSeriesBoosting?(e=!!t.options.stacking,n=t.xData||t.options.xData||t.processedXData,i=(e?t.data:n||t.options.data).length,"treemap"===t.type?i*=12:"heatmap"===t.type?i*=6:w[t.type]&&(i*=2),i):0}function T(t,e){return[2/t,0,0,0,0,-2/e,0,0,0,0,-2,0,-1,1,-1,1]}function S(){f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)}function M(e,n){var i,a,o,s,c,u,h,d=e.pointArrayMap&&"low,high"===e.pointArrayMap.join(","),f=e.chart,A=e.options,m=!!A.stacking,g=A.data,v=e.xAxis.getExtremes(),b=v.min,C=v.max,x=e.yAxis.getExtremes(),D=x.min,B=x.max,T=e.xData||A.xData||e.processedXData,S=e.yData||A.yData||e.processedYData,M=e.zData||A.zData||e.processedZData,E=e.yAxis,k=e.xAxis,F=e.chart.plotWidth,O=!T||0===T.length,L=A.connectNulls,U=e.points||!1,P=!1,R=!1,H=m?e.data:T||g,Q={x:Number.MAX_VALUE,y:0},_={x:-Number.MAX_VALUE,y:0},N=!1,j=-1,Y=!1,z=!1,G=void 0===f.index,V=!1,K=!1,W=!1,X=w[e.type],q=!1,J=!0,Z=!0,$=A.zones||!1,tt=!1,et=A.threshold,nt=!1;if(!(A.boostData&&A.boostData.length>0)){if(A.gapSize&&(nt="value"!==A.gapUnit?A.gapSize*e.closestPointRange:A.gapSize),$&&($.some(function(e){return void 0===e.value&&(tt=new t(e.color),!0)}),tt||(tt=e.pointAttribs&&e.pointAttribs().fill||e.color,tt=new t(tt))),f.inverted&&(F=e.chart.plotHeight),e.closestPointRangePx=Number.MAX_VALUE,lt(),U&&U.length>0)return n.skipTranslation=!0,n.drawMode="triangles",U[0].node&&U[0].node.levelDynamic&&U.sort(function(t,e){if(t.node){if(t.node.levelDynamic>e.node.levelDynamic)return 1;if(t.node.levelDynamic<e.node.levelDynamic)return-1}return 0}),U.forEach(function(t){var n,i,o,s=t.plotY;void 0===s||isNaN(s)||null===t.y||(n=t.shapeArgs,i=(o=f.styledMode?t.series.colorAttribs(t):o=t.series.pointAttribs(t))["stroke-width"]||0,(W=r(o.fill).rgba)[0]/=255,W[1]/=255,W[2]/=255,"treemap"===e.type&&(i=i||1,(a=r(o.stroke).rgba)[0]/=255,a[1]/=255,a[2]/=255,ct(n.x,n.y,n.width,n.height,a),i/=2),"heatmap"===e.type&&f.inverted&&(n.x=k.len-n.x,n.y=E.len-n.y,n.width=-n.width,n.height=-n.height),ct(n.x+i,n.y+i,n.width-2*i,n.height-2*i,W))}),void st();for(;j<H.length-1&&(c=H[++j],!G);){var it=g&&g[j];if(!O&&l(it,!0)&&it.color&&((W=r(it.color).rgba)[0]/=255,W[1]/=255,W[2]/=255),O?(o=c[0],s=c[1],H[j+1]&&(z=H[j+1][0]),H[j-1]&&(Y=H[j-1][0]),c.length>=3&&(u=c[2],c[2]>n.zMax&&(n.zMax=c[2]),c[2]<n.zMin&&(n.zMin=c[2]))):(o=c,s=S[j],H[j+1]&&(z=H[j+1]),H[j-1]&&(Y=H[j-1]),M&&M.length&&(u=M[j],M[j]>n.zMax&&(n.zMax=M[j]),M[j]<n.zMin&&(n.zMin=M[j]))),L||null!==o&&null!==s){if(z&&z>=b&&z<=C&&(V=!0),Y&&Y>=b&&Y<=C&&(K=!0),d?(O&&(s=c.slice(1,3)),h=s[0],s=s[1]):m&&(o=c.x,h=(s=c.stackY)-c.y),null!=D&&null!=B&&(J=s>=D&&s<=B),o>C&&_.x<C&&(_.x=o,_.y=s),o<b&&Q.x>b&&(Q.x=o,Q.y=s),null!==s||!L)if(null!==s&&(J||V||K)){if((z>=b||o>=b)&&(Y<=C||o<=C)&&(q=!0),q||V||K){if(nt&&o-Y>nt&&lt(),$&&(W=tt.rgba,$.some(function(t,e){var n=$[e-1];return void 0!==t.value&&s<=t.value&&((!n||s>=n.value)&&(W=r(t.color).rgba),!0)}),W[0]/=255,W[1]/=255,W[2]/=255),!I.useGPUTranslations){if(n.skipTranslation=!0,e.chart.polar){var at={plotX:k.translate(o,0,0,0,1,e.options.pointPlacement,"flags"===e.type),plotY:E.translate(s,0,1,0,1)};e.toXY(at),o=Math.round(at.plotX),s=Math.round(at.plotY)}else o=k.toPixels(o,!0),s=E.toPixels(s,!0);if(o>F&&"points"===n.drawMode)continue}X&&(i=h,!1!==h&&void 0!==h||(i=s<0?s:0),d||m||(i=Math.max(null===et?D:et,D)),I.useGPUTranslations||(i=E.toPixels(i,!0)),ot(o,i,0,0,W)),n.hasMarkers&&q&&!1!==P&&(e.closestPointRangePx=Math.min(e.closestPointRangePx,Math.abs(o-P))),!I.useGPUTranslations&&!I.usePreallocated&&P&&Math.abs(o-P)<1&&R&&Math.abs(s-R)<1?I.debug.showSkipSummary:(A.step&&!Z&&ot(o,R,0,2,W),ot(o,s,0,"bubble"===e.type?u||1:2,W),P=o,R=s,N=!0,Z=!1)}}else lt()}else lt()}I.debug.showSkipSummary,N||!1===L||"line_strip"!==e.drawMode||(Q.x<Number.MAX_VALUE&&ut(Q,!0),_.x>-Number.MAX_VALUE&&ut(_)),st()}function rt(t){t&&(n.colorData.push(t[0]),n.colorData.push(t[1]),n.colorData.push(t[2]),n.colorData.push(t[3]))}function ot(t,e,n,i,a){rt(a),I.usePreallocated?p.push(t,e,n?1:0,i||1):(y.push(t),y.push(e),y.push(n?1:0),y.push(i||1))}function st(){n.segments.length&&(n.segments[n.segments.length-1].to=y.length)}function lt(){n.segments.length&&n.segments[n.segments.length-1].from===y.length||(st(),n.segments.push({from:y.length}))}function ct(t,e,n,i,a){rt(a),ot(t+n,e),rt(a),ot(t,e),rt(a),ot(t,e+i),rt(a),ot(t,e+i),rt(a),ot(t+n,e+i),rt(a),ot(t+n,e)}function ut(t,e){I.useGPUTranslations||(n.skipTranslation=!0,t.x=k.toPixels(t.x,!0),t.y=E.toPixels(t.y,!0)),e?y=[t.x,t.y,0,2].concat(y):ot(t.x,t.y,0,2)}}function E(){C=[],v.data=y=[],g=[],p&&p.destroy()}function k(t){d&&(d.setUniform("xAxisTrans",t.transA),d.setUniform("xAxisMin",t.min),d.setUniform("xAxisMinPad",t.minPixelPadding),d.setUniform("xAxisPointRange",t.pointRange),d.setUniform("xAxisLen",t.len),d.setUniform("xAxisPos",t.pos),d.setUniform("xAxisCVSCoord",!t.horiz),d.setUniform("xAxisIsLog",!!t.logarithmic),d.setUniform("xAxisReversed",!!t.reversed))}function F(t){d&&(d.setUniform("yAxisTrans",t.transA),d.setUniform("yAxisMin",t.min),d.setUniform("yAxisMinPad",t.minPixelPadding),d.setUniform("yAxisPointRange",t.pointRange),d.setUniform("yAxisLen",t.len),d.setUniform("yAxisPos",t.pos),d.setUniform("yAxisCVSCoord",!t.horiz),d.setUniform("yAxisIsLog",!!t.logarithmic),d.setUniform("yAxisReversed",!!t.reversed))}function O(t,e){d.setUniform("hasThreshold",t),d.setUniform("translatedThreshold",e)}function L(e){return!!e&&(!e.chartHeight||e.chartWidth,A=e.chartWidth||800,m=e.chartHeight||400,!!(f&&A&&m&&d)&&(I.debug.timeRendering,f.canvas.width=A,f.canvas.height=m,d.bind(),f.viewport(0,0,A,m),d.setPMatrix(T(A,m)),I.lineWidth>1&&!i.isMS&&f.lineWidth(I.lineWidth),p.build(v.data,"aVertexPosition",4),p.bind(),d.setInverted(e.inverted),C.forEach(function(i,a){var o,l,c,u=i.series.options,A=u.marker,m=void 0!==u.lineWidth?u.lineWidth:1,y=u.threshold,g=s(y),v=i.series.yAxis.getThreshold(y),b=h(u.marker?u.marker.enabled:null,!!i.series.xAxis.isRadial||null,i.series.closestPointRangePx>2*((u.marker?u.marker.radius:10)||10)),C=x[A&&A.symbol||i.series.symbol]||x.circle,w=[];if(!(0===i.segments.length||i.segmentslength&&i.segments[0].from===i.segments[0].to)){if(C.isReady&&(f.bindTexture(f.TEXTURE_2D,C.handle),d.setTexture(C.handle)),e.styledMode?c=i.series.markerGroup&&i.series.markerGroup.getStyle("fill"):(c=i.series.pointAttribs&&i.series.pointAttribs().fill||i.series.color,u.colorByPoint&&(c=i.series.chart.options.colors[a])),i.series.fillOpacity&&u.fillOpacity&&(c=new t(c).setOpacity(h(u.fillOpacity,1)).get()),w=r(c).rgba,I.useAlpha||(w[3]=1),"lines"===i.drawMode&&I.useAlpha&&w[3]<1&&(w[3]/=10),"add"===u.boostBlending?(f.blendFunc(f.SRC_ALPHA,f.ONE),f.blendEquation(f.FUNC_ADD)):"mult"===u.boostBlending||"multiply"===u.boostBlending?f.blendFunc(f.DST_COLOR,f.ZERO):"darken"===u.boostBlending?(f.blendFunc(f.ONE,f.ONE),f.blendEquation(f.FUNC_MIN)):f.blendFuncSeparate(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA),d.reset(),i.colorData.length>0&&(d.setUniform("hasColor",1),(l=n(f,d)).build(i.colorData,"aColor",4),l.bind()),d.setColor(w),k(i.series.xAxis),F(i.series.yAxis),O(g,v),"points"===i.drawMode&&(u.marker&&s(u.marker.radius)?d.setPointSize(2*u.marker.radius):d.setPointSize(1)),d.setSkipTranslation(i.skipTranslation),"bubble"===i.series.type&&d.setBubbleUniforms(i.series,i.zMin,i.zMax),d.setDrawAsCircle(D[i.series.type]||!1),m>0||"line_strip"!==i.drawMode)for(o=0;o<i.segments.length;o++)p.render(i.segments[o].from,i.segments[o].to,i.drawMode);if(i.hasMarkers&&b)for(u.marker&&s(u.marker.radius)?d.setPointSize(2*u.marker.radius):d.setPointSize(10),d.setDrawAsCircle(!0),o=0;o<i.segments.length;o++)p.render(i.segments[o].from,i.segments[o].to,"POINTS")}}),I.debug.timeRendering,a&&a(),void E()))}return v={allocateBufferForSingleSeries:function(t){var e=0;I.usePreallocated&&(t.isSeriesBoosting&&(e=B(t)),p.allocate(e))},pushSeries:function(t){C.length>0&&C[C.length-1].hasMarkers&&(C[C.length-1].markerTo=g.length),I.debug.timeSeriesProcessing,C.push({segments:[],markerFrom:g.length,colorData:[],series:t,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!t.options.marker&&!1!==t.options.marker.enabled,showMarkers:!0,drawMode:{area:"lines",arearange:"lines",areaspline:"line_strip",column:"lines",columnrange:"lines",bar:"lines",line:"line_strip",scatter:"points",heatmap:"triangles",treemap:"triangles",bubble:"points"}[t.type]||"line_strip"}),M(t,C[C.length-1]),I.debug.timeSeriesProcessing},setSize:function(t,e){A===t&&m===e||!d||(A=t,m=e,d.bind(),d.setPMatrix(T(A,m)))},inited:function(){return b},setThreshold:O,init:function(t,i){var a=0,r=["webgl","experimental-webgl","moz-webgl","webkit-3d"];if(b=!1,!t)return!1;for(I.debug.timeSetup;a<r.length&&!(f=t.getContext(r[a],{}));a++);if(!f)return!1;if(i||E(),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.disable(f.DEPTH_TEST),f.depthFunc(f.LESS),!(d=e(f)))return!1;function s(t,e){var n={isReady:!1,texture:o.createElement("canvas"),handle:f.createTexture()},i=n.texture.getContext("2d");x[t]=n,n.texture.width=512,n.texture.height=512,i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i.strokeStyle="rgba(255, 255, 255, 0)",i.fillStyle="#FFF",e(i);try{f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,n.handle),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,n.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.bindTexture(f.TEXTURE_2D,null),n.isReady=!0}catch(t){}}return p=n(f,d),s("circle",function(t){t.beginPath(),t.arc(256,256,256,0,2*Math.PI),t.stroke(),t.fill()}),s("square",function(t){t.fillRect(0,0,512,512)}),s("diamond",function(t){t.beginPath(),t.moveTo(256,0),t.lineTo(512,256),t.lineTo(256,512),t.lineTo(0,256),t.lineTo(256,0),t.fill()}),s("triangle",function(t){t.beginPath(),t.moveTo(0,512),t.lineTo(256,0),t.lineTo(512,512),t.lineTo(0,512),t.fill()}),s("triangle-down",function(t){t.beginPath(),t.moveTo(0,0),t.lineTo(256,512),t.lineTo(512,0),t.lineTo(0,0),t.fill()}),b=!0,I.debug.timeSetup,!0},render:function t(e){if(S(),e.renderer.forExport)return L(e);b?L(e):setTimeout(function(){t(e)},1)},settings:I,valid:function(){return!1!==f},clear:S,flush:E,setXAxis:k,setYAxis:F,data:y,gl:function(){return f},allocateBuffer:function(t){var e=0;I.usePreallocated&&(t.series.forEach(function(t){t.isSeriesBoosting&&(e+=B(t))}),p.allocate(e))},destroy:function(){E(),p.destroy(),d.destroy(),f&&(u(x,function(t){t.handle&&f.deleteTexture(t.handle)}),f.canvas.width=1,f.canvas.height=1)},setOptions:function(t){c(!0,I,t)}}}}),n(e,"Extensions/Boost/BoostAttach.js",[e["Core/Chart/Chart.js"],e["Extensions/Boost/WGLRenderer.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a=n.doc,r=i.error,o=a.createElement("canvas");return function(n,i){var s=n.chartWidth,l=n.chartHeight,c=n,u=n.seriesGroup||i.group;return a.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#Extensibility","1.1"),(c=n.isChartSeriesBoosting()?n:i).renderTarget||(c.canvas=o,n.renderer.forExport,c.renderTarget=n.renderer.image("",0,0,s,l).addClass("highcharts-boost-canvas").add(u),c.boostClear=function(){c.renderTarget.attr({href:""})},c.boostCopy=function(){c.boostResizeTarget(),c.renderTarget.attr({href:c.canvas.toDataURL("image/png")})},c.boostResizeTarget=function(){s=n.chartWidth,l=n.chartHeight,(c.renderTargetFo||c.renderTarget).attr({x:0,y:0,width:s,height:l}).css({pointerEvents:"none",mixedBlendMode:"normal",opacity:1}),c instanceof t&&c.markerGroup.translate(n.plotLeft,n.plotTop)},c.boostClipRect=n.renderer.clipRect(),(c.renderTargetFo||c.renderTarget).clip(c.boostClipRect),c instanceof t&&(c.markerGroup=c.renderer.g().add(u),c.markerGroup.translate(i.xAxis.pos,i.yAxis.pos))),c.canvas.width=s,c.canvas.height=l,c.boostClipRect.attr(n.getBoostClipRect(c)),c.boostResizeTarget(),c.boostClear(),c.ogl||(c.ogl=e(function(){c.ogl.settings.debug.timeBufferCopy,c.boostCopy(),c.ogl.settings.debug.timeBufferCopy}),c.ogl.init(c.canvas)||r("[highcharts boost] - unable to init WebGL renderer"),c.ogl.setOptions(n.options.boost||{}),c instanceof t&&c.ogl.allocateBuffer(n)),c.ogl.setSize(s,l),c.ogl}}),n(e,"Extensions/Boost/BoostUtils.js",[e["Core/Globals.js"],e["Extensions/Boost/BoostableMap.js"],e["Extensions/Boost/BoostAttach.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a=t.win,r=t.doc,o=i.pick,s=3e3;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=-Number.MAX_VALUE;return t.forEach(function(t){if(null!=t&&void 0!==t.length&&t.length>0)return n=t.length,!0}),n}function u(t,e,n){t&&e.renderTarget&&e.canvas&&!(n||e.chart).isChartSeriesBoosting()&&t.render(n||e.chart)}function h(t,e){t&&e.renderTarget&&e.canvas&&!e.chart.isChartSeriesBoosting()&&t.allocateBufferForSingleSeries(e)}function d(){if(Object(c.v)("RZ_Compatibility_Mode"))return!1;var t,e=0,n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],i=!1;if(void 0!==a.WebGLRenderingContext)for(t=r.createElement("canvas");e<n.length;e++)try{if(void 0!==(i=t.getContext(n[e]))&&null!==i)return!0}catch(t){}return!1}var p={patientMax:l,boostEnabled:function(t){return o(t&&t.options&&t.options.boost&&t.options.boost.enabled,!0)},shouldForceChartSeriesBoosting:function(t){var n,i=0,a=0,r=o(t.options.boost&&t.options.boost.allowForce,!0);if(void 0!==t.boostForceChartBoost)return t.boostForceChartBoost;if(t.series.length>1)for(var s=0;s<t.series.length;s++)0!==(n=t.series[s]).options.boostThreshold&&!1!==n.visible&&"heatmap"!==n.type&&(e[n.type]&&++a,l(n.processedXData,n.options.data,n.points)>=(n.options.boostThreshold||Number.MAX_VALUE)&&++i);return t.boostForceChartBoost=r&&(a===t.series.length&&i>0||i>5),t.boostForceChartBoost},renderIfNotSeriesBoosting:u,allocateIfNotSeriesBoosting:h,eachAsync:function t(e,n,i,r,o,l){for(var c=(o=o||0)+(r=r||s),u=!0;u&&o<c&&o<e.length;)u=n(e[o],o),++o;u&&(o<e.length?l?t(e,n,i,r,o,l):a.requestAnimationFrame?a.requestAnimationFrame(function(){t(e,n,i,r,o)}):setTimeout(function(){t(e,n,i,r,o)}):i&&i())},hasWebGLSupport:d,pointDrawHandler:function(t){var e,i=!0;if(this.chart.options&&this.chart.options.boost&&(i=void 0===this.chart.options.boost.enabled||this.chart.options.boost.enabled),!i||!this.isSeriesBoosting)return t.call(this);this.chart.isBoosting=!0,(e=n(this.chart,this))&&(h(e,this),e.pushSeries(this)),u(e,this)}};return t.hasWebGLSupport=d,p}),n(e,"Extensions/Boost/BoostInit.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"],e["Extensions/Boost/BoostUtils.js"],e["Extensions/Boost/BoostAttach.js"]],function(t,e,n,i,a){var r,o=n.addEvent,s=n.extend,l=n.fireEvent,c=n.wrap,u=e.Series,h=e.seriesTypes,d=function(){},p=i.eachAsync,f=i.pointDrawHandler,A=i.allocateIfNotSeriesBoosting,m=i.renderIfNotSeriesBoosting,y=i.shouldForceChartSeriesBoosting;return function(){s(u.prototype,{renderCanvas:function(){var t,e,n,i,o,s,c,u=this,h=u.options||{},f=!1,y=u.chart,g=this.xAxis,v=this.yAxis,b=h.xData||u.processedXData,C=h.yData||u.processedYData,x=h.data,w=g.getExtremes(),D=w.min,I=w.max,B=v.getExtremes(),T=B.min,S=B.max,M={},E=!!u.sampling,k=!1!==h.enableMouseTracking,F=h.threshold,O=v.getThreshold(F),L=u.pointArrayMap&&"low,high"===u.pointArrayMap.join(","),U=!!h.stacking,P=u.cropStart||0,R=u.requireSorting,H=!b,Q="x"===h.findNearestPointBy,_=this.xData||this.options.xData||this.processedXData||!1,N=function(t,n,i){t=Math.ceil(t),r=Q?t:t+","+n,k&&!M[r]&&(M[r]=!0,y.inverted&&(t=g.len-t,n=v.len-n),e.push({x:!!_&&_[P+i],clientX:t,plotX:t,plotY:n,i:P+i}))};f=a(y,u),y.isBoosting=!0,c=f.settings,this.visible&&((this.points||this.graph)&&this.destroyGraphics(),y.isChartSeriesBoosting()?(this.markerGroup&&this.markerGroup!==y.markerGroup&&this.markerGroup.destroy(),this.markerGroup=y.markerGroup,this.renderTarget&&(this.renderTarget=this.renderTarget.destroy())):(this.markerGroup===y.markerGroup&&(this.markerGroup=void 0),this.markerGroup=u.plotGroup("markerGroup","markers",!0,1,y.seriesGroup)),e=this.points=[],u.buildKDTree=d,f&&(A(f,this),f.pushSeries(u),m(f,this,y)),y.renderer.forExport||(c.debug.timeKDTree,p(U?u.data:b||x,function(e,a){var r,l,c,u,h=!1,d=void 0===y.index,p=!0;return d||(H?(r=e[0],l=e[1]):(r=e,l=C[a]),L?(H&&(l=e.slice(1,3)),h=l[0],l=l[1]):U&&(r=e.x,h=(l=e.stackY)-e.y),R||(p=l>=T&&l<=S),!(null===l)&&r>=D&&r<=I&&p&&(c=g.toPixels(r,!0),E?(void 0!==o&&c!==t||(L||(h=l),(void 0===s||l>i)&&(i=l,s=a),(void 0===o||h<n)&&(n=h,o=a)),c!==t&&(void 0!==o&&(u=v.toPixels(i,!0),O=v.toPixels(n,!0),N(c,u,s),O!==u&&N(c,O,o)),o=s=void 0,t=c)):(u=Math.ceil(v.toPixels(l,!0)),N(c,u,a)))),!d},function(){l(u,"renderedCanvas"),delete u.buildKDTree,u.buildKDTree(),c.debug.timeKDTree})))}}),["heatmap","treemap"].forEach(function(t){h[t]&&c(h[t].prototype,"drawPoints",f)}),h.bubble&&(delete h.bubble.prototype.buildKDTree,c(h.bubble.prototype,"markerAttribs",function(t){return!this.isSeriesBoosting&&t.apply(this,[].slice.call(arguments,1))})),h.scatter.prototype.fill=!0,s(h.area.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),s(h.column.prototype,{fill:!0,sampling:!0}),t.prototype.callbacks.push(function(t){o(t,"predraw",function(){t.boostForceChartBoost=void 0,t.boostForceChartBoost=y(t),t.isBoosting=!1,!t.isChartSeriesBoosting()&&t.didBoost&&(t.didBoost=!1),t.boostClear&&t.boostClear(),t.canvas&&t.ogl&&t.isChartSeriesBoosting()&&(t.didBoost=!0,t.ogl.allocateBuffer(t)),t.markerGroup&&t.xAxis&&t.xAxis.length>0&&t.yAxis&&t.yAxis.length>0&&t.markerGroup.translate(t.xAxis[0].pos,t.yAxis[0].pos)}),o(t,"render",function(){t.ogl&&t.isChartSeriesBoosting()&&t.ogl.render(t)})})}}),n(e,"Extensions/BoostCanvas.js",[e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Series/LineSeries.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],function(t,e,n,i,a,r){var o,s=e.parse,l=n.doc,c=n.noop,u=r.addEvent,h=r.extend,d=r.fireEvent,p=r.isNumber,f=r.merge,A=r.pick,m=r.wrap,y=a.seriesTypes;return function(){n.seriesTypes.heatmap&&m(n.seriesTypes.heatmap.prototype,"drawPoints",function(){var t=this.chart,e=this.getContext(),n=this.chart.inverted,i=this.xAxis,a=this.yAxis;e?(this.points.forEach(function(r){var o,s,l=r.plotY;void 0===l||isNaN(l)||null===r.y||(o=r.shapeArgs,s=t.styledMode?r.series.colorAttribs(r):r.series.pointAttribs(r),e.fillStyle=s.fill,n?e.fillRect(a.len-o.y+i.left,i.len-o.x+a.top,-o.height,-o.width):e.fillRect(o.x+i.left,o.y+a.top,o.width,o.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}),h(i.prototype,{getContext:function(){var t,e=this.chart,i=e.chartWidth,a=e.chartHeight,r=e.seriesGroup||this.group,o=this,s=function(t,e,n,i,a,r,o){t.call(this,n,e,i,a,r,o)};return e.isChartSeriesBoosting()&&(o=e,r=e.seriesGroup),t=o.ctx,o.canvas?n.Chart:(o.canvas=l.createElement("canvas"),o.renderTarget=e.renderer.image("",0,0,i,a).addClass("highcharts-boost-canvas").add(r),o.ctx=t=o.canvas.getContext("2d"),e.inverted&&["moveTo","lineTo","rect","arc"].forEach(function(e){m(t,e,s)}),o.boostCopy=function(){o.renderTarget.attr({href:o.canvas.toDataURL("image/png")})},o.boostClear=function(){t.clearRect(0,0,o.canvas.width,o.canvas.height),o===this&&o.renderTarget.attr({href:""})},o.boostClipRect=e.renderer.clipRect(),o.renderTarget.clip(o.boostClipRect)),o.canvas.width!==i&&(o.canvas.width=i),o.canvas.height!==a&&(o.canvas.height=a),o.renderTarget.attr({x:0,y:0,width:i,height:a,style:"pointer-events: none",href:""}),o.boostClipRect.attr(e.getBoostClipRect(o)),t},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear&&this.boostClear():(this.boostCopy||this.chart.boostCopy)&&(this.boostCopy||this.chart.boostCopy)()},cvsLineTo:function(t,e,n){t.lineTo(e,n)},renderCanvas:function(){var t,i,a,l,m,y,g,v,b,C,x=this,w=x.options,D=x.chart,I=this.xAxis,B=this.yAxis,T=D.options.boost||{},S=(T.timeRendering,T.timeSeriesProcessing,T.timeSetup,0),M=x.processedXData,E=x.processedYData,k=w.data,F=I.getExtremes(),O=F.min,L=F.max,U=B.getExtremes(),P=U.min,R=U.max,H={},Q=!!x.sampling,_=w.marker&&w.marker.radius,N=this.cvsDrawPoint,j=w.lineWidth?this.cvsLineTo:void 0,Y=_&&_<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,z=this.cvsStrokeBatch||1e3,G=!1!==w.enableMouseTracking,V=w.threshold,K=B.getThreshold(V),W=p(V),X=K,q=this.fill,J=x.pointArrayMap&&"low,high"===x.pointArrayMap.join(","),Z=!!w.stacking,$=x.cropStart||0,tt=D.options.loading,et=x.requireSorting,nt=w.connectNulls,it=!M,at=Z?x.data:M||k,rt=x.fillOpacity?new e(x.color).setOpacity(A(w.fillOpacity,.75)).get():x.color,ot=function(){q?(t.fillStyle=rt,t.fill()):(t.strokeStyle=x.color,t.lineWidth=w.lineWidth,t.stroke())},st=function(e,n,i,a){0===S&&(t.beginPath(),j&&(t.lineJoin="round")),D.scroller&&"highcharts-navigator-series"===x.options.className?(n+=D.scroller.top,i&&(i+=D.scroller.top)):n+=D.plotTop,e+=D.plotLeft,m?t.moveTo(e,n):N?N(t,e,n,i,l):j?j(t,e,n):Y&&Y.call(x,t,e,n,_,a),(S+=1)===z&&(ot(),S=0),l={clientX:e,plotY:n,yBottom:i}},lt="x"===w.findNearestPointBy,ct=this.xData||this.options.xData||this.processedXData||!1,ut=function(t,e,n){C=lt?t:t+","+e,G&&!H[C]&&(H[C]=!0,D.inverted&&(t=I.len-t,e=B.len-e),a.push({x:!!ct&&ct[$+n],clientX:t,plotX:t,plotY:e,i:$+n}))};this.renderTarget&&this.renderTarget.attr({href:""}),(this.points||this.graph)&&this.destroyGraphics(),x.plotGroup("group","series",x.visible?"visible":"hidden",w.zIndex,D.seriesGroup),x.markerGroup=x.group,u(x,"destroy",function(){x.markerGroup=null}),a=this.points=[],t=this.getContext(),x.buildKDTree=c,this.boostClear&&this.boostClear(),this.visible&&(k.length>99999&&(D.options.loading=f(tt,{labelStyle:{backgroundColor:s("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),r.clearTimeout(o),D.showLoading("Drawing..."),D.options.loading=tt),n.eachAsync(at,function(t,e){var n,a,r,o,s,l,c=!1,u=!1,h=!1,d=!1,p=void 0===D.index,f=!0;return p||(it?(n=t[0],a=t[1],at[e+1]&&(h=at[e+1][0]),at[e-1]&&(d=at[e-1][0])):(n=t,a=E[e],at[e+1]&&(h=at[e+1]),at[e-1]&&(d=at[e-1])),h&&h>=O&&h<=L&&(c=!0),d&&d>=O&&d<=L&&(u=!0),J?(it&&(a=t.slice(1,3)),l=a[0],a=a[1]):Z&&(n=t.x,l=(a=t.stackY)-t.y),et||(f=a>=P&&a<=R),!(s=null===a)&&(n>=O&&n<=L&&f||c||u)&&(r=Math.round(I.toPixels(n,!0)),Q?(void 0!==v&&r!==i||(J||(l=a),(void 0===b||a>g)&&(g=a,b=e),(void 0===v||l<y)&&(y=l,v=e)),r!==i&&(void 0!==v&&(o=B.toPixels(g,!0),K=B.toPixels(y,!0),st(r,W?Math.min(o,X):o,W?Math.max(K,X):K,e),ut(r,o,b),K!==o&&ut(r,K,v)),v=b=void 0,i=r)):(o=Math.round(B.toPixels(a,!0)),st(r,o,K,e),ut(r,o,e))),m=s&&!nt,e%5e4==0&&(x.boostCopy||x.chart.boostCopy)&&(x.boostCopy||x.chart.boostCopy)()),!p},function(){var t=D.loadingDiv,e=D.loadingShown;ot(),x.canvasToSVG(),d(x,"renderedCanvas"),e&&(h(t.style,{transition:"opacity 250ms",opacity:0}),D.loadingShown=!1,o=setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),D.loadingDiv=D.loadingSpan=null},250)),delete x.buildKDTree,x.buildKDTree()},D.renderer.forExport?Number.MAX_VALUE:void 0))}}),y.scatter.prototype.cvsMarkerCircle=function(t,e,n,i){t.moveTo(e,n),t.arc(e,n,i,0,2*Math.PI,!1)},y.scatter.prototype.cvsMarkerSquare=function(t,e,n,i){t.rect(e-i,n-i,2*i,2*i)},y.scatter.prototype.fill=!0,y.bubble&&(y.bubble.prototype.cvsMarkerCircle=function(t,e,n,i,a){t.moveTo(e,n),t.arc(e,n,this.radii&&this.radii[a],0,2*Math.PI,!1)},y.bubble.prototype.cvsStrokeBatch=1),h(y.area.prototype,{cvsDrawPoint:function(t,e,n,i,a){a&&e!==a.clientX&&(t.moveTo(a.clientX,a.yBottom),t.lineTo(a.clientX,a.plotY),t.lineTo(e,n),t.lineTo(e,i))},fill:!0,fillOpacity:!0,sampling:!0}),h(y.column.prototype,{cvsDrawPoint:function(t,e,n,i){t.rect(e-1,n,1,i-n)},fill:!0,sampling:!0}),t.prototype.callbacks.push(function(t){u(t,"predraw",function(){t.renderTarget&&t.renderTarget.attr({href:""}),t.canvas&&t.canvas.getContext("2d").clearRect(0,0,t.canvas.width,t.canvas.height)}),u(t,"render",function(){t.boostCopy&&t.boostCopy()})})}}),n(e,"Extensions/Boost/BoostOverrides.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"],e["Extensions/Boost/BoostUtils.js"],e["Extensions/Boost/Boostables.js"],e["Extensions/Boost/BoostableMap.js"]],function(t,e,n,i,a,r,o){var s=i.addEvent,l=i.error,c=i.getOptions,u=i.isArray,h=i.isNumber,d=i.pick,p=i.wrap,f=a.boostEnabled,A=a.shouldForceChartSeriesBoosting,m=e.Series,y=e.seriesTypes,g=c().plotOptions;t.prototype.isChartSeriesBoosting=function(){return d(this.options.boost&&this.options.boost.seriesThreshold,50)<=this.series.length||A(this)},t.prototype.getBoostClipRect=function(t){var e={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};return t===this&&this.yAxis.forEach(function(t){e.y=Math.min(t.pos,e.y),e.height=Math.max(t.pos-this.plotTop+t.len,e.height)},this),e},m.prototype.getPoint=function(t){var e=t,n=this.xData||this.options.xData||this.processedXData||!1;return!t||t instanceof this.pointClass||((e=(new this.pointClass).init(this,this.options.data[t.i],n?n[t.i]:void 0)).category=d(this.xAxis.categories?this.xAxis.categories[e.x]:e.x,e.x),e.dist=t.dist,e.distX=t.distX,e.plotX=t.plotX,e.plotY=t.plotY,e.index=t.i,e.isInside=this.isPointInside(t)),e},p(m.prototype,"searchPoint",function(t){return this.getPoint(t.apply(this,[].slice.call(arguments,1)))}),p(n.prototype,"haloPath",function(t){var e,n=this.series,i=n.chart,a=this.plotX,r=this.plotY,o=i.inverted;return n.isSeriesBoosting&&o&&(this.plotX=n.yAxis.len-r,this.plotY=n.xAxis.len-a),e=t.apply(this,Array.prototype.slice.call(arguments,1)),n.isSeriesBoosting&&o&&(this.plotX=a,this.plotY=r),e}),p(m.prototype,"markerAttribs",function(t,e){var n,i=this.chart,a=e.plotX,r=e.plotY,o=i.inverted;return this.isSeriesBoosting&&o&&(e.plotX=this.yAxis.len-r,e.plotY=this.xAxis.len-a),n=t.apply(this,Array.prototype.slice.call(arguments,1)),this.isSeriesBoosting&&o&&(e.plotX=a,e.plotY=r),n}),s(m,"destroy",function(){var t=this,e=t.chart;e.markerGroup===t.markerGroup&&(t.markerGroup=null),e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(function(e){return e.series===t})),e.hoverPoint&&e.hoverPoint.series===t&&(e.hoverPoint=null)}),p(m.prototype,"getExtremes",function(t){return this.isSeriesBoosting&&this.hasExtremes&&this.hasExtremes()?{}:t.apply(this,Array.prototype.slice.call(arguments,1))}),["translate","generatePoints","drawTracker","drawPoints","render"].forEach(function(t){function e(e){var n=this.options.stacking&&("translate"===t||"generatePoints"===t);this.isSeriesBoosting&&!n&&f(this.chart)&&"heatmap"!==this.type&&"treemap"!==this.type&&o[this.type]&&0!==this.options.boostThreshold?this[t+"Canvas"]&&this[t+"Canvas"]():e.call(this)}p(m.prototype,t,e),"translate"===t&&["column","bar","arearange","columnrange","heatmap","treemap"].forEach(function(n){y[n]&&p(y[n].prototype,t,e)})}),p(m.prototype,"processData",function(t){var e,n=this,i=this.options.data;function a(t){return n.chart.isChartSeriesBoosting()||(t?t.length:0)>=(n.options.boostThreshold||Number.MAX_VALUE)}f(this.chart)&&o[this.type]?(a(i)&&"heatmap"!==this.type&&"treemap"!==this.type&&!this.options.stacking&&this.hasExtremes&&this.hasExtremes(!0)||(t.apply(this,Array.prototype.slice.call(arguments,1)),i=this.processedXData),this.isSeriesBoosting=a(i),this.isSeriesBoosting?(e=this.getFirstValidPoint(this.options.data),h(e)||u(e)||l(12,!1,this.chart),this.enterBoost()):this.exitBoost&&this.exitBoost()):t.apply(this,Array.prototype.slice.call(arguments,1))}),s(m,"hide",function(){this.canvas&&this.renderTarget&&(this.ogl&&this.ogl.clear(),this.boostClear())}),m.prototype.enterBoost=function(){this.alteredByBoost=[],["allowDG","directTouch","stickyTracking"].forEach(function(t){this.alteredByBoost.push({prop:t,val:this[t],own:Object.hasOwnProperty.call(this,t)})},this),this.allowDG=!1,this.directTouch=!1,this.stickyTracking=!0,this.finishedAnimating=!0,this.labelBySeries&&(this.labelBySeries=this.labelBySeries.destroy())},m.prototype.exitBoost=function(){(this.alteredByBoost||[]).forEach(function(t){t.own?this[t.prop]=t.val:delete this[t.prop]},this),this.boostClear&&this.boostClear()},m.prototype.hasExtremes=function(t){var e=this.options,n=e.data,i=this.xAxis&&this.xAxis.options,a=this.yAxis&&this.yAxis.options,r=this.colorAxis&&this.colorAxis.options;return n.length>(e.boostThreshold||Number.MAX_VALUE)&&h(a.min)&&h(a.max)&&(!t||h(i.min)&&h(i.max))&&(!r||h(r.min)&&h(r.max))},m.prototype.destroyGraphics=function(){var t,e,n=this,i=this.points;if(i)for(e=0;e<i.length;e+=1)(t=i[e])&&t.destroyElements&&t.destroyElements();["graph","area","tracker"].forEach(function(t){n[t]&&(n[t]=n[t].destroy())})},r.forEach(function(t){g[t]&&(g[t].boostThreshold=5e3,g[t].boostData=[],y[t].prototype.fillOpacity=!0)})}),n(e,"Extensions/Boost/NamedColors.js",[e["Core/Color/Color.js"]],function(t){var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return t.names=e,e}),n(e,"Extensions/Boost/Boost.js",[e["Extensions/Boost/BoostUtils.js"],e["Extensions/Boost/BoostInit.js"],e["Extensions/BoostCanvas.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a=i.error;(0,t.hasWebGLSupport)()?e():void 0!==n?n():a(26)}),n(e,"masters/modules/boost.src.js",[],function(){})},"object"===l()(t)&&t.exports?(e.default=e,t.exports=e):"function"==typeof define&&n(37)?define("highcharts/modules/boost",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}).call(this,n(48)(t))},function(t,e,n){"use strict";(function(t){var e,i=n(57),a=(n.n(i),n(112)),r=(n.n(a),n(12)),o=(n.n(r),n(4));e=function(t){var e=t?t._modules:{};function n(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}n(e,"Mixins/ColorSeries.js",[],function(){return{colorPointMixin:{setVisible:function(t){var e=this,n=t?"show":"hide";e.visible=e.options.visible=Boolean(t),["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][n]()}),this.series.buildKDTree()}},colorSeriesMixin:{optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var t=this,e=this.data.length?this.data:this.points,n=this.options.nullColor,i=this.colorAxis,a=this.colorKey;e.forEach(function(e){var r,o=e.getNestedProperty(a);(r=e.options.color||(e.isNull||null===e.value?n:i&&void 0!==o?i.toColor(o,e):e.color||t.color))&&e.color!==r&&(e.color=r,"point"===t.options.legendType&&e.legendItem&&t.chart.legend.colorizeItem(e,e.visible))})}}}}),n(e,"Core/Axis/ColorAxis.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Mixins/ColorSeries.js"],e["Core/Animation/Fx.js"],e["Core/Globals.js"],e["Core/Legend.js"],e["Mixins/LegendSymbol.js"],e["Series/LineSeries.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,n,i,a,r,o,s,l,c,u){var h,d=this&&this.__extends||(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=n.parse,f=i.colorPointMixin,A=i.colorSeriesMixin,m=r.noop,y=u.addEvent,g=u.erase,v=u.extend,b=u.isNumber,C=u.merge,x=u.pick,w=u.splat;v(l.prototype,A),v(c.prototype,f),e.prototype.collectionsWithUpdate.push("colorAxis"),e.prototype.collectionsWithInit.colorAxis=[e.prototype.addColorAxis];var D=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.beforePadding=!1,i.chart=void 0,i.coll="colorAxis",i.dataClasses=void 0,i.legendItem=void 0,i.legendItems=void 0,i.name="",i.options=void 0,i.stops=void 0,i.visible=!0,i.init(e,n),i}return d(e,t),e.buildOptions=function(t,e,n){var i=t.options.legend||{},a=n.layout?"vertical"!==n.layout:"vertical"!==i.layout;return C(e,{side:a?2:1,reversed:!a},n,{opposite:!a,showEmpty:!1,title:null,visible:i.enabled&&(!n||!1!==n.visible)})},e.prototype.init=function(n,i){var a=e.buildOptions(n,e.defaultOptions,i);this.coll="colorAxis",t.prototype.init.call(this,n,a),i.dataClasses&&this.initDataClasses(i),this.initStops(),this.horiz=!a.opposite,this.zoomEnabled=!1},e.prototype.initDataClasses=function(t){var e,n=this.chart,i=0,a=n.options.chart.colorCount,r=this.options,o=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],t.dataClasses.forEach(function(t,s){var l;t=C(t),e.push(t),!n.styledMode&&t.color||("category"===r.dataClassColor?(n.styledMode||(l=n.options.colors,a=l.length,t.color=l[i]),t.colorIndex=i,++i===a&&(i=0)):t.color=p(r.minColor).tweenTo(p(r.maxColor),o<2?.5:s/(o-1)))})},e.prototype.hasData=function(){return!!(this.tickPositions||[]).length},e.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},e.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=p(t[1])})},e.prototype.setOptions=function(e){t.prototype.setOptions.call(this,e),this.options.crosshair=this.options.marker},e.prototype.setAxisSize=function(){var t,n,i,a,r=this.legendSymbol,o=this.chart,s=o.options.legend||{};r?(this.left=t=r.attr("x"),this.top=n=r.attr("y"),this.width=i=r.attr("width"),this.height=a=r.attr("height"),this.right=o.chartWidth-t-i,this.bottom=o.chartHeight-n-a,this.len=this.horiz?i:a,this.pos=this.horiz?t:n):this.len=(this.horiz?s.symbolWidth:s.symbolHeight)||e.defaultLegendLength},e.prototype.normalizedValue=function(t){return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(this.max-t)/(this.max-this.min||1)},e.prototype.toColor=function(t,e){var n,i,a,r,o,s,l=this.dataClasses,c=this.stops;if(l){for(s=l.length;s--;)if(i=(o=l[s]).from,a=o.to,(void 0===i||t>=i)&&(void 0===a||t<=a)){r=o.color,e&&(e.dataClass=s,e.colorIndex=o.colorIndex);break}}else{for(n=this.normalizedValue(t),s=c.length;s--&&!(n>c[s][0]););i=c[s]||c[s+1],n=1-((a=c[s+1]||i)[0]-n)/(a[0]-i[0]||1),r=i.color.tweenTo(a.color,n)}return r},e.prototype.getOffset=function(){var e=this.legendGroup,n=this.chart.axisOffset[this.side];e&&(this.axisParent=e,t.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=n)},e.prototype.setLegendColor=function(){var t=this.horiz,e=this.reversed,n=e?1:0,i=e?0:1,a=t?[n,0,i,0]:[0,i,0,n];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:this.stops}},e.prototype.drawLegendSymbol=function(t,n){var i=t.padding,a=t.options,r=this.horiz,o=x(a.symbolWidth,r?e.defaultLegendLength:12),s=x(a.symbolHeight,r?12:e.defaultLegendLength),l=x(a.labelPadding,r?16:30),c=x(a.itemDistance,10);this.setLegendColor(),n.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,o,s).attr({zIndex:1}).add(n.legendGroup),this.legendItemWidth=o+i+(r?c:l),this.legendItemHeight=s+i+(r?l:0)},e.prototype.setState=function(t){this.series.forEach(function(e){e.setState(t)})},e.prototype.setVisible=function(){},e.prototype.getSeriesExtremes=function(){var t,e,n,i,a,r,o,s,c=this.series,u=c.length;for(this.dataMin=1/0,this.dataMax=-1/0;u--;){if(e=(r=c[u]).colorKey=x(r.options.colorKey,r.colorKey,r.pointValKey,r.zoneAxis,"y"),i=r.pointArrayMap,a=r[e+"Min"]&&r[e+"Max"],r[e+"Data"])t=r[e+"Data"];else if(i){if(t=[],n=i.indexOf(e),o=r.yData,n>=0&&o)for(s=0;s<o.length;s++)t.push(x(o[s][n],o[s]))}else t=r.yData;if(a)r.minColorValue=r[e+"Min"],r.maxColorValue=r[e+"Max"];else{var h=l.prototype.getExtremes.call(r,t);r.minColorValue=h.dataMin,r.maxColorValue=h.dataMax}void 0!==r.minColorValue&&(this.dataMin=Math.min(this.dataMin,r.minColorValue),this.dataMax=Math.max(this.dataMax,r.maxColorValue)),a||l.prototype.applyExtremes.call(r)}},e.prototype.drawCrosshair=function(e,n){var i,a=n&&n.plotX,r=n&&n.plotY,o=this.pos,s=this.len;n&&((i=this.toPixels(n.getNestedProperty(n.series.colorKey)))<o?i=o-2:i>o+s&&(i=o+s+2),n.plotX=i,n.plotY=this.len-i,t.prototype.drawCrosshair.call(this,e,n),n.plotX=a,n.plotY=r,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,!this.chart.styledMode&&this.crosshair&&this.cross.attr({fill:this.crosshair.color})))},e.prototype.getPlotLinePath=function(e){var n=this.left,i=e.translatedValue,a=this.top;return b(i)?this.horiz?[["M",i-4,a-6],["L",i+4,a-6],["L",i,a],["Z"]]:[["M",n,i],["L",n-6,i+6],["L",n-6,i-6],["Z"]]:t.prototype.getPlotLinePath.call(this,e)},e.prototype.update=function(n,i){var a=this.chart,r=a.legend,o=e.buildOptions(a,{},n);this.series.forEach(function(t){t.isDirtyData=!0}),(n.dataClasses&&r.allItems||this.dataClasses)&&this.destroyItems(),a.options[this.coll]=C(this.userOptions,o),t.prototype.update.call(this,o,i),this.legendItem&&(this.setLegendColor(),r.colorizeItem(this,!0))},e.prototype.destroyItems=function(){var t=this.chart;this.legendItem?t.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(e){t.legend.destroyItem(e)}),t.isDirtyLegend=!0},e.prototype.remove=function(e){this.destroyItems(),t.prototype.remove.call(this,e)},e.prototype.getDataClassLegendSymbols=function(){var t,e=this,n=e.chart,i=e.legendItems,a=n.options.legend,r=a.valueDecimals,o=a.valueSuffix||"";return i.length||e.dataClasses.forEach(function(a,l){var c=!0,u=a.from,h=a.to,d=n.numberFormatter;t="",void 0===u?t="< ":void 0===h&&(t="> "),void 0!==u&&(t+=d(u,r)+o),void 0!==u&&void 0!==h&&(t+=" - "),void 0!==h&&(t+=d(h,r)+o),i.push(v({chart:n,name:t,options:{},drawLegendSymbol:s.drawRectangle,visible:!0,setState:m,isDataClass:!0,setVisible:function(){c=e.visible=!c,e.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===l&&t.setVisible(c)})}),n.legend.colorizeItem(this,c)}},a))}),i},e.defaultLegendLength=200,e.defaultOptions={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},e.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],e}(t);return Array.prototype.push.apply(t.keepProps,D.keepProps),r.ColorAxis=D,["fill","stroke"].forEach(function(t){a.prototype[t+"Setter"]=function(){this.elem.attr(t,p(this.start).tweenTo(p(this.end),this.pos),null,!0)}}),y(e,"afterGetAxes",function(){var t=this,e=t.options;this.colorAxis=[],e.colorAxis&&(e.colorAxis=w(e.colorAxis),e.colorAxis.forEach(function(e,n){e.index=n,new D(t,e)}))}),y(l,"bindAxes",function(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}),y(o,"afterGetAllItems",function(t){var e,n,i=[];for((this.chart.colorAxis||[]).forEach(function(n){(e=n.options)&&e.showInLegend&&(e.dataClasses&&e.visible?i=i.concat(n.getDataClassLegendSymbols()):e.visible&&i.push(n),n.series.forEach(function(n){n.options.showInLegend&&!e.dataClasses||("point"===n.options.legendType?n.points.forEach(function(e){g(t.allItems,e)}):g(t.allItems,n))}))}),n=i.length;n--;)t.allItems.unshift(i[n])}),y(o,"afterColorizeItem",function(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}),y(o,"afterUpdate",function(){var t=this.chart.colorAxis;t&&t.forEach(function(t){t.update({},arguments[2])})}),y(l,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}),D}),n(e,"Mixins/ColorMapSeries.js",[e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,n){var i=n.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0},setState:function(t){e.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:t.noop,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return i(t.color)&&(e[this.colorProp||"fill"]=t.color),e}}}}),n(e,"Series/HeatmapSeries.js",[e["Core/Series/Series.js"],e["Mixins/ColorMapSeries.js"],e["Core/Globals.js"],e["Mixins/LegendSymbol.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,n,i,a,r){var o=e.colorMapPointMixin,s=e.colorMapSeriesMixin,l=n.noop,c=r.clamp,u=r.extend,h=r.fireEvent,d=r.isNumber,p=r.merge,f=r.pick,A=n.Series,m=t.seriesTypes,y=a.prototype.symbols;t.seriesType("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}},p(s,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;A.prototype.init.apply(this,arguments),(t=this.options).pointRange=f(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,u(y,{ellipse:y.circle,rect:y.square})},getSymbol:A.prototype.getSymbol,setClip:function(t){var e=this.chart;A.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||t)&&this.markerGroup.clip((t||this.clipBox)&&this.sharedClipKey?e[this.sharedClipKey]:e.clipRect)},translate:function(){var t=(n=this.options).marker&&n.marker.symbol||"",e=y[t]?t:"rect",n=this.options,i=-1!==["circle","square"].indexOf(e);this.generatePoints(),this.points.forEach(function(n){var a,r,o,s=n.getCellAttributes(),l={x:Math.min(s.x1,s.x2),y:Math.min(s.y1,s.y2),width:Math.max(Math.abs(s.x2-s.x1),0),height:Math.max(Math.abs(s.y2-s.y1),0)};o=n.hasImage=0===(n.marker&&n.marker.symbol||t||"").indexOf("url"),i&&(r=Math.abs(l.width-l.height),l.x=Math.min(s.x1,s.x2)+(l.width<l.height?0:r/2),l.y=Math.min(s.y1,s.y2)+(l.width<l.height?r/2:0),l.width=l.height=Math.min(l.width,l.height)),a={plotX:(s.x1+s.x2)/2,plotY:(s.y1+s.y2)/2,clientX:(s.x1+s.x2)/2,shapeType:"path",shapeArgs:p(!0,l,{d:y[e](l.x,l.y,l.width,l.height)})},o&&(n.marker={width:l.width,height:l.height}),u(n,a)}),h(this,"afterTranslate")},pointAttribs:function(t,e){var i,a,r=A.prototype.pointAttribs.call(this,t,e),o=this.options||{},s=this.chart.options.plotOptions||{},l=s.series||{},c=s.heatmap||{},u=o.borderColor||c.borderColor||l.borderColor,h=o.borderWidth||c.borderWidth||l.borderWidth||r["stroke-width"];return r.stroke=t&&t.marker&&t.marker.lineColor||o.marker&&o.marker.lineColor||u||this.color,r["stroke-width"]=h,e&&(a=(i=p(o.states[e],o.marker&&o.marker.states[e],t.options.states&&t.options.states[e]||{})).brightness,r.fill=i.color||n.color(r.fill).brighten(a||0).get(),r.stroke=i.lineColor),r},markerAttribs:function(t,e){var n,i,a=t.marker||{},r=this.options.marker||{},o=t.shapeArgs||{},s={};return t.hasImage?{x:t.plotX,y:t.plotY}:(e&&(n=r.states[e]||{},i=a.states&&a.states[e]||{},[["width","x"],["height","y"]].forEach(function(t){s[t[0]]=(i[t[0]]||n[t[0]]||o[t[0]])+(i[t[0]+"Plus"]||n[t[0]+"Plus"]||0),s[t[1]]=o[t[1]]+(o[t[0]]-s[t[0]])/2})),e?s:o)},drawPoints:function(){var t=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(A.prototype.drawPoints.call(this),this.points.forEach(function(e){e.graphic&&e.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(e))}))},hasData:function(){return!!this.processedXData.length},getValidPoints:function(t,e){return A.prototype.getValidPoints.call(this,t,e,!0)},getBox:l,drawLegendSymbol:i.drawRectangle,alignDataLabel:m.column.prototype.alignDataLabel,getExtremes:function(){var t=A.prototype.getExtremes.call(this,this.valueData),e=t.dataMin,n=t.dataMax;return d(e)&&(this.valueMin=e),d(n)&&(this.valueMax=n),A.prototype.getExtremes.call(this)}}),p(o,{applyOptions:function(t,e){var i=n.Point.prototype.applyOptions.call(this,t,e);return i.formatPrefix=i.isNull||null===i.value?"null":"point",i},isValid:function(){return this.value!==1/0&&this.value!==-1/0},haloPath:function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]},getCellAttributes:function(){var t=this.series,e=t.options,n=(e.colsize||1)/2,i=(e.rowsize||1)/2,a=t.xAxis,r=t.yAxis,o=this.options.marker||t.options.marker,s=t.pointPlacementToXValue(),l=f(this.pointPadding,e.pointPadding,0),u={x1:c(Math.round(a.len-(a.translate(this.x-n,!1,!0,!1,!0,-s)||0)),-a.len,2*a.len),x2:c(Math.round(a.len-(a.translate(this.x+n,!1,!0,!1,!0,-s)||0)),-a.len,2*a.len),y1:c(Math.round(r.translate(this.y-i,!1,!0,!1,!0)||0),-r.len,2*r.len),y2:c(Math.round(r.translate(this.y+i,!1,!0,!1,!0)||0),-r.len,2*r.len)};return[["width","x"],["height","y"]].forEach(function(t){var e=t[0],n=t[1],i=n+"1",a=n+"2",r=Math.abs(u[i]-u[a]),s=o&&o.lineWidth||0,c=Math.abs(u[i]+u[a])/2;o[e]&&o[e]<r&&(u[i]=c-o[e]/2-s/2,u[a]=c+o[e]/2+s/2),l&&("y"===n&&(i=a,a=n+"1"),u[i]+=l,u[a]-=l)}),u}}))}),n(e,"masters/modules/heatmap.src.js",[],function(){})},"object"===n.n(o)()(t)&&t.exports?(e.default=e,t.exports=e):"function"==typeof define&&n(37)?define("highcharts/modules/heatmap",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}).call(this,n(48)(t))},function(t,e,n){"use strict";(function(t){var e,i=n(12),a=(n.n(i),n(4));e=function(t){var e=t?t._modules:{};function n(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}n(e,"Series/VariwideSeries.js",[e["Core/Axis/Axis.js"],e["Core/Series/Series.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,n,i){var a=e.seriesTypes,r=i.addEvent,o=i.isNumber,s=i.pick,l=i.wrap;e.seriesType("variwide","column",{pointPadding:0,groupPadding:0},{irregularWidths:!0,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],processData:function(t){this.totalZ=0,this.relZ=[],a.column.prototype.processData.call(this,t),(this.xAxis.reversed?this.zData.slice().reverse():this.zData).forEach(function(t,e){this.relZ[e]=this.totalZ,this.totalZ+=t},this),this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=this.zData)},postTranslate:function(t,e,n){var i=this.xAxis,a=this.relZ,r=i.reversed?a.length-t:t,o=i.reversed?-1:1,l=i.len,c=this.totalZ,u=r/a.length*l,h=(r+o)/a.length*l,d=s(a[r],c)/c*l,p=s(a[r+o],c)/c*l,f=e-u;return n&&(n.crosshairWidth=p-d),d+f*(p-d)/(h-u)},translate:function(){var t=this.options.crisp,e=this.xAxis;this.options.crisp=!1,a.column.prototype.translate.call(this),this.options.crisp=t;var n=this.chart.inverted,i=this.borderWidth%2/2;this.points.forEach(function(t,a){var r,o;e.variwide?(r=this.postTranslate(a,t.shapeArgs.x,t),o=this.postTranslate(a,t.shapeArgs.x+t.shapeArgs.width)):(r=t.plotX,o=e.translate(t.x+t.z,0,0,0,1)),this.options.crisp&&(r=Math.round(r)-i,o=Math.round(o)-i),t.shapeArgs.x=r,t.shapeArgs.width=Math.max(o-r,1),t.plotX=(r+o)/2,n?t.tooltipPos[1]=e.len-t.shapeArgs.x-t.shapeArgs.width/2:t.tooltipPos[0]=t.shapeArgs.x+t.shapeArgs.width/2},this),this.options.stacking&&this.correctStackLabels()},correctStackLabels:function(){var t,e,n,i,a=this,r=a.options,o=a.yAxis;a.points.forEach(function(s){i=s.x,e=s.shapeArgs.width,(n=o.stacking.stacks[(a.negStacks&&s.y<(r.startFromThreshold?0:r.threshold)?"-":"")+a.stackKey])&&(t=n[i])&&!s.isNull&&t.setOffset(-e/2||0,e||0,void 0,void 0,s.plotX)})}},{isValid:function(){return o(this.y)&&o(this.z)}}),n.Tick.prototype.postTranslate=function(t,e,n){var i=this.axis,a=t[e]-i.pos;i.horiz||(a=i.len-a),a=i.series[0].postTranslate(n,a),i.horiz||(a=i.len-a),t[e]=i.pos+a},r(t,"afterDrawCrosshair",function(t){this.variwide&&this.cross&&this.cross.attr("stroke-width",t.point&&t.point.crosshairWidth)}),r(t,"afterRender",function(){var t=this;!this.horiz&&this.variwide&&this.chart.labelCollectors.push(function(){return t.tickPositions.filter(function(e){return t.ticks[e].label}).map(function(e,n){var i=t.ticks[e].label;return i.labelrank=t.zData[n],i})})}),r(n.Tick,"afterGetPosition",function(t){var e=this.axis,n=e.horiz?"x":"y";e.variwide&&(this[n+"Orig"]=t.pos[n],this.postTranslate(t.pos,n,this.pos))}),l(n.Tick.prototype,"getLabelPosition",function(t,e,n,i,a,r,o,s){var l,c=Array.prototype.slice.call(arguments,1),u=a?"x":"y";return this.axis.variwide&&"number"==typeof this[u+"Orig"]&&(c[a?0:1]=this[u+"Orig"]),l=t.apply(this,c),this.axis.variwide&&this.axis.categories&&this.postTranslate(l,u,s),l})}),n(e,"masters/modules/variwide.src.js",[],function(){})},"object"===n.n(a)()(t)&&t.exports?(e.default=e,t.exports=e):"function"==typeof define&&n(37)?define("highcharts/modules/variwide",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}).call(this,n(48)(t))},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var i=n(20),a=n(149),r=n(239),o=n(155);function s(t){var e=new r(t),n=a(r.prototype.request,e);return i.extend(n,r.prototype,e),i.extend(n,e),n}var l=s(n(152));l.Axios=r,l.create=function(t){return s(o(l.defaults,t))},l.Cancel=n(156),l.CancelToken=n(252),l.isCancel=n(151),l.all=function(t){return Promise.all(t)},l.spread=n(253),t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var i=n(20),a=n(150),r=n(240),o=n(241),s=n(155);function l(t){this.defaults=t,this.interceptors={request:new r,response:new r}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){l.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){l.prototype[t]=function(e,n,a){return this.request(i.merge(a||{},{method:t,url:e,data:n}))}}),t.exports=l},function(t,e,n){"use strict";var i=n(20);function a(){this.handlers=[]}a.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=a},function(t,e,n){"use strict";var i=n(20),a=n(242),r=n(151),o=n(152);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return s(t),e.data=a(e.data,e.headers,t.transformResponse),e},function(e){return r(e)||(s(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(20);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var i=n(20);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(154);t.exports=function(t,e,n){var a=n.config.validateStatus;!a||a(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,a){return t.config=e,n&&(t.code=n),t.request=i,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(247),a=n(248);t.exports=function(t,e){return t&&!i(e)?a(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(20),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,o={};return t?(i.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e){if(o[e]&&a.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var i=n(20);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=a(window.location.href),function(e){var n=i.isString(e)?a(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(20);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,a,r,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(a)&&s.push("path="+a),i.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(156);function a(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var t;return{token:new a(function(e){t=e}),cancel:t}},t.exports=a},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";e.sha1=n(255),e.sha224=n(256),e.sha256=n(158),e.sha384=n(257),e.sha512=n(159)},function(t,e,n){"use strict";var i=n(27),a=n(72),r=n(157),o=i.rotl32,s=i.sum32,l=i.sum32_5,c=r.ft_1,u=a.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(d,u),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=o(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],r=this.h[1],u=this.h[2],d=this.h[3],p=this.h[4];for(i=0;i<n.length;i++){var f=~~(i/20),A=l(o(a,5),c(f,r,u,d),p,n[i],h[f]);p=d,d=u,u=o(r,30),r=a,a=A}this.h[0]=s(this.h[0],a),this.h[1]=s(this.h[1],r),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],p)},d.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";var i=n(27),a=n(158);function r(){if(!(this instanceof r))return new r;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(r,a),t.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var i=n(27),a=n(159);function r(){if(!(this instanceof r))return new r;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(r,a),t.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var i=n(27),a=n(72),r=i.rotl32,o=i.sum32,s=i.sum32_3,l=i.sum32_4,c=a.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,n,i){return t<=15?e^n^i:t<=31?e&n|~e&i:t<=47?(e|~n)^i:t<=63?e&i|n&~i:e^(n|~i)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}i.inherits(u,c),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(t,e){for(var n=this.h[0],i=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],g=n,v=i,b=a,C=c,x=u,w=0;w<80;w++){var D=o(r(l(n,h(w,i,a,c),t[f[w]+e],d(w)),m[w]),u);n=u,u=c,c=r(a,10),a=i,i=D,D=o(r(l(g,h(79-w,v,b,C),t[A[w]+e],p(w)),y[w]),x),g=x,x=C,C=r(b,10),b=v,v=D}D=s(this.h[1],a,C),this.h[1]=s(this.h[2],c,x),this.h[2]=s(this.h[3],u,g),this.h[3]=s(this.h[4],n,v),this.h[4]=s(this.h[0],i,b),this.h[0]=D},u.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],A=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var i=n(27),a=n(71);function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,n))}t.exports=r,r.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),a(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},r.prototype.update=function(t,e){return this.inner.update(t,e),this},r.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var i=n(15).f,a=n(67),r=n(69),o=n(32),s=n(70),l=n(111),c=n(129),u=n(128),h=n(80),d=n(16),p=n(109).fastKey,f=n(160),A=d?"_s":"size",m=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var u=t(function(t,i){s(t,u,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[A]=0,null!=i&&l(i,n,t[c],t)});return r(u.prototype,{clear:function(){for(var t=f(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[A]=0},delete:function(t){var n=f(this,e),i=m(n,t);if(i){var a=i.n,r=i.p;delete n._i[i.i],i.r=!0,r&&(r.n=a),a&&(a.p=r),n._f==i&&(n._f=a),n._l==i&&(n._l=r),n[A]--}return!!i},forEach:function(t){f(this,e);for(var n,i=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(f(this,e),t)}}),d&&i(u.prototype,"size",{get:function(){return f(this,e)[A]}}),u},def:function(t,e,n){var i,a,r=m(t,e);return r?r.v=n:(t._l=r={i:a=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=r),i&&(i.n=r),t[A]++,"F"!==a&&(t._i[a]=r)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=f(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var i=n(9),a=n(8),r=n(25),o=n(69),s=n(109),l=n(111),c=n(70),u=n(18),h=n(17),d=n(79),p=n(54),f=n(101);t.exports=function(t,e,n,A,m,y){var g=i[t],v=g,b=m?"set":"add",C=v&&v.prototype,x={},w=function(t){var e=C[t];r(C,t,"delete"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof v&&(y||C.forEach&&!h(function(){(new v).entries().next()}))){var D=new v,I=D[b](y?{}:-0,1)!=D,B=h(function(){D.has(1)}),T=d(function(t){new v(t)}),S=!y&&h(function(){for(var t=new v,e=5;e--;)t[b](e,e);return!t.has(-0)});T||((v=e(function(e,n){c(e,v,t);var i=f(new g,e,v);return null!=n&&l(n,m,i[b],i),i})).prototype=C,C.constructor=v),(B||S)&&(w("delete"),w("has"),m&&w("get")),(S||I)&&w(b),y&&C.clear&&delete C.clear}else v=A.getConstructor(e,t,m,b),o(v.prototype,n),s.NEED=!0;return p(v,t),x[t]=v,a(a.G+a.W+a.F*(v!=g),x),y||A.setStrong(v,t,m),v}},function(t,e,n){(e=t.exports=n(161)).Stream=e,e.Readable=e,e.Writable=n(164),e.Duplex=n(59),e.Transform=n(167),e.PassThrough=n(270)},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=c(t),i=n[0],o=n[1],s=new r(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),l=0,u=o>0?i-4:i,h=0;h<u;h+=4)e=a[t.charCodeAt(h)]<<18|a[t.charCodeAt(h+1)]<<12|a[t.charCodeAt(h+2)]<<6|a[t.charCodeAt(h+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;return 2===o&&(e=a[t.charCodeAt(h)]<<2|a[t.charCodeAt(h+1)]>>4,s[l++]=255&e),1===o&&(e=a[t.charCodeAt(h)]<<10|a[t.charCodeAt(h+1)]<<4|a[t.charCodeAt(h+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e),s},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,r=[],o=0,s=n-a;o<s;o+=16383)r.push(h(t,o,o+16383>s?s:o+16383));return 1===a?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),r.join("")};for(var i=[],a=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)i[s]=o[s],a[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function h(t,e,n){for(var i,a=[],r=e;r<n;r+=3)i=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(255&t[r+2]),a.push(u(i));return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,a){var r,o,s=8*a-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?a-1:0,d=n?-1:1,p=t[e+h];for(h+=d,r=p&(1<<-u)-1,p>>=-u,u+=s;u>0;r=256*r+t[e+h],h+=d,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=i;u>0;o=256*o+t[e+h],h+=d,u-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),r-=c}return(p?-1:1)*o*Math.pow(2,r-i)},e.write=function(t,e,n,i,a,r){var o,s,l,c=8*r-a-1,u=(1<<c)-1,h=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,A=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(e*l-1)*Math.pow(2,a),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,a),o=0));a>=8;t[n+p]=255&s,p+=f,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;t[n+p]=255&o,p+=f,o/=256,c-=8);t[n+p-f]|=128*A}},function(t,e){},function(t,e,n){"use strict";var i=n(3).Buffer,a=n(268);function r(t,e,n){t.copy(e,n)}t.exports=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,a=0;n;)r(n.data,e,a),a+=n.data.length,n=n.next;return e},t}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var t=a.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,a=1,r={},o=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){u(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var n=s.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():i=function(t){setTimeout(u,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return r[a]=o,i(a),a++},l.clearImmediate=c}function c(t){delete r[t]}function u(t){if(o)setTimeout(u,0,t);else{var e=r[t];if(e){o=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{c(t),o=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(28),n(41))},function(t,e,n){"use strict";t.exports=r;var i=n(167),a=Object.create(n(29));function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}a.inherits=n(13),a.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){},function(t,e,n){"use strict";var i=n(3).Buffer,a=n(274);function r(t,e,n){t.copy(e,n)}t.exports=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,a=0;n;)r(n.data,e,a),a+=n.data.length,n=n.next;return e},t}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var t=a.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){"use strict";t.exports=r;var i=n(172),a=n(29);function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}a.inherits=n(13),a.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){var i=n(8);i(i.S,"Math",{fround:n(280)})},function(t,e,n){var i=n(281),a=Math.pow,r=a(2,-52),o=a(2,-23),s=a(2,127)*(2-o),l=a(2,-126);t.exports=Math.fround||function(t){var e,n,a=Math.abs(t),c=i(t);return a<l?c*function(t){return t+1/r-1/r}(a/l/o)*l*o:(n=(e=(1+o/r)*a)-(e-a))>s||n!=n?c*(1/0):c*n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){(function(e){t.exports={check:function(t){return"function"==typeof t.getDate},type:-1,encode:function(t){var n=1*t,i=Math.floor(n/1e3),a=1e6*(n-1e3*i);if(a||i>4294967295){var r=e.allocUnsafe(9);r[0]=-1;var o=4*a+i/Math.pow(2,32)&4294967295,s=4294967295&i;return r.writeInt32BE(o,1),r.writeInt32BE(s,5),r}var l=e.allocUnsafe(5);return l[0]=-1,l.writeUInt32BE(Math.floor(n/1e3),1),l},decode:function(t){var e,n=0;switch(t.length){case 4:e=t.readUInt32BE(0);break;case 8:var i=t.readUInt32BE(0),a=t.readUInt32BE(4);n=i/4,e=(3&i)*Math.pow(2,32)+a;break;case 12:return}var r=1e3*e+Math.round(n/1e6);return new Date(r)}}}).call(this,n(120).Buffer)},function(t,e,n){var i=function(){return this||"object"==typeof self&&self}()||Function("return this")(),a=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=a&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(287),a)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,i=Object.prototype,a=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",c="object"==typeof t,u=e.regeneratorRuntime;if(u)c&&(t.exports=u);else{(u=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",A={},m={};m[o]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==i&&a.call(g,o)&&(m=g);var v=D.prototype=x.prototype=Object.create(m);w.prototype=v.constructor=D,D.constructor=w,D[l]=w.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,D):(t.__proto__=D,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(v),t},u.awrap=function(t){return{__await:t}},I(B.prototype),B.prototype[s]=function(){return this},u.AsyncIterator=B,u.async=function(t,e,n,i){var a=new B(b(t,e,n,i));return u.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(v),v[l]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},u.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,a){return s.type="throw",s.arg=t,e.next=i,a&&(e.method="next",e.arg=n),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:k(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),A}}}function b(t,e,n,i){var a=e&&e.prototype instanceof x?e:x,r=Object.create(a.prototype),o=new E(i||[]);return r._invoke=function(t,e,n){var i=h;return function(a,r){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===a)throw r;return F()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=C(t,e,n);if("normal"===l.type){if(i=n.done?f:d,l.arg===A)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(t,n,o),r}function C(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function w(){}function D(){}function I(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function B(t){function e(n,i,r,o){var s=C(t[n],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(c).then(function(t){l.value=t,r(l)},function(t){return e("throw",t,r,o)})}o(s.arg)}var n;this._invoke=function(t,i){function a(){return new Promise(function(n,a){e(t,i,n,a)})}return n=n?n.then(a,a):a()}}function T(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,T(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var a=C(i,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,A;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,A):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:F}}function F(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAEoUlEQVR4Xu2dP2wjRRTGvxcbIx000V1hizsoQEBBB4i00CEhmtM5CKgiotmAj5oUoBVI3PWXy+4QRHV3kHDXIGihBAmouAIQFMCdbAlCGkAit8lDY2wrduzYu7O7no3ftp43895v3/zx2PMNIcHj+/5crVZ7EsDTAJ5g5ocB3AfgHgB3J6gyT5N/AfwN4DYR/QjgGwBfNJvNr33f34/rCMUx2NjYOB1F0WtE9BKAM3FsC1D2N2a+Wi6XLy8vL9+a1N+JAK6trZ0sl8tvA3gFQGXSygtabhfA+1EUvdVoNLbHxTAWYBAEdSK6DODUuMqO2ed/AGh4nrd5VFwjAfq+X65Wq5cAeMcMTNxwwlardd73/WiY4VCAWusTzGzIPxe3tWNa/lMiWlRK/TMY3yGAJvNqtdoNZn5+mjAWFxeHNr+5eWSPysxlIvqk2WyeHczEQwC11iEzq8w8mbBi1wAat4lIK6X6hrQ+gGEYmtf+0YQxZlrMRYCdgF/0PO/DbvA9gJ2lyveuzLYOA/yzUqk8urS09Hs7K7skwzAMXJpxHQbY15XbALXW9zPzTwDuyrRfxqjcZYAA7hDRQ0qpX9sAgyC4QERvxIgv86KOAwQzX1xZWVklszFQrVZ/AXA6cyoxGnAdIIBbrVbrAdJaP8XMX8WILZeiBQBoxsIFCsNwFcC7uVCJ0UhBAK6aDLzOzGdjxJZL0YIAvGEy8DsAj+VCJUYjRQAI4KYBaLZtTsaIra9oVoEWpN5tA9BscSfeJC1IoL2XnrK/uwYgJ80+Y5eyQ1kFmlm9ArCDNuk2mQAUgPEGoLSHHMlAyUDJwKEE0u5q3UbSrle6cFZdeNSbitdhjk/pUcuckRkoAPtfvgC07AwCMG+Alu3NjLn1LDwzpEYEKgAtM0AACkBLApbmkoEC0JKApblkoAC0JGBpLhkoAC0JWJpLBgpASwKW5pKB0waY9m8MlvHkbm6dgQLQ0f/G5J5KCRuUDEwIrmsmAAWgJQFLc2czsCiTkwCUDLQkYGkuGSgA4xFIe2yduQwUgJaaCQLQQYBy0AZAwmMO7YM2ctQrOcD2US+rw4ZpjyndObUg9d60Pu5akEB7a500/SWi9nHXoQeu5S++/evLYWMkEa3S+vr6wtzc3JeDy1EBOBHAhZGiEwJwLMD/RSdMsWGyJwLwaIA92RNTzEh77u3t/Wxz8DreN9LCl94tlUoPGqnQg9JPRqXy1cKHlk8Aoed5K6apQfGxH2z0E/LxfeqtbEdR9EhXX7VP/i4IgheIqCftNnVXHXTAKBgrpa71fpUb9NEVAUYH2RmX3vM8r0+c8pCC5dbWVmVnZ+fjaUuAugbQSIDOz8+fq9frRia594wUod3f379ORM+6FsiU/PmMiOoTidB2HdRaGy3BSy7oqU4JWrtZo5sK4LxS6s4wPyYR4jYTi9GTnkUh7tcP6qUmAmiMtNanmPkdAEszsNg2Y9wHRPSmUsrslR75jM3Ag9adbywNAC93bm8YV3+RPr8N4EqpVFpL/TKCQQrd6zCY+RkierxzHYZRwLzXJR3WEW/PjGV/GQVKcx0GM39LRJ8nvQ7jP3G3pyMz/eeuAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAJeUlEQVR4Xu1daWwU2RGu55ldjjHnmsOOOSTAmBsUUAziDPcpgYXtmQYjEAwEvPmDhMKPRFYiJRE/+MEGcCwOYegxy2BxC4GAGASEawFxY84lPkCsQYDNYc/4RdWmm+l2z/TrY8bG2yWNLLlf1Xv1db2q1/X6VRMwQLm5uXH37t0bQQiZQAgZDgApAPAbAHABQAsDImPJ8gkAqgGgDABKKKVXKKX/SU1NvZybm1undyBEDwPHcckAsIpSygFANz28X0Hb/xFCeADYyPN8Ket4mQDMzs7+LhgM/pVSuhQAvmUV/pW2qyGEbHE4HH8pKCio1NJBE0C3251BCNkIAAlawprZ9V8IITk8z/8YSa+wAI4fP96ZlJT0AwCsaGbA6FUnr7y8/Pvi4uKAGqMqgF6vt3VVVRUiP0tvb820/eH4+PjM/Pz890r9GgCIlpeYmFhECJkT2njNmjUy3nXr1jVTrNTVopQerKioSFdaYgMAOY7Lo5QuV4r5tQOIeBBC/s3zvMylyQDkOC6TUrpb7R7YANajQin1FBYWFooYSQDiUiUQCNwLF21tACWzelVbW5vq9/tfClYp/tvj8WyOFHFtAL/My9CpLACYnZ3dPRAIPASAb8JFBhtAGTK1Tqezd0FBwTMBQI7j/kEp/ROL7zMaeptb1CaE/JPn+bUEEwMlJSU/AwA+5zYgpeXZAEoIlKakpPQgWVlZv4uLi7vAOnVtAL8gUFdXl0Y4jltLKf27DaB+06CUriUej2cvAKRrsdtBRBWhIuJ2u28SQgbaAGoh0PA6pfQWWuAvAPCdFrttgaoIVSKAmOLWTJLaAKoCWIMAUi3rw+s2gOoo2QCyWE+ENjaANoAmETDJblvg1w5gy5Ytoa6uDmpqakyq0jjsjWKBHTp0gLS0NOjTpw8ggEhv376Fhw8fwrVr16CyUnM7tnHQUuk15gAOHz4cxo0bBw6HQxUESilcuXIFTp8+LVhmLGjixInQs2dPePPmjfC7efMmPH/+nKnrmAI4YcIEGDFiBNPAHj16BAcPHoTa2lqm9mYaZWVlQffu3SURRUVFgP2zUMwAxCk7duzYBmMKBAK426VqkQ8ePIB9+/ax6GGqzYoVK6Bt27aSjK1btzK7kZgA2KNHD8jIyBCAEun9+/dw7Ngxwe85nU7BH+LUbtOmjQwMnMoXL140BVAk5ri4OFi9erU0NnQh69evh2AwyNRn1AFs0aIFLF26FFwufPOtnt69ewc+n0/wN6HUqlUrAeguXbpI/0YLRYtQtmXSjqFRp06dYPHixVJLDGZ5eXkMnPVNog7g5MmTYdiwYdKA8M7yPB/WScfHxwsKIZgilZSUwP79+5mV0tMwNTUV5sz58hIG+j70gawUVQA7d+4MixYtkk1dlinZv39/mDVL/lrO9u3b4eVLYSvWUho9ejSMGjVKknnp0iUoLi5m7iOqAM6dO1fwbSLh+g6BYFmeLFy4EBITEyXeO3fuwOHDh5kVY22Ynp4OvXr1kpofOXIEbt++zcoevSnctWtX3G+WDQQjKkZWFurduzfMmzdPNvU3b94MGHyspFWrVsn8s54IHFUfiH4F/YtIZWVlgu/TQxh8OnbsKLGwTH898nHpgksYkT59+gQbNmzA91+YxURlCuPAvF4v4BJBJL/fD0+ePGEeGDbERTcuvkV69eoVbNmyRZeMSI0HDhwIM2bMkJo8ffoU9uzZo0t+VAAcOXIkjBkzRhoI+j6cGnoJI/HKlStli+zdu3fDs2fP9IpSbT9z5kwYMGCAdO3MmTNw4ULYLXJVGVEBcNmyZYAJA5FOnDgBV69eNaT07NmzoV+/fhLv3bt34dChQ4ZkhTLh7ED/F7pc2rlzJ1RUVOiSbTmASUlJsGDBAmkQmKbatGmT4XQVPsVkZmZK8nAdifI+fPigS1FlY6XcqqoqwCClx/+hTMsBnDJlCgwdOlQaLy4JcGlghpYvXw7t2rWTRJw6dUrI2Jgh5fTFGYIzRS9ZCiA+6+bk5MimBTpldM5mSOlTX79+LQQTvdYijgGfdvCmhKbUdu3aBeXl5bqHaSmAmBLC1JBI1dXVwnQzqqgoRy2YHDhwAO7fv69bYWSYOnUqDBkyROJ98eIF7Nixw5AsSwFU5vuuX78Ox48fNzQwJdO0adNg8ODB0r/RCrdt28acNREZu3XrJtzk0MwQBiUMTkbIUgCV0VdPYlJr8OgDUX7o2vL8+fNw9uxZLVbpekJCggBe69atLbE+S4NI+/bthcWzSJiGwlU9/rWKlJkddA1Hjx6FW7duRewCrQ0TFJMmTQJMr4mE/Ph0ZMT3iTIss8BBgwbB9OnTpcE9fvwY9u7FN+esI9yAWrJkCWAQCCV0FfjDbA0GBmyHP1yLYkIiJSVF9kgo8mLWBbMvZsgyAK1Y1bMogj4Mk67hNqVYZGCbc+fOCT+zZBmAyn0FnBqYQIgGYZICb5gRED9+/AgnT57UlbKKpINlAOJeBk4XTGNhIhVTV6z7CkZATk5OFkAMXWBHkoNPLjdu3IDLly9bmhKzDEAjIJjlQQvEZEDfvn2Fm4b7LnjT0Mrw0Qz3UXCNhzOhtLSUKZGrd0xfNYB6lY1GextAk6jaAH4G0OgbuDaANoAm56ANoA2gNQiYlGL7wEYE0D5oY/wcjHDQxj7qZRzASvuwoYkoLB42tI+7GrfAIs0D16JvNhqlTPr2mLEb0U84cM1xXBql9L9aIzXSgZbMpnTdiH7CkX+tohPhLLApKR+LsahUHakvOoGdRyp7YgNYj4ASQKnsyWcAkymleDAi7MFrq8qfxMJaotGHAkCsctkLS4VK5w44jttIKV0ZrnMbQFm5vzyfz/cHxEpZfAzfldCsnxCNO9zYMnUEkUqn09lXrK8qK3/n8XjwxRaptFtjKxXL/lkBJIRwPM/7xLExF2CMpTJNuK98n88nK07ZAMD58+d/63Q6/coSoE1YqZgMDUuABgKB+X6/X3awOVIRWnzE+/KuRkyG2TQ7IYQccblcGUxFaEUVvF7vN9XV1T+o1VNtmmpGZ1RYbNHlcn2fn5+veu5WsxD358CC9aR/dYW4KaV/DK2XqnaLNAFEJrfbnUAI+RsALGGpchQdW4iZVPRx2yilfy4sLMRcaURiAlCUgB8joJTmUEoXEELw6w3NhiilZYSQXYSQf1n+MQIlSuLnMBwOx+8ppb/9/DkMrICJL+6FrcPaRNBGX1YFAPjFhhJCyE/BYPCU0c9h/B8KDZdPy3zdiAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAALBUlEQVR4Xu1deUwUSxr/CsYTPPECb30i8b7W1UQjaoy+ZOONMNOK0ax47MOYmJj1j92Q3WR3Y2JidFWWbDzQARXxihuvqBiNvrie8UJcbwUP8MSTgdr8WnrsHoaZ6p6eaUC+5CUvWF311a+qvvrqu4aRAUpLSwvLz8//DWNsLGNsGBHFElFHIoogokYGugzlJ1+I6AMRPSWiAs75Bc75ybi4uP+mpaVV6GWE6flAkqRORPQHzrlERJ31fFsL2j5mjDmJaL3T6Xwiyq8QgMnJyVHl5eV/4Zz/nogainZeS9t9ZYz9Ozw8/M+ZmZkl/ubgF0C73T6LMbaeiNr466yO/XsxY+wXp9O509e8qgUwPj7eFhMTs46IFtUxYPROJ72wsDA1Ly/P5e1DrwCmpKQ0LS0tBfK/0ztaHW1/MDIyMjEjI+Oj5/yqAIidFx0dncsYm1xHwTA0Lc75gaKiohmeO7EKgJIkpXPOFxoapY5/xBj7l9Pp1Ig0DYCSJCVyznfUcRwCmh7n3JGdnZ2tdOIGEKqKy+XK/wFvW72AviorK4vLycl5iQ/dADocjo1W3LiNGjWimJgY6tChA7Vp04ZatmxJkZGRhL83bPhN5fz69St9+fKFSktL6c2bN1RcXEzPnj2jwsJC+e+hJvVRlgFMTk7u4nK5/kdEDULBTLNmzSguLo5iY2Nl8Bjzq456ZYtzLoNYUFBAt2/fpnfv3oWCfYxRZrPZfsrMzHwkcy5J0t85538M9uidO3em4cOHU48ePQyDVh2PAPPevXt0/vx5evz4cbCnAv7/4XQ6VzIYBgoKCh4SEd65QaEuXbrQqFGjqFOnoA2h4fvJkyd05swZevToUVDmU9npk9jY2K4sKSnpt2FhYb8GYyTIsvj4eOrTp4/P7l+/fi3vmufPn9OrV69kOffp0ydZ9oEgC5s0aSLLx9atW1O7du0Ii9KqVSuf/d68eZPy8vJk2RkMqqioGMEkSVrJOf+b2QP07t2bJk2aJF8G3ujly5d048YNys/PNyy7mjdvLsvSvn37Utu2bb2Og0vm8OHDsow0mzjnK5nD4dhNRDP0dh4VFUX9+/en7t27U4sWLeTP3759Sw8ePKCIiIhqd939+/fp3LlzhGNmJkE8jBgxQpav3ujSpUt08uRJKi8vN3PYXGa3268xxvqJ9hoeHi4fy4EDB/q8CMrKyuQusQNxy7548YKOHj0q35rBJNzqEyZMoPbt21cZBmJi79699PnzZ1NY4Jxfxw4sJqIokR4B3rRp06hr164izWVG8d/ly5fpypUrVFGh2+ArNI5no7CwMBoyZAiNGTOGwLOasJC7du2ijx+r2AWMjFUCAKGJChlJx48fT4MGDdI1EOQcZJAVBOV8ypQpbhGj8IDLaseOHWYo4V8BIBeZHGTe3LlzNccWt+fp06fp4UNoQSTvzNGjR2tuR+hnW7dupZIS38bdpUuXathYu3atCFt+2+D2njlzJkVHR2vagufdu3cHLBOFAYTcGzp0qJsJgOd0OqusImSew+GQ1Q2FLl68KKsTvihYAGLMBg0ayKKnW7duGhYgWo4dO+Z3EXw1EAZw3rx5GlAOHDhAd+7c8dp3r169aPLk7+ZE6HabN2+2DEAFxKSkpCo7EfOAKmWUhAFctmyZRiCvW7fOreh6Dg7FNzU11f1nqA5r1qyxFEAM3rRpUzxbNSIGeuKmTZvo/fv3hjAMCoA4MuojCZXGn0wL5hFWI4NXzOzZs8lms7n/jJME9cYICQMYyBHGBbJlyxbLd6DCwLBhw2jcuHEafnbu3Om+DPUAKQyg5yUCuZaVlSV0iSivAKsuEc9xodhDo8BuVAgvI8xHLwkDCGNncnKyITUmMzNTNoLWFADBB14sOMpqgqVerylMGEAMZESRxgvk+PHjfhc2VDJQzQj0Q/Xb+e7du5Sbm+uXV3UDXQDqfcrBHrdnzx4hZdUKAGGAgM6qEJ6aGzZs0PXM0wUgBhIxJuD1ce3aNdn64XJ5dehXWWUrAAQT8+fPl30xCp04cYIuXLggvAt1A6j0jKfdgAEDZO0ehk7oevBJ4IkE8PzJPE8OrQIQLgZckEYvE8MACi+RYEOrAIRRdtGi775ynB7orKLevh8eQKzvggULNK8TGBngoBKhegCJaOLEibKBWCE4pM6ePSuCH9UDSESDBw+WrdgKwbgAI4MI1QNYacdMTEx041VUVETbtm0Twa9+BwIlOMUWLvwekAY3KPRBETJtB3reoiKD62njz5qjpy/PtjC/wVynEPzR/sxvStt6ACuRWLFihQbXVatWCa1JPYCVr6vly5e7AcOjYPXq1eYCiHcjnmV4L+I/2PigdCpUm48wHE9qCzpcsaIiQ3gH4pqHvxUgYoUQXSCqrYsspVUvEfCGp2hKSoqbTTxJ09PTRdgWv4XhkIGnTQHw4MGDcjCQWWQlgHDHBl2NgZcNgTwKHTlyhK5evWoWfhofCjoVPUJmMBASRXrkyJGy01whGEoR62IWWbkDQ/KUg+UWFlyFYK6CO7AuUEiMCYg4wC5RxzNv3LjRsD+1pgCPeO3Fixe72QmqOQvmb3WYLsI1EJNcmymkBlVPfyqiTP2FbNR0cOHvVke3BtWkj9CIJUuWyPqgQvClmh1tGirQLXEqzZgxg3r27OmeIyy3sODWRgq5WxMgIdfDbrdr8Nq+fXvQQ3fNXiBLHOvKJDwvE4TNIohS/TY2e8Jm9gdNAlEW6jjqoId2qCfg+fTBv+kVvmYCorcvS4KLPJlExCcCKRXCGxlHGbuxJhNu3Dlz5oQ+vM0TFCig8OqrE2mUsF+TIuBNXwdLAyy9zQbGBXUoL9rAIYMIeCVPxHQUDHaIoE9LQ3yr4xt2Qlgz1IRspH379tUYEAHe1KlT5awqNYU0yLw6ABFslJCQICf/qQk7EfohkgatpOrSHBAHiISbQFO/dCXaVAcEmMTx8Ez4Q+7c/v375exyKwiJNhAxsDirCU9QiBkTFldOtBFO9fIFAgT0rFmzNGGzaI8VPnXqFCHMtyakegE8xEObdNGV6E429AUi/KvTp0+vcpzxDcz/SGqxMtkQyjICPs1ONjSU7upLJo4dO1ZO9vNGeDvDIfX0KarPmUcdO3YkWM2rS3fFhQFlP1CZ58FxrqUJ19evXw+oWARi+5DY3a9fv2oTrhFlcOjQoeAlXEuSNIJzfs68vfC9J9GUf6RM4FbEKwb/j8sHx0yd8t+4cWM5hkVJ+YdRQ52P543/W7duyWHGQU35r4tFJyAekEUakqITWLn6sif6z5+77EklgJ0453dFE6/1D6f9QikWgcI7yOMNpPAOFHYU3gmkeIWB+aDKZU+UCnWXDJIkaT3nfImBzgL6RF36CYo45Bx0Sm+ln6C7QT5Cl7Oy9BMRpWdlZcmuPM/iY6gNIlQ/ISDUavfHJTabrbdSX1VTtMrhcCQRkbu0W+2eZ3C4Z4xJTqfTnZVYX4BRH84ZWVlZmuKUVQBMSEhoaLPZcupLgGqRRQlQl8uVkJOT860eVSX5KkKLJ97P+haobrZmjP0nIiJillARWgWClJSUBh8+fFj3o9dTRbHFiIiI1IyMjG+lmDzIb+XDyosF9aR/uELcnPOl6nqphgDER3a7vQ1j7K/IDg2Vsm2hMICM28Q5/1N2drbvNHu1HijCMH6MgHP+C+d8NmMMv95QZ4hz/pQxtp0x9k/Tf4zAEyXl5zDCw8PHcc5Rzgg/h4HylJGhqsMawMpBlqEiI+rvFTDGLpaXl58w+nMY/wdcUqteUSQYOQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAALsklEQVR4Xu1dV2xUSRa9hZtoM+Rgs2QwWcQlBy85LElEu8GklYmD+EKaj11Zuz8jvkCDwWvBAobuNniHuOScQeQkTBTRJkeb4ECtTg2v6W6/fl0v2G0bjmSNBlc8r6puqFvXjHQgPj6+VFpa2p8ZY39hjHUiokgiqkNEoURUVkdTwSj6mYiyiOgxEd3knJ/lnB9s3rz5mfj4+C9GB8RkKtrt9j8R0VzOuZ2I6srUKUZlHjLGHESU4HA4HukdtyaBsbGx1fLy8v7JOf8bEZXR23gxK5/NGFsREhLyj+Tk5JeyY/dLYHR09HjGWAIRVZdtrISUe8EYm+dwONbLzCcfgVFRUbaIiIjfiGiWTAMluExienr6z4cOHcrVmqMXgXFxcRUyMzPB/F9LMDF6pva/sLCwCUlJSR/8VXITiJUXHh7+O2NshJ4eSnpZzvnWjIyMMf5WoptAu92eyDmfWdIJMTI/xti/HQ6H6pEmCLTb7RM45ylGGreqTt++falatWpUsWJFqlChApUqVYrKli1LeXl5lJubS58+faKsrCx6+/YtvXr1ip48eUIZGRn08eNHq4ag2Q7nPMblcrl8CzGoKrm5uWnBlraxsbFUu3ZtXWRwzgWRd+/epevXrwtiCxCvcnJymqempj737IPFxMQsLwoSd+DAgdSuXTtT83/8+DGdPn2abt++baodvwJDZSuDwGwiKl0gPepotE2bNjRkyBAdNfwXffbsGe3fv58ePnxoSXsejeTYbLYmycnJD5R/A4Hcql5CQkKoUaNG1LhxY7EdQ0ND6cuXL5SZmUnPnz+nO3fuiO2Gc80XKBsRESHOuA8fPohzLzs7m2w2G6Hd8uXLU6VKlahGjRrirKxZs6b4Ycy/MXX16lXat2+faMcqMMZ+dTgcv1hOIEjr0aMHVa5cWXOsb968oePHjwsyzQLCBv22atWK6tWrp9rc69evafPmzeIDWoRHkZGR9RUHhOkViBXQvXt36tixo67xnTt3jk6cOEEQBFYAq7Jr167UsmXLfKsSK3DTpk10//59K7rCruqakpJyGo2ZJhCrTi95yixAIlajlcDRMXjwYLG9PYEjASsRR4hZcM5/cblcv5omsEmTJjR06FCv8eB8w9lz48YNevnyD6cGVkezZs2odevW4jzzxI4dOyyXmugjKioq34fNycmhlJQUoT+axO9Op3OsKQIxyClTplBYWJh7LFB0t27d6ve8gQAYMWKEEC4KIGDWrFmjKlhMTpI6dOhA/fv392rm/fv3tHr1alMKOOf8qsvlamOKQKyoQYMGuQeHlbdhw4aAh3X16tVpwoQJXitxz549lJYGXd56tG/fngYMGODVMPTEjRs3munspdPpFG4+w2cgti62sIKLFy/SkSNHpAbVu3dvL6UZE8JWLihgFWI1egI7xcRHy3Y6neIKwzCB06ZNE3arAqw+mFUywEE/fvx4d1Fsq1WrVslUNVQGx010dLTQMxVA31yxYoXho8PpdAoF1DCBc+fO9dqGCQkJ0oPBhFBfAbY/6hckIMimTp3qNWZYK9AEjMA0gbNmzaIyZb5dk+ghsHTp0jR79uxCJRCdQTJ37tzZ3S8EWGJiorCW9MI0gfCeeFodRXkLK+TAcpk5cybhAyrYsmWLULn0wjSBvkLk0qVLdPjwYalx9OnTh9q2besuW9BCxHNQ/fr189IPHzx4IHRDvTBNoJoas379enrx4oXmWApbjfEdDPqfPn261z8vW7ZMODz0wDSBaoo0BrFt2zZNRXr48OFeyndBKtL+CJk8eTKFh4e7f71r1y66fPmyHv7INIHorWnTpvl8eHpNuZ07d9KtW7d0Dd5sYTgdoIsqQP9wNuiBJQSiw549e+ZTUmUHcv78eTp27JhsccvKwdEAlUYBvDVLlizR5RmyjEC4s/A1PYWCzEyxZSB0rHJnyfTpWWbevHni8koB7GN4shVgXnDgwn+pBssIVBqHWQe/oIxDFX7Agrq3kCVy7Nixwnuu4OjRo/Tu3TuqVauW+yc9PV3Y94VCIDqBYAGR8BJjmyieGggKfF14oUGcmktfduJmy+G6FFZJr169xFgxFqw2/LsvYJ/DNWeKwCpVqgiXeTDOKivIggtNWVWwwfH/uGcJBDhgly5d6vc+RXoLd+vWTXytkydPEpZ5cQIsjtGjR1ODBg10DxvWCawUf5AmcMaMGWLJA6dOnZJ2WekecQFVwGobNWqU13kn0xXUGi31SopAX3GPjnFxLWuyyQy0MMrgbIYnHHqrDD5//iy2r9ZZLUUg1BMonb44c+YMHTx4UGYsRaYMhASsIJiggQAVC9aJFqQIhMvqp59+Um3n7NmzdODAgUBjKVK/h7QdNmyYuPrUAmz6QFegAQmsU6cOorY0O4IzEk7J4gSQiBAS3BCqASrX8uXLAyr4AQlUu0dQ6/DChQu0d+/e4sSh0PsQzKRmPckeT5oE4ryYM2eOl6mjxRAulHCzVtygtkiSk5Ol7nY0CYTe5HnpI0MMHKq7d++WKVqkyiCws1MnvBkiEV+IiyYZaBIIb7O/M0Kr8StXrgjpFSwHgczE1crAQ96lSxdhbcFOl4FfAqF4wlPheWGk1SBcQbjOfPr0qfgv7F0rw8lkJmNFGbjlrl27RojmkoFfAqFswvxRg7KycAjDrIO5U8BhtTJzCUoZvwSOHDlSKJu+KwtbumHDhu7B4rzDufe9QnMFIqrKd2X5usFx3sEd/70ioB7oS0z9+vVFUJAChGNA4fxeoZtACJf58+d7+dJWrlzpjgEMJpHwWUKSQv3SI/zu3bsnHCOygsNzjroJRGXohp6+NURjwcUVTFStWpVwTYlHOUYAz8vatWt1C0NDBPrG2ulRPI1MTqYOfH2RkXg4bxw3b94U4b96YIhA3GIhKMgzTNfhcBAeuAQLCxYskN62/sYIjWPx4sW6pmCIQPQAn1qLFi3cnRn5erpGGqDwwoULvUosWrRIqnmj9ZTGDROI9xgTJ070GiRinGGJBANGiTBazzSBaGDSpEle0Z6Iel+3bl1QbGCjRBitZwmBdevWFSGznsCTKoRqFDaMEmG0niUEopExY8aIC3QFuICBQJGNk7aKaKNEGK1nGYGIG0GguafiCusEJCJEorBglAij9SwjEA0hYgGXNJ5A9DsedhcWiUaJMFrPUgLRmJpbHC+WcKv/6JHuREC6F65RIozWs5xA+AbhAvO1BhD5jnAQXMQjzqSgYJQIo/W+zsP8QxtPQrTuW2Gow02OnAZGnhMEIt4oEUbrfR2P+adevhMDiXCLIxhJDRAw8CGCSOUVZyByZH4fDFPOkseG/iYH1QbvdT1fZPqWBZnIZwCVBw4JCB6kNcFzVPzAswL3GWxvSHvY2kgDoIYgORPMP3fVWh3lypUTIXG4uFYLXJRZWZ5ltm/fLi581IDIMVhGZtxZsKL07ArLHlwHIgLhvrguhLojE9Torz1YOLB0/AE+QQRCGXGowqep92LM0if/gUjE77E6cFEFSQ0z0POplUx9bHVEDBQRWJt0Qu+ksBIRaquE22KV4rxEWhP8DuTiPITERlonnJd4/VRUIsHU0p4gt2hJz06p9zv7K48sl409U4Uyu92ewDmfY1UPJbydRKfT+e2dLh5cf00+hveefwRC/4A/Bl7abLZmvvlVxbP1mJgYuJjzpXb7weU3BhhjdofD4fTl5EcCRrlVkuR0OlWTU7oJHDduXBmbzZb6IwWoN6NIAZqbmzsuNTVVNYOZWhLa/xKRNXno5L5ukS3FGNseGho6XioJrTKLuLi40llZWb997/lUkTc1NDT056SkpBytL+w3+d5XwYJ80t9dIm7O+Xy1fKlqRGqmgo+Ojq7OGPsXESHJQElXtnHG/Ydz/neXy6Wd+MGDSek/RsA5n8c5n8QYw19vKDHgnD9mjK1jjC21/I8R+LKk/DmMkJCQvpxzZFxEVA/+0gNSuAU9D2uAr4qzDKk5cFFzkzF2Li8v74DZP4fxf8Mr75zjJjxkAAAAAElFTkSuQmCC"},function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"fft",function(){return vn}),n.d(a,"FFTCalc",function(){return bn}),n.d(a,"FFTCalcNotZeroPadding",function(){return Cn}),n.d(a,"envelop",function(){return xn}),n.d(a,"orderTrack",function(){return wn}),n.d(a,"fft_filter",function(){return Dn});var r=n(183),o=n.n(r),s=(n(195),n(196),n(12),n(22),n(74),n(19)),l=n.n(s);n(202),n(55),n(205),n(206),n(57),n(34),n(35),n(78),n(39),n(36),n(68);!function(t,e){t.canvg=function(t,e){var n,a=function t(e,n,i){if(null!=e||null!=n||null!=i){"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var a=p(i||{});1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=a);var r=e.getContext("2d");void 0!==n.documentElement?a.loadXmlDoc(r,n):"<"==n.substr(0,1)?a.loadXml(r,n):a.load(r,n)}else for(var o=document.querySelectorAll("svg"),s=0;s<o.length;s++){var l=o[s],c=document.createElement("canvas");c.width=l.clientWidth,c.height=l.clientHeight,l.parentNode.insertBefore(c,l),l.parentNode.removeChild(l);var u=document.createElement("div");u.appendChild(l),t(c,u.innerHTML)}};void 0!==Element.prototype.matches?n=function(t,e){return t.matches(e)}:void 0!==Element.prototype.webkitMatchesSelector?n=function(t,e){return t.webkitMatchesSelector(e)}:void 0!==Element.prototype.mozMatchesSelector?n=function(t,e){return t.mozMatchesSelector(e)}:void 0!==Element.prototype.msMatchesSelector?n=function(t,e){return t.msMatchesSelector(e)}:void 0!==Element.prototype.oMatchesSelector?n=function(t,e){return t.oMatchesSelector(e)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(n=function(t,e){return $(t).is(e)}),void 0===n&&(n=Sizzle.matchesSelector));var r=/(\[[^\]]+\])/g,o=/(#[^\s\+>~\.\[:]+)/g,s=/(\.[^\s\+>~\.\[:]+)/g,l=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,c=/(:[\w-]+\([^\)]*\))/gi,u=/(:[^\s\+>~\.\[:]+)/g,h=/([^\s\+>~\.\[:]+)/g;function d(t){var e=[0,0,0],n=function(n,i){var a=t.match(n);null!=a&&(e[i]+=a.length,t=t.replace(n," "))};return t=(t=t.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[^]*/gm," "),n(r,1),n(o,0),n(s,1),n(l,2),n(c,1),n(u,1),t=(t=t.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),n(h,2),e.join("")}function p(a){var r={opts:a,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,log:function(t){}};1==r.opts.log&&"undefined"!=typeof console&&(r.log=function(t){}),r.init=function(t){var e=0;r.UniqueId=function(){return"canvg"+ ++e},r.Definitions={},r.Styles={},r.StylesSpecificity={},r.Animations=[],r.Images=[],r.ctx=t,r.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},r.init(),r.ImagesLoaded=function(){for(var t=0;t<r.Images.length;t++)if(!r.Images[t].loaded)return!1;return!0},r.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},r.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},r.ajax=function(t){var e;return(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(e.open("GET",t,!1),e.send(null),e.responseText):null},r.parseXml=function(t){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var e=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,e.loadXml(t,n),e}return window.DOMParser?(new DOMParser).parseFromString(t,"text/xml"):(t=t.replace(/<!DOCTYPE svg[^>]*>/,""),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t),e)},r.Property=function(t,e){this.name=t,this.value=e},r.Property.prototype.getValue=function(){return this.value},r.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},r.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},r.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},r.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},r.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e.value&&""!=e.value&&"string"==typeof this.value){var i=new t(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+e.numValue()+")")}return new r.Property(this.name,n)},r.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);return t&&(t=t[1]),t||(t=this.value),r.Definitions[t]},r.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},r.Property.prototype.getFillStyleDefinition=function(t,e){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(r.ctx,t,e);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var i=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),i.hasValue()&&(n.attribute("patternTransform",!0).value=i.value)}return n.createPattern(r.ctx,t)}return null},r.Property.prototype.getDPI=function(t){return 96},r.Property.prototype.getEM=function(t){var e=12,n=new r.Property("fontSize",r.Font.Parse(r.ctx.font).fontSize);return n.hasValue()&&(e=n.toPixels(t)),e},r.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},r.Property.prototype.toPixels=function(t,e){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(t);if(n.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(t);if(n.match(/%$/))return this.numValue()*r.ViewPort.ComputeSize(t);var i=this.numValue();return e&&i<1?i*r.ViewPort.ComputeSize(t):i},r.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},r.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var o={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return r.Property.prototype.toTextBaseline=function(){return this.hasValue()?o[this.value]:null},r.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,e,n,i,a,o){var s=null!=o?this.Parse(o):this.CreateFont("","","","","",r.ctx.font);return{fontFamily:a||s.fontFamily,fontSize:i||s.fontSize,fontStyle:t||s.fontStyle,fontWeight:n||s.fontWeight,fontVariant:e||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(e){for(var n={},i=r.trim(r.compressSpaces(e||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},o="",s=0;s<i.length;s++)a.fontStyle||-1==t.Styles.indexOf(i[s])?a.fontVariant||-1==t.Variants.indexOf(i[s])?a.fontWeight||-1==t.Weights.indexOf(i[s])?a.fontSize?"inherit"!=i[s]&&(o+=i[s]):("inherit"!=i[s]&&(n.fontSize=i[s].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=i[s]&&(n.fontWeight=i[s]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=i[s]&&(n.fontVariant=i[s]),a.fontStyle=a.fontVariant=!0):("inherit"!=i[s]&&(n.fontStyle=i[s]),a.fontStyle=!0);return""!=o&&(n.fontFamily=o),n}},r.ToNumberArray=function(t){for(var e=r.trim(r.compressSpaces((t||"").replace(/,/g," "))).split(" "),n=0;n<e.length;n++)e[n]=parseFloat(e[n]);return e},r.Point=function(t,e){this.x=t,this.y=e},r.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},r.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},r.CreatePoint=function(t){var e=r.ToNumberArray(t);return new r.Point(e[0],e[1])},r.CreatePath=function(t){for(var e=r.ToNumberArray(t),n=[],i=0;i<e.length;i+=2)n.push(new r.Point(e[i],e[i+1]));return n},r.BoundingBox=function(t,e,n,a){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,i,a,r){var o=t+2/3*(n-t),s=e+2/3*(i-e),l=o+1/3*(a-t),c=s+1/3*(r-e);this.addBezierCurve(t,e,o,l,s,c,a,r)},this.addBezierCurve=function(t,e,n,a,r,o,s,l){var c=[t,e],u=[n,a],h=[r,o],d=[s,l];for(this.addPoint(c[0],c[1]),this.addPoint(d[0],d[1]),i=0;i<=1;i++){var p=function(t){return Math.pow(1-t,3)*c[i]+3*Math.pow(1-t,2)*t*u[i]+3*(1-t)*Math.pow(t,2)*h[i]+Math.pow(t,3)*d[i]},f=6*c[i]-12*u[i]+6*h[i],A=-3*c[i]+9*u[i]-9*h[i]+3*d[i],m=3*u[i]-3*c[i];if(0!=A){var y=Math.pow(f,2)-4*m*A;if(!(y<0)){var g=(-f+Math.sqrt(y))/(2*A);0<g&&g<1&&(0==i&&this.addX(p(g)),1==i&&this.addY(p(g)));var v=(-f-Math.sqrt(y))/(2*A);0<v&&v<1&&(0==i&&this.addX(p(v)),1==i&&this.addY(p(v)))}}else{if(0==f)continue;var b=-m/f;0<b&&b<1&&(0==i&&this.addX(p(b)),1==i&&this.addY(p(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,a)},r.Transform=function(t){var e=this;this.Type={},this.Type.translate=function(t){this.p=r.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var e=r.ToNumberArray(t);this.angle=new r.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=r.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=r.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],n=this.m[2],i=this.m[4],a=this.m[1],r=this.m[3],o=this.m[5],s=1/(e*(1*r-0*o)-n*(1*a-0*o)+i*(0*a-0*r));t.transform(s*(1*r-0*o),s*(0*o-1*a),s*(0*i-1*n),s*(1*e-0*i),s*(n*o-i*r),s*(i*a-e*o))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=e.Type.matrix,this.base(t),this.angle=new r.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var n=r.trim(r.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++){var a=r.trim(n[i].split("(")[0]),o=n[i].split("(")[1].replace(")",""),s=new this.Type[a](o);s.type=a,this.transforms.push(s)}},r.AspectRatio=function(t,e,n,i,a,o,s,l,c,u){var h=(e=(e=r.compressSpaces(e)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",d=e.split(" ")[1]||"meet",p=n/i,f=a/o,A=Math.min(p,f),m=Math.max(p,f);"meet"==d&&(i*=A,o*=A),"slice"==d&&(i*=m,o*=m),c=new r.Property("refX",c),u=new r.Property("refY",u),c.hasValue()&&u.hasValue()?t.translate(-A*c.toPixels("x"),-A*u.toPixels("y")):(h.match(/^xMid/)&&("meet"==d&&A==f||"slice"==d&&m==f)&&t.translate(n/2-i/2,0),h.match(/YMid$/)&&("meet"==d&&A==p||"slice"==d&&m==p)&&t.translate(0,a/2-o/2),h.match(/^xMax/)&&("meet"==d&&A==f||"slice"==d&&m==f)&&t.translate(n-i,0),h.match(/YMax$/)&&("meet"==d&&A==p||"slice"==d&&m==p)&&t.translate(0,a-o)),"none"==h?t.scale(p,f):"meet"==d?t.scale(A,A):"slice"==d&&t.scale(m,m),t.translate(null==s?0:-s,null==l?0:-l)},r.Element={},r.EmptyProperty=new r.Property("EMPTY",""),r.Element.ElementBase=function(t){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(t,e){var n=this.attributes[t];return null!=n?n:(1==e&&(n=new r.Property(t,""),this.attributes[t]=n),n||r.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if("href"==t||t.match(/:href$/))return this.attributes[t];return r.EmptyProperty},this.style=function(t,e,n){var i=this.styles[t];if(null!=i)return i;var a=this.attribute(t);if(null!=a&&a.hasValue())return this.styles[t]=a,a;if(1!=n){var o=this.parent;if(null!=o){var s=o.style(t);if(null!=s&&s.hasValue())return s}}return 1==e&&(i=new r.Property(t,""),this.styles[t]=i),i||r.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(t.save(),this.style("mask").hasValue()){var e=this.style("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(t){},this.clearContext=function(t){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(t,e){var n=t;e&&(n=r.CreateElement(t)),n.parent=this,"title"!=n.type&&this.children.push(n)},this.addStylesFromStyleDefinition=function(){for(var e in r.Styles)if("@"!=e[0]&&n(t,e)){var i=r.Styles[e],a=r.StylesSpecificity[e];if(null!=i)for(var o in i){var s=this.stylesSpecificity[o];void 0===s&&(s="000"),a>s&&(this.styles[o]=i[o],this.stylesSpecificity[o]=a)}}},null!=t&&1==t.nodeType){for(var e=0;e<t.attributes.length;e++){var i=t.attributes[e];this.attributes[i.nodeName]=new r.Property(i.nodeName,i.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),e=0;e<a.length;e++)if(""!=r.trim(a[e])){var o=a[e].split(":"),s=r.trim(o[0]),l=r.trim(o[1]);this.styles[s]=new r.Property(s,l)}this.attribute("id").hasValue()&&null==r.Definitions[this.attribute("id").value]&&(r.Definitions[this.attribute("id").value]=this);for(var e=0;e<t.childNodes.length;e++){var c=t.childNodes[e];if(1==c.nodeType&&this.addChild(c,!0),this.captureTextNodes&&(3==c.nodeType||4==c.nodeType)){var u=c.value||c.text||c.textContent||"";""!=r.compressSpaces(u)&&this.addChild(new r.Element.tspan(c),!1)}}}},r.Element.RenderedElementBase=function(t){this.base=r.Element.ElementBase,this.base(t),this.setContext=function(t){var e;if(this.style("fill").isUrlDefinition())null!=(e=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(t.fillStyle=e);else if(this.style("fill").hasValue()){var n;"currentColor"==(n=this.style("fill")).value&&(n.value=this.style("color").value),"inherit"!=n.value&&(t.fillStyle="none"==n.value?"rgba(0,0,0,0)":n.value)}if(this.style("fill-opacity").hasValue()&&(n=(n=new r.Property("fill",t.fillStyle)).addOpacity(this.style("fill-opacity")),t.fillStyle=n.value),this.style("stroke").isUrlDefinition())null!=(e=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(t.strokeStyle=e);else if(this.style("stroke").hasValue()){var i;"currentColor"==(i=this.style("stroke")).value&&(i.value=this.style("color").value),"inherit"!=i.value&&(t.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("stroke-opacity").hasValue()&&(i=(i=new r.Property("stroke",t.strokeStyle)).addOpacity(this.style("stroke-opacity")),t.strokeStyle=i.value),this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels();t.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var o=r.ToNumberArray(this.style("stroke-dasharray").value);void 0!==t.setLineDash?t.setLineDash(o):void 0!==t.webkitLineDash?t.webkitLineDash=o:void 0===t.mozDash||1==o.length&&0==o[0]||(t.mozDash=o);var s=this.style("stroke-dashoffset").numValueOrDefault(1);void 0!==t.lineDashOffset?t.lineDashOffset=s:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=s:void 0!==t.mozDashOffset&&(t.mozDashOffset=s)}if(void 0!==t.font&&(t.font=r.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()&&new r.Transform(this.style("transform",!1,!0).value).apply(t),this.style("clip-path",!1,!0).hasValue()){var l=this.style("clip-path",!1,!0).getDefinition();null!=l&&l.apply(t)}this.style("opacity").hasValue()&&(t.globalAlpha=this.style("opacity").numValue())}},r.Element.RenderedElementBase.prototype=new r.Element.ElementBase,r.Element.PathElementBase=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new r.BoundingBox},this.renderChildren=function(t){this.path(t),r.Mouse.checkPath(this,t),""!=t.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke();var e=this.getMarkers();if(null!=e){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(t,e[0][0],e[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<e.length-1;i++)n.render(t,e[i][0],e[i][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(t,e[e.length-1][0],e[e.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},r.Element.PathElementBase.prototype=new r.Element.RenderedElementBase,r.Element.svg=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),r.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,void 0!==t.font&&void 0!==window.getComputedStyle&&(t.font=window.getComputedStyle(t.canvas).getPropertyValue("font")),this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var e=r.ViewPort.width(),n=r.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){e=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");var i=0,a=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(i,a),t.lineTo(e,a),t.lineTo(e,n),t.lineTo(i,n),t.closePath(),t.clip())}if(r.ViewPort.SetCurrent(e,n),this.attribute("viewBox").hasValue()){var o=r.ToNumberArray(this.attribute("viewBox").value),s=o[0],l=o[1];e=o[2],n=o[3],r.AspectRatio(t,this.attribute("preserveAspectRatio").value,r.ViewPort.width(),e,r.ViewPort.height(),n,s,l,this.attribute("refX").value,this.attribute("refY").value),r.ViewPort.RemoveCurrent(),r.ViewPort.SetCurrent(o[2],o[3])}}},r.Element.svg.prototype=new r.Element.RenderedElementBase,r.Element.rect=function(t){this.base=r.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=s),o=Math.min(o,i/2),s=Math.min(s,a/2),null!=t&&(t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.quadraticCurveTo(e+i,n,e+i,n+s),t.lineTo(e+i,n+a-s),t.quadraticCurveTo(e+i,n+a,e+i-o,n+a),t.lineTo(e+o,n+a),t.quadraticCurveTo(e,n+a,e,n+a-s),t.lineTo(e,n+s),t.quadraticCurveTo(e,n,e+o,n),t.closePath()),new r.BoundingBox(e,n,e+i,n+a)}},r.Element.rect.prototype=new r.Element.PathElementBase,r.Element.circle=function(t){this.base=r.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=t&&(t.beginPath(),t.arc(e,n,i,0,2*Math.PI,!0),t.closePath()),new r.BoundingBox(e-i,n-i,e+i,n+i)}},r.Element.circle.prototype=new r.Element.PathElementBase,r.Element.ellipse=function(t){this.base=r.Element.PathElementBase,this.base(t),this.path=function(t){var e=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(a,o-i),t.bezierCurveTo(a+e*n,o-i,a+n,o-e*i,a+n,o),t.bezierCurveTo(a+n,o+e*i,a+e*n,o+i,a,o+i),t.bezierCurveTo(a-e*n,o+i,a-n,o+e*i,a-n,o),t.bezierCurveTo(a-n,o-e*i,a-e*n,o-i,a,o-i),t.closePath()),new r.BoundingBox(a-n,o-i,a+n,o+i)}},r.Element.ellipse.prototype=new r.Element.PathElementBase,r.Element.line=function(t){this.base=r.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new r.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new r.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var e=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y)),new r.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},r.Element.line.prototype=new r.Element.PathElementBase,r.Element.polyline=function(t){this.base=r.Element.PathElementBase,this.base(t),this.points=r.CreatePath(this.attribute("points").value),this.path=function(t){var e=new r.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)e.addPoint(this.points[n].x,this.points[n].y),null!=t&&t.lineTo(this.points[n].x,this.points[n].y);return e},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},r.Element.polyline.prototype=new r.Element.PathElementBase,r.Element.polygon=function(t){this.base=r.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},r.Element.polygon.prototype=new r.Element.polyline,r.Element.path=function(t){this.base=r.Element.PathElementBase,this.base(t);var e=this.attribute("d").value;e=e.replace(/,/gm," ");for(var n=0;n<2;n++)e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");e=(e=e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2");for(var n=0;n<2;n++)e=e.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=r.compressSpaces(e),e=r.trim(e),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new r.Point(0,0),this.control=new r.Point(0,0),this.current=new r.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new r.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new r.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(e),this.path=function(t){var e=this.PathParser;e.reset();var n=new r.BoundingBox;for(null!=t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":var i=e.getAsCurrentPoint();for(e.addMarker(i),n.addPoint(i.x,i.y),null!=t&&t.moveTo(i.x,i.y),e.start=e.current;!e.isCommandOrEnd();){var i=e.getAsCurrentPoint();e.addMarker(i,e.start),n.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y)}break;case"L":case"l":for(;!e.isCommandOrEnd();){var a=e.current,i=e.getAsCurrentPoint();e.addMarker(i,a),n.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y)}break;case"H":case"h":for(;!e.isCommandOrEnd();){var o=new r.Point((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.addMarker(o,e.current),e.current=o,n.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"V":case"v":for(;!e.isCommandOrEnd();){var o=new r.Point(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar());e.addMarker(o,e.current),e.current=o,n.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"C":case"c":for(;!e.isCommandOrEnd();){var s=e.current,l=e.getPoint(),c=e.getAsControlPoint(),u=e.getAsCurrentPoint();e.addMarker(u,c,l),n.addBezierCurve(s.x,s.y,l.x,l.y,c.x,c.y,u.x,u.y),null!=t&&t.bezierCurveTo(l.x,l.y,c.x,c.y,u.x,u.y)}break;case"S":case"s":for(;!e.isCommandOrEnd();){var s=e.current,l=e.getReflectedControlPoint(),c=e.getAsControlPoint(),u=e.getAsCurrentPoint();e.addMarker(u,c,l),n.addBezierCurve(s.x,s.y,l.x,l.y,c.x,c.y,u.x,u.y),null!=t&&t.bezierCurveTo(l.x,l.y,c.x,c.y,u.x,u.y)}break;case"Q":case"q":for(;!e.isCommandOrEnd();){var s=e.current,c=e.getAsControlPoint(),u=e.getAsCurrentPoint();e.addMarker(u,c,c),n.addQuadraticCurve(s.x,s.y,c.x,c.y,u.x,u.y),null!=t&&t.quadraticCurveTo(c.x,c.y,u.x,u.y)}break;case"T":case"t":for(;!e.isCommandOrEnd();){var s=e.current,c=e.getReflectedControlPoint();e.control=c;var u=e.getAsCurrentPoint();e.addMarker(u,c,c),n.addQuadraticCurve(s.x,s.y,c.x,c.y,u.x,u.y),null!=t&&t.quadraticCurveTo(c.x,c.y,u.x,u.y)}break;case"A":case"a":for(;!e.isCommandOrEnd();){var s=e.current,h=e.getScalar(),d=e.getScalar(),p=e.getScalar()*(Math.PI/180),f=e.getScalar(),A=e.getScalar(),u=e.getAsCurrentPoint(),m=new r.Point(Math.cos(p)*(s.x-u.x)/2+Math.sin(p)*(s.y-u.y)/2,-Math.sin(p)*(s.x-u.x)/2+Math.cos(p)*(s.y-u.y)/2),y=Math.pow(m.x,2)/Math.pow(h,2)+Math.pow(m.y,2)/Math.pow(d,2);y>1&&(h*=Math.sqrt(y),d*=Math.sqrt(y));var g=(f==A?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(d,2)-Math.pow(h,2)*Math.pow(m.y,2)-Math.pow(d,2)*Math.pow(m.x,2))/(Math.pow(h,2)*Math.pow(m.y,2)+Math.pow(d,2)*Math.pow(m.x,2)));isNaN(g)&&(g=0);var v=new r.Point(g*h*m.y/d,g*-d*m.x/h),b=new r.Point((s.x+u.x)/2+Math.cos(p)*v.x-Math.sin(p)*v.y,(s.y+u.y)/2+Math.sin(p)*v.x+Math.cos(p)*v.y),C=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},x=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(C(t)*C(e))},w=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(x(t,e))},D=w([1,0],[(m.x-v.x)/h,(m.y-v.y)/d]),I=[(m.x-v.x)/h,(m.y-v.y)/d],B=[(-m.x-v.x)/h,(-m.y-v.y)/d],T=w(I,B);x(I,B)<=-1&&(T=Math.PI),x(I,B)>=1&&(T=0);var S=1-A?1:-1,M=D+S*(T/2),E=new r.Point(b.x+h*Math.cos(M),b.y+d*Math.sin(M));if(e.addMarkerAngle(E,M-S*Math.PI/2),e.addMarkerAngle(u,M-S*Math.PI),n.addPoint(u.x,u.y),null!=t){var x=h>d?h:d,k=h>d?1:h/d,F=h>d?d/h:1;t.translate(b.x,b.y),t.rotate(p),t.scale(k,F),t.arc(0,0,x,D,D+T,1-A),t.scale(1/k,1/F),t.rotate(-p),t.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=t&&t.closePath(),e.current=e.start}return n},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],i=0;i<t.length;i++)n.push([t[i],e[i]]);return n}},r.Element.path.prototype=new r.Element.PathElementBase,r.Element.pattern=function(t){this.base=r.Element.ElementBase,this.base(t),this.createPattern=function(t,e){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),a=new r.Element.svg;a.attributes.viewBox=new r.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new r.Property("width",n+"px"),a.attributes.height=new r.Property("height",i+"px"),a.attributes.transform=new r.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var o=document.createElement("canvas");o.width=n,o.height=i;var s=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;l<=1;l++)for(var c=-1;c<=1;c++)s.save(),a.attributes.x=new r.Property("x",l*o.width),a.attributes.y=new r.Property("y",c*o.height),a.render(s),s.restore();return t.createPattern(o,"repeat")}},r.Element.pattern.prototype=new r.Element.ElementBase,r.Element.marker=function(t){this.base=r.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,e,n){t.translate(e.x,e.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var i=new r.Element.svg;i.attributes.viewBox=new r.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new r.Property("refX",this.attribute("refX").value),i.attributes.refY=new r.Property("refY",this.attribute("refY").value),i.attributes.width=new r.Property("width",this.attribute("markerWidth").value),i.attributes.height=new r.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new r.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new r.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-n),t.translate(-e.x,-e.y)}},r.Element.marker.prototype=new r.Element.ElementBase,r.Element.defs=function(t){this.base=r.Element.ElementBase,this.base(t),this.render=function(t){}},r.Element.defs.prototype=new r.Element.ElementBase,r.Element.GradientBase=function(t){this.base=r.Element.ElementBase,this.base(t),this.stops=[];for(var e=0;e<this.children.length;e++){var n=this.children[e];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(t){for(var e=0;e<this.attributesToInherit.length;e++){var n=this.attributesToInherit[e];!this.attribute(n).hasValue()&&t.attribute(n).hasValue()&&(this.attribute(n,!0).value=t.attribute(n).value)}},this.createGradient=function(t,e,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var a=function(t){return n.hasValue()?new r.Property("color",t).addOpacity(n).value:t},o=this.getGradient(t,e);if(null==o)return a(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)o.addColorStop(i.stops[s].offset,a(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=r.ViewPort.viewPorts[0],c=new r.Element.rect;c.attributes.x=new r.Property("x",-r.MAX_VIRTUAL_PIXELS/3),c.attributes.y=new r.Property("y",-r.MAX_VIRTUAL_PIXELS/3),c.attributes.width=new r.Property("width",r.MAX_VIRTUAL_PIXELS),c.attributes.height=new r.Property("height",r.MAX_VIRTUAL_PIXELS);var u=new r.Element.g;u.attributes.transform=new r.Property("transform",this.attribute("gradientTransform").value),u.children=[c];var h=new r.Element.svg;h.attributes.x=new r.Property("x",0),h.attributes.y=new r.Property("y",0),h.attributes.width=new r.Property("width",l.width),h.attributes.height=new r.Property("height",l.height),h.children=[u];var d=document.createElement("canvas");d.width=l.width,d.height=l.height;var p=d.getContext("2d");return p.fillStyle=o,h.render(p),p.createPattern(d,"no-repeat")}return o}},r.Element.GradientBase.prototype=new r.Element.ElementBase,r.Element.linearGradient=function(t){this.base=r.Element.GradientBase,this.base(t),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(t,e){var n="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==r&&a==o?null:t.createLinearGradient(i,a,r,o)}},r.Element.linearGradient.prototype=new r.Element.GradientBase,r.Element.radialGradient=function(t){this.base=r.Element.GradientBase,this.base(t),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),r=i,o=a;this.attribute("fx").hasValue()&&(r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(r,o,0,i,a,s)}},r.Element.radialGradient.prototype=new r.Element.GradientBase,r.Element.stop=function(t){this.base=r.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var e=this.style("stop-color",!0);""===e.value&&(e.value="#000"),this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity"))),this.color=e.value},r.Element.stop.prototype=new r.Element.ElementBase,r.Element.AnimateBase=function(t){this.base=r.Element.ElementBase,this.base(t),r.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();this.attribute("type").hasValue()&&(n=this.attribute("type").value+"("+n+")"),this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var e=t.progress*(this.values.value.length-1),n=Math.floor(e),i=Math.ceil(e);t.from=new r.Property("from",parseFloat(this.values.value[n])),t.to=new r.Property("to",parseFloat(this.values.value[i])),t.progress=(e-n)/(i-n)}else t.from=this.from,t.to=this.to;return t}},r.Element.AnimateBase.prototype=new r.Element.ElementBase,r.Element.animate=function(t){this.base=r.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress();return t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress+this.initialUnits}},r.Element.animate.prototype=new r.Element.AnimateBase,r.Element.animateColor=function(e){this.base=r.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),n=new t(e.from.value),i=new t(e.to.value);if(n.ok&&i.ok){var a=n.r+(i.r-n.r)*e.progress,r=n.g+(i.g-n.g)*e.progress,o=n.b+(i.b-n.b)*e.progress;return"rgb("+parseInt(a,10)+","+parseInt(r,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},r.Element.animateColor.prototype=new r.Element.AnimateBase,r.Element.animateTransform=function(t){this.base=r.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),e=r.ToNumberArray(t.from.value),n=r.ToNumberArray(t.to.value),i="",a=0;a<e.length;a++)i+=e[a]+(n[a]-e[a])*t.progress+" ";return i}},r.Element.animateTransform.prototype=new r.Element.animate,r.Element.font=function(t){this.base=r.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var e=0;e<this.children.length;e++){var n=this.children[e];"font-face"==n.type?(this.fontFace=n,n.style("font-family").hasValue()&&(r.Definitions[n.style("font-family").value]=this)):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},r.Element.font.prototype=new r.Element.ElementBase,r.Element.fontface=function(t){this.base=r.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},r.Element.fontface.prototype=new r.Element.ElementBase,r.Element.missingglyph=function(t){this.base=r.Element.path,this.base(t),this.horizAdvX=0},r.Element.missingglyph.prototype=new r.Element.path,r.Element.glyph=function(t){this.base=r.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},r.Element.glyph.prototype=new r.Element.path,r.Element.text=function(t){this.captureTextNodes=!0,this.base=r.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t);var e=this.style("dominant-baseline").toTextBaseline();null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(t.textBaseline=e)},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),n=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize);return new r.BoundingBox(t,e-n,t+Math.floor(2*n/3)*this.children[0].getText().length,e)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"!=i){for(var a=0,r=n;r<e.children.length;r++){var o=e.children[r];if(r>n&&o.attribute("x").hasValue())break;a+=o.measureTextRecursive(t)}return-1*("end"==i?a:a/2)}return 0},this.renderChild=function(t,e,n){var i=e.children[n];i.attribute("x").hasValue()?(i.x=i.attribute("x").toPixels("x")+e.getAnchorDelta(t,e,n),i.attribute("dx").hasValue()&&(i.x+=i.attribute("dx").toPixels("x"))):(i.attribute("dx").hasValue()&&(e.x+=i.attribute("dx").toPixels("x")),i.x=e.x),e.x=i.x+i.measureText(t),i.attribute("y").hasValue()?(i.y=i.attribute("y").toPixels("y"),i.attribute("dy").hasValue()&&(i.y+=i.attribute("dy").toPixels("y"))):(i.attribute("dy").hasValue()&&(e.y+=i.attribute("dy").toPixels("y")),i.y=e.y),e.y=i.y,i.render(t);for(var n=0;n<i.children.length;n++)e.renderChild(t,i,n)}},r.Element.text.prototype=new r.Element.RenderedElementBase,r.Element.TextElementBase=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.getGlyph=function(t,e,n){var i=e[n],a=null;if(t.isArabic){var r="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(r="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(r="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(r="initial"),void 0!==t.glyphs[i]&&null==(a=t.glyphs[i][r])&&"glyph"==t.glyphs[i].type&&(a=t.glyphs[i])}else a=t.glyphs[i];return null==a&&(a=t.missingGlyph),a},this.renderChildren=function(t){var e=this.parent.style("font-family").getDefinition();if(null==e)""!=t.fillStyle&&t.fillText(r.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(r.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(r.Font.Parse(r.ctx.font).fontStyle),a=this.getText();e.isRTL&&(a=a.split("").reverse().join(""));for(var o=r.ToNumberArray(this.parent.attribute("dx").value),s=0;s<a.length;s++){var l=this.getGlyph(e,a,s),c=n/e.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(c,-c);var u=t.lineWidth;t.lineWidth=t.lineWidth*e.fontFace.unitsPerEm/n,"italic"==i&&t.transform(1,0,.4,1,0,0),l.render(t),"italic"==i&&t.transform(1,0,-.4,1,0,0),t.lineWidth=u,t.scale(1/c,-1/c),t.translate(-this.x,-this.y),this.x+=n*(l.horizAdvX||e.horizAdvX)/e.fontFace.unitsPerEm,void 0===o[s]||isNaN(o[s])||(this.x+=o[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(t){var e=this.parent.style("font-family").getDefinition();if(null!=e){var n=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize),i=0,a=this.getText();e.isRTL&&(a=a.split("").reverse().join(""));for(var o=r.ToNumberArray(this.parent.attribute("dx").value),s=0;s<a.length;s++){i+=(this.getGlyph(e,a,s).horizAdvX||e.horizAdvX)*n/e.fontFace.unitsPerEm,void 0===o[s]||isNaN(o[s])||(i+=o[s])}return i}var l=r.compressSpaces(this.getText());if(!t.measureText)return 10*l.length;t.save(),this.setContext(t);var c=t.measureText(l).width;return t.restore(),c}},r.Element.TextElementBase.prototype=new r.Element.RenderedElementBase,r.Element.tspan=function(t){this.captureTextNodes=!0,this.base=r.Element.TextElementBase,this.base(t),this.text=r.compressSpaces(t.value||t.text||t.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},r.Element.tspan.prototype=new r.Element.TextElementBase,r.Element.tref=function(t){this.base=r.Element.TextElementBase,this.base(t),this.getText=function(){var t=this.getHrefAttribute().getDefinition();if(null!=t)return t.children[0].getText()}},r.Element.tref.prototype=new r.Element.TextElementBase,r.Element.a=function(t){this.base=r.Element.TextElementBase,this.base(t),this.hasText=t.childNodes.length>0;for(var e=0;e<t.childNodes.length;e++)3!=t.childNodes[e].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var e=new r.Property("fontSize",r.Font.Parse(r.ctx.font).fontSize);r.Mouse.checkBoundingBox(this,new r.BoundingBox(this.x,this.y-e.toPixels("y"),this.x+this.measureText(t),this.y))}else if(this.children.length>0){var n=new r.Element.g;n.children=this.children,n.parent=this,n.render(t)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){r.ctx.canvas.style.cursor="pointer"}},r.Element.a.prototype=new r.Element.TextElementBase,r.Element.image=function(t){this.base=r.Element.RenderedElementBase,this.base(t);var e=this.getHrefAttribute().value;if(""!=e){var n=e.match(/\.svg$/);if(r.Images.push(this),this.loaded=!1,n)this.img=r.ajax(e),this.loaded=!0;else{this.img=document.createElement("img"),1==r.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){r.log('ERROR: image "'+e+'" not found'),i.loaded=!0},this.img.src=e}this.renderChildren=function(t){var e=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");0!=a&&0!=o&&(t.save(),n?t.drawSvg(this.img,e,i,a,o):(t.translate(e,i),r.AspectRatio(t,this.attribute("preserveAspectRatio").value,a,this.img.width,o,this.img.height,0,0),t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new r.BoundingBox(t,e,t+n,e+i)}}},r.Element.image.prototype=new r.Element.RenderedElementBase,r.Element.g=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(){for(var t=new r.BoundingBox,e=0;e<this.children.length;e++)t.addBoundingBox(this.children[e].getBoundingBox());return t}},r.Element.g.prototype=new r.Element.RenderedElementBase,r.Element.symbol=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.render=function(t){}},r.Element.symbol.prototype=new r.Element.RenderedElementBase,r.Element.style=function(t){this.base=r.Element.ElementBase,this.base(t);for(var e="",n=0;n<t.childNodes.length;n++)e+=t.childNodes[n].data;e=e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");for(var i=(e=r.compressSpaces(e)).split("}"),n=0;n<i.length;n++)if(""!=r.trim(i[n]))for(var a=i[n].split("{"),o=a[0].split(","),s=a[1].split(";"),l=0;l<o.length;l++){var c=r.trim(o[l]);if(""!=c){for(var u=r.Styles[c]||{},h=0;h<s.length;h++){var p=s[h].indexOf(":"),f=s[h].substr(0,p),A=s[h].substr(p+1,s[h].length-p);null!=f&&null!=A&&(u[r.trim(f)]=new r.Property(r.trim(f),r.trim(A)))}if(r.Styles[c]=u,r.StylesSpecificity[c]=d(c),"@font-face"==c)for(var m=u["font-family"].value.replace(/"/g,""),y=u.src.value.split(","),g=0;g<y.length;g++)if(y[g].indexOf('format("svg")')>0)for(var v=y[g].indexOf("url"),b=y[g].indexOf(")",v),C=y[g].substr(v+5,b-v-6),x=r.parseXml(r.ajax(C)).getElementsByTagName("font"),w=0;w<x.length;w++){var D=r.CreateElement(x[w]);r.Definitions[m]=D}}}},r.Element.style.prototype=new r.Element.ElementBase,r.Element.use=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))};var e=this.getHrefAttribute().getDefinition();this.path=function(t){null!=e&&e.path(t)},this.getBoundingBox=function(){if(null!=e)return e.getBoundingBox()},this.renderChildren=function(t){if(null!=e){var n=e;"symbol"==e.type&&((n=new r.Element.svg).type="svg",n.attributes.viewBox=new r.Property("viewBox",e.attribute("viewBox").value),n.attributes.preserveAspectRatio=new r.Property("preserveAspectRatio",e.attribute("preserveAspectRatio").value),n.attributes.overflow=new r.Property("overflow",e.attribute("overflow").value),n.children=e.children),"svg"==n.type&&(this.attribute("width").hasValue()&&(n.attributes.width=new r.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(n.attributes.height=new r.Property("height",this.attribute("height").value)));var i=n.parent;n.parent=null,n.render(t),n.parent=i}}},r.Element.use.prototype=new r.Element.RenderedElementBase,r.Element.mask=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");if(0==a&&0==o){for(var s=new r.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var n=Math.floor(s.x1),i=Math.floor(s.y1),a=Math.floor(s.width()),o=Math.floor(s.height())}var c=e.attribute("mask").value;e.attribute("mask").value="";var u=document.createElement("canvas");u.width=n+a,u.height=i+o;var h=u.getContext("2d");this.renderChildren(h);var d=document.createElement("canvas");d.width=n+a,d.height=i+o;var p=d.getContext("2d");e.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=h.createPattern(u,"no-repeat"),p.fillRect(0,0,n+a,i+o),t.fillStyle=p.createPattern(d,"no-repeat"),t.fillRect(0,0,n+a,i+o),e.attribute("mask").value=c},this.render=function(t){}},r.Element.mask.prototype=new r.Element.ElementBase,r.Element.clipPath=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t){var e=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var n=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},e.call(t);for(var i=0;i<this.children.length;i++){var a=this.children[i];if(void 0!==a.path){var o=null;a.style("transform",!1,!0).hasValue()&&(o=new r.Transform(a.style("transform",!1,!0).value)).apply(t),a.path(t),CanvasRenderingContext2D.prototype.closePath=n,o&&o.unapply(t)}}n.call(t),t.clip(),CanvasRenderingContext2D.prototype.beginPath=e,CanvasRenderingContext2D.prototype.closePath=n},this.render=function(t){}},r.Element.clipPath.prototype=new r.Element.ElementBase,r.Element.filter=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=e.getBoundingBox(),i=Math.floor(n.x1),a=Math.floor(n.y1),r=Math.floor(n.width()),o=Math.floor(n.height()),s=e.style("filter").value;e.style("filter").value="";for(var l=0,c=0,u=0;u<this.children.length;u++){var h=this.children[u].extraFilterDistance||0;l=Math.max(l,h),c=Math.max(c,h)}var d=document.createElement("canvas");d.width=r+2*l,d.height=o+2*c;var p=d.getContext("2d");p.translate(-i+l,-a+c),e.render(p);for(var u=0;u<this.children.length;u++)"function"==typeof this.children[u].apply&&this.children[u].apply(p,0,0,r+2*l,o+2*c);t.drawImage(d,0,0,r+2*l,o+2*c,i-l,a-c,r+2*l,o+2*c),e.style("filter",!0).value=s},this.render=function(t){}},r.Element.filter.prototype=new r.Element.ElementBase,r.Element.feMorphology=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e,n,i,a){}},r.Element.feMorphology.prototype=new r.Element.ElementBase,r.Element.feComposite=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e,n,i,a){}},r.Element.feComposite.prototype=new r.Element.ElementBase,r.Element.feColorMatrix=function(t){this.base=r.Element.ElementBase,this.base(t);var e=r.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var n=e[0];e=[.213+.787*n,.715-.715*n,.072-.072*n,0,0,.213-.213*n,.715+.285*n,.072-.072*n,0,0,.213-.213*n,.715-.715*n,.072+.928*n,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=e[0]*Math.PI/180,a=function(t,e,n){return t+Math.cos(i)*e+Math.sin(i)*n};e=[a(.213,.787,-.213),a(.715,-.715,-.715),a(.072,-.072,.928),0,0,a(.213,-.213,.143),a(.715,.285,.14),a(.072,-.072,-.283),0,0,a(.213,-.213,-.787),a(.715,-.715,.715),a(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function o(t,e,n,i,a,r){return t[n*i*4+4*e+r]}function s(t,e,n,i,a,r,o){t[n*i*4+4*e+r]=o}function l(t,n){var i=e[t];return i*(i<0?n-255:n)}this.apply=function(t,e,n,i,a){for(var r=t.getImageData(0,0,i,a),n=0;n<a;n++)for(var e=0;e<i;e++){var c=o(r.data,e,n,i,a,0),u=o(r.data,e,n,i,a,1),h=o(r.data,e,n,i,a,2),d=o(r.data,e,n,i,a,3);s(r.data,e,n,i,a,0,l(0,c)+l(1,u)+l(2,h)+l(3,d)+l(4,1)),s(r.data,e,n,i,a,1,l(5,c)+l(6,u)+l(7,h)+l(8,d)+l(9,1)),s(r.data,e,n,i,a,2,l(10,c)+l(11,u)+l(12,h)+l(13,d)+l(14,1)),s(r.data,e,n,i,a,3,l(15,c)+l(16,u)+l(17,h)+l(18,d)+l(19,1))}t.clearRect(0,0,i,a),t.putImageData(r,0,0)}},r.Element.feColorMatrix.prototype=new r.Element.ElementBase,r.Element.feGaussianBlur=function(t){this.base=r.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,n,i,a,o){void 0!==e.canvasRGBA?(t.canvas.id=r.UniqueId(),t.canvas.style.display="none",document.body.appendChild(t.canvas),e.canvasRGBA(t.canvas.id,n,i,a,o,this.blurRadius),document.body.removeChild(t.canvas)):r.log("ERROR: StackBlur.js must be included for blur to work")}},r.Element.feGaussianBlur.prototype=new r.Element.ElementBase,r.Element.title=function(t){},r.Element.title.prototype=new r.Element.ElementBase,r.Element.desc=function(t){},r.Element.desc.prototype=new r.Element.ElementBase,r.Element.MISSING=function(t){r.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},r.Element.MISSING.prototype=new r.Element.ElementBase,r.CreateElement=function(t){var e=t.nodeName.replace(/^[^:]+:/,"");e=e.replace(/\-/g,"");var n=null;return(n=void 0!==r.Element[e]?new r.Element[e](t):new r.Element.MISSING(t)).type=t.nodeName,n},r.load=function(t,e){r.loadXml(t,r.ajax(e))},r.loadXml=function(t,e){r.loadXmlDoc(t,r.parseXml(e))},r.loadXmlDoc=function(t,e){r.init(t);var n=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e};1!=r.opts.ignoreMouse&&(t.canvas.onclick=function(t){var e=n(new r.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));r.Mouse.onclick(e.x,e.y)},t.canvas.onmousemove=function(t){var e=n(new r.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));r.Mouse.onmousemove(e.x,e.y)});var i=r.CreateElement(e.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var a=!0,o=function(){r.ViewPort.Clear(),t.canvas.parentNode&&r.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight),1!=r.opts.ignoreDimensions&&(i.style("width").hasValue()&&(t.canvas.width=i.style("width").toPixels("x"),t.canvas.style.width=t.canvas.width+"px"),i.style("height").hasValue()&&(t.canvas.height=i.style("height").toPixels("y"),t.canvas.style.height=t.canvas.height+"px"));var n=t.canvas.clientWidth||t.canvas.width,o=t.canvas.clientHeight||t.canvas.height;if(1==r.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(n=i.style("width").toPixels("x"),o=i.style("height").toPixels("y")),r.ViewPort.SetCurrent(n,o),null!=r.opts.offsetX&&(i.attribute("x",!0).value=r.opts.offsetX),null!=r.opts.offsetY&&(i.attribute("y",!0).value=r.opts.offsetY),null!=r.opts.scaleWidth||null!=r.opts.scaleHeight){var s=null,l=null,c=r.ToNumberArray(i.attribute("viewBox").value);null!=r.opts.scaleWidth&&(i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/r.opts.scaleWidth:isNaN(c[2])||(s=c[2]/r.opts.scaleWidth)),null!=r.opts.scaleHeight&&(i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/r.opts.scaleHeight:isNaN(c[3])||(l=c[3]/r.opts.scaleHeight)),null==s&&(s=l),null==l&&(l=s),i.attribute("width",!0).value=r.opts.scaleWidth,i.attribute("height",!0).value=r.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/s+","+1/l+")"}1!=r.opts.ignoreClear&&t.clearRect(0,0,n,o),i.render(t),a&&(a=!1,"function"==typeof r.opts.renderCallback&&r.opts.renderCallback(e))},s=!0;r.ImagesLoaded()&&(s=!1,o()),r.intervalID=setInterval(function(){var t=!1;if(s&&r.ImagesLoaded()&&(s=!1,t=!0),1!=r.opts.ignoreMouse&&(t|=r.Mouse.hasEvents()),1!=r.opts.ignoreAnimation)for(var e=0;e<r.Animations.length;e++)t|=r.Animations[e].update(1e3/r.FRAMERATE);"function"==typeof r.opts.forceRedraw&&1==r.opts.forceRedraw()&&(t=!0),t&&(o(),r.Mouse.runEvents())},1e3/r.FRAMERATE)},r.stop=function(){r.intervalID&&clearInterval(r.intervalID)},r.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var i=this.events[n];e.isPointInPath&&e.isPointInPath(i.x,i.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var i=this.events[n];e.isPointInBox(i.x,i.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){r.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var e=this.events[t],n=this.eventElements[t];n;)e.run(n),n=n.parent;this.events=[],this.eventElements=[]}},r}return"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,i,r){a(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:i,scaleHeight:r})}),a}(t.RGBColor,t.stackBlur)}("undefined"!=typeof window?window:void 0);n(207),n(224),n(58),n(147);var c=n(4),u=n.n(c),h=(n(225),function(){function t(t){this.locale=t.locale||"zh",this.messages=t.messages||{}}return t.prototype.$t=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=String(this.messages[this.locale][t]);if("undefined"==i)return t;(e=1===e.length&&"object"==typeof e[0]?e[0]:[])&&e.hasOwnProperty||(e=[]);return i.replace(/(%|)\{([0-9a-zA-Z_]+)\}/g,function(t,n,a,r){return"{"===i[r-1]&&"}"===i[r+t.length]?a:(e.hasOwnProperty(a)?e[a]:t)||""})},t.prototype.$html=function(t){var e=this;return(t=String(t)).replace(/\$\{locale\}|\$t\(['"]([\s\S]+?)['"]\)/g,function(t,n,i,a){return"${locale}"===t?e.locale:e.messages[e.locale][n]||n})},t}());function d(t,e){return new RegExp(e).test(t.className)||(t.className+=" "+e),t}var p,f=n(0),A=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=/\$\{locale}/g,y=function(){},g=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.locale=e.locale||"en",n.messages=e.messages||{},n.isReplace=e.isReplace||!1,n.currMessage=n.messages[n.locale],n.doms={},n.isReplace&&(n.getDoms(),n.fresh()),n}return A(e,t),e.prototype.getDoms=function(){this.doms={classDoms:document.querySelectorAll("[i18n-class]"),imgDoms:document.querySelectorAll("[i18n-img]"),contentDoms:document.querySelectorAll("[i18n-content]"),inputDoms:document.querySelectorAll("[i18n-placeholder]")}},e.prototype.handlerClass=function(){if(this.doms.classDoms&&this.doms.classDoms.length)for(var t=0,e=this.doms.classDoms.length;t<e;t++){var n=this.doms.classDoms[t];d(n,n.getAttribute("i18n-class"))}},e.prototype.handlerImg=function(){if(this.doms.imgDoms&&this.doms.imgDoms.length)for(var t=0,e=this.doms.imgDoms.length;t<e;t++){var n=this.doms.imgDoms[t],i=n.getAttribute("i18n-img").replace(m,this.locale);n.src=i}},e.prototype.handlerContent=function(){if(this.doms.contentDoms&&this.doms.contentDoms.length)for(var t=0,e=this.doms.contentDoms.length;t<e;t++){var n=this.doms.contentDoms[t],i=n.getAttribute("i18n-content");n.innerHTML=this.messages[this.locale][i]}},e.prototype.handlerInput=function(){if(this.doms.inputDoms&&this.doms.inputDoms.length)for(var t=0,e=this.doms.inputDoms.length;t<e;t++){var n=this.doms.inputDoms[t],i=n.getAttribute("i18n-placeholder");n.setAttribute("placeholder",this.currMessage[i])}},e.prototype.fresh=function(){this.handlerClass(),this.handlerImg(),this.handlerContent(),this.handlerInput()},e.prototype.setLocale=function(t,e){void 0===e&&(e=y),Object(f.E)("rzgraphlang",t),this.locale=t,this.currMessage=this.messages[this.locale],this.fresh(),e()},e.prototype.getLocale=function(){return this.locale||"zh"},e.prototype.loadJs=function(t,e){var n=document.createElement("script");n.src=t,n.onload=n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||e&&e()},document.getElementsByTagName.head[0].appendChild(n)},e.prototype.setMessages=function(t){this.messages=t},e}(h);g.Version="0.9";var v=new g({locale:Object(f.v)("rzgraphlang")||"zh",isReplace:!1,messages:{en:{"Spec.Title":"Spectrum analysis","Waveform.Title":"Waveform analysis","menu.dynamiccursor.open":"Open dynamic curse","menu.dynamiccursor.close":"close dynamic curse","menu.label":"label","menu.label.add":"Add label","menu.label.remove.checked":"Remove selected label","menu.label.remove.all":"Remove all labels","meun.cursor.lock":"Lock the curse","meun.cursor.cancellock":"Unlock the curese","meun.graphic.lock":"Lock graphic","meun.graphic.cancellock":"Unlock graphic","meun.export.image":"Export image","meun.remarks":"Remark","meun.setting":"Interface Setting","meun.setting.toolbar.hide":"Hide toolbar","meun.setting.toolbar.show":"Dsiplay toolbar","meun.setting.helpinfo.hide":"Hide auxiliary information","meun.setting.helpinfo.show":"Display auxiliary information","menu.alarmline.show":"Add alarm line","menu.alarmline.hide":"Hide alarm line","menu.timedomaincriteria":"Time domain","menu.characteristicfrequency":"Characteristic Frequency","menu.timedomaincriteria.samplingvalue":"Overall value","menu.timedomaincriteria.peakvalue":"Peak","menu.timedomaincriteria.kurtosisvalue":"Kurtosis","menu.timedomaincriteria.impulsefactor":"Pulse","menu.timedomaincriteria.waveformindex":"Waveform","menu.timedomaincriteria.clearancefactor":"Margin","menu.timedomaincriteria.skewindex":"Crooked","menu.timedomaincriteria.peakfactor":"Peak value","menu.timedomaincriteria.rootamplitude":"Rad amplitude","menu.timedomaincriteria.maximum":"Max.","menu.timedomaincriteria.minimum":"Min.","menu.timedomaincriteria.meanvalue":"Ave.value","menu.timedomaincriteria.averageamplitude":"Ave.amplitude","menu.timedomaincriteria.peakpeakvalue":"Peak to peak","menu.maxgraphcount":"Maximum graphic","menu.vernier.lockdouble":"Lock double cursor","menu.vernier.canclelockdouble":"Unlock double cursor","menu.graphicargs.setting":"Cursor parameter setting","menu.graphicargs.clear":"Clear graphics","menu.duanchang":"Length","menu.bandwidth.multiple":"Bandwidth multiple","menu.totalspec.configtitle":"Spectrum type configuration","prompt.graphicargs.frequencycursor.side.count":"Side frequency cursor number","prompt.graphicargs.frequencycursor.multi.count":"Multi cursor number","prompt.maxgraphcount.title":"Max.graphic","prompt.remarks.title":"Remarks","prompt.label.title":"Label","prompt.zoomspec.title":"Spectrum range","prompt.zoomspec.max":"Max.spectrum","prompt.zoomspec.min":"Min.spectrum","toolar.title":"","toolar.btn.zoom":"Zoom","toolbar.btn.vernier.single":"Single cursor","toolbar.btn.vernier.double":"Double cursor","toolbar.btn.frequencycursor.side":"Side frequency cursor","toolbar.btn.frequencycursor.multi":"Multi frequency cursor","toolbar.btn.frequencycursor.Distinguish":"Distinguish","toolbar.btn.frequencycursor.Tagging":"Tagging","btn.ok":"OK","btn.search":"Search","btn.cancel":"Cancel","btn.restore":"Restore","btn.reset":"Reset","datatable.title.measdate":"Sampling time","datatable.title.measvalue":"Sampling value","datatable.title.desc":"Remarks","datatable.title.instrcode":"Instrument serial number","menu.datatable.export":"Export","menu.datatable.range":"Data range","datatable.title.temperature":"Temperature","datatable.title.voltage":"Sensor voltage","datatable.title.lqi":"LQI","datatable.title.transtime":"Transmission time","datatable.title.startstate":"Start state","datatable.filter.title.datalist":"Datalist","datatable.filter.error.tip.datacount.isnotint":"Collection groups No. is not integer","datatable.filter.error.tip.datacount.thanzero":"Collection groups No. should be bigger than zero","datatable.title.indexname":"Chart name","datatable.title.tzname":"Features","datatable.title.seq":"Sequence","datatable.title.indexvalue":"Chart value","datatable.value.runspeed":"Run Velocity","datatable.title.datatype":"Data type","datatable.value.startdown":"Start up/down","datatable.value.blackbox":"Blackbox","leftbar.title.title":"Basic configuration","leftbar.title.section":"Section","leftbar.title.nosection":"No Section","leftbar.title.original":"Original","leftbar.title.analysislaps":"Analysis laps","leftbar.title.syntheticcircles":"Synthetic circles","leftbar.title.samplingpoints":"Sampling points","leftbar.title.speedratio":"Velocity ratio","leftbar.form.begintime":"Begin time","leftbar.form.endtime":"End time","leftbar.form.selecttime":"Select time","leftbar.form.filter":"Filter","headbar.title.maxsize":"Max. size","headbar.title.resize":"Resize","Bearing.oefficient":"Bearing coefficient","btn.maximize":"Maximize","btn.minimize":"Minimize","btn.reduction":"Reduction","chart.help.amp":"Amplitude","chart.help.phar":"Phase","chart.name.longwaveformtrend":"Long time waveform trend","card.title.datatable":"Data table","chart.name.longwaveform":"Long time waveform","chart.name.segmentedwaveform":"Segmented waveform","chart.name.segmentedspectrum":"Segmented spectrum","chart.name.spectrum.amp":"Amplitude spectrum","chart.name.spectrum.envelope":"Envelope spectrum","chart.name.rawdata":"Raw data","chart.name.originalaxis":"Original axis","config.SignalType.0":"Acceleration","config.SignalType.1":"Velocity","config.SignalType.2":"Displacement","config.SignalType.3":"Voltage","config.SignalType.4":"Current","meun.config.maxgraph.count.error":"Max {count}","meun.config.mingraph.count.error":"Min {count}","FilterPanel.lowthanhigh.msg":"Low pass cutoff no higher than high pass cutoff","FilterPanel.title":"Filter","FilterPanel.filtertype":"Filter type","FilterPanel.filtertype.0":"Bandpass","FilterPanel.filtertype.1":"Bandstop","FilterPanel.filtertype.2":"Highpass","FilterPanel.filtertype.3":"Lowpass","FilterPanel.filter.lowcut":"Lowpass cutoff","FilterPanel.filter.highcut":"Highpass cutoff","FilterPanel.filter.submit":"Filter","FilterPanel.low.msg":"Lowpass should be number","FilterPanel.high.msg":"Highpass should be number","FilterPanel.lowin.msg":"Lowpass should be in {low}-{high} {unit}","FilterPanel.highin.msg":"Highpass should be in {low}-{high} {unit}","CrossPhase.panel.station":"Measuring point","CrossPhase.panel.stationX":"X measuring point","CrossPhase.panel.stationY":"Y measuring point","CrossPhase.panel.datalist":"Data list","CrossPhase.chart.trend":"Trend","CrossPhase.chart.crossphase":"Cross power spectrum","CrossPhase.chart.phasespec":"Phase difference spectrum","panel.startthanend.msg":"Start time no bigger than end time","panel.legend.title":"Filter","panel.leftbar.startdown":"Start up/down","panel.leftbar.normal":"Normal","tip.error.time":"Start time no bigger than end time","tip.error.syntheticcircles":"Enter synthesis circles number","tip.error.analysislaps":"Enter  analysis slaps numer","formname.eigenvalues":"Eigen values","axisselect.form.axisspeed":"Velocity axis","axisselect.form.nowaxisspeed":"Current analysis axis","speedfilter.filter.filterdata":"Filter data (1RPM)","speedfilter.filter.filterspeed":"2100 RPM","spliterform.form.group":"Group display","spliterform.form.nowitem":"Current group","layui.page.total":"Total {count}","layui.page.unit":"Unit/page","layui.select.check":"Select","layui.select.nodata":"No match","layui.select.nooption":"No options","layui.layer.tip.title":"Tip","layui.table.order.Ascending":"Ascending","layui.table.order.Descending":"Descending","layui.table.nodata":"No data","datatable.filter.title":"Data range setting","datatable.process.filter.title":"Other data (Temp.)","datatable.filter.display.errordata":"Display error data","datatable.filter.display.workingconditiondata":"Display working condition data","datatable.filter.select.option.hour":"Hour","datatable.filter.select.option.day":"Day","datatable.filter.select.option.week":"Week","datatable.filter.select.option.month":"Month","datatable.filter.before":"Before","datatable.filter.datacount":"Since baseline data collection","datatable.filter.group":"Group","datatable.filter.time.since":"Since","datatable.filter.time.from":"From","datatable.filter.time.to":"To","datatable.filter.error.notint":"Integer only","datatable.filter.error.gtzero":"More than 0","datatable.meun.compatible.close":"Close compatibility mode","datatable.meun.compatible.open":"Open compatibility mode","pointTable.stationSelcetion":"Measuring point selection","pointTable.stationName":"Measuring point name","meun.setting.theme.light":"Switch to light theme","meun.setting.theme.dark":"Switch to dark theme","layui.page.prev":"Prev Page","layui.page.next":"Next Page","settingModal.title":"Other Settings","settingModal.success":"Setting Succed","settingModal.successMsg":"Please refresh your borwser to take effect!","settingModal.compatibleMode":"Compatibility Mode","settingModal.theme":"Theme Setting","settingModal.theme.light":"Light","settingModal.theme.dark":"Dark","settingModal.spectrum.unit":"Spectrum Unit","settingModal.waveform.unit":"Waveform Unit","common.selectAll":"Select All","common.goBack":"Back","TotalSpecType.total.1":"Effective Value","TotalSpecType.spec.1":"Peak Spectrum","TotalSpecType.spec.2":"RMS Spectrum","TotalSpecType.spec.3":"Logarithm Spectrum","FreqTrend.table.title":"Frequency Band","FreqTrend.table.SFreq":"Start Freq","FreqTrend.table.EFreq":"End Freq","FreqTrend.loading.loading":"Processing","FreqTrend.loading.terminate":"Terminate","FreqTrend.common.setting":"Setting","FreqTrend.common.freqTrend":"Freq Trend","FreqTrend.common.envelopeFreqTrend":"Envelope Freq Trend","FreqTrend.common.centerRate":"Center Rate","FreqTrend.common.bindwidth":"Bind Width","drawn.tooltip.filter":"Filter","drawn.tooltip.sigcir":"Equal angle waveform","drawn.tooltip.doublecir":"Single circle waveform","common.index.time":"Time Domain","common.index.sampling":"Sampling","common.index.eigenvalue":"Eigen Value","common.index.alarm":"Alarm","FreqTrend.common.All":"All","common.point.dymnic":"Dynamic Points","common.point.technics":"Technics Points","menu.saveSelectedData":"Save Selected Data","menu.showSelectedData":"Show Memo","menu.displaySelectedTrend":"Show Selected Trend","menu.displayUnelectedTrend":"Show Unselected Trend","leftbar.form.fwcard":"Velocity range","memo.title":"Memo","memo.oper.title":"Operation","memo.oper.jump":"Jump","memo.oper.delete":"Delete","memo.oper.deleteConfirm":"Are you sure to delete it","menu.characteristicfrequency1":"Measurement definition","ConditionFilter.title":"Condition Filter","tips.selectMeasuringPoint":"Please Select a Measuring Point!","meun.hide.selected.points":"Hide selected point","leftbar.form.control":"Control board","ordertrack.form.ordertrack":"Order","ordertrack.form.orderequip":"Order Envelope","ordertrack.form.timeavg":"Time domain average","ordertrack.form.avgcount":"Average times","cascade.form.speedrange":"Velocity range","cascade.form.timerange":"Time range","cascade.speed.multinum":"Velocity multiples","cascade.loadinfo.text":"will load {count} data,continue?","cascade.loadbtn.yes":"yes","cascade.loadbtn.no":"no","ordertrack.form.speedspec":"Rotating frequency","ordertrack.form.showspec":"Display original spectrum","settingModal.showspeedspec":"Display rotating frequency","settingModal.showspeedspec1":"Recognition range","memoryindex.table.error":"Exisiting same sampling time data","longwave.btn.envelope":"Envelope","longwave.envelop.long":"Long time envelope","ControlPanel.ResErr":"Resolution error","ControlPanel.envelope.trend":"Envelope RMS trend","ControlPanel.envelope.spectrend":"Envelope frequency trend","SpeedForm.speedpoint":"Velocity measuring point","DateTime.Hour":"H","ProcessTrend.DataRang.BA":"Before and after","ProcessTrend.DataRang.title":"Detailed trend range","meun.config.processtrend.maxtime.error":"Max {count}","meun.config.processtrend.mintime.error":"Min {count}",vibration:"vibration",Process:"Process","title.Detailed.trend.range":"Detailed trend range","SingleBargraph.index.title":"Single or Multi value bar graph","SingleBargraph.index.name":"Single value bar graph","SingleBargraph.index.mul":"Multivalued bar graph","SingleBargraph.index.select":"Select single value bar chart or not","PistonRod.index.peakvalue":"Peak value of subsidence","PistonRod.index.meanvalue":"\tMean value of subsidence","PistonRod.index.waveform":"Waveform","PistonRod.index.spectrum":"Spectrum","ImpulseDiagnosis.index.totalvalue":"Totalvalue","ImpulseDiagnosis.index.Impacttimes":"Impact times","ImpulseDiagnosis.index.Envelopewaveform":"Envelope waveform","ImpulseDiagnosis.index.Envelopespectrum":"Envelope spectrum","ColumarSpectrum.index.totalvalue":"Totalvalue","ColumarSpectrum.index.chartName":"Columnar spectrum","ColumarSpectrum.index.Vibrationwaveform":"Vibration waveform","ColumarSpectrum.index.Envelopespectrum":"Envelope spectrum","menu.right.showAll":"Expand all","menu.right.overAll":"All put away","menu.WaveformConversionTool":"Waveform conversion tool","menu.WaveformConversionTool.fail":"Failed to get waveform information","menu.WaveformConversionTool.signalType":"Signal Type","menu.WaveformConversionTool.frequency":"Frequency","menu.WaveformConversionTool.length":"Length","menu.WaveformConversionTool.speed":"Velocity","menu.WaveformConversionTool.displacement":"Displacement","FrequencyRecogCursor.featureRecog":"Frequency Recognition","FrequencyRecogCursor.RecognitionMode":"Recognition Mode","FrequencyRecogCursor.SingleCursor":"Single Cursor","FrequencyRecogCursor.VernierCursor":"Sideband Cursor","FrequencyRecogCursor.RecognitionRange":"Recognition Range","FrequencyRecogCursor.RotatingSpeed":"Rotating Velocity","FrequencyRecogCursor.HZ":"CPM","FrequencyRecogCursor.Amplitude":"Amplitude","FrequencyRecogCursor.CharacteristicFrequency":"Characteristic frequency","FrequencyRecogCursor.FrequencyValue":"Frequency Value","FrequencyRecogCursor.OriginalValue":"Original Value","FrequencyRecogCursor.Left":" Left","FrequencyRecogCursor.Right":" Right","settingModal.Singleloopanalysis":"Single loop analysis","settingModal.Routine":"Routine","settingModal.Singleequalangle":"Single loop equal angle","settingModal.Singleequaltime":"Single loop equal time","FrequencyRecogCursor.left":"left","FrequencyRecogCursor.right":"right","channel.log.ReTransmissiontimes":"Number of retransmissions","channel.log.TotalNumber":"Total Number","channel.log.Current":"Current","channel.log.LogTime":"Save time","channel.log.EnergyCumulative":"Energy Cumulative","channel.log.AvgCurrenti":"Avg Current","channel.log.Resistor":"Resistor","channel.log.LQI":"LQI","Tower Base Non-uniform inclination":"Tower Base Non-uniform inclination(degree)","Tower Base Non-uniform settlement":"Tower Base Non-uniform settlement(mm)","X Direction waveform":"X Direction waveform","Y Direction waveform":"Y Direction waveform","Whether to display maximum":"Whether to display the maximum value range","Tower.PitchAngle.waveform":"Tower Pitch Angle Waveform","PitchAngle.waveform":"Pitch Angle Waveform","RollAngle.waveform":"Roll Angle Waveform","Tower.rollAngle.waveform":"Tower Roll Angle waveform","Sloshing.displacement":"Sloshing displacement(mm)","Gravity.frequency":"Gravity frequency(Hz)","Vibration.intensity":"Vibration intensity(mm)","Capsizing.angle":"Capsizing angle(degree)","Tower.natural.frequency":"Tower natural frequency(Hz)","Maximum.displacement.of.vibration":"Maximum displacement of vibration(mm)","Multi.waveform":"Multi waveform","Multi.spectral":"Multi spectral","Direction of blade 1 and 2":"Direction of blade 1 and 2","Direction of blade 1 and 3":"Direction of blade 1 and 3","Direction of blade 2 and 3":"Direction of blade 2 and 3","Swing direction of blades 1 and 2":"Swing direction of blades 1 and 2","Swing direction of blades 1 and 3":"Swing direction of blades 1 and 3","Swing direction of blades 2 and 2":"Swing direction of blades 2 and 3","Direction of blade 4 and 5":"Direction of blade 4 and 5","Direction of blade 4 and 6":"Direction of blade 4 and 6","Direction of blade 5 and 6":"Direction of blade 5 and 6","Swing direction of blades 4 and 5":"Swing direction of blades 4 and 5","Swing direction of blades 4 and 6":"Swing direction of blades 4 and 6","Swing direction of blades 5 and 6":"Swing direction of blades 5 and 6","First order natural frequency amplitude":"First order natural frequency amplitude","Second order natural frequency amplitude":"Second order natural frequency amplitude","Third order natural frequency amplitude":"Third order natural frequency amplitude","Fourth order natural frequency amplitude":"Fourth order natural frequency amplitude","First order natural frequency value":"First order natural frequency value","Second order natural frequency value":"Second order natural frequency value","Third order natural frequency value":"Third order natural frequency value","Fourth order natural frequency value":"Fourth order natural frequency value","Wave Time Form":"Wave Time Form","Spectrum analysis":"Spectrum Analysis","Number (statistical results)":"Number (statistical results)","Selection of Granules":"Selection of Granules","Size of Granules":"Size of Granules","Reset Oil Granules Size":"Zero Oil Granules Size","Size Small":"Small","Size Middle":"Middle","Size Large":"Large","Type of Granules":"Type of Granules","Type Fe":"FerrMagnetic","Type Non-Fe":"Non-FerrMagnetic","Oil Particles Trend":"Oil Particles Trend","Oil Particles Daily Trend":"Oil Particles Daily Trend","Oil Particles Statics":"Oil Particles Statics","Columnar Chart Name":"Columnar Chart","Pie Chart Name":"Pie Chart","Btn Clear":"Reset","Clear Operation Confirm":"Sure to Clear?","operation failed":"operation failed!","operation succeed":"operation succeed!","Phase Measure Point Selection":"Phase Measure Point Selection","Three Phase Current Waveform":"Three Phase Current Waveform","Three Phase Voltage Waveform":"Three Phase Voltage Waveform","Three Phase Voltage Spectrum":"Three Phase Voltage Spectrum","Three Phase Current Spectrum":"Three Phase Current Spectrum",260:"Overall value",277:"Peak",261:"Kurtosis",262:"Pulse",263:"Waveform",264:"Margin",265:"Crooked",266:"Peak value",267:"Rad amplitude",268:"Max",269:"Min",270:"Ave.value",271:"Ave.amplitude",276:"Peak to peak",2501:"X Non-Uniform Inclination X",2502:"YNon-Uniform Inclination Y",2503:"Non-Uniform Inclination",2504:"Tilt Azimuth",2511:"X Balance Position X",2512:"YBalance Position Y",2513:"Shaking Displacement",2514:" Capsizing Angle",2515:" Vibration Intensity",2516:" Natural Frequency",2517:"Gravity Frequency",2518:" Capsizing Azimuth",2519:"Vibration Max. Displacement",2520:"Inclination Mean","Setting The Reference Waveform":"Set Reference Waveform"},zh:{"Spec.Title":"频谱分析","Waveform.Title":"波形分析","menu.dynamiccursor.open":"打开动态游标","menu.dynamiccursor.close":"关闭动态游标","menu.label":"标注","menu.label.add":"添加标注","menu.label.remove.checked":"删除选中标注","menu.label.remove.all":"删除所有标注","meun.cursor.lock":"锁定游标","meun.cursor.cancellock":"取消锁定游标","meun.graphic.lock":"锁定图形","meun.graphic.cancellock":"取消锁定图形","meun.export.image":"导出图形","meun.remarks":"备注信息","meun.setting":"界面设置","meun.setting.toolbar.hide":"隐藏工具栏","meun.setting.toolbar.show":"显示工具栏","meun.setting.helpinfo.hide":"隐藏辅助信息","meun.setting.helpinfo.show":"显示辅助信息","menu.alarmline.show":"添加报警线","menu.alarmline.hide":"隐藏报警线","menu.timedomaincriteria":"时域指标","menu.characteristicfrequency":"特征频率","menu.timedomaincriteria.samplingvalue":"总值","menu.timedomaincriteria.peakvalue":"峰值","menu.timedomaincriteria.kurtosisvalue":"峭度指标","menu.timedomaincriteria.impulsefactor":"脉冲指标","menu.timedomaincriteria.waveformindex":"波形指标","menu.timedomaincriteria.clearancefactor":"裕度指标","menu.timedomaincriteria.skewindex":"歪度指标","menu.timedomaincriteria.peakfactor":"峰值指标","menu.timedomaincriteria.rootamplitude":"方根幅值","menu.timedomaincriteria.maximum":"最大值","menu.timedomaincriteria.minimum":"最小值","menu.timedomaincriteria.meanvalue":"均值","menu.timedomaincriteria.averageamplitude":"平均幅值","menu.timedomaincriteria.peakpeakvalue":"峰峰值","menu.maxgraphcount":"最大图形组数","menu.vernier.lockdouble":"锁定双游标","menu.vernier.canclelockdouble":"取消锁定双游标","menu.graphicargs.setting":"游标参数设置","menu.graphicargs.clear":"清空图形","menu.duanchang":"段长","menu.cancelDuanchang":"取消段长","menu.bandwidth.multiple":"带宽倍数","menu.totalspec.configtitle":"频谱类型配置","menu.tagSetting":"标识设置","menu.infoSetting":"信息条设置","common.deviceWorkingCondition":"设备工况","common.deviceParaCollectCondition":"采集工况","menu.speed.selection":"转速筛选","menu.working.condition.strategy":"工况策略","prompt.graphicargs.frequencycursor.side.count":"边频游标个数","prompt.graphicargs.frequencycursor.multi.count":"倍频游标个数","prompt.maxgraphcount.title":"最大图形组数","prompt.remarks.title":"数据备注信息","prompt.label.title":"请输入标注","prompt.zoomspec.title":"频谱显示范围","prompt.zoomspec.max":"最大频谱","prompt.zoomspec.min":"最小频谱","toolar.title":"","toolar.btn.zoom":"恢复缩放","toolbar.btn.vernier.single":"单游标","toolbar.btn.vernier.double":"双游标","toolbar.btn.frequencycursor.side":"边频游标","toolbar.btn.frequencycursor.multi":"倍频游标","toolbar.btn.frequencycursor.Distinguish":"识别","toolbar.btn.frequencycursor.Tagging":"特征频率标注","btn.ok":"确定","btn.search":"查询","btn.cancel":"取消","btn.restore":"恢复","btn.reset":"重置","btn.refresh":"刷新","datatable.title.measdate":"采样时间","datatable.title.measvalue":"采样值","datatable.title.desc":"备注","datatable.title.instrcode":"仪器序列号","menu.datatable.export":"导出","menu.datatable.range":"数据范围","datatable.title.temperature":"温度","datatable.title.voltage":"电池电压","datatable.title.lqi":"LQI","datatable.title.transtime":"传输时间","datatable.title.startstate":"启动状态","datatable.filter.title.datalist":"列表数据","datatable.filter.error.tip.datacount.isnotint":"采集组数不是整数","datatable.filter.error.tip.datacount.thanzero":"采集组数需要大于0","datatable.title.indexname":"指标名称","datatable.title.tzname":"特征","datatable.title.seq":"序号","datatable.title.indexvalue":"指标值","datatable.title.datatype":"数据类型","datatable.value.runspeed":"转速","datatable.value.startdown":"启停机","datatable.value.blackbox":"黑匣子","leftbar.title.title":"基本配置","leftbar.title.section":"截面","leftbar.title.nosection":"无截面","leftbar.title.original":"原始","leftbar.title.analysislaps":"分析圈数","leftbar.title.syntheticcircles":"合成圈数","leftbar.title.samplingpoints":"采样点数","leftbar.title.speedratio":"转速比","leftbar.form.begintime":"开始时间","leftbar.form.endtime":"结束时间","leftbar.form.selecttime":"时间选择","leftbar.form.filter":"稀释","leftbar.form.fwcard":"转速范围","headbar.title.maxsize":"最大化","headbar.title.resize":"还原","Bearing.oefficient":"轴瓦系数","btn.maximize":"最大化","btn.minimize":"最小化","btn.reduction":"还原","chart.help.amp":"幅值","chart.help.phar":"相位","chart.name.longwaveformtrend":"长波形趋势","card.title.datatable":"数据列表","chart.name.longwaveform":"长波形","chart.name.segmentedwaveform":"分段波形","chart.name.segmentedspectrum":"分段频谱","chart.name.spectrum.amp":"幅值谱","chart.name.spectrum.envelope":"包络谱","chart.name.rawdata":"原始数据","chart.name.originalaxis":"原始轴心","config.SignalType.0":"加速度","config.SignalType.1":"速度","config.SignalType.2":"位移","config.SignalType.3":"电压","config.SignalType.4":"电流","meun.config.maxgraph.count.error":"最多设置{count}条","meun.config.mingraph.count.error":"最少设置{count}条","FilterPanel.lowthanhigh.msg":"低通截止不能大于高通截止","FilterPanel.title":"滤波","FilterPanel.filtertype":"滤波种类","FilterPanel.filtertype.0":"带通","FilterPanel.filtertype.1":"带阻","FilterPanel.filtertype.2":"高通","FilterPanel.filtertype.3":"低通","FilterPanel.filter.lowcut":"低通截止","FilterPanel.filter.highcut":"高通截止","FilterPanel.filter.submit":"滤波","FilterPanel.low.msg":"低通截止应该设置数值","FilterPanel.high.msg":"高通截止应该设置数值","FilterPanel.lowin.msg":"低通截止应该在{low}-{high} {unit}","FilterPanel.highin.msg":"高通截止应该在{low}-{high} {unit}","CrossPhase.panel.station":"测点","CrossPhase.panel.stationX":"X测点","CrossPhase.panel.stationY":"Y测点","CrossPhase.panel.datalist":"数据列表","CrossPhase.chart.trend":"趋势","CrossPhase.chart.crossphase":"互功率谱","CrossPhase.chart.phasespec":"相位差谱","panel.startthanend.msg":"开始时间不能大于结束时间","panel.legend.title":"滤波","panel.leftbar.startdown":"启停机","panel.leftbar.normal":"普通","tip.error.time":"开始时间不能大于结束时间","tip.error.syntheticcircles":"请输入合成圈数","tip.error.analysislaps":"请输入分析圈数","formname.eigenvalues":"特征值","axisselect.form.axisspeed":"转速所在轴","axisselect.form.nowaxisspeed":"当前分析轴","speedfilter.filter.filterdata":"稀释数据(1RPM)","speedfilter.filter.filterspeed":"2100转","spliterform.form.group":"分组显示","spliterform.form.nowitem":"当前组","layui.page.total":"共{count}条","layui.page.unit":"条/页","layui.select.check":"请选择","layui.select.nodata":"无匹配项","layui.select.nooption":"没有选项","layui.layer.tip.title":"提示","layui.table.order.Ascending":"升序","layui.table.order.Descending":"降序","layui.table.nodata":"无数据","IndexType.input.placeholder":"请输入指标名称或编码","datatable.filter.group":"组","datatable.filter.time.since":"自从","datatable.filter.time.from":"自","datatable.filter.time.to":"到","datatable.filter.error.notint":"请输入整数","datatable.filter.error.gtzero":"需要大于0","datatable.filter.title":"数据范围设置","datatable.process.filter.title":"\t其他数据(温度等)","datatable.filter.display.errordata":"显示误信号数据","datatable.filter.display.workingconditiondata":"显示工况数据","datatable.filter.select.option.hour":"小时","datatable.filter.select.option.day":"天","datatable.filter.select.option.week":"周","datatable.filter.select.option.month":"月","datatable.filter.before":"以前","datatable.filter.datacount":"基线数据采集以来","pointTable.stationName":"测点名称","pointTable.stationSelcetion":"测点选择","drawn.tooltip.filter":"滤波","drawn.tooltip.sigcir":"等角度分析","drawn.tooltip.doublecir":"单圈波形分析","ordertrack.form.speedtrend":"转速趋势","ordertrack.form.defdata":"自定义数据","ordertrack.form.test":"测试","ordertrack.chart.orderwave":"阶次波形","ordertrack.chart.spec":"阶次谱","ordertrack.help.spec":"频率","ordertrack.help.order":"阶次","datatable.meun.compatible.close":"关闭兼容模式","datatable.meun.compatible.open":"打开兼容模式","rotationalspeed.chart.speed":"转速数据","meun.setting.theme.light":"切换为亮色主题","meun.setting.theme.dark":"切换为暗色主题","layui.page.prev":"上一页","layui.page.next":"下一页","settingModal.title":"其它设置","settingModal.success":"设置成功","settingModal.successMsg":"请刷新浏览器以使设置生效！","settingModal.compatibleMode":"兼容模式","settingModal.theme":"主题设置","settingModal.theme.light":"亮色","settingModal.theme.dark":"暗色","settingModal.spectrum.unit":"频谱单位","settingModal.waveform.unit":"波形单位","TotalSpecType.total.1":"有效值","TotalSpecType.spec.1":"峰值谱","TotalSpecType.spec.2":"有效值谱","TotalSpecType.spec.3":"对数谱","common.selectAll":"全选","common.goBack":"返回","FreqTrend.table.title":"频段","FreqTrend.table.SFreq":"开始频率","FreqTrend.table.EFreq":"结束频率","FreqTrend.loading.loading":"处理中","FreqTrend.loading.terminate":"中止","FreqTrend.common.setting":"设置","FreqTrend.common.freqTrend":"频率趋势","FreqTrend.common.envelopeFreqTrend":"包络频率趋势","FreqTrend.common.centerRate":"中心频率","FreqTrend.common.bindwidth":"带宽","FreqTrend.common.All":"全部","common.index.time":"时域指标","common.index.sampling":"采样值指标","common.index.shortTime":"短时指标","common.index.eigenvalue":"特征值指标","common.index.alarm":"报警指标","common.index.general":"通用指标","common.index.special":"特殊指标","common.index.superIndex":"超级指标","common.index.DirectivityIndex":"指向性指标","common.point.dymnic":"动态量测点","common.point.technics":"工艺量测点","menu.saveSelectedData":"保存选中的数据","menu.showSelectedData":"显示备忘录","menu.displaySelectedTrend":"显示选中趋势","menu.displayUnelectedTrend":"显示未选中趋势","memo.title":"备忘录","memo.oper.title":"操作","memo.oper.jump":"跳转","memo.oper.delete":"删除","memo.oper.deleteConfirm":"确定删除行么","ConditionFilter.title":"工况筛选","tips.selectMeasuringPoint":"请选择相应的测点！","tips.noAlarmData":"无报警数据","meun.hide.selected.points":"隐藏选中的点","leftbar.form.control":"控制面板","ordertrack.form.ordertrack":"阶次分析","ordertrack.form.orderequip":"阶次包络","ordertrack.form.timeavg":"时域平均","ordertrack.form.avgcount":"平均次数","cascade.form.speedrange":"转速范围","cascade.form.timerange":"时间范围","cascade.speed.multinum":"转速倍数","cascade.loadinfo.text":"将会加载{count}条数据,是否继续","cascade.loadbtn.yes":"是","cascade.loadbtn.no":"否","ordertrack.form.speedspec":"转频","ordertrack.form.showspec":"显示原始频谱","settingModal.showspeedspec":"显示转频","settingModal.showspeedspec1":"识别范围","memoryindex.table.error":"已存在相同的采样时间数据","longwave.btn.envelope":"包络解调","longwave.envelop.long":"长波形包络","ControlPanel.ResErr":"分辨率误差(个)","ControlPanel.envelope.trend":"包络有效值趋势","ControlPanel.envelope.spectrend":"包络频率趋势","SpeedForm.speedpoint":"转速测点","DateTime.Hour":"小时","ProcessTrend.DataRang.BA":"前后","ProcessTrend.DataRang.title":"详细数据范围","meun.config.processtrend.maxtime.error":"最多设置{count}小时","meun.config.processtrend.mintime.error":"最少设置{count}小时",vibration:"振动",Process:"工艺","title.Detailed.trend.range":"详细趋势范围","menu.characteristicfrequency1":"测量定义","SingleBargraph.index.name":"单值棒图","SingleBargraph.index.mul":"多值棒图","SingleBargraph.index.select":"选择单值棒图或多值棒图","PistonRod.index.peakvalue":"沉降峰峰值","PistonRod.index.meanvalue":"沉降均值","PistonRod.index.waveform":"波形","PistonRod.index.spectrum":"频谱","SingleBargraph.index.title":"单多职棒图","ImpulseDiagnosis.index.totalvalue":"总值","ImpulseDiagnosis.index.Impacttimes":"冲击次数","ImpulseDiagnosis.index.Envelopewaveform":"波形","ImpulseDiagnosis.index.Envelopespectrum":"频谱","ColumarSpectrum.index.totalvalue":"总值","ColumarSpectrum.index.chartName":"柱状谱","ColumarSpectrum.index.Vibrationwaveform":"振动波形","ColumarSpectrum.index.Envelopespectrum":"频谱","menu.right.showAll":"全部展开","menu.right.overAll":"全部收起","menu.WaveformConversionTool":"波形转换工具","menu.WaveformConversionTool.fail":"获取波形信息失败","menu.WaveformConversionTool.signalType":"信号类型","menu.WaveformConversionTool.frequency":"频率","menu.WaveformConversionTool.length":"长度","menu.WaveformConversionTool.speed":"速度","menu.WaveformConversionTool.displacement":"位移","FrequencyRecogCursor.featureRecog":"特征频率识别","FrequencyRecogCursor.RecognitionMode":"识别方式","FrequencyRecogCursor.SingleCursor":"单游标","FrequencyRecogCursor.VernierCursor":"边频游标","FrequencyRecogCursor.RecognitionRange":"识别范围","FrequencyRecogCursor.RotatingSpeed":"转速","FrequencyRecogCursor.HZ":"Hz","FrequencyRecogCursor.Amplitude":"幅值","FrequencyRecogCursor.CharacteristicFrequency":"特征频率","FrequencyRecogCursor.FrequencyValue":"频率值","FrequencyRecogCursor.OriginalValue":"原始值","FrequencyRecogCursor.Left":"左","FrequencyRecogCursor.Right":"右","settingModal.Singleloopanalysis":"单圈分析","settingModal.Routine":"常规","settingModal.Singleequalangle":"单圈等角度","settingModal.Singleequaltime":"单圈等时间","FrequencyRecogCursor.left":"左","FrequencyRecogCursor.right":"右","channel.log.ReTransmissiontimes":"重传次数","channel.log.TotalNumber":"总包数","channel.log.Current":"电流","channel.log.LogTime":"保存时间","channel.log.EnergyCumulative":"能量累积","channel.log.AvgCurrenti":"平均电流","channel.log.Resistor":"内阻","channel.log.LQI":"LQI","Tower.PitchAngle.waveform":"塔筒俯仰角波形","Tower.rollAngle.waveform":"塔筒横滚角波形","Tower Base Non-uniform inclination":"塔基的非均匀倾角(degree)","Tower Base Non-uniform settlement":"塔基的非均匀沉降量(mm)","X Direction waveform":"X方向波形","Y Direction waveform":"Y方向波形","Whether to display maximum":"是否显示最大值范围","PitchAngle.waveform":"俯仰角波形","RollAngle.waveform":"横滚角波形","Sloshing.displacement":"晃动位移(mm)","Gravity.frequency":"重心频率(Hz)","Vibration.intensity":"震动强度(mm)","Capsizing.angle":"倾覆角(degree)","Tower.natural.frequency":"塔筒固有频率(Hz)","Maximum.displacement.of.vibration":"震动最大位移(mm)","Multi.waveform":"多波形","Multi.spectral":"多频谱","Direction of blade 1 and 2":"叶片1、2挥舞方向","Direction of blade 1 and 3":"叶片1、3挥舞方向","Direction of blade 2 and 3":"叶片2、3挥舞方向","Swing direction of blades 1 and 2":"叶片1、2摆振方向","Swing direction of blades 1 and 3":"叶片1、3摆振方向","Swing direction of blades 2 and 3":"叶片2、3摆振方向","Direction of blade 4 and 5":"叶片4、5挥舞方向","Direction of blade 4 and 6":"叶片4、6挥舞方向","Direction of blade 5 and 6":"叶片5、6挥舞方向","Swing direction of blades 4 and 5":"叶片4、5摆振方向","Swing direction of blades 4 and 6":"叶片4、6摆振方向","Swing direction of blades 5 and 6":"叶片5、6摆振方向","First order natural frequency amplitude":"一阶固有频率幅值","Second order natural frequency amplitude":"二阶固有频率幅值","Third order natural frequency amplitude":"三阶固有频率幅值","Fourth order natural frequency amplitude":"四阶固有频率幅值","First order natural frequency value":"一阶固有频率值","Second order natural frequency value":"二阶固有频率值","Third order natural frequency value":"三阶固有频率值","Fourth order natural frequency value":"四阶固有频率值","Wave Time Form":"时域波形","Spectrum analysis":"频谱分析","Number (statistical results)":"个数（统计结果）","Selection of Granules":"颗粒选择","Reset Oil Granules Size":"颗粒度清零","Size of Granules":"颗粒大小","Size Small":"小","Size Middle":"中","Size Large":"大","Granules All":"全部","Type of Granules":"颗粒类型","Type Fe":"铁","Type Non-Fe":"非铁","Oil Particles Trend":"油液颗粒度趋势","Oil Particles Daily Trend":"油液颗粒度逐日趋势","Oil Particles Statics":"油液颗粒度统计","Columnar Chart Name":"油液颗粒度柱形统计","Pie Chart Name":"油液颗粒度饼形统计","Btn Reset":"清零","Clear Operation Confirm":"确定要清零吗?","operation failed":"操作失败!","operation succeed":"操作成功!","Phase Measure Point Selection":"相位测点选择","Three Phase Current Waveform":"三相电压波形","Three Phase Voltage Waveform":"三相电流波形","Three Phase Voltage Spectrum":"三相电压频谱","Three Phase Current Spectrum":"三相电流频谱","Setting The Reference Waveform":"设置基准波形"}}});window.RZGraphLang=v;var b,C,x,w,D,I,B,T,S,M=v;b=window,C=document,x={modules:{},status:{},timeout:10,event:{}},w=function(){this.v="2.4.5"},D=(S=C.currentScript?C.currentScript.src:function(){for(var t,e=C.scripts,n=e.length-1,i=n;i>0;i--)if("interactive"===e[i].readyState){t=e[i].src;break}return t||e[n].src}()).substring(0,S.lastIndexOf("/")+1),I=function(t){b.console&&console.error},B="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),T={layer:"modules/layer",laydate:"modules/laydate",laypage:"modules/laypage",laytpl:"modules/laytpl",layim:"modules/layim",layedit:"modules/layedit",form:"modules/form",upload:"modules/upload",tree:"modules/tree",table:"modules/table",element:"modules/element",rate:"modules/rate",colorpicker:"modules/colorpicker",slider:"modules/slider",carousel:"modules/carousel",flow:"modules/flow",util:"modules/util",code:"modules/code",jquery:"modules/jquery",mobile:"modules/mobile","layui.all":"../layui.all"},w.prototype.cache=x,w.prototype.define=function(t,e){var n=function(){var t=function(t,e){layui[t]=e,x.status[t]=!0};return"function"==typeof e&&e(function(n,i){t(n,i),x.callback[n]=function(){e(t)}}),this};return"function"==typeof t&&(e=t,t=[]),layui["layui.all"]||!layui["layui.all"]&&layui["layui.mobile"]?n.call(this):(this.use(t,n),this)},w.prototype.use=function(t,e,n){var i=this,a=x.dir=x.dir?x.dir:D,r=C.getElementsByTagName("head")[0];t="string"==typeof t?[t]:t,window.jQuery&&jQuery.fn.on&&(i.each(t,function(e,n){"jquery"===n&&t.splice(e,1)}),layui.jquery=layui.$=jQuery);var o,s=t[0],l=0;function c(t,e){var n="PLaySTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;("load"===t.type||n.test((t.currentTarget||t.srcElement).readyState))&&(x.modules[s]=e,r.removeChild(h),function t(){if(++l>1e3*x.timeout/4)return I(s+" is not a valid module");x.status[s]?u():setTimeout(t,4)}())}function u(){n.push(layui[s]),t.length>1?i.use(t.slice(1),e,n):"function"==typeof e&&e.apply(layui,n)}if(n=n||[],x.host=x.host||(a.match(/\/\/([\s\S]+?)\//)||["//"+location.host+"/"])[0],0===t.length||layui["layui.all"]&&T[s]||!layui["layui.all"]&&layui["layui.mobile"]&&T[s])return u(),i;if(x.modules[s])!function t(){if(++l>1e3*x.timeout/4)return I(s+" is not a valid module");"string"==typeof x.modules[s]&&x.status[s]?u():setTimeout(t,4)}();else{var h=C.createElement("script"),d=(T[s]?a+"lay/":/^\{\/\}/.test(i.modules[s])?"":x.base||"")+(i.modules[s]||s)+".js";d=d.replace(/^\{\/\}/,""),h.async=!0,h.charset="utf-8",h.src=d+((o=!0===x.version?x.v||(new Date).getTime():x.version||"")?"?v="+o:""),r.appendChild(h),!h.attachEvent||h.attachEvent.toString&&h.attachEvent.toString().indexOf("[native code")<0||B?h.addEventListener("load",function(t){c(t,d)},!1):h.attachEvent("onreadystatechange",function(t){c(t,d)}),x.modules[s]=d}return i},w.prototype.getStyle=function(t,e){var n=t.currentStyle?t.currentStyle:b.getComputedStyle(t,null);return n[n.getPropertyValue?"getPropertyValue":"getAttribute"](e)},w.prototype.link=function(t,e,n){var i=this,a=C.createElement("link"),r=C.getElementsByTagName("head")[0];"string"==typeof e&&(n=e);var o=(n||t).replace(/\.|\//g,""),s=a.id="layuicss-"+o,l=0;return a.rel="stylesheet",a.href=t+(x.debug?"?v="+(new Date).getTime():""),a.media="all",C.getElementById(s)||r.appendChild(a),"function"!=typeof e?i:(function n(){if(++l>1e3*x.timeout/100)return I(t+" timeout");1989===parseInt(i.getStyle(C.getElementById(s),"width"))?e():setTimeout(n,100)}(),i)},x.callback={},w.prototype.factory=function(t){if(layui[t])return"function"==typeof x.callback[t]?x.callback[t]:null},w.prototype.addcss=function(t,e,n){return layui.link(x.dir+"rzgraph/css/"+t,e,n)},w.prototype.img=function(t,e,n){var i=new Image;if(i.src=t,i.complete)return e(i);i.onload=function(){i.onload=null,"function"==typeof e&&e(i)},i.onerror=function(t){i.onerror=null,"function"==typeof n&&n(t)}},w.prototype.config=function(t){for(var e in t=t||{})x[e]=t[e];return this},w.prototype.modules=function(){var t={};for(var e in T)t[e]=T[e];return t}(),w.prototype.extend=function(t){for(var e in t=t||{})this[e]||this.modules[e]?I("模块名 "+e+" 已被占用"):this.modules[e]=t[e];return this},w.prototype.data=function(t,e,n){if(t=t||"layui",n=n||localStorage,b.JSON&&b.JSON.parse){if(null===e)return delete n[t];e="object"===u()(e)?e:{key:e};try{var i=JSON.parse(n[t])}catch(t){i={}}return"value"in e&&(i[e.key]=e.value),e.remove&&delete i[e.key],n[t]=JSON.stringify(i),e.key?i[e.key]:i}},w.prototype.sessionData=function(t,e){return this.data(t,e,sessionStorage)},w.prototype.device=function(t){var e=navigator.userAgent.toLowerCase(),n=function(t){var n=new RegExp(t+"/([^\\s\\_\\-]+)");return(t=(e.match(n)||[])[1])||!1},i={os:/windows/.test(e)?"windows":/linux/.test(e)?"linux":/iphone|ipod|ipad|ios/.test(e)?"ios":/mac/.test(e)?"mac":void 0,ie:!!(b.ActiveXObject||"ActiveXObject"in b)&&((e.match(/msie\s(\d+)/)||[])[1]||"11"),weixin:n("micromessenger")};return t&&!i[t]&&(i[t]=n(t)),i.android=/android/.test(e),i.ios="ios"===i.os,i},w.prototype.hint=function(){return{error:I}},w.prototype.each=function(t,e){var n;if("function"!=typeof e)return this;if((t=t||[]).constructor===Object){for(n in t)if(e.call(t[n],n,t[n]))break}else for(n=0;n<t.length&&!e.call(t[n],n,t[n]);n++);return this},w.prototype.sort=function(t,e,n){var i=JSON.parse(JSON.stringify(t||[]));return e?(i.sort(function(t,n){var i=/^-?\d+$/,a=t[e],r=n[e];return i.test(a)&&(a=parseFloat(a)),i.test(r)&&(r=parseFloat(r)),a&&!r?1:!a&&r?-1:a>r?1:a<r?-1:0}),n&&i.reverse(),i):i},w.prototype.stope=function(t){t=t||b.event;try{t.stopPropagation()}catch(e){t.cancelBubble=!0}},w.prototype.onevent=function(t,e,n){return"string"!=typeof t||"function"!=typeof n?this:w.event(t,e,null,n)},w.prototype.event=w.event=function(t,e,n,i){var a=this,r=null,o=e.match(/\((.*)\)$/)||[],s=(t+"."+e).replace(o[0],""),l=o[1]||"",c=function(t,e){!1===(e&&e.call(a,n))&&null===r&&(r=!1)};return i?(x.event[s]=x.event[s]||{},x.event[s][l]=[i],this):(layui.each(x.event[s],function(t,e){"{*}"!==l?(""===t&&layui.each(e,c),l&&t===l&&layui.each(e,c)):layui.each(e,c)}),r)},b.layui||(b.layui=new w),layui.define(function(t){var e=layui.cache;layui.config({dir:e.dir.replace(/lay\/dest\/$/,"")}),t("layui.all",layui.v)}),layui.define(function(t){var e={open:"{{",close:"}}"},n=function(t,n,i){var a=["#([\\s\\S])+?","([^{#}])*?"][t||0];return r((n||"")+e.open+a+e.close+(i||""))},i=function(t){return String(t||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},a=function(t,e){return"undefined"==typeof console||u()(console),"Laytpl Error："+t},r=function(t){return new RegExp(t,"g")},o=function(t){this.tpl=t};o.pt=o.prototype,window.errors=0,o.pt.parse=function(t,o){var s=r("^"+e.open+"#",""),l=r(e.close+"$","");t='"use strict";var view = "'+(t=t.replace(/\s+|\r|\t|\n/g," ").replace(r(e.open+"#"),e.open+"# ").replace(r(e.close+"}"),"} "+e.close).replace(/\\/g,"\\\\").replace(r(e.open+"!(.+?)!"+e.close),function(t){return t.replace(r("^"+e.open+"!"),"").replace(r("!"+e.close),"").replace(r(e.open+"|"+e.close),function(t){return t.replace(/(.)/g,"\\$1")})}).replace(/(?="|')/g,"\\").replace(n(),function(t){return'";'+(t=t.replace(s,"").replace(l,"")).replace(/\\/g,"")+';view+="'}).replace(n(1),function(t){var n='"+(';return t.replace(/\s/g,"")===e.open+e.close?"":(t=t.replace(r(e.open+"|"+e.close),""),/^=/.test(t)&&(t=t.replace(/^=/,""),n='"+_escape_('),n+t.replace(/\\/g,"")+')+"')}))+'";return view;';try{return this.cache=t=new Function("d, _escape_",t),t(o,i)}catch(t){return delete this.cache,a(t)}},o.pt.render=function(t,e){var n;return t?(n=this.cache?this.cache(t,i):this.parse(this.tpl,t),e?void e(n):n):a("no data")};var s=function(t){return"string"!=typeof t?a("Template not found"):new o(t)};s.config=function(t){for(var n in t=t||{})e[n]=t[n]},s.v="1.2.0",t("laytpl",s)}),layui.define(function(t){var e=document,n="getElementById",i="getElementsByTagName",a="layui-disabled",r=function(t){this.config=t||{},this.config.index=++o.index,this.render(!0)};r.prototype.type=function(){var t=this.config;if("object"===u()(t.elem))return void 0===t.elem.length?2:3},r.prototype.view=function(){var t=this.config,e=t.groups="groups"in t?0|t.groups:5;t.layout="object"===u()(t.layout)?t.layout:["prev","page","next"],t.count=0|t.count,t.curr=0|t.curr||1,t.limits="object"===u()(t.limits)?t.limits:[10,20,30,40,50],t.limit=0|t.limit||10,t.pages=Math.ceil(t.count/t.limit)||1,t.curr>t.pages&&(t.curr=t.pages),e<0?e=1:e>t.pages&&(e=t.pages),t.prev="prev"in t?t.prev:"&#x4E0A;&#x4E00;&#x9875;",t.next="next"in t?t.next:"&#x4E0B;&#x4E00;&#x9875;";var n,i,r=t.pages>e?Math.ceil((t.curr+(e>1?1:0))/(e>0?e:1)):1,o={prev:t.prev?'<a href="javascript:;" class="layui-laypage-prev'+(1==t.curr?" "+a:"")+'" data-page="'+(t.curr-1)+'">'+t.prev+"</a>":"",page:function(){var n=[];if(t.count<1)return"";r>1&&!1!==t.first&&0!==e&&n.push('<a href="javascript:;" class="layui-laypage-first" data-page="1"  title="&#x9996;&#x9875;">'+(t.first||1)+"</a>");var i,a=Math.floor((e-1)/2),o=r>1?t.curr-a:1,s=r>1?(i=t.curr+(e-a-1))>t.pages?t.pages:i:e;for(s-o<e-1&&(o=s-e+1),!1!==t.first&&o>2&&n.push('<span class="layui-laypage-spr">&#x2026;</span>');o<=s;o++)o===t.curr?n.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(t.theme)?'style="background-color:'+t.theme+';"':"")+"></em><em>"+o+"</em></span>"):n.push('<a href="javascript:;" data-page="'+o+'">'+o+"</a>");return t.pages>e&&t.pages>s&&!1!==t.last&&(s+1<t.pages&&n.push('<span class="layui-laypage-spr">&#x2026;</span>'),0!==e&&n.push('<a href="javascript:;" class="layui-laypage-last" title="&#x5C3E;&#x9875;"  data-page="'+t.pages+'">'+(t.last||t.pages)+"</a>")),n.join("")}(),next:t.next?'<a href="javascript:;" class="layui-laypage-next'+(t.curr==t.pages?" "+a:"")+'" data-page="'+(t.curr+1)+'">'+t.next+"</a>":"",count:'<span class="layui-laypage-count">'+M.$t("layui.page.total",{count:t.count})+" </span>",limit:(n=['<span class="layui-laypage-limits"><select lay-ignore>'],layui.each(t.limits,function(e,i){n.push('<option value="'+i+'"'+(i===t.limit?"selected":"")+">"+i+M.$t("layui.page.unit")+"</option>")}),n.join("")+"</select></span>"),refresh:['<a href="javascript:;" data-page="'+t.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"></i>',"</a>"].join(""),skip:['<span class="layui-laypage-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+t.curr+'" class="layui-input">','&#x9875;<button type="button" class="layui-laypage-btn">&#x786e;&#x5b9a;</button>',"</span>"].join("")};return['<div class="layui-box layui-laypage layui-laypage-'+(t.theme?/^#/.test(t.theme)?"molv":t.theme:"default")+'" id="layui-laypage-'+t.index+'">',(i=[],layui.each(t.layout,function(t,e){o[e]&&i.push(o[e])}),i.join("")),"</div>"].join("")},r.prototype.jump=function(t,e){if(t){var n=this,a=n.config,r=t.children,s=t[i]("button")[0],l=t[i]("input")[0],c=t[i]("select")[0],u=function(){var t=0|l.value.replace(/\s|\D/g,"");t&&(a.curr=t,n.render())};if(e)return u();for(var h=0,d=r.length;h<d;h++)"a"===r[h].nodeName.toLowerCase()&&o.on(r[h],"click",function(){var t=0|this.getAttribute("data-page");t<1||t>a.pages||(a.curr=t,n.render())});c&&o.on(c,"change",function(){var t=this.value;a.curr*t>a.count&&(a.curr=Math.ceil(a.count/t)),a.limit=t,n.render()}),s&&o.on(s,"click",function(){u()})}},r.prototype.skip=function(t){if(t){var e=this,n=t[i]("input")[0];n&&o.on(n,"keyup",function(n){var i=this.value,a=n.keyCode;/^(37|38|39|40)$/.test(a)||(/\D/.test(i)&&(this.value=i.replace(/\D/,"")),13===a&&e.jump(t,!0))})}},r.prototype.render=function(t){var i=this.config,a=this.type(),r=this.view();2===a?i.elem&&(i.elem.innerHTML=r):3===a?i.elem.html(r):e[n](i.elem)&&(e[n](i.elem).innerHTML=r),i.jump&&i.jump(i,t);var o=e[n]("layui-laypage-"+i.index);this.jump(o),i.hash&&!t&&(location.hash="!"+i.hash+"="+i.curr),this.skip(o)};var o={render:function(t){return new r(t).index},index:layui.laypage?layui.laypage.index+1e4:0,on:function(t,e,n){return t.attachEvent?t.attachEvent("on"+e,function(e){e.target=e.srcElement,n.call(t,e)}):t.addEventListener(e,n,!1),this}};t("laypage",o)}),function(){var t,e,i=window.layui&&layui.define,a={getPath:(t=document.currentScript?document.currentScript.src:function(){for(var t,e=document.scripts,n=e.length-1,i=n;i>0;i--)if("interactive"===e[i].readyState){t=e[i].src;break}return t||e[n].src}(),t.substring(0,t.lastIndexOf("/")+1)),getStyle:function(t,e){var n=t.currentStyle?t.currentStyle:window.getComputedStyle(t,null);return n[n.getPropertyValue?"getPropertyValue":"getAttribute"](e)},link:function(t,e,n){if(r.path){var i=document.getElementsByTagName("head")[0],o=document.createElement("link");"string"==typeof e&&(n=e);var s="layuicss-"+(n||t).replace(/\.|\//g,""),l=0;o.rel="stylesheet",o.href=r.path+t,o.id=s,document.getElementById(s)||i.appendChild(o),"function"==typeof e&&function t(){if(++l>80)return window.console&&void 0;1989===parseInt(a.getStyle(document.getElementById(s),"width"))?e():setTimeout(t,100)}()}}},r={v:"5.0.9",config:{},index:window.laydate&&window.laydate.v?1e5:0,path:a.getPath,set:function(t){return this.config=v.extend({},this.config,t),this},ready:function(t){var e="laydate",n=(i?"modules/laydate/":"theme/")+"default/laydate.css?v="+r.v;return i?layui.addcss(n,t,e):a.link(n,t,e),this}},o="layui-this",s="laydate-disabled",l="开始日期超出了结束日期<br>建议重新选择",c=[100,2e5],h="layui-laydate-static",d="layui-laydate-list",p="laydate-selected",f="layui-laydate-hint",A=".laydate-btns-confirm",m="laydate-time-text",y=".laydate-btns-time",g=function(t){var e=this;e.index=++r.index,e.config=v.extend({},e.config,r.config,t),r.ready(function(){e.init()})},v=function(t){return new b(t)},b=function(t){for(var e=0,n="object"===u()(t)?[t]:(this.selector=t,document.querySelectorAll(t||null));e<n.length;e++)this.push(n[e])};b.prototype=[],b.prototype.constructor=b,v.extend=function(){var t=1,e=arguments,n=function t(e,n){for(var i in e=e||(n.constructor===Array?[]:{}),n)e[i]=n[i]&&n[i].constructor===Object?t(e[i],n[i]):n[i];return e};for(e[0]="object"===u()(e[0])?e[0]:{};t<e.length;t++)"object"===u()(e[t])&&n(e[0],e[t]);return e[0]},v.ie=(e=navigator.userAgent.toLowerCase(),!!(window.ActiveXObject||"ActiveXObject"in window)&&((e.match(/msie\s(\d+)/)||[])[1]||"11")),v.stope=function(t){(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0},v.each=function(t,e){var n;if("function"!=typeof e)return this;if((t=t||[]).constructor===Object){for(n in t)if(e.call(t[n],n,t[n]))break}else for(n=0;n<t.length&&!e.call(t[n],n,t[n]);n++);return this},v.digit=function(t,e,n){var i="";e=e||2;for(var a=(t=String(t)).length;a<e;a++)i+="0";return t<Math.pow(10,e)?i+(0|t):t},v.elem=function(t,e){var n=document.createElement(t);return v.each(e||{},function(t,e){n.setAttribute(t,e)}),n},b.addStr=function(t,e){return t=t.replace(/\s+/," "),e=e.replace(/\s+/," ").split(" "),v.each(e,function(e,n){new RegExp("\\b"+n+"\\b").test(t)||(t=t+" "+n)}),t.replace(/^\s|\s$/,"")},b.removeStr=function(t,e){return t=t.replace(/\s+/," "),e=e.replace(/\s+/," ").split(" "),v.each(e,function(e,n){var i=new RegExp("\\b"+n+"\\b");i.test(t)&&(t=t.replace(i,""))}),t.replace(/\s+/," ").replace(/^\s|\s$/,"")},b.prototype.find=function(t){var e=this,n=0,i=[],a="object"===u()(t);return this.each(function(r,o){for(var s=a?[t]:o.querySelectorAll(t||null);n<s.length;n++)i.push(s[n]);e.shift()}),a||(e.selector=(e.selector?e.selector+" ":"")+t),v.each(i,function(t,n){e.push(n)}),e},b.prototype.each=function(t){return v.each.call(this,this,t)},b.prototype.addClass=function(t,e){return this.each(function(n,i){i.className=b[e?"removeStr":"addStr"](i.className,t)})},b.prototype.removeClass=function(t){return this.addClass(t,!0)},b.prototype.hasClass=function(t){var e=!1;return this.each(function(n,i){new RegExp("\\b"+t+"\\b").test(i.className)&&(e=!0)}),e},b.prototype.attr=function(t,e){var n=this;return void 0===e?function(){if(n.length>0)return n[0].getAttribute(t)}():n.each(function(n,i){i.setAttribute(t,e)})},b.prototype.removeAttr=function(t){return this.each(function(e,n){n.removeAttribute(t)})},b.prototype.html=function(t){return this.each(function(e,n){n.innerHTML=t})},b.prototype.val=function(t){return this.each(function(e,n){n.value=t})},b.prototype.append=function(t){return this.each(function(e,n){"object"===u()(t)?n.appendChild(t):n.innerHTML=n.innerHTML+t})},b.prototype.remove=function(t){return this.each(function(e,n){t?n.removeChild(t):n.parentNode.removeChild(n)})},b.prototype.on=function(t,e){return this.each(function(n,i){i.attachEvent?i.attachEvent("on"+t,function(t){t.target=t.srcElement,e.call(i,t)}):i.addEventListener(t,e,!1)})},b.prototype.off=function(t,e){return this.each(function(n,i){i.detachEvent?i.detachEvent("on"+t,e):i.removeEventListener(t,e,!1)})},g.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},g.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,isInitValue:!0,min:"1900-1-1",max:"2099-12-31",trigger:"focus",show:!1,showBottom:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},zIndex:null,done:null,change:null},g.prototype.lang=function(){var t={cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一","二","三","四","五","六","七","八","九","十","十一","十二"],tools:{confirm:"确定",clear:"清空",now:"现在"}},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"}}};return t[this.config.lang]||t.cn},g.prototype.init=function(){var t=this,e=t.config,n="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s",i="static"===e.position,a={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};e.elem=v(e.elem),e.eventElem=v(e.eventElem),e.elem[0]&&(!0===e.range&&(e.range="-"),e.format===a.date&&(e.format=a[e.type]),t.format=e.format.match(new RegExp(n+"|.","g"))||[],t.EXP_IF="",t.EXP_SPLIT="",v.each(t.format,function(e,i){var a=new RegExp(n).test(i)?"\\d{"+(new RegExp(n).test(t.format[0===e?e+1:e-1]||"")?/^yyyy|y$/.test(i)?4:i.length:/^yyyy$/.test(i)?"1,4":/^y$/.test(i)?"1,308":"1,2")+"}":"\\"+i;t.EXP_IF=t.EXP_IF+a,t.EXP_SPLIT=t.EXP_SPLIT+"("+a+")"}),t.EXP_IF=new RegExp("^"+(e.range?t.EXP_IF+"\\s\\"+e.range+"\\s"+t.EXP_IF:t.EXP_IF)+"$"),t.EXP_SPLIT=new RegExp("^"+t.EXP_SPLIT+"$",""),t.isInput(e.elem[0])||"focus"===e.trigger&&(e.trigger="click"),e.elem.attr("lay-key")||(e.elem.attr("lay-key",t.index),e.eventElem.attr("lay-key",t.index)),e.mark=v.extend({},e.calendar&&"cn"===e.lang?{"0-1-1":"元旦","0-2-14":"情人","0-3-8":"妇女","0-3-12":"植树","0-4-1":"愚人","0-5-1":"劳动","0-5-4":"青年","0-6-1":"儿童","0-9-10":"教师","0-9-18":"国耻","0-10-1":"国庆","0-12-25":"圣诞"}:{},e.mark),v.each(["min","max"],function(t,n){var i=[],a=[];if("number"==typeof e[n]){var r=e[n],o=(new Date).getTime(),s=new Date(r?r<864e5?o+864e5*r:r:o);i=[s.getFullYear(),s.getMonth()+1,s.getDate()],r<864e5||(a=[s.getHours(),s.getMinutes(),s.getSeconds()])}else i=(e[n].match(/\d+-\d+-\d+/)||[""])[0].split("-"),a=(e[n].match(/\d+:\d+:\d+/)||[""])[0].split(":");e[n]={year:0|i[0]||(new Date).getFullYear(),month:i[1]?(0|i[1])-1:(new Date).getMonth(),date:0|i[2]||(new Date).getDate(),hours:0|a[0],minutes:0|a[1],seconds:0|a[2]}}),t.elemID="layui-laydate"+e.elem.attr("lay-key"),(e.show||i)&&t.render(),i||t.events(),e.value&&e.isInitValue&&(e.value.constructor===Date?t.setValue(t.parse(0,t.systemDate(e.value))):t.setValue(e.value)))},g.prototype.render=function(){var t,e,n=this.config,i=this.lang(),a="static"===n.position,r=this.elem=v.elem("div",{id:this.elemID,class:["layui-laydate",n.range?" layui-laydate-range":"",a?" "+h:"",n.theme&&"default"!==n.theme&&!/^#/.test(n.theme)?" laydate-theme-"+n.theme:""].join("")}),o=this.elemMain=[],s=this.elemHeader=[],l=this.elemCont=[],c=this.table=[],u=this.footer=v.elem("div",{class:"layui-laydate-footer"});if(n.zIndex&&(r.style.zIndex=n.zIndex),v.each(new Array(2),function(t){if(!n.range&&t>0)return!0;var e,a=v.elem("div",{class:"layui-laydate-header"}),r=[(e=v.elem("i",{class:"layui-icon laydate-icon laydate-prev-y"}),e.innerHTML="&#xe65a;",e),function(){var t=v.elem("i",{class:"layui-icon laydate-icon laydate-prev-m"});return t.innerHTML="&#xe603;",t}(),function(){var t=v.elem("div",{class:"laydate-set-ym"}),e=v.elem("span"),n=v.elem("span");return t.appendChild(e),t.appendChild(n),t}(),function(){var t=v.elem("i",{class:"layui-icon laydate-icon laydate-next-m"});return t.innerHTML="&#xe602;",t}(),function(){var t=v.elem("i",{class:"layui-icon laydate-icon laydate-next-y"});return t.innerHTML="&#xe65b;",t}()],u=v.elem("div",{class:"layui-laydate-content"}),h=v.elem("table"),d=v.elem("thead"),p=v.elem("tr");v.each(r,function(t,e){a.appendChild(e)}),d.appendChild(p),v.each(new Array(6),function(t){var e=h.insertRow(0);v.each(new Array(7),function(n){if(0===t){var a=v.elem("th");a.innerHTML=i.weeks[n],p.appendChild(a)}e.insertCell(n)})}),h.insertBefore(d,h.children[0]),u.appendChild(h),o[t]=v.elem("div",{class:"layui-laydate-main laydate-main-list-"+t}),o[t].appendChild(a),o[t].appendChild(u),s.push(r),l.push(u),c.push(h)}),v(u).html((t=[],e=[],"datetime"===n.type&&t.push('<span lay-type="datetime" class="laydate-btns-time">'+i.timeTips+"</span>"),v.each(n.btns,function(t,r){var o=i.tools[r]||"btn";n.range&&"now"===r||(a&&"clear"===r&&(o="cn"===n.lang?"重置":"Reset"),e.push('<span lay-type="'+r+'" class="laydate-btns-'+r+'">'+o+"</span>"))}),t.push('<div class="laydate-footer-btns">'+e.join("")+"</div>"),t.join(""))),v.each(o,function(t,e){r.appendChild(e)}),n.showBottom&&r.appendChild(u),/^#/.test(n.theme)){var d=v.elem("style"),p=["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} .layui-this{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,this.elemID).replace(/{{theme}}/g,n.theme);"styleSheet"in d?(d.setAttribute("type","text/css"),d.styleSheet.cssText=p):d.innerHTML=p,v(r).addClass("laydate-theme-molv"),r.appendChild(d)}this.remove(g.thisElemDate),a?n.elem.append(r):(document.body.appendChild(r),this.position()),this.checkDate().calendar(),this.changeEvent(),g.thisElemDate=this.elemID,"function"==typeof n.ready&&n.ready(v.extend({},n.dateTime,{month:n.dateTime.month+1}))},g.prototype.remove=function(t){this.config;var e=v("#"+(t||this.elemID));return e.hasClass(h)||this.checkDate(function(){e.remove()}),this},g.prototype.position=function(){var t=this.config,e=(this.bindElem||t.elem[0]).getBoundingClientRect(),n=this.elem.offsetWidth,i=this.elem.offsetHeight,a=function(t){return t=t?"scrollLeft":"scrollTop",document.body[t]|document.documentElement[t]},r=function(t){return document.documentElement[t?"clientWidth":"clientHeight"]},o=e.left,s=e.bottom;o+n+5>r("width")&&(o=r("width")-n-5),s+i+5>r()&&(s=e.top>i?e.top-i:r()-i,s-=10),t.position&&(this.elem.style.position=t.position),this.elem.style.left=o+("fixed"===t.position?0:a(1))+"px",this.elem.style.top=s+("fixed"===t.position?0:a())+"px"},g.prototype.hint=function(t){var e=this,n=(e.config,v.elem("div",{class:f}));e.elem&&(n.innerHTML=t||"",v(e.elem).find("."+f).remove(),e.elem.appendChild(n),clearTimeout(e.hinTimer),e.hinTimer=setTimeout(function(){v(e.elem).find("."+f).remove()},3e3))},g.prototype.getAsYM=function(t,e,n){return n?e--:e++,e<0&&(e=11,t--),e>11&&(e=0,t++),[t,e]},g.prototype.systemDate=function(t){var e=t||new Date;return{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:t?t.getHours():0,minutes:t?t.getMinutes():0,seconds:t?t.getSeconds():0}},g.prototype.checkDate=function(t){var e,n,i=this,a=(new Date,i.config),o=a.dateTime=a.dateTime||i.systemDate(),s=i.bindElem||a.elem[0],l=(i.isInput(s),i.isInput(s)?s.value:"static"===a.position?"":s.innerHTML),u=function(t){t.year>c[1]&&(t.year=c[1],n=!0),t.month>11&&(t.month=11,n=!0),t.hours>23&&(t.hours=0,n=!0),t.minutes>59&&(t.minutes=0,t.hours++,n=!0),t.seconds>59&&(t.seconds=0,t.minutes++,n=!0),e=r.getEndDate(t.month+1,t.year),t.date>e&&(t.date=e,n=!0)},h=function(t,e,r){var o=["startTime","endTime"];e=(e.match(i.EXP_SPLIT)||[]).slice(1),r=r||0,a.range&&(i[o[r]]=i[o[r]]||{}),v.each(i.format,function(s,l){var u=parseFloat(e[s]);e[s].length<l.length&&(n=!0),/yyyy|y/.test(l)?(u<c[0]&&(u=c[0],n=!0),t.year=u):/MM|M/.test(l)?(u<1&&(u=1,n=!0),t.month=u-1):/dd|d/.test(l)?(u<1&&(u=1,n=!0),t.date=u):/HH|H/.test(l)?(u<1&&(u=0,n=!0),t.hours=u,a.range&&(i[o[r]].hours=u)):/mm|m/.test(l)?(u<1&&(u=0,n=!0),t.minutes=u,a.range&&(i[o[r]].minutes=u)):/ss|s/.test(l)&&(u<1&&(u=0,n=!0),t.seconds=u,a.range&&(i[o[r]].seconds=u))}),u(t)};return"limit"===t?(u(o),i):("string"==typeof(l=l||a.value)&&(l=l.replace(/\s+/g," ").replace(/^\s|\s$/g,"")),i.startState&&!i.endState&&(delete i.startState,i.endState=!0),"string"==typeof l&&l?i.EXP_IF.test(l)?a.range?(l=l.split(" "+a.range+" "),i.startDate=i.startDate||i.systemDate(),i.endDate=i.endDate||i.systemDate(),a.dateTime=v.extend({},i.startDate),v.each([i.startDate,i.endDate],function(t,e){h(e,l[t],t)})):h(o,l):(i.hint("日期格式不合法<br>必须遵循下述格式：<br>"+(a.range?a.format+" "+a.range+" "+a.format:a.format)+"<br>已为你重置"),n=!0):l&&l.constructor===Date?a.dateTime=i.systemDate(l):(a.dateTime=i.systemDate(),delete i.startState,delete i.endState,delete i.startDate,delete i.endDate,delete i.startTime,delete i.endTime),u(o),n&&l&&i.setValue(a.range?i.endDate?i.parse():"":i.parse()),t&&t(),i)},g.prototype.mark=function(t,e){var n,i=this.config;return v.each(i.mark,function(t,i){var a=t.split("-");a[0]!=e[0]&&0!=a[0]||a[1]!=e[1]&&0!=a[1]||a[2]!=e[2]||(n=i||e[2])}),n&&t.html('<span class="laydate-day-mark">'+n+"</span>"),this},g.prototype.limit=function(t,e,n,i){var a,r=this,o=r.config,l={},c=o[n>41?"endDate":"dateTime"],u=v.extend({},c,e||{});return v.each({now:u,min:o.min,max:o.max},function(t,e){var n;l[t]=r.newDate(v.extend({year:e.year,month:e.month,date:e.date},(n={},v.each(i,function(t,i){n[i]=e[i]}),n))).getTime()}),a=l.now<l.min||l.now>l.max,t&&t[a?"addClass":"removeClass"](s),a},g.prototype.calendar=function(t){var e,n,i,a=this,s=a.config,l=t||s.dateTime,u=new Date,h=a.lang(),d="date"!==s.type&&"datetime"!==s.type,p=t?1:0,f=v(a.table[p]).find("td"),m=v(a.elemHeader[p][2]).find("span");if(l.year<c[0]&&(l.year=c[0],a.hint("最低只能支持到公元"+c[0]+"年")),l.year>c[1]&&(l.year=c[1],a.hint("最高只能支持到公元"+c[1]+"年")),a.firstDate||(a.firstDate=v.extend({},l)),u.setFullYear(l.year,l.month,1),e=u.getDay(),n=r.getEndDate(l.month||12,l.year),i=r.getEndDate(l.month+1,l.year),v.each(f,function(t,r){var c=[l.year,l.month],u=0;(r=v(r)).removeAttr("class"),t<e?(u=n-e+t,r.addClass("laydate-day-prev"),c=a.getAsYM(l.year,l.month,"sub")):t>=e&&t<i+e?(u=t-e,s.range||u+1===l.date&&r.addClass(o)):(u=t-i-e,r.addClass("laydate-day-next"),c=a.getAsYM(l.year,l.month)),c[1]++,c[2]=u+1,r.attr("lay-ymd",c.join("-")).html(c[2]),a.mark(r,c).limit(r,{year:c[0],month:c[1]-1,date:c[2]},t)}),v(m[0]).attr("lay-ym",l.year+"-"+(l.month+1)),v(m[1]).attr("lay-ym",l.year+"-"+(l.month+1)),"cn"===s.lang?(v(m[0]).attr("lay-type","year").html(l.year+"年"),v(m[1]).attr("lay-type","month").html(l.month+1+"月")):(v(m[0]).attr("lay-type","month").html(h.month[l.month]),v(m[1]).attr("lay-type","year").html(l.year)),d&&(s.range&&(t?a.endDate=a.endDate||{year:l.year+("year"===s.type?1:0),month:l.month+("month"===s.type?0:-1)}:a.startDate=a.startDate||{year:l.year,month:l.month},t&&(a.listYM=[[a.startDate.year,a.startDate.month+1],[a.endDate.year,a.endDate.month+1]],a.list(s.type,0).list(s.type,1),"time"===s.type?a.setBtnStatus("时间",v.extend({},a.systemDate(),a.startTime),v.extend({},a.systemDate(),a.endTime)):a.setBtnStatus(!0))),s.range||(a.listYM=[[l.year,l.month+1]],a.list(s.type,0))),s.range&&!t){var y=a.getAsYM(l.year,l.month);a.calendar(v.extend({},l,{year:y[0],month:y[1]}))}return s.range||a.limit(v(a.footer).find(A),null,0,["hours","minutes","seconds"]),s.range&&t&&!d&&a.stampRange(),a},g.prototype.list=function(t,e){var n=this,i=n.config,a=i.dateTime,r=n.lang(),l=i.range&&"date"!==i.type&&"datetime"!==i.type,c=v.elem("ul",{class:d+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[t]}),u=n.elemHeader[e],h=v(u[2]).find("span"),p=n.elemCont[e||0],f=v(p).find("."+d)[0],g="cn"===i.lang,b=g?"年":"",C=n.listYM[e]||{},x=["hours","minutes","seconds"],w=["startTime","endTime"][e];if(C[0]<1&&(C[0]=1),"year"===t){var D,I=D=C[0]-7;I<1&&(I=D=1),v.each(new Array(15),function(t){var a=v.elem("li",{"lay-ym":D}),r={year:D};D==C[0]&&v(a).addClass(o),a.innerHTML=D+b,c.appendChild(a),D<n.firstDate.year?(r.month=i.min.month,r.date=i.min.date):D>=n.firstDate.year&&(r.month=i.max.month,r.date=i.max.date),n.limit(v(a),r,e),D++}),v(h[g?0:1]).attr("lay-ym",D-8+"-"+C[1]).html(I+b+" - "+(D-1+b))}else if("month"===t)v.each(new Array(12),function(t){var a=v.elem("li",{"lay-ym":t}),s={year:C[0],month:t};t+1==C[1]&&v(a).addClass(o),a.innerHTML=r.month[t]+(g?"月":""),c.appendChild(a),C[0]<n.firstDate.year?s.date=i.min.date:C[0]>=n.firstDate.year&&(s.date=i.max.date),n.limit(v(a),s,e)}),v(h[g?0:1]).attr("lay-ym",C[0]+"-"+C[1]).html(C[0]+b);else if("time"===t){var B=function(){v(c).find("ol").each(function(t,i){v(i).find("li").each(function(i,a){n.limit(v(a),[{hours:i},{hours:n[w].hours,minutes:i},{hours:n[w].hours,minutes:n[w].minutes,seconds:i}][t],e,[["hours"],["hours","minutes"],["hours","minutes","seconds"]][t])})}),i.range||n.limit(v(n.footer).find(A),n[w],0,["hours","minutes","seconds"])};i.range?n[w]||(n[w]={hours:0,minutes:0,seconds:0}):n[w]=a,v.each([24,60,60],function(t,e){var i=v.elem("li"),a=["<p>"+r.time[t]+"</p><ol>"];v.each(new Array(e),function(e){a.push("<li"+(n[w][x[t]]===e?' class="'+o+'"':"")+">"+v.digit(e,2)+"</li>")}),i.innerHTML=a.join("")+"</ol>",c.appendChild(i)}),B()}if(f&&p.removeChild(f),p.appendChild(c),"year"===t||"month"===t)v(n.elemMain[e]).addClass("laydate-ym-show"),v(c).find("li").on("click",function(){var r=0|v(this).attr("lay-ym");if(!v(this).hasClass(s)){if(0===e)a[t]=r,l&&(n.startDate[t]=r),n.limit(v(n.footer).find(A),null,0);else if(l)n.endDate[t]=r;else{var u="year"===t?n.getAsYM(r,C[1]-1,"sub"):n.getAsYM(C[0],r,"sub");v.extend(a,{year:u[0],month:u[1]})}"year"===i.type||"month"===i.type?(v(c).find("."+o).removeClass(o),v(this).addClass(o),"month"===i.type&&"year"===t&&(n.listYM[e][0]=r,l&&(n[["startDate","endDate"][e]].year=r),n.list("month",e))):(n.checkDate("limit").calendar(),n.closeList()),n.setBtnStatus(),i.range||n.done(null,"change"),v(n.footer).find(y).removeClass(s)}});else{var T=v.elem("span",{class:m}),S=function(){v(c).find("ol").each(function(t){var e=this,i=v(e).find("li");e.scrollTop=30*(n[w][x[t]]-2),e.scrollTop<=0&&i.each(function(t,n){if(!v(this).hasClass(s))return e.scrollTop=30*(t-2),!0})})},M=v(u[2]).find("."+m);S(),T.innerHTML=i.range?[r.startTime,r.endTime][e]:r.timeTips,v(n.elemMain[e]).addClass("laydate-time-show"),M[0]&&M.remove(),u[2].appendChild(T),v(c).find("ol").each(function(t){var e=this;v(e).find("li").on("click",function(){var r=0|this.innerHTML;v(this).hasClass(s)||(i.range?n[w][x[t]]=r:a[x[t]]=r,v(e).find("."+o).removeClass(o),v(this).addClass(o),B(),S(),(n.endDate||"time"===i.type)&&n.done(null,"change"),n.setBtnStatus())})})}return n},g.prototype.listYM=[],g.prototype.closeList=function(){var t=this;t.config;v.each(t.elemCont,function(e,n){v(this).find("."+d).remove(),v(t.elemMain[e]).removeClass("laydate-ym-show laydate-time-show")}),v(t.elem).find("."+m).remove()},g.prototype.setBtnStatus=function(t,e,n){var i,a=this.config,r=v(this.footer).find(A);a.range&&"date"!==a.type&&"time"!==a.type&&(e=e||this.startDate,n=n||this.endDate,i=this.newDate(e).getTime()>this.newDate(n).getTime(),this.limit(null,e)||this.limit(null,n)?r.addClass(s):r[i?"addClass":"removeClass"](s),t&&i&&this.hint("string"==typeof t?l.replace(/日期/g,t):l))},g.prototype.parse=function(t,e){var n=this.config,i=e||(t?v.extend({},this.endDate,this.endTime):n.range?v.extend({},this.startDate,this.startTime):n.dateTime),a=this.format.concat();return v.each(a,function(t,e){/yyyy|y/.test(e)?a[t]=v.digit(i.year,e.length):/MM|M/.test(e)?a[t]=v.digit(i.month+1,e.length):/dd|d/.test(e)?a[t]=v.digit(i.date,e.length):/HH|H/.test(e)?a[t]=v.digit(i.hours,e.length):/mm|m/.test(e)?a[t]=v.digit(i.minutes,e.length):/ss|s/.test(e)&&(a[t]=v.digit(i.seconds,e.length))}),n.range&&!t?a.join("")+" "+n.range+" "+this.parse(1):a.join("")},g.prototype.newDate=function(t){return t=t||{},new Date(t.year||1,t.month||0,t.date||1,t.hours||0,t.minutes||0,t.seconds||0)},g.prototype.setValue=function(t){var e=this.config,n=this.bindElem||e.elem[0],i=this.isInput(n)?"val":"html";return"static"===e.position||v(n)[i](t||""),this},g.prototype.stampRange=function(){var t,e,n=this,i=n.config,a=v(n.elem).find("td");if(i.range&&!n.endDate&&v(n.footer).find(A).addClass(s),n.endDate){if(t=n.newDate({year:n.startDate.year,month:n.startDate.month,date:n.startDate.date}).getTime(),e=n.newDate({year:n.endDate.year,month:n.endDate.month,date:n.endDate.date}).getTime(),t>e)return n.hint(l);v.each(a,function(i,a){var r=v(a).attr("lay-ymd").split("-"),s=n.newDate({year:r[0],month:r[1]-1,date:r[2]}).getTime();v(a).removeClass(p+" "+o),s!==t&&s!==e||v(a).addClass(v(a).hasClass("laydate-day-prev")||v(a).hasClass("laydate-day-next")?p:o),s>t&&s<e&&v(a).addClass(p)})}},g.prototype.done=function(t,e){var n=this.config,i=v.extend({},this.startDate?v.extend(this.startDate,this.startTime):n.dateTime),a=v.extend({},v.extend(this.endDate,this.endTime));return v.each([i,a],function(t,e){"month"in e&&v.extend(e,{month:e.month+1})}),t=t||[this.parse(),i,a],"function"==typeof n[e||"done"]&&n[e||"done"].apply(n,t),this},g.prototype.choose=function(t){var e=this,n=e.config,i=n.dateTime,a=v(e.elem).find("td"),r=t.attr("lay-ymd").split("-"),l=function(t){new Date;t&&v.extend(i,r),n.range&&(e.startDate?v.extend(e.startDate,r):e.startDate=v.extend({},r,e.startTime),e.startYMD=r)};if(r={year:0|r[0],month:(0|r[1])-1,date:0|r[2]},!t.hasClass(s))if(n.range){if(v.each(["startTime","endTime"],function(t,n){e[n]=e[n]||{hours:0,minutes:0,seconds:0}}),e.endState)l(),delete e.endState,delete e.endDate,e.startState=!0,a.removeClass(o+" "+p),t.addClass(o);else if(e.startState){if(t.addClass(o),e.endDate?v.extend(e.endDate,r):e.endDate=v.extend({},r,e.endTime),e.newDate(r).getTime()<e.newDate(e.startYMD).getTime()){var c=v.extend({},e.endDate,{hours:e.startDate.hours,minutes:e.startDate.minutes,seconds:e.startDate.seconds});v.extend(e.endDate,e.startDate,{hours:e.endDate.hours,minutes:e.endDate.minutes,seconds:e.endDate.seconds}),e.startDate=c}n.showBottom||e.done(),e.stampRange(),e.endState=!0,e.done(null,"change")}else t.addClass(o),l(),e.startState=!0;v(e.footer).find(A)[e.endDate?"removeClass":"addClass"](s)}else"static"===n.position?(l(!0),e.calendar().done().done(null,"change")):"date"===n.type?(l(!0),e.setValue(e.parse()).remove().done()):"datetime"===n.type&&(l(!0),e.calendar().done(null,"change"))},g.prototype.tool=function(t,e){var n=this,i=n.config,a=i.dateTime,r="static"===i.position,o={datetime:function(){v(t).hasClass(s)||(n.list("time",0),i.range&&n.list("time",1),v(t).attr("lay-type","date").html(n.lang().dateTips))},date:function(){n.closeList(),v(t).attr("lay-type","datetime").html(n.lang().timeTips)},clear:function(){n.setValue("").remove(),r&&(v.extend(a,n.firstDate),n.calendar()),i.range&&(delete n.startState,delete n.endState,delete n.endDate,delete n.startTime,delete n.endTime),n.done(["",{},{}])},now:function(){var t=new Date;v.extend(a,n.systemDate(),{hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()}),n.setValue(n.parse()).remove(),r&&n.calendar(),n.done()},confirm:function(){if(i.range){if(!n.endDate)return n.hint("请先选择日期范围");if(v(t).hasClass(s))return n.hint("time"===i.type?l.replace(/日期/g,"时间"):l)}else if(v(t).hasClass(s))return n.hint("不在有效日期或时间范围内");n.done(),n.setValue(n.parse()).remove()}};o[e]&&o[e]()},g.prototype.change=function(t){var e=this,n=e.config,i=n.dateTime,a=n.range&&("year"===n.type||"month"===n.type),r=e.elemCont[t||0],o=e.listYM[t],s=function(s){var l=["startDate","endDate"][t],c=v(r).find(".laydate-year-list")[0],u=v(r).find(".laydate-month-list")[0];return c&&(o[0]=s?o[0]-15:o[0]+15,e.list("year",t)),u&&(s?o[0]--:o[0]++,e.list("month",t)),(c||u)&&(v.extend(i,{year:o[0]}),a&&(e[l].year=o[0]),n.range||e.done(null,"change"),e.setBtnStatus(),n.range||e.limit(v(e.footer).find(A),{year:o[0]})),c||u};return{prevYear:function(){s("sub")||(i.year--,e.checkDate("limit").calendar(),n.range||e.done(null,"change"))},prevMonth:function(){var t=e.getAsYM(i.year,i.month,"sub");v.extend(i,{year:t[0],month:t[1]}),e.checkDate("limit").calendar(),n.range||e.done(null,"change")},nextMonth:function(){var t=e.getAsYM(i.year,i.month);v.extend(i,{year:t[0],month:t[1]}),e.checkDate("limit").calendar(),n.range||e.done(null,"change")},nextYear:function(){s()||(i.year++,e.checkDate("limit").calendar(),n.range||e.done(null,"change"))}}},g.prototype.changeEvent=function(){var t=this;t.config;v(t.elem).on("click",function(t){v.stope(t)}),v.each(t.elemHeader,function(e,n){v(n[0]).on("click",function(n){t.change(e).prevYear()}),v(n[1]).on("click",function(n){t.change(e).prevMonth()}),v(n[2]).find("span").on("click",function(n){var i=v(this),a=i.attr("lay-ym"),r=i.attr("lay-type");a&&(a=a.split("-"),t.listYM[e]=[0|a[0],0|a[1]],t.list(r,e),v(t.footer).find(y).addClass(s))}),v(n[3]).on("click",function(n){t.change(e).nextMonth()}),v(n[4]).on("click",function(n){t.change(e).nextYear()})}),v.each(t.table,function(e,n){v(n).find("td").on("click",function(){t.choose(v(this))})}),v(t.footer).find("span").on("click",function(){var e=v(this).attr("lay-type");t.tool(this,e)})},g.prototype.isInput=function(t){return/input|textarea/.test(t.tagName.toLocaleLowerCase())},g.prototype.events=function(){var t=this,e=t.config,n=function(n,i){n.on(e.trigger,function(){i&&(t.bindElem=this),t.render()})};e.elem[0]&&!e.elem[0].eventHandler&&(n(e.elem,"bind"),n(e.eventElem),v(document).on("click",function(n){n.target!==e.elem[0]&&n.target!==e.eventElem[0]&&n.target!==v(e.closeStop)[0]&&t.remove()}).on("keydown",function(e){13===e.keyCode&&v("#"+t.elemID)[0]&&t.elemID===g.thisElem&&(e.preventDefault(),v(t.footer).find(A)[0].click())}),v(window).on("resize",function(){if(!t.elem||!v(".layui-laydate")[0])return!1;t.position()}),e.elem[0].eventHandler=!0)},r.render=function(t){t.theme="gbw";var e=new g(t);return function(){var t=this;return{hint:function(e){t.hint.call(t,e)},config:t.config}}.call(e)},r.getEndDate=function(t,e){var n=new Date;return n.setFullYear(e||n.getFullYear(),t||n.getMonth()+1,1),new Date(n.getTime()-864e5).getDate()},window.lay=window.lay||v,i?(r.ready(),layui.define(function(t){r.path=layui.cache.dir,t("laydate",r)})):"function"==typeof define&&n(37)?define(function(){return r}):(r.ready(),window.laydate=r)}(),function(t,e){var i,a,r,o,s=t.layui&&layui.define,l={getPath:(r=document.currentScript?document.currentScript.src:function(){for(var t,e=document.scripts,n=e.length-1,i=n;i>0;i--)if("interactive"===e[i].readyState){t=e[i].src;break}return t||e[n].src}(),r.substring(0,r.lastIndexOf("/")+1)),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"],getStyle:function(e,n){var i=e.currentStyle?e.currentStyle:t.getComputedStyle(e,null);return i[i.getPropertyValue?"getPropertyValue":"getAttribute"](n)},link:function(e,n,i){if(c.path){var a=document.getElementsByTagName("head")[0],r=document.createElement("link");"string"==typeof n&&(i=n);var o="layuicss-"+(i||e).replace(/\.|\//g,""),s=0;r.rel="stylesheet",r.href=c.path+e,r.id=o,document.getElementById(o)||a.appendChild(r),"function"==typeof n&&function e(){if(++s>80)return t.console&&void 0;1989===parseInt(l.getStyle(document.getElementById(o),"width"))?n():setTimeout(e,100)}()}}},c={v:"3.1.1",ie:(o=navigator.userAgent.toLowerCase(),!!(t.ActiveXObject||"ActiveXObject"in t)&&((o.match(/msie\s(\d+)/)||[])[1]||"11")),index:t.layer&&t.layer.v?1e5:0,path:l.getPath,config:function(t,e){return t=t||{},c.cache=l.config=i.extend({},l.config,t),c.path=l.config.path||c.path,"string"==typeof t.extend&&(t.extend=[t.extend]),l.config.path&&c.ready(),t.extend?(s?layui.addcss("modules/layer/"+t.extend):l.link("theme/"+t.extend),this):this},ready:function(t){var e=(s?"modules/layer/":"theme/")+"default/layer.css?v="+c.v;return s?layui.addcss(e,t,"layer"):l.link(e,t,"layer"),this},alert:function(t,e,n){var a="function"==typeof e;return a&&(n=e),c.open(i.extend({content:t,yes:n},a?{}:e))},confirm:function(t,e,n,a){var r="function"==typeof e;return r&&(a=n,n=e),c.open(i.extend({content:t,btn:l.btn,yes:n,btn2:a},r?{}:e))},msg:function(t,e,n){var a="function"==typeof e,r=l.config.skin,o=(r?r+" "+r+"-msg":"")||"layui-layer-msg",s=d.anim.length-1;return a&&(n=e),c.open(i.extend({content:t,time:3e3,shade:!1,skin:o,title:!1,closeBtn:!1,btn:!1,resize:!1,end:n},a&&!l.config.skin?{skin:o+" layui-layer-hui",anim:s}:((-1===(e=e||{}).icon||void 0===e.icon&&!l.config.skin)&&(e.skin=o+" "+(e.skin||"layui-layer-hui")),e)))},load:function(t,e){return c.open(i.extend({type:3,icon:t||0,resize:!1,shade:.01},e))},tips:function(t,e,n){return c.open(i.extend({type:4,content:[t,e],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},n))}},h=function(t){var e=this;e.index=++c.index,e.config=i.extend({},e.config,l.config,t),document.body?e.creat():setTimeout(function(){e.creat()},30)};h.pt=h.prototype;var d=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];d.anim=["layer-anim-00","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],h.pt.config={type:0,shade:.3,fixed:!0,move:d[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},h.pt.vessel=function(t,e){var n,a=this.index,r=this.config,o=r.zIndex+a,s="object"===u()(r.title),c=r.maxmin&&(1===r.type||2===r.type),h=r.title?'<div class="layui-layer-title" style="'+(s?r.title[1]:"")+'">'+(s?r.title[0]:r.title)+"</div>":"";return r.zIndex=o,e([r.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+a+'" times="'+a+'" style="z-index:'+(o-1)+'; "></div>':"",'<div class="'+d[0]+" layui-layer-"+l.type[r.type]+(0!=r.type&&2!=r.type||r.shade?"":" layui-layer-border")+" "+(r.skin||"")+'" id="'+d[0]+a+'" type="'+l.type[r.type]+'" times="'+a+'" showtime="'+r.time+'" conType="'+(t?"object":"string")+'" style="z-index: '+o+"; width:"+r.area[0]+";height:"+r.area[1]+(r.fixed?"":";position:absolute;")+'">'+(t&&2!=r.type?"":h)+'<div id="'+(r.id||"")+'" class="layui-layer-content'+(0==r.type&&-1!==r.icon?" layui-layer-padding":"")+(3==r.type?" layui-layer-loading"+r.icon:"")+'">'+(0==r.type&&-1!==r.icon?'<i class="layui-layer-ico layui-layer-ico'+r.icon+'"></i>':"")+(1==r.type&&t?"":r.content||"")+'</div><span class="layui-layer-setwin">'+(n=c?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"",r.closeBtn&&(n+='<a class="layui-layer-ico '+d[7]+" "+d[7]+(r.title?r.closeBtn:4==r.type?"1":"2")+'" href="javascript:;"></a>'),n)+"</span>"+(r.btn?function(){var t="";"string"==typeof r.btn&&(r.btn=[r.btn]);for(var e=0,n=r.btn.length;e<n;e++)t+='<a class="'+d[6]+e+'">'+r.btn[e]+"</a>";return'<div class="'+d[6]+" layui-layer-btn-"+(r.btnAlign||"")+'">'+t+"</div>"}():"")+(r.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],h,i('<div class="layui-layer-move"></div>')),this},h.pt.creat=function(){var t=this,e=t.config,n=t.index,r=e.content,o="object"===u()(r),s=i("body");if(!e.id||!i("#"+e.id)[0]){switch("string"==typeof e.area&&(e.area="auto"===e.area?["",""]:[e.area,""]),e.shift&&(e.anim=e.shift),6==c.ie&&(e.fixed=!1),e.type){case 0:e.btn="btn"in e?e.btn:l.btn[0],c.closeAll("dialog");break;case 2:r=e.content=o?e.content:[e.content||"","auto"];e.content='<iframe scrolling="'+(e.content[1]||"auto")+'" allowtransparency="true" id="'+d[4]+n+'" name="'+d[4]+n+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+e.content[0]+'"></iframe>';break;case 3:delete e.title,delete e.closeBtn,-1===e.icon&&e.icon,c.closeAll("loading");break;case 4:o||(e.content=[e.content,"body"]),e.follow=e.content[1],e.content=e.content[0]+'<i class="layui-layer-TipsG"></i>',delete e.title,e.tips="object"===u()(e.tips)?e.tips:[e.tips,!0],e.tipsMore||c.closeAll("tips")}if(t.vessel(o,function(a,c,u){s.append(a[0]),o?2==e.type||4==e.type?i("body").append(a[1]):r.parents("."+d[0])[0]||(r.data("display",r.css("display")).show().addClass("layui-layer-wrap").wrap(a[1]),i("#"+d[0]+n).find("."+d[5]).before(c)):s.append(a[1]),i(".layui-layer-move")[0]||s.append(l.moveElem=u),t.layero=i("#"+d[0]+n),e.scrollbar||d.html.css("overflow","hidden").attr("layer-full",n)}).auto(n),i("#layui-layer-shade"+t.index).css({"background-color":e.shade[1]||"#000",opacity:e.shade[0]||e.shade}),2==e.type&&6==c.ie&&t.layero.find("iframe").attr("src",r[0]),4==e.type?t.tips():t.offset(),e.fixed&&a.on("resize",function(){t.offset(),(/^\d+%$/.test(e.area[0])||/^\d+%$/.test(e.area[1]))&&t.auto(n),4==e.type&&t.tips()}),e.time<=0||setTimeout(function(){c.close(t.index)},e.time),t.move().callback(),d.anim[e.anim]){var h="layer-anim "+d.anim[e.anim];t.layero.addClass(h).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i(this).removeClass(h)})}e.isOutAnim&&t.layero.data("isOutAnim",!0)}},h.pt.auto=function(t){var e=this.config,n=i("#"+d[0]+t);""===e.area[0]&&e.maxWidth>0&&(c.ie&&c.ie<8&&e.btn&&n.width(n.innerWidth()),n.outerWidth()>e.maxWidth&&n.width(e.maxWidth));var r=[n.innerWidth(),n.innerHeight()],o=n.find(d[1]).outerHeight()||0,s=n.find("."+d[6]).outerHeight()||0,l=function(t){(t=n.find(t)).height(r[1]-o-s-2*(0|parseFloat(t.css("padding-top"))))};switch(e.type){case 2:l("iframe");break;default:""===e.area[1]?e.maxHeight>0&&n.outerHeight()>e.maxHeight?(r[1]=e.maxHeight,l("."+d[5])):e.fixed&&r[1]>=a.height()&&(r[1]=a.height(),l("."+d[5])):l("."+d[5])}return this},h.pt.offset=function(){var t=this.config,e=this.layero,n=[e.outerWidth(),e.outerHeight()],i="object"===u()(t.offset);this.offsetTop=(a.height()-n[1])/2,this.offsetLeft=(a.width()-n[0])/2,i?(this.offsetTop=t.offset[0],this.offsetLeft=t.offset[1]||this.offsetLeft):"auto"!==t.offset&&("t"===t.offset?this.offsetTop=0:"r"===t.offset?this.offsetLeft=a.width()-n[0]:"b"===t.offset?this.offsetTop=a.height()-n[1]:"l"===t.offset?this.offsetLeft=0:"lt"===t.offset?(this.offsetTop=0,this.offsetLeft=0):"lb"===t.offset?(this.offsetTop=a.height()-n[1],this.offsetLeft=0):"rt"===t.offset?(this.offsetTop=0,this.offsetLeft=a.width()-n[0]):"rb"===t.offset?(this.offsetTop=a.height()-n[1],this.offsetLeft=a.width()-n[0]):this.offsetTop=t.offset),t.fixed||(this.offsetTop=/%$/.test(this.offsetTop)?a.height()*parseFloat(this.offsetTop)/100:parseFloat(this.offsetTop),this.offsetLeft=/%$/.test(this.offsetLeft)?a.width()*parseFloat(this.offsetLeft)/100:parseFloat(this.offsetLeft),this.offsetTop+=a.scrollTop(),this.offsetLeft+=a.scrollLeft()),e.attr("minLeft")&&(this.offsetTop=a.height()-(e.find(d[1]).outerHeight()||0),this.offsetLeft=e.css("left")),e.css({top:this.offsetTop,left:this.offsetLeft})},h.pt.tips=function(){var t=this.config,e=this.layero,n=[e.outerWidth(),e.outerHeight()],r=i(t.follow);r[0]||(r=i("body"));var o={width:r.outerWidth(),height:r.outerHeight(),top:r.offset().top,left:r.offset().left},s=e.find(".layui-layer-TipsG"),l=t.tips[0];t.tips[1]||s.remove(),o.autoLeft=function(){o.left+n[0]-a.width()>0?(o.tipLeft=o.left+o.width-n[0],s.css({right:12,left:"auto"})):o.tipLeft=o.left},o.where=[function(){o.autoLeft(),o.tipTop=o.top-n[1]-10,s.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){o.tipLeft=o.left+o.width+10,o.tipTop=o.top,s.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){o.autoLeft(),o.tipTop=o.top+o.height+10,s.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){o.tipLeft=o.left-n[0]-10,o.tipTop=o.top,s.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],o.where[l-1](),1===l?o.top-(a.scrollTop()+n[1]+16)<0&&o.where[2]():2===l?a.width()-(o.left+o.width+n[0]+16)>0||o.where[3]():3===l?o.top-a.scrollTop()+o.height+n[1]+16-a.height()>0&&o.where[0]():4===l&&n[0]+16-o.left>0&&o.where[1](),e.find("."+d[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),e.css({left:o.tipLeft-(t.fixed?a.scrollLeft():0),top:o.tipTop-(t.fixed?a.scrollTop():0)})},h.pt.move=function(){var t=this,e=t.config,n=i(document),r=t.layero,o=r.find(e.move),s=r.find(".layui-layer-resize"),u={};return e.move&&o.css("cursor","move"),o.on("mousedown",function(t){t.preventDefault(),e.move&&(u.moveStart=!0,u.offset=[t.clientX-parseFloat(r.css("left")),t.clientY-parseFloat(r.css("top"))],l.moveElem.css("cursor","move").show())}),s.on("mousedown",function(t){t.preventDefault(),u.resizeStart=!0,u.offset=[t.clientX,t.clientY],u.area=[r.outerWidth(),r.outerHeight()],l.moveElem.css("cursor","se-resize").show()}),n.on("mousemove",function(n){if(u.moveStart){var i=n.clientX-u.offset[0],o=n.clientY-u.offset[1],s="fixed"===r.css("position");if(n.preventDefault(),u.stX=s?0:a.scrollLeft(),u.stY=s?0:a.scrollTop(),!e.moveOut){var l=a.width()-r.outerWidth()+u.stX,h=a.height()-r.outerHeight()+u.stY;i<u.stX&&(i=u.stX),i>l&&(i=l),o<u.stY&&(o=u.stY),o>h&&(o=h)}r.css({left:i,top:o})}if(e.resize&&u.resizeStart){i=n.clientX-u.offset[0],o=n.clientY-u.offset[1];n.preventDefault(),c.style(t.index,{width:u.area[0]+i,height:u.area[1]+o}),u.isResize=!0,e.resizing&&e.resizing(r)}}).on("mouseup",function(t){u.moveStart&&(delete u.moveStart,l.moveElem.hide(),e.moveEnd&&e.moveEnd(r)),u.resizeStart&&(delete u.resizeStart,l.moveElem.hide())}),t},h.pt.callback=function(){var t=this,e=t.layero,n=t.config;t.openLayer(),n.success&&(2==n.type?e.find("iframe").on("load",function(){n.success(e,t.index)}):n.success(e,t.index)),6==c.ie&&t.IE6(e),e.find("."+d[6]).children("a").on("click",function(){var a=i(this).index();0===a?n.yes?n.yes(t.index,e):n.btn1?n.btn1(t.index,e):c.close(t.index):!1===(n["btn"+(a+1)]&&n["btn"+(a+1)](t.index,e))||c.close(t.index)}),e.find("."+d[7]).on("click",function(){!1===(n.cancel&&n.cancel(t.index,e))||c.close(t.index)}),n.shadeClose&&i("#layui-layer-shade"+t.index).on("click",function(){c.close(t.index)}),e.find(".layui-layer-min").on("click",function(){!1===(n.min&&n.min(e))||c.min(t.index,n)}),e.find(".layui-layer-max").on("click",function(){i(this).hasClass("layui-layer-maxmin")?(c.restore(t.index),n.restore&&n.restore(e)):(c.full(t.index,n),setTimeout(function(){n.full&&n.full(e)},100))}),n.end&&(l.end[t.index]=n.end)},l.reselect=function(){i.each(i("select"),function(t,e){var n=i(this);n.parents("."+d[0])[0]||1==n.attr("layer")&&i("."+d[0]).length<1&&n.removeAttr("layer").show(),n=null})},h.pt.IE6=function(t){i("select").each(function(t,e){var n=i(this);n.parents("."+d[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},h.pt.openLayer=function(){c.zIndex=this.config.zIndex,c.setTop=function(t){return c.zIndex=parseInt(t[0].style.zIndex),t.on("mousedown",function(){c.zIndex++,t.css("z-index",c.zIndex+1)}),c.zIndex}},l.record=function(t){var e=[t.width(),t.height(),t.position().top,t.position().left+parseFloat(t.css("margin-left"))];t.find(".layui-layer-max").addClass("layui-layer-maxmin"),t.attr({area:e})},l.rescollbar=function(t){d.html.attr("layer-full")==t&&(d.html[0].style.removeProperty?d.html[0].style.removeProperty("overflow"):d.html[0].style.removeAttribute("overflow"),d.html.removeAttr("layer-full"))},t.layer=c,c.getChildFrame=function(t,e){return e=e||i("."+d[4]).attr("times"),i("#"+d[0]+e).find("iframe").contents().find(t)},c.getFrameIndex=function(t){return i("#"+t).parents("."+d[4]).attr("times")},c.iframeAuto=function(t){if(t){var e=c.getChildFrame("html",t).outerHeight(),n=i("#"+d[0]+t),a=n.find(d[1]).outerHeight()||0,r=n.find("."+d[6]).outerHeight()||0;n.css({height:e+a+r}),n.find("iframe").css({height:e})}},c.iframeSrc=function(t,e){i("#"+d[0]+t).find("iframe").attr("src",e)},c.style=function(t,e,n){var a=i("#"+d[0]+t),r=a.find(".layui-layer-content"),o=a.attr("type"),s=a.find(d[1]).outerHeight()||0,c=a.find("."+d[6]).outerHeight()||0;a.attr("minLeft");o!==l.type[3]&&o!==l.type[4]&&(n||(parseFloat(e.width)<=260&&(e.width=260),parseFloat(e.height)-s-c<=64&&(e.height=64+s+c)),a.css(e),c=a.find("."+d[6]).outerHeight(),o===l.type[2]?a.find("iframe").css({height:parseFloat(e.height)-s-c}):r.css({height:parseFloat(e.height)-s-c-parseFloat(r.css("padding-top"))-parseFloat(r.css("padding-bottom"))}))},c.min=function(t,e){var n=i("#"+d[0]+t),r=n.find(d[1]).outerHeight()||0,o=n.attr("minLeft")||181*l.minIndex+"px",s=n.css("position");l.record(n),l.minLeft[0]&&(o=l.minLeft[0],l.minLeft.shift()),n.attr("position",s),c.style(t,{width:180,height:r,left:o,top:a.height()-r,position:"fixed",overflow:"hidden"},!0),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(d[4]).hide(),l.rescollbar(t),n.attr("minLeft")||l.minIndex++,n.attr("minLeft",o)},c.restore=function(t){var e=i("#"+d[0]+t),n=e.attr("area").split(",");e.attr("type");c.style(t,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),position:e.attr("position"),overflow:"visible"},!0),e.find(".layui-layer-max").removeClass("layui-layer-maxmin"),e.find(".layui-layer-min").show(),"page"===e.attr("type")&&e.find(d[4]).show(),l.rescollbar(t)},c.full=function(t){var e,n=i("#"+d[0]+t);l.record(n),d.html.attr("layer-full")||d.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(e),e=setTimeout(function(){var e="fixed"===n.css("position");c.style(t,{top:e?0:a.scrollTop(),left:e?0:a.scrollLeft(),width:a.width(),height:a.height()},!0),n.find(".layui-layer-min").hide()},100)},c.title=function(t,e){i("#"+d[0]+(e||c.index)).find(d[1]).html(t)},c.close=function(t){var e=i("#"+d[0]+t),n=e.attr("type");if(e[0]){var a="layui-layer-wrap",r=function(){if(n===l.type[1]&&"object"===e.attr("conType")){e.children(":not(."+d[5]+")").remove();for(var r=e.find("."+a),o=0;o<2;o++)r.unwrap();r.css("display",r.data("display")).removeClass(a)}else{if(n===l.type[2])try{var s=i("#"+d[4]+t)[0];s.contentWindow.document.write(""),s.contentWindow.close(),e.find("."+d[5])[0].removeChild(s)}catch(t){}e[0].innerHTML="",e.remove()}"function"==typeof l.end[t]&&l.end[t](),delete l.end[t]};e.data("isOutAnim")&&e.addClass("layer-anim layer-anim-close"),i("#layui-layer-moves, #layui-layer-shade"+t).remove(),6==c.ie&&l.reselect(),l.rescollbar(t),e.attr("minLeft")&&(l.minIndex--,l.minLeft.push(e.attr("minLeft"))),c.ie&&c.ie<10||!e.data("isOutAnim")?r():setTimeout(function(){r()},200)}},c.closeAll=function(t){i.each(i("."+d[0]),function(){var e=i(this),n=t?e.attr("type")===t:1;n&&c.close(e.attr("times")),n=null})};var p=c.cache||{},f=function(t){return p.skin?" "+p.skin+" "+p.skin+"-"+t:""};c.prompt=function(t,e){var n="";if("function"==typeof(t=t||{})&&(e=t),t.area){var r=t.area;n='style="width: '+r[0]+"; height: "+r[1]+';"',delete t.area}var o,s=2==t.formType?'<textarea class="layui-layer-input"'+n+"></textarea>":'<input type="'+(1==t.formType?"password":"text")+'" class="layui-layer-input">',l=t.success;return delete t.success,c.open(i.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:s,skin:"layui-layer-prompt"+f("prompt"),maxWidth:a.width(),success:function(e){(o=e.find(".layui-layer-input")).val(t.value||"").focus(),"function"==typeof l&&l(e)},resize:!1,yes:function(n){var i=o.val();""===i?o.focus():i.length>(t.maxlength||500)?c.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(t.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",o,{tips:1}):e&&e(i,n,o)}},t))},c.tab=function(t){var e=(t=t||{}).tab||{},n="layui-this",a=t.success;return delete t.success,c.open(i.extend({type:1,skin:"layui-layer-tab"+f("tab"),resize:!1,title:function(){var t=e.length,i=1,a="";if(t>0)for(a='<span class="'+n+'">'+e[0].title+"</span>";i<t;i++)a+="<span>"+e[i].title+"</span>";return a}(),content:'<ul class="layui-layer-tabmain">'+function(){var t=e.length,i=1,a="";if(t>0)for(a='<li class="layui-layer-tabli '+n+'">'+(e[0].content||"no content")+"</li>";i<t;i++)a+='<li class="layui-layer-tabli">'+(e[i].content||"no  content")+"</li>";return a}()+"</ul>",success:function(e){var r=e.find(".layui-layer-title").children(),o=e.find(".layui-layer-tabmain").children();r.on("mousedown",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;var a=i(this),r=a.index();a.addClass(n).siblings().removeClass(n),o.eq(r).show().siblings().hide(),"function"==typeof t.change&&t.change(r)}),"function"==typeof a&&a(e)}},t))},c.photos=function(e,n,a){var r={};if((e=e||{}).photos){var o=e.photos.constructor===Object,s=o?e.photos:{},l=s.data||[],u=s.start||0;r.imgIndex=1+(0|u),e.img=e.img||"img";var h=e.success;if(delete e.success,o){if(0===l.length)return c.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var d=i(e.photos),p=function(){l=[],d.find(e.img).each(function(t){var e=i(this);e.attr("layer-index",t),l.push({alt:e.attr("alt"),pid:e.attr("layer-pid"),src:e.attr("layer-src")||e.attr("src"),thumb:e.attr("src")})})};if(p(),0===l.length)return;if(n||d.on("click",e.img,function(){var t=i(this).attr("layer-index");c.photos(i.extend(e,{photos:{start:t,data:l,tab:e.tab},full:e.full}),!0),p()}),!n)return}r.imgprev=function(t){r.imgIndex--,r.imgIndex<1&&(r.imgIndex=l.length),r.tabimg(t)},r.imgnext=function(t,e){r.imgIndex++,r.imgIndex>l.length&&(r.imgIndex=1,e)||r.tabimg(t)},r.keyup=function(t){if(!r.end){var e=t.keyCode;t.preventDefault(),37===e?r.imgprev(!0):39===e?r.imgnext(!0):27===e&&c.close(r.index)}},r.tabimg=function(t){if(!(l.length<=1))return s.start=r.imgIndex-1,c.close(r.index),c.photos(e,!0,t)},r.event=function(){r.bigimg.hover(function(){r.imgsee.show()},function(){r.imgsee.hide()}),r.bigimg.find(".layui-layer-imgprev").on("click",function(t){t.preventDefault(),r.imgprev()}),r.bigimg.find(".layui-layer-imgnext").on("click",function(t){t.preventDefault(),r.imgnext()}),i(document).on("keyup",r.keyup)},r.loadi=c.load(1,{shade:!("shade"in e)&&.9,scrollbar:!1}),function(t,e,n){var i=new Image;if(i.src=t,i.complete)return e(i);i.onload=function(){i.onload=null,e(i)},i.onerror=function(t){i.onerror=null,n(t)}}(l[u].src,function(n){c.close(r.loadi),r.index=c.open(i.extend({type:1,id:"layui-layer-photos",area:function(){var a=[n.width,n.height],r=[i(t).width()-100,i(t).height()-100];if(!e.full&&(a[0]>r[0]||a[1]>r[1])){var o=[a[0]/r[0],a[1]/r[1]];o[0]>o[1]?(a[0]=a[0]/o[0],a[1]=a[1]/o[0]):o[0]<o[1]&&(a[0]=a[0]/o[1],a[1]=a[1]/o[1])}return[a[0]+"px",a[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,isOutAnim:!1,skin:"layui-layer-photos"+f("photos"),content:'<div class="layui-layer-phimg"><img src="'+l[u].src+'" alt="'+(l[u].alt||"")+'" layer-pid="'+l[u].pid+'"><div class="layui-layer-imgsee">'+(l.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(a?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(l[u].alt||"")+"</a><em>"+r.imgIndex+"/"+l.length+"</em></span></div></div></div>",success:function(t,n){r.bigimg=t.find(".layui-layer-phimg"),r.imgsee=t.find(".layui-layer-imguide,.layui-layer-imgbar"),r.event(t),e.tab&&e.tab(l[u],t),"function"==typeof h&&h(t)},end:function(){r.end=!0,i(document).off("keyup",r.keyup)}},e))},function(){c.close(r.loadi),c.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){l.length>1&&r.imgnext(!0,!0)}})})}},l.run=function(e){a=(i=e)(t),d.html=i("html"),c.open=function(t){return new h(t).index}},t.layui&&layui.define?(c.ready(),layui.define("jquery",function(e){c.path=layui.cache.dir,l.run(layui.$),t.layer=c,e("layer",c)})):"function"==typeof define&&n(37)?define(["jquery"],function(){return l.run(t.jQuery),c}):(l.run(t.jQuery),c.ready())}(window),layui.define("jquery",function(t){var e=layui.$,n=(layui.hint(),layui.device()),i="element",a="layui-this",r="layui-show",o=function(){this.config={}};o.prototype.set=function(t){return e.extend(!0,this.config,t),this},o.prototype.on=function(t,e){return layui.onevent.call(this,i,t,e)},o.prototype.tabAdd=function(t,n){var i=e(".layui-tab[lay-filter="+t+"]"),a=i.children(".layui-tab-title"),r=a.children(".layui-tab-bar"),o=i.children(".layui-tab-content"),s='<li lay-id="'+(n.id||"")+'"'+(n.attr?' lay-attr="'+n.attr+'"':"")+">"+(n.title||"unnaming")+"</li>";return r[0]?r.before(s):a.append(s),o.append('<div class="layui-tab-item">'+(n.content||"")+"</div>"),f.hideTabMore(!0),f.tabAuto(),this},o.prototype.tabDelete=function(t,n){var i=e(".layui-tab[lay-filter="+t+"]").children(".layui-tab-title").find('>li[lay-id="'+n+'"]');return f.tabDelete(null,i),this},o.prototype.tabChange=function(t,n){var i=e(".layui-tab[lay-filter="+t+"]").children(".layui-tab-title").find('>li[lay-id="'+n+'"]');return f.tabClick.call(i[0],null,null,i),this},o.prototype.tab=function(t){t=t||{},m.on("click",t.headerElem,function(n){var i=e(this).index();f.tabClick.call(this,n,i,null,t)})},o.prototype.progress=function(t,n){var i="layui-progress",a=e("."+i+"[lay-filter="+t+"]").find("."+i+"-bar"),r=a.find("."+i+"-text");return a.css("width",n),r.text(n),this};var s=".layui-nav",l="layui-nav-item",c="layui-nav-bar",u="layui-nav-tree",h="layui-nav-child",d="layui-nav-more",p="layui-anim layui-anim-upbit",f={tabClick:function(t,n,o,s){s=s||{};var l=o||e(this),c=(n=n||l.parent().children("li").index(l),s.headerElem?l.parent():l.parents(".layui-tab").eq(0)),u=s.bodyElem?e(s.bodyElem):c.children(".layui-tab-content").children(".layui-tab-item"),h=l.find("a"),d=c.attr("lay-filter");"javascript:;"!==h.attr("href")&&"_blank"===h.attr("target")||(l.addClass(a).siblings().removeClass(a),u.eq(n).addClass(r).siblings().removeClass(r)),layui.event.call(this,i,"tab("+d+")",{elem:c,index:n})},tabDelete:function(t,n){var r=n||e(this).parent(),o=r.index(),s=r.attr("lay-id"),l=r.parents(".layui-tab").eq(0),c=l.children(".layui-tab-content").children(".layui-tab-item"),u=l.attr("lay-filter");r.hasClass(a)&&(r.next()[0]?f.tabClick.call(r.next()[0],null,o+1):r.prev()[0]&&f.tabClick.call(r.prev()[0],null,o-1)),r.remove(),c.eq(o).remove(),setTimeout(function(){f.tabAuto()},50),layui.event.call(this,i,"tabDelete("+u+")",{elem:l,index:o,layId:s})},tabAuto:function(){var t="layui-tab-bar",i="layui-tab-close",a=this;e(".layui-tab").each(function(){var r=e(this),o=r.children(".layui-tab-title"),s=(r.children(".layui-tab-content").children(".layui-tab-item"),'lay-stope="tabmore"'),l=e('<span class="layui-unselect layui-tab-bar" '+s+"><i "+s+' class="layui-icon">&#xe61a;</i></span>');if(a===window&&8!=n.ie&&f.hideTabMore(!0),r.attr("lay-allowClose")&&o.find("li").each(function(){var t=e(this);if(!t.find("."+i)[0]){var n=e('<i class="layui-icon layui-unselect '+i+'">&#x1006;</i>');n.on("click",f.tabDelete),t.append(n)}}),"string"!=typeof r.attr("lay-unauto"))if(o.prop("scrollWidth")>o.outerWidth()+1){if(o.find("."+t)[0])return;o.append(l),r.attr("overflow",""),l.on("click",function(t){o[this.title?"removeClass":"addClass"]("layui-tab-more"),this.title=this.title?"":"收缩"})}else o.find("."+t).remove(),r.removeAttr("overflow")})},hideTabMore:function(t){var n=e(".layui-tab-title");!0!==t&&"tabmore"===e(t.target).attr("lay-stope")||(n.removeClass("layui-tab-more"),n.find(".layui-tab-bar").attr("title",""))},clickThis:function(){var t=e(this),n=t.parents(s),r=n.attr("lay-filter"),o=t.parent(),c=t.siblings("."+h),d="string"==typeof o.attr("lay-unselect");"javascript:;"!==t.attr("href")&&"_blank"===t.attr("target")||d||c[0]||(n.find("."+a).removeClass(a),o.addClass(a)),n.hasClass(u)&&(c.removeClass(p),c[0]&&(o["none"===c.css("display")?"addClass":"removeClass"](l+"ed"),"all"===n.attr("lay-shrink")&&o.siblings().removeClass(l+"ed"))),layui.event.call(this,i,"nav("+r+")",t)},collapse:function(){var t=e(this),n=t.find(".layui-colla-icon"),a=t.siblings(".layui-colla-content"),o=t.parents(".layui-collapse").eq(0),s=o.attr("lay-filter"),l="none"===a.css("display");if("string"==typeof o.attr("lay-accordion")){var c=o.children(".layui-colla-item").children("."+r);c.siblings(".layui-colla-title").children(".layui-colla-icon").html("&#xe602;"),c.removeClass(r)}a[l?"addClass":"removeClass"](r),n.html(l?"&#xe61a;":"&#xe602;"),layui.event.call(this,i,"collapse("+s+")",{title:t,content:a,show:l})}};o.prototype.init=function(t,i){var a=i?'[lay-filter="'+i+'"]':"",o={tab:function(){f.tabAuto.call({})},nav:function(){var t={},i={},o={},A=function(a,s,l){var c=e(this),f=c.find("."+h);s.hasClass(u)?a.css({top:c.position().top,height:c.children("a").outerHeight(),opacity:1}):(f.addClass(p),a.css({left:c.position().left+parseFloat(c.css("marginLeft")),top:c.position().top+c.height()-a.height()}),t[l]=setTimeout(function(){a.css({width:c.width(),opacity:1})},n.ie&&n.ie<10?0:200),clearTimeout(o[l]),"block"===f.css("display")&&clearTimeout(i[l]),i[l]=setTimeout(function(){f.addClass(r),c.find("."+d).addClass(d+"d")},300))};e(s+a).each(function(n){var a=e(this),s=e('<span class="'+c+'"></span>'),p=a.find("."+l);a.find("."+c)[0]||(a.append(s),p.on("mouseenter",function(){A.call(this,s,a,n)}).on("mouseleave",function(){a.hasClass(u)||(clearTimeout(i[n]),i[n]=setTimeout(function(){a.find("."+h).removeClass(r),a.find("."+d).removeClass(d+"d")},300))}),a.on("mouseleave",function(){clearTimeout(t[n]),o[n]=setTimeout(function(){a.hasClass(u)?s.css({height:0,top:s.position().top+s.height()/2,opacity:0}):s.css({width:0,left:s.position().left+s.width()/2,opacity:0})},200)})),p.find("a").each(function(){var t=e(this);t.parent();t.siblings("."+h)[0]&&!t.children("."+d)[0]&&t.append('<span class="'+d+'"></span>'),t.off("click",f.clickThis).on("click",f.clickThis)})})},breadcrumb:function(){e(".layui-breadcrumb"+a).each(function(){var t=e(this),n="lay-separator",i=t.attr(n)||"/",a=t.find("a");a.next("span["+n+"]")[0]||(a.each(function(t){t!==a.length-1&&e(this).after("<span "+n+">"+i+"</span>")}),t.css("visibility","visible"))})},progress:function(){var t="layui-progress";e("."+t+a).each(function(){var n=e(this),i=n.find(".layui-progress-bar"),a=i.attr("lay-percent");i.css("width",/^.+\/.+$/.test(a)?100*new Function("return "+a)()+"%":a),n.attr("lay-showPercent")&&setTimeout(function(){i.html('<span class="'+t+'-text">'+a+"</span>")},350)})},collapse:function(){e(".layui-collapse"+a).each(function(){e(this).find(".layui-colla-item").each(function(){var t=e(this),n=t.find(".layui-colla-title"),i="none"===t.find(".layui-colla-content").css("display");n.find(".layui-colla-icon").remove(),n.append('<i class="layui-icon layui-colla-icon">'+(i?"&#xe602;":"&#xe61a;")+"</i>"),n.off("click",f.collapse).on("click",f.collapse)})})}};return o[t]?o[t]():layui.each(o,function(t,e){e()})},o.prototype.render=o.prototype.init;var A=new o,m=e(document);A.render();m.on("click",".layui-tab-title li",f.tabClick),m.on("click",f.hideTabMore),e(window).on("resize",f.tabAuto),t(i,A)}),layui.define("layer",function(t){var e=layui.$,n=layui.layer,i=layui.hint(),a=layui.device(),r=".layui-form",o="layui-this",s="layui-hide",l="layui-disabled",c=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:function(t){if(!t||isNaN(t))return"只能填写数字"},date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};c.prototype.set=function(t){return e.extend(!0,this.config,t),this},c.prototype.verify=function(t){return e.extend(!0,this.config.verify,t),this},c.prototype.on=function(t,e){return layui.onevent.call(this,"form",t,e)},c.prototype.val=function(t,n){e(r+'[lay-filter="'+t+'"]').each(function(t,i){var a=e(this);layui.each(n,function(t,e){var n,i=a.find('[name="'+t+'"]');i[0]&&("checkbox"===(n=i[0].type)?i[0].checked=e:"radio"===n?i.each(function(){this.value===e&&(this.checked=!0)}):i.val(e))})}),h.render(null,t)},c.prototype.render=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=e(a||r+(n?'[lay-filter="'+n+'"]':"")),u={select:function(){var t,n=M.$t("layui.select.check"),i="layui-form-select",a="layui-select-title",r="layui-select-none",u="",h=function(n,r){e(n.target).parent().hasClass(a)&&!r||(e("."+i).removeClass(i+"ed "+i+"up"),t&&u&&t.val(u)),t=null},d=function(n,c,d){var f,A=e(this),m=n.find("."+a),y=m.find("input"),g=n.find("dl"),v=g.children("dd"),b=this.selectedIndex;if(!c){var C=function(){var t=n.offset().top+n.outerHeight()+5-p.scrollTop(),e=g.outerHeight();b=A[0].selectedIndex,n.addClass(i+"ed"),v.removeClass(s),f=null,v.eq(b).addClass(o).siblings().removeClass(o),t+e>p.height()&&t>=e&&n.addClass(i+"up"),w()},x=function(t){n.removeClass(i+"ed "+i+"up"),y.blur(),f=null,t||D(y.val(),function(t){var n=A[0].selectedIndex;t&&(u=e(A[0].options[n]).html(),0===n&&u===y.attr("placeholder")&&(u=""),y.val(u||""))})},w=function(){var t=g.children("dd."+o);if(t[0]){var e=t.position().top,n=g.height(),i=t.height();e>n&&g.scrollTop(e+g.scrollTop()-n+i-5),e<0&&g.scrollTop(e+g.scrollTop()-5)}};m.on("click",function(t){n.hasClass(i+"ed")?x():(h(t,!0),C()),g.find("."+r).remove()}),m.find(".layui-edge").on("click",function(){y.focus()}),y.on("keyup",function(t){9===t.keyCode&&C()}).on("keydown",function(t){var e=t.keyCode;9===e&&x();var n=function e(n,i){var a,r;t.preventDefault();var c=function(){var t=g.children("dd."+o);if(g.children("dd."+s)[0]&&"next"===n){var e=g.children("dd:not(."+s+",."+l+")"),a=e.eq(0).index();if(a>=0&&a<t.index()&&!e.hasClass(o))return e.eq(0).prev()[0]?e.eq(0).prev():g.children(":last")}return i&&i[0]?i:f&&f[0]?f:t}();return r=c[n](),a=c[n]("dd:not(."+s+")"),r[0]?(f=c[n](),a[0]&&!a.hasClass(l)||!f[0]?(a.addClass(o).siblings().removeClass(o),void w()):e(n,f)):f=null};38===e&&n("prev"),40===e&&n("next"),13===e&&(t.preventDefault(),g.children("dd."+o).trigger("click"))});var D=function(t,n,i){var a=0;layui.each(v,function(){var n=e(this),r=n.text(),o=-1===r.indexOf(t);(""===t||"blur"===i?t!==r:o)&&a++,"keyup"===i&&n[o?"addClass":"removeClass"](s)});var r=a===v.length;return n(r),r};d&&y.on("keyup",function(t){var e=this.value,n=t.keyCode;if(9===n||13===n||37===n||38===n||39===n||40===n)return!1;D(e,function(t){t?g.find("."+r)[0]||g.append('<p class="'+r+'">'+M.$t("layui.select.nodata")+"</p>"):g.find("."+r).remove()},"keyup"),""===e&&g.find("."+r).remove(),w()}).on("blur",function(n){var i=A[0].selectedIndex;t=y,u=e(A[0].options[i]).html(),0===i&&u===y.attr("placeholder")&&(u=""),setTimeout(function(){D(y.val(),function(t){u||y.val("")},"blur")},200)}),v.on("click",function(){var t=e(this),i=t.attr("lay-value"),a=A.attr("lay-filter");return!t.hasClass(l)&&(t.hasClass("layui-select-tips")?y.val(""):(y.val(t.text()),t.addClass(o)),t.siblings().removeClass(o),A.val(i).removeClass("layui-form-danger"),layui.event.call(this,"form","select("+a+")",{elem:A[0],value:i,othis:n}),x(!0),!1)}),n.find("dl>dt").on("click",function(t){return!1}),e(document).off("click",h).on("click",h)}};c.find("select").each(function(t,r){var s=e(this),c=s.next("."+i),u=this.disabled,h=r.value,p=e(r.options[r.selectedIndex]),f=r.options[0];if("string"==typeof s.attr("lay-ignore"))return s.show();var A,m,y="string"==typeof s.attr("lay-search"),g=f?f.value?n:f.innerHTML||n:n,v=e(['<div class="'+(y?"":"layui-unselect ")+i,(u?" layui-select-disabled":"")+'">','<div class="'+a+'">','<input type="text" placeholder="'+g+'" value="'+(h?p.html():"")+'"'+(y?"":" readonly")+' class="layui-input'+(y?"":" layui-unselect")+(u?" "+l:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(s.find("optgroup")[0]?" layui-select-group":"")+'">',(A=s.find("*"),m=[],layui.each(A,function(t,e){0!==t||e.value?"optgroup"===e.tagName.toLowerCase()?m.push("<dt>"+e.label+"</dt>"):m.push('<dd lay-value="'+e.value+'" class="'+(h===e.value?o:"")+(e.disabled?" "+l:"")+'">'+e.innerHTML+"</dd>"):m.push('<dd lay-value="" class="layui-select-tips">'+(e.innerHTML||n)+"</dd>")}),0===m.length&&m.push('<dd lay-value="" class="'+l+'">'+M.$t("layui.select.nooption")+"</dd>"),m.join("")+"</dl>"),"</div>"].join(""));c[0]&&c.remove(),s.after(v),d.call(this,v,u,y)})},checkbox:function(){var t={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]};c.find("input[type=checkbox]").each(function(n,i){var a=e(this),r=a.attr("lay-skin"),o=(a.attr("lay-text")||"").split("|"),s=this.disabled;"switch"===r&&(r="_"+r);var c=t[r]||t.checkbox;if("string"==typeof a.attr("lay-ignore"))return a.show();var u,h=a.next("."+c[0]),d=e(['<div class="layui-unselect '+c[0],i.checked?" "+c[1]:"",s?" layui-checkbox-disbaled "+l:"",'"',r?' lay-skin="'+r+'"':"",">",(u={checkbox:[i.title.replace(/\s/g,"")?"<span>"+i.title+"</span>":"",'<i class="layui-icon layui-icon-ok"></i>'].join(""),_switch:"<em>"+((i.checked?o[0]:o[1])||"")+"</em><i></i>"},u[r]||u.checkbox),"</div>"].join(""));h[0]&&h.remove(),a.after(d),function(t,n){var i=e(this);t.on("click",function(){var e=i.attr("lay-filter"),a=(i.attr("lay-text")||"").split("|");i[0].disabled||(i[0].checked?(i[0].checked=!1,t.removeClass(n[1]).find("em").text(a[1])):(i[0].checked=!0,t.addClass(n[1]).find("em").text(a[0])),layui.event.call(i[0],"form",n[2]+"("+e+")",{elem:i[0],value:i[0].value,othis:t}))})}.call(this,d,c)})},radio:function(){var t="layui-form-radio",n=["&#xe643;","&#xe63f;"],i=function(i){var a=e(this),o="layui-anim-scaleSpring";i.on("click",function(){var s=a[0].name,l=a.parents(r),c=a.attr("lay-filter"),u=l.find("input[name="+s.replace(/(\.|#|\[|\])/g,"\\$1")+"]");a[0].disabled||(layui.each(u,function(){var i=e(this).next("."+t);this.checked=!1,i.removeClass(t+"ed"),i.find(".layui-icon").removeClass(o).html(n[1])}),a[0].checked=!0,i.addClass(t+"ed"),i.find(".layui-icon").addClass(o).html(n[0]),layui.event.call(a[0],"form","radio("+c+")",{elem:a[0],value:a[0].value,othis:i}))})};c.find("input[type=radio]").each(function(a,r){var o=e(this),s=o.next("."+t),c=this.disabled;if("string"==typeof o.attr("lay-ignore"))return o.show();s[0]&&s.remove();var u,h=e(['<div class="layui-unselect '+t,r.checked?" "+t+"ed":"",(c?" layui-radio-disbaled "+l:"")+'">','<i class="layui-anim layui-icon">'+n[r.checked?0:1]+"</i>","<div>"+(u=r.title||"","string"==typeof o.next().attr("lay-radio")&&(u=o.next().html(),o.next().remove()),u)+"</div>","</div>"].join(""));o.after(h),i.call(this,h)})}};return t?u[t]?u[t]():i.error("不支持的"+t+"表单渲染"):layui.each(u,function(t,e){e()}),this};var u=function(){var t=e(this),i=h.config.verify,o=null,s="layui-form-danger",l={},c=t.parents(r),u=c.find("*[lay-verify]"),d=t.parents("form")[0],p=c.find("input,select,textarea"),f=t.attr("lay-filter");if(layui.each(u,function(t,r){var l=e(this),c=l.attr("lay-verify").split("|"),u=l.attr("lay-verType"),h=l.val();if(l.removeClass(s),layui.each(c,function(t,e){var c="",d="function"==typeof i[e];if(i[e]){var p=d?c=i[e](h,r):!i[e][0].test(h);if(c=c||i[e][1],p)return"tips"===u?n.tips(c,"string"==typeof l.attr("lay-ignore")||"select"!==r.tagName.toLowerCase()&&!/^checkbox|radio$/.test(r.type)?l:l.next(),{tips:1}):"alert"===u?n.alert(c,{title:M.$t("layui.layer.tip.title"),shadeClose:!0}):n.msg(c,{icon:5,shift:6}),a.android||a.ios||r.focus(),l.addClass(s),o=!0}}),o)return o}),o)return!1;var A={};return layui.each(p,function(t,e){if(e.name=(e.name||"").replace(/^\s*|\s*&/,""),e.name){if(/^.*\[\]$/.test(e.name)){var n=e.name.match(/^(.*)\[\]$/g)[0];A[n]=0|A[n],e.name=e.name.replace(/^(.*)\[\]$/,"$1["+A[n]+++"]")}/^checkbox|radio$/.test(e.type)&&!e.checked||(l[e.name]=e.value)}}),layui.event.call(this,"form","submit("+f+")",{elem:this,form:d,field:l})},h=new c,d=e(document),p=e(window);h.render(),d.on("reset",r,function(){var t=e(this).attr("lay-filter");setTimeout(function(){h.render(null,t)},50)}),d.on("submit",r,u).on("click","*[lay-submit]",u),t("form",h)}),layui.define(["laytpl","laypage","layer","form","util"],function(t){var e=layui.$,n=layui.laytpl,i=layui.laypage,a=layui.layer,r=layui.form,o=(layui.util,layui.hint()),s=layui.device(),l={config:{checkName:"LAY_CHECKED",indexName:"LAY_TABLE_INDEX"},cache:{},index:layui.table?layui.table.index+1e4:0,set:function(t){return this.config=e.extend({},this.config,t),this},on:function(t,e){return layui.onevent.call(this,d,t,e)}},c=function t(){var e=this,n=e.config,i=n.id||n.index;return i&&(t.that[i]=e,t.config[i]=n),{reload:function(t){e.reload.call(e,t)},setColsWidth:function(){e.setColsWidth.call(e)},resize:function(t){e.resize.call(e,t)},config:n}},h=function(t){var e=c.config[t];return e||o.error("The ID option was not found in the table instance"),e||null},d="table",p="layui-hide",f="layui-none",A="layui-table-view",m=".layui-table-header",y=".layui-table-body",g=".layui-table-sort",v="layui-table-edit",b="layui-table-hover",C=function(t){return['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<thead>","{{# layui.each(d.data.cols, function(i1, item1){ }}","<tr>","{{# layui.each(item1, function(i2, item2){ }}",'{{# if(item2.fixed && item2.fixed !== "right"){ left = true; } }}','{{# if(item2.fixed === "right"){ right = true; } }}',(t=t||{}).fixed&&"right"!==t.fixed?'{{# if(item2.fixed && item2.fixed !== "right"){ }}':"right"===t.fixed?'{{# if(item2.fixed === "right"){ }}':"","{{# var isSort = !(item2.colGroup) && item2.sort; }}",'<th data-field="{{ item2.field||i2 }}" data-key="{{d.index}}-{{i1}}-{{i2}}" {{# if( item2.parentKey){ }}data-parentkey="{{ item2.parentKey }}"{{# } }} {{# if(item2.minWidth){ }}data-minwidth="{{item2.minWidth}}"{{# } }} {{#if(item2.colspan){}} colspan="{{item2.colspan}}"{{#} if(item2.rowspan){}} rowspan="{{item2.rowspan}}"{{#}}} {{# if(item2.unresize || item2.colGroup){ }}data-unresize="true"{{# } }} class="{{# if(item2.hide){ }}layui-hide{{# } }}{{# if(isSort){ }} layui-unselect{{# } }}{{# if(!item2.field){ }} layui-table-col-special{{# } }}">','<div class="layui-table-cell laytable-cell-',"{{# if(item2.colGroup){ }}","group","{{# } else { }}","{{d.index}}-{{i1}}-{{i2}}",'{{# if(item2.type !== "normal"){ }}'," laytable-cell-{{ item2.type }}","{{# } }}","{{# } }}",'" {{#if(item2.align){}}align="{{item2.align}}"{{#}}}>','{{# if(item2.type === "checkbox"){ }}','<input type="checkbox" name="layTableCheckbox" lay-skin="primary" lay-filter="layTableAllChoose" {{# if(item2[d.data.checkName]){ }}checked{{# }; }}>',"{{# } else { }}",'<span>{{item2.title||""}}</span>',"{{# if(isSort){ }}",'<span class="layui-table-sort layui-inline"><i class="layui-edge layui-table-sort-asc" title="'+M.$t("layui.table.order.Ascending")+'"></i><i class="layui-edge layui-table-sort-desc" title="'+M.$t("layui.table.order.Descending")+'"></i></span>',"{{# } }}","{{# } }}","</div>","</th>",t.fixed?"{{# }; }}":"","{{# }); }}","</tr>","{{# }); }}","</thead>","</table>"].join("")},x=['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<tbody></tbody>","</table>"].join(""),w=['<div class="layui-form layui-border-box {{d.VIEW_CLASS}}" lay-filter="LAY-table-{{d.index}}" lay-id="{{ d.data.id }}" style="{{# if(d.data.width){ }}width:{{d.data.width}}px;{{# } }} {{# if(d.data.height){ }}height:{{d.data.height}}px;{{# } }}">',"{{# if(d.data.toolbar){ }}",'<div class="layui-table-tool">','<div class="layui-table-tool-temp"></div>','<div class="layui-table-tool-self"></div>',"</div>","{{# } }}",'<div class="layui-table-box">',"{{# if(d.data.loading){ }}",'<div class="layui-table-init" >','<i class="layui-icon layui-icon-loading layui-icon"></i>',"</div>","{{# } }}","{{# var left, right; }}",'<div class="layui-table-header">',C(),"</div>",'<div class="layui-table-body layui-table-main">',x,"</div>","{{# if(left){ }}",'<div class="layui-table-fixed layui-table-fixed-l">','<div class="layui-table-header">',C({fixed:!0}),"</div>",'<div class="layui-table-body">',x,"</div>","</div>","{{# }; }}","{{# if(right){ }}",'<div class="layui-table-fixed layui-table-fixed-r">','<div class="layui-table-header">',C({fixed:"right"}),'<div class="layui-table-mend"></div>',"</div>",'<div class="layui-table-body">',x,"</div>","</div>","{{# }; }}","</div>","{{# if(d.data.totalRow){ }}",'<div class="layui-table-total">','<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>','<tbody><tr><td><div class="layui-table-cell" style="visibility: hidden;">Total</div></td></tr></tbody>',"</table>","</div>","{{# } }}","{{# if(d.data.page){ }}",'<div class="layui-table-page">','<div id="layui-table-page{{d.index}}"></div>',"</div>","{{# } }}","<style>","{{# layui.each(d.data.cols, function(i1, item1){","layui.each(item1, function(i2, item2){ }}",".laytable-cell-{{d.index}}-{{i1}}-{{i2}}{ ","{{# if(item2.width){ }}","width: {{item2.width}}px;","{{# } }}"," }","{{# });","}); }}","</style>","</div>"].join(""),D=e(window),I=e(document),B=function(t){this.index=++l.index,this.config=e.extend({},this.config,l.config,t),this.render()};B.prototype.config={limit:1e3,loading:!0,cellMinWidth:60,defaultToolbar:["filter","exports","print"],autoSort:!0,text:{none:M.$t("layui.table.nodata")}},B.prototype.render=function(){var t=this.config;if(t.elem=e(t.elem),t.where=t.where||{},t.id=t.id||t.elem.attr("id")||this.index,t.request=e.extend({pageName:"page",limitName:"limit"},t.request),t.response=e.extend({statusName:"code",statusCode:0,msgName:"msg",dataName:"data",countName:"count"},t.response),"object"===u()(t.page)&&(t.limit=t.page.limit||t.limit,t.limits=t.page.limits||t.limits,this.page=t.page.curr=t.page.curr||1,delete t.page.elem,delete t.page.jump),!t.elem[0])return this;t.height&&/^full-\d+$/.test(t.height)&&(this.fullHeightGap=t.height.split("-")[1],t.height=D.height()-this.fullHeightGap),this.setInit();var i=t.elem,a=i.next("."+A),r=this.elem=e(n(w).render({VIEW_CLASS:A,data:t,index:this.index}));if(t.index=this.index,a[0]&&a.remove(),i.after(r),this.layTool=r.find(".layui-table-tool"),this.layBox=r.find(".layui-table-box"),this.layHeader=r.find(m),this.layMain=r.find(".layui-table-main"),this.layBody=r.find(y),this.layFixed=r.find(".layui-table-fixed"),this.layFixLeft=r.find(".layui-table-fixed-l"),this.layFixRight=r.find(".layui-table-fixed-r"),this.layTotal=r.find(".layui-table-total"),this.layPage=r.find(".layui-table-page"),this.fullSize(),t.cols.length>1){var o=this.layFixed.find(m).find("th");o.height(this.layHeader.height()-1-parseFloat(o.css("padding-top"))-parseFloat(o.css("padding-bottom")))}this.pullData(this.page),this.events()},B.prototype.initOpts=function(t){this.config;t.checkbox&&(t.type="checkbox"),t.space&&(t.type="space"),t.type||(t.type="normal"),"normal"!==t.type&&(t.unresize=!0,t.width=t.width||{checkbox:48,radio:48,space:15,numbers:40}[t.type])},B.prototype.setInit=function(t){var e=this,n=e.config;if(n.clientWidth=n.width||function t(e){var i,a;i=(e=e||n.elem.parent()).width();try{a="none"===e.css("display")}catch(t){}return!e[0]||i&&!a?i:t(e.parent())}(),"width"===t)return n.clientWidth;layui.each(n.cols,function(t,i){layui.each(i,function(a,r){if(r){if(r.key=t+"-"+a,r.hide=r.hide||!1,r.colGroup||r.colspan>1){var o=0;layui.each(n.cols[t+1],function(e,n){n.HAS_PARENT||o>1&&o==r.colspan||(n.HAS_PARENT=!0,n.parentKey=t+"-"+a,o+=parseInt(n.colspan>1?n.colspan:1))}),r.colGroup=!0}e.initOpts(r)}else i.splice(a,1)})})},B.prototype.setParentCol=function(t,e){var n=this.config,i=this.layHeader.find('th[data-key="'+n.index+"-"+e+'"]'),a=parseInt(i.attr("colspan"))||0;if(i[0]){var r=e.split("-"),o=n.cols[r[0]][r[1]];t?a--:a++,i.attr("colspan",a),i[a<1?"addClass":"removeClass"](p),o.colspan=a,o.hide=a<1;var s=i.data("parentkey");s&&this.setParentCol(t,s)}},B.prototype.setColsPatch=function(){var t=this,e=t.config;layui.each(e.cols,function(e,n){layui.each(n,function(e,n){n.hide&&t.setParentCol(n.hide,n.parentKey)})})},B.prototype.setColsWidth=function(){var t=this,e=t.config,n=0,i=0,a=0,r=0,o=t.setInit("width");t.eachCols(function(t,e){e.hide||n++}),o=o-("line"===e.skin||"nob"===e.skin?2:n+1)-t.getScrollWidth(t.layMain[0])-1;var s=function(t){layui.each(e.cols,function(n,s){layui.each(s,function(n,l){var c=0,u=l.minWidth||e.cellMinWidth;l?l.colGroup||l.hide||(t?a&&a<u&&(i--,c=u):(c=l.width||0,/\d+%$/.test(c)?(c=Math.floor(parseFloat(c)/100*o))<u&&(c=u):c||(l.width=c=0,i++)),l.hide&&(c=0),r+=c):s.splice(n,1)})}),o>r&&i&&(a=(o-r)/i)};s(),s(!0),t.autoColNums=i,t.eachCols(function(n,i){var r=i.minWidth||e.cellMinWidth;i.colGroup||i.hide||(0===i.width?t.getCssRule(e.index+"-"+i.key,function(t){t.style.width=Math.floor(a>=r?a:r)+"px"}):/\d+%$/.test(i.width)&&t.getCssRule(e.index+"-"+i.key,function(t){t.style.width=Math.floor(parseFloat(i.width)/100*o)+"px"}))});var l=t.layMain.width()-t.getScrollWidth(t.layMain[0])-t.layMain.children("table").outerWidth();if(t.autoColNums&&l>=-n&&l<=n){var c=function e(n){return!(n=n||t.layHeader.eq(0).find("thead th:last-child")).data("field")&&n.prev()[0]?e(n.prev()):n}(),u=c.data("key");t.getCssRule(u,function(e){var n=e.style.width||c.outerWidth();e.style.width=parseFloat(n)+l+"px",t.layMain.height()-t.layMain.prop("clientHeight")>0&&(e.style.width=parseFloat(e.style.width)-1+"px")})}t.loading(!0)},B.prototype.resize=function(t){var e=this.config;t&&(e.height=t),this.fullSize(),this.setColsWidth(),this.scrollPatch()},B.prototype.reload=function(t){this.config.data&&this.config.data.constructor===Array&&delete this.config.data,this.config=e.extend({},this.config,t),this.render()},B.prototype.page=1,B.prototype.pullData=function(t){var e=this,n=e.config,i=(n.request,n.response);if(e.startTime=(new Date).getTime(),n.data&&n.data.constructor===Array){var a={},r=t*n.limit-n.limit;a[i.dataName]=n.data.concat().splice(r,n.limit),a[i.countName]=n.data.length,e.renderData(a,t,n.data.length),"object"===u()(n.initSort)&&e.sort(n.initSort.field,n.initSort.type),e.setColsWidth(),"function"==typeof n.done&&n.done(a,t,a[i.countName])}},B.prototype.eachCols=function(t){return l.eachCols(null,t,this.config.cols),this},B.prototype.renderData=function(t,r,o,s){var c=this,u=c.config,h=t[u.response.dataName]||[],d=[],A=[],m=[],y=function(){var t;if(!s&&c.sortKey)return c.sort(c.sortKey.field,c.sortKey.sort,!0);layui.each(h,function(i,a){var o=[],h=[],f=[],y=i+u.limit*(r-1)+1;0!==a.length&&(s||(a[l.config.indexName]=i),c.eachCols(function(r,s){var c=s.field||r,d=u.index+"-"+s.key,A=a[c];if(null!=A||(A=""),!s.colGroup){var m,g,v=['<td data-field="'+c+'" data-key="'+d+'" '+(g=[],s.edit&&g.push('data-edit="'+s.edit+'"'),s.align&&g.push('align="'+s.align+'"'),s.templet&&g.push('data-content="'+A+'"'),s.toolbar&&g.push('data-off="true"'),s.event&&g.push('lay-event="'+s.event+'"'),s.style&&g.push('style="'+s.style+'"'),s.minWidth&&g.push('data-minwidth="'+s.minWidth+'"'),g.join(" "))+' class="'+(m=[],s.hide&&m.push(p),s.field||m.push("layui-table-col-special"),m.join(" "))+'">','<div class="layui-table-cell laytable-cell-'+("normal"===s.type?d:d+" laytable-cell-"+s.type)+'">'+function(){var r=e.extend(!0,{LAY_INDEX:y},a),o=l.config.checkName;switch(s.type){case"checkbox":return'<input type="checkbox" name="layTableCheckbox" lay-skin="primary" '+(s[o]?(a[o]=s[o],s[o]?"checked":""):r[o]?"checked":"")+">";case"radio":return r[o]&&(t=i),'<input type="radio" name="layTableRadio_'+u.index+'" '+(r[o]?"checked":"")+' lay-type="layTableRadio">';case"numbers":return y}return s.toolbar?n(e(s.toolbar).html()||"").render(r):s.templet?"function"==typeof s.templet?s.templet(r):n(e(s.templet).html()||String(A)).render(r):A}(),"</div></td>"].join("");o.push(v),s.fixed&&"right"!==s.fixed&&h.push(v),"right"===s.fixed&&f.push(v)}}),d.push('<tr data-index="'+i+'">'+o.join("")+"</tr>"),A.push('<tr data-index="'+i+'">'+h.join("")+"</tr>"),m.push('<tr data-index="'+i+'">'+f.join("")+"</tr>"))}),c.layBody.scrollTop(0),c.layMain.find("."+f).remove(),c.layMain.find("tbody").html(d.join("")),c.layFixLeft.find("tbody").html(A.join("")),c.layFixRight.find("tbody").html(m.join("")),c.renderForm(),"number"==typeof t&&c.setThisRowChecked(t),c.syncCheckAll(),c.haveInit?c.scrollPatch():setTimeout(function(){c.scrollPatch()},50),c.haveInit=!0,a.close(c.tipsIndex),u.HAS_SET_COLS_PATCH||c.setColsPatch(),u.HAS_SET_COLS_PATCH=!0};return c.key=u.id||u.index,l.cache[c.key]=h,c.layPage[0==o||0===h.length&&1==r?"addClass":"removeClass"](p),s?y():0===h.length?(c.renderForm(),c.layFixed.remove(),c.layMain.find("tbody").html(""),c.layMain.find("."+f).remove(),c.layMain.append('<div class="'+f+'">'+u.text.none+"</div>")):(y(),void(u.page&&(u.page=e.extend({elem:"layui-table-page"+u.index,count:o,limit:u.limit,limits:u.limits||[10,20,30,40,50,60,70,80,90],groups:3,layout:["prev","page","next","skip","count","limit"],prev:'<i class="layui-icon">&#xe603;</i>',next:'<i class="layui-icon">&#xe602;</i>',jump:function(t,e){e||(c.page=t.curr,u.limit=t.limit,c.loading(),c.pullData(t.curr))}},u.page),u.page.count=o,i.render(u.page))))},B.prototype.getColElem=function(t,e){var n=this.config;return t.eq(0).find(".laytable-cell-"+n.index+"-"+e+":eq(0)")},B.prototype.renderForm=function(t){r.render(t,"LAY-table-"+this.index)},B.prototype.setThisRowChecked=function(t){this.config;var e="layui-table-click";this.layBody.find('tr[data-index="'+t+'"]').addClass(e).siblings("tr").removeClass(e)},B.prototype.sort=function(t,n,i,a){var r,s={},c=this.config,u=c.elem.attr("lay-filter"),h=l.cache[this.key];"string"==typeof t&&this.layHeader.find("th").each(function(n,i){var a=e(this),r=a.data("field");if(r===t)return t=a,p=r,!1});try{var p=p||t.data("field"),f=t.data("key");if(this.sortKey&&!i&&p===this.sortKey.field&&n===this.sortKey.sort)return;var A=this.layHeader.find("th .laytable-cell-"+f).find(g);this.layHeader.find("th").find(g).removeAttr("lay-sort"),A.attr("lay-sort",n||null),this.layFixed.find("th")}catch(t){return o.error("Table modules: Did not match to field")}this.sortKey={field:p,sort:n},c.autoSort&&("asc"===n?r=layui.sort(h,p):"desc"===n?r=layui.sort(h,p,!0):(r=layui.sort(h,l.config.indexName),delete this.sortKey)),s[c.response.dataName]=r||h,this.renderData(s,this.page,this.count,!0),a&&layui.event.call(t,d,"sort("+u+")",{field:p,type:n})},B.prototype.loading=function(t){this.config.loading&&(t?(this.layInit&&this.layInit.remove(),delete this.layInit,this.layBox.find(".layui-table-init").remove()):(this.layInit=e(['<div class="layui-table-init">','<i class="layui-icon layui-icon-loading layui-icon"></i>',"</div>"].join("")),this.layBox.append(this.layInit)))},B.prototype.setCheckData=function(t,e){var n=this.config,i=l.cache[this.key];i[t]&&i[t].constructor!==Array&&(i[t][n.checkName]=e)},B.prototype.syncCheckAll=function(){var t=this,e=t.config,n=t.layHeader.find('input[name="layTableCheckbox"]'),i=function(n){return t.eachCols(function(t,i){"checkbox"===i.type&&(i[e.checkName]=n)}),n};n[0]&&(l.checkStatus(t.key).isAll?(n[0].checked||(n.prop("checked",!0),t.renderForm("checkbox")),i(!0)):(n[0].checked&&(n.prop("checked",!1),t.renderForm("checkbox")),i(!1)))},B.prototype.getCssRule=function(t,e){var n=this.elem.find("style")[0],i=n.sheet||n.styleSheet||{},a=i.cssRules||i.rules;layui.each(a,function(n,i){if(i.selectorText===".laytable-cell-"+t)return e(i),!0})},B.prototype.fullSize=function(){var t,e=this.config,n=e.height;this.fullHeightGap&&((n=D.height()-this.fullHeightGap)<135&&(n=135),this.elem.css("height",n)),n&&(t=parseFloat(n)-(this.layHeader.outerHeight()||38),e.toolbar&&(t-=this.layTool.outerHeight()||50),e.totalRow&&(t-=this.layTotal.outerHeight()||40),e.page&&(t=t-(this.layPage.outerHeight()||41)-2),this.layMain.css("height",t))},B.prototype.getScrollWidth=function(t){var e=0;return t?e=t.offsetWidth-t.clientWidth:((t=document.createElement("div")).style.width="100px",t.style.height="100px",t.style.overflowY="scroll",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t)),e},B.prototype.scrollPatch=function(){var t=this.layMain.children("table"),n=this.layMain.width()-this.layMain.prop("clientWidth"),i=this.layMain.height()-this.layMain.prop("clientHeight"),a=(this.getScrollWidth(this.layMain[0]),t.outerWidth()-this.layMain.width()),r=function(t){if(n&&i){if(!(t=t.eq(0)).find(".layui-table-patch")[0]){var a=e('<th class="layui-table-patch"><div class="layui-table-cell"></div></th>');a.find("div").css({width:n}),t.find("tr").append(a)}}else t.find(".layui-table-patch").remove()};r(this.layHeader),r(this.layTotal);var o=this.layMain.height()-i;this.layFixed.find(y).css("height",t.height()>=o?o:"auto"),this.layFixRight[a>0?"removeClass":"addClass"](p),this.layFixRight.css("right",n-1)},B.prototype.events=function(){var t,i=this,o=i.config,c=e("body"),u={},h=i.layHeader.find("th"),f=".layui-table-cell",A=o.elem.attr("lay-filter");i.layTool.on("click","*[lay-event]",function(t){var n,c=e(this),u=c.attr("lay-event"),h=function(t){var n=e(t.list),a=e('<ul class="layui-table-tool-panel"></ul>');a.html(n),o.height&&a.css("max-height",o.height-(i.layTool.outerHeight()||50)),c.find(".layui-table-tool-panel")[0]||c.append(a),i.renderForm(),a.on("click",function(t){layui.stope(t)}),t.done&&t.done(a,n)};switch(layui.stope(t),I.trigger("table.tool.panel.remove"),a.close(i.tipsIndex),u){case"LAYTABLE_COLS":h({list:(n=[],i.eachCols(function(t,e){e.field&&"normal"==e.type&&n.push('<li><input type="checkbox" name="'+e.field+'" data-key="'+e.key+'" data-parentkey="'+(e.parentKey||"")+'" lay-skin="primary" '+(e.hide?"":"checked")+' title="'+(e.title||e.field)+'" lay-filter="LAY_TABLE_TOOL_COLS"></li>')}),n.join("")),done:function(){r.on("checkbox(LAY_TABLE_TOOL_COLS)",function(t){var n=e(t.elem),a=this.checked,r=n.data("key"),s=n.data("parentkey");layui.each(o.cols,function(t,e){layui.each(e,function(e,n){if(t+"-"+e===r){var l=n.hide;n.hide=!a,i.elem.find('*[data-key="'+o.index+"-"+r+'"]')[a?"removeClass":"addClass"](p),l!=n.hide&&i.setParentCol(!a,s),i.resize()}})})})}});break;case"LAYTABLE_EXPORT":s.ie?a.tips("导出功能不支持 IE，请用 Chrome 等高级浏览器导出",this,{tips:3}):h({list:['<li data-type="csv">导出到 Csv 文件</li>','<li data-type="xls">导出到 Excel 文件</li>'].join(""),done:function(t,n){n.on("click",function(){var t=e(this).data("type");l.exportFile(o.id,null,t)})}});break;case"LAYTABLE_PRINT":var f=window.open("打印窗口","_blank"),m=["<style>","body{font-size: 12px; color: #666;}","table{width: 100%; border-collapse: collapse; border-spacing: 0;}","th,td{line-height: 20px; padding: 9px 15px; border: 1px solid #ccc; text-align: left; font-size: 12px; color: #666;}","a{color: #666; text-decoration:none;}","*.layui-hide{display: none}","</style>"].join(""),y=e(i.layHeader.html());y.append(i.layMain.find("table").html()),y.find("th.layui-table-patch").remove(),y.find(".layui-table-col-special").remove(),f.document.write(m+y.prop("outerHTML")),f.document.close(),f.print(),f.close()}layui.event.call(this,d,"toolbar("+A+")",e.extend({event:u,config:o},{}))}),h.on("mousemove",function(t){var n=e(this),i=n.offset().left,a=t.clientX-i;n.data("unresize")||u.resizeStart||(u.allowResize=n.width()-a<=10,c.css("cursor",u.allowResize?"col-resize":""))}).on("mouseleave",function(){e(this);u.resizeStart||c.css("cursor","")}).on("mousedown",function(t){var n=e(this);if(u.allowResize){var a=n.data("key");t.preventDefault(),u.resizeStart=!0,u.offset=[t.clientX,t.clientY],i.getCssRule(a,function(t){var e=t.style.width||n.outerWidth();u.rule=t,u.ruleWidth=parseFloat(e),u.minWidth=n.data("minwidth")||o.cellMinWidth})}}),I.on("mousemove",function(e){if(u.resizeStart){if(e.preventDefault(),u.rule){var n=u.ruleWidth+e.clientX-u.offset[0];n<u.minWidth&&(n=u.minWidth),u.rule.style.width=n+"px",a.close(i.tipsIndex)}t=1}}).on("mouseup",function(e){u.resizeStart&&(u={},c.css("cursor",""),i.scrollPatch()),2===t&&(t=null)}),h.on("click",function(n){var a,r=e(this),o=r.find(g),s=o.attr("lay-sort");if(!o[0]||1===t)return t=2;a="asc"===s?"desc":"desc"===s?null:"asc",i.sort(r,a,null,!0)}).find(g+" .layui-edge ").on("click",function(t){var n=e(this),a=n.index(),r=n.parents("th").eq(0).data("field");layui.stope(t),0===a?i.sort(r,"asc",null,!0):i.sort(r,"desc",null,!0)});var m=function(t){var a=e(this).parents("tr").eq(0).data("index"),r=i.layBody.find('tr[data-index="'+a+'"]'),o=l.cache[i.key][a];return e.extend({tr:r,data:l.clearCacheKey(o),del:function(){l.cache[i.key][a]=[],r.remove(),i.scrollPatch()},update:function(t){t=t||{},layui.each(t,function(t,a){if(t in o){var s,l=r.children('td[data-field="'+t+'"]');o[t]=a,i.eachCols(function(e,n){n.field==t&&n.templet&&(s=n.templet)}),l.children(f).html(s?"function"==typeof s?s(o):n(e(s).html()||a).render(o):a),l.data("content",a)}})}},t)};i.elem.on("click",'input[name="layTableCheckbox"]+',function(){var t=e(this).prev(),n=i.layBody.find('input[name="layTableCheckbox"]'),a=t.parents("tr").eq(0).data("index"),r=t[0].checked,o="layTableAllChoose"===t.attr("lay-filter");o?(n.each(function(t,e){e.checked=r,i.setCheckData(t,r)}),i.syncCheckAll(),i.renderForm("checkbox")):(i.setCheckData(a,r),i.syncCheckAll()),layui.event.call(t[0],d,"checkbox("+A+")",m.call(t[0],{checked:r,type:o?"all":"one"}))}),i.elem.on("click",'input[lay-type="layTableRadio"]+',function(){var t=e(this).prev(),n=t[0].checked,a=l.cache[i.key],r=t.parents("tr").eq(0).data("index");layui.each(a,function(t,e){r===t?e.LAY_CHECKED=!0:delete e.LAY_CHECKED}),i.setThisRowChecked(r),layui.event.call(this,d,"radio("+A+")",m.call(this,{checked:n}))}),i.layBody.on("mouseenter","tr",function(){var t=e(this).index();i.layBody.find("tr:eq("+t+")").addClass(b)}).on("mouseleave","tr",function(){var t=e(this).index();i.layBody.find("tr:eq("+t+")").removeClass(b)}).on("click","tr",function(){C.call(this,"row")}).on("dblclick","tr",function(){C.call(this,"rowDouble")});var C=function(t){var n=e(this);layui.event.call(this,d,t+"("+A+")",m.call(n.children("td")[0]))};i.layBody.on("change","."+v,function(){var t=e(this),n=this.value,a=t.parent().data("field"),r=t.parents("tr").eq(0).data("index");l.cache[i.key][r][a]=n,layui.event.call(this,d,"edit("+A+")",m.call(this,{value:n,field:a}))}).on("blur","."+v,function(){var t,a,r=e(this),o=r.parent().data("field"),s=r.parents("tr").eq(0).data("index"),c=l.cache[i.key][s];i.eachCols(function(e,n){n.field==o&&n.templet&&(t=n.templet)}),r.siblings(f).html((a=this.value,t?function(){return"function"==typeof t?t(c):n(e(t).html()||this.value).render(c)}():a)),r.parent().data("content",this.value),r.remove()}),i.layBody.on("click","td",function(t){var n=e(this),i=(n.data("field"),n.data("edit")),a=n.children(f);if(!n.data("off")&&i){var r=e('<input class="layui-input '+v+'">');return r[0].value=n.data("content")||a.text(),n.find("."+v)[0]||n.append(r),r.focus(),void layui.stope(t)}});var x="layui-table-grid-down";i.layBody.on("click","."+x,function(t){var n=e(this).parent().children(f);i.tipsIndex=a.tips(['<div class="layui-table-tips-main" style="margin-top: -'+(n.height()+16)+"px;"+("sm"===o.size?"padding: 4px 15px; font-size: 12px;":"lg"===o.size?"padding: 14px 15px;":"")+'">',n.html(),"</div>",'<i class="layui-icon layui-table-tips-c layui-icon-close"></i>'].join(""),n[0],{tips:[3,""],time:-1,anim:-1,maxWidth:s.ios||s.android?300:i.elem.width()/2,isOutAnim:!1,skin:"layui-table-tips",success:function(t,e){t.find(".layui-table-tips-c").on("click",function(){a.close(e)})}}),layui.stope(t)}),i.layBody.on("click","*[lay-event]",function(){var t=e(this),n=t.parents("tr").eq(0).data("index");layui.event.call(this,d,"tool("+A+")",m.call(this,{event:t.attr("lay-event")})),i.setThisRowChecked(n)}),i.layMain.on("scroll",function(){var t=e(this),n=t.scrollLeft(),r=t.scrollTop();i.layHeader.scrollLeft(n),i.layTotal.scrollLeft(n),i.layFixed.find(y).scrollTop(r),a.close(i.tipsIndex)}),I.on("click",function(){I.trigger("table.remove.tool.panel")}),I.on("table.remove.tool.panel",function(){e(".layui-table-tool-panel").remove()}),D.on("resize",function(){i.resize()})},l.init=function(t,n){n=n||{};var i="Table element property lay-data configuration item has a syntax error: ";return e(t?'table[lay-filter="'+t+'"]':".layui-table[lay-data]").each(function(){var a=e(this),r=a.attr("lay-data");try{r=new Function("return "+r)()}catch(t){o.error(i+r)}var s=[],c=e.extend({elem:this,cols:[],data:[],skin:a.attr("lay-skin"),size:a.attr("lay-size"),even:"string"==typeof a.attr("lay-even")},l.config,n,r);t&&a.hide(),a.find("thead>tr").each(function(t){c.cols[t]=[],e(this).children().each(function(n){var a=e(this),r=a.attr("lay-data");try{r=new Function("return "+r)()}catch(t){return o.error(i+r)}var l=e.extend({title:a.text(),colspan:a.attr("colspan")||0,rowspan:a.attr("rowspan")||0},r);l.colspan<2&&s.push(l),c.cols[t].push(l)})}),a.find("tbody>tr").each(function(t){var n=e(this),i={};n.children("td").each(function(t,n){var a=e(this),r=a.data("field");if(r)return i[r]=a.html()}),layui.each(s,function(t,e){var a=n.children("td").eq(t);i[e.field]=a.html()}),c.data[t]=i}),l.render(c)}),this},c.that={},c.config={},l.eachCols=function(t,n,i){var a=c.config[t]||{},r=[],o=0;i=e.extend(!0,[],i||a.cols),layui.each(i,function(t,e){layui.each(e,function(e,n){if(n.colGroup){var a=0;o++,n.CHILD_COLS=[],layui.each(i[t+1],function(t,e){e.PARENT_COL_INDEX||a>1&&a==n.colspan||(e.PARENT_COL_INDEX=o,n.CHILD_COLS.push(e),a+=parseInt(e.colspan>1?e.colspan:1))})}n.PARENT_COL_INDEX||r.push(n)})}),function t(e){layui.each(e||r,function(e,i){if(i.CHILD_COLS)return t(i.CHILD_COLS);"function"==typeof n&&n(e,i)})}()},l.checkStatus=function(t){var e=0,n=0,i=[],a=l.cache[t]||[];return layui.each(a,function(t,a){a.constructor!==Array?a[l.config.checkName]&&(e++,i.push(l.clearCacheKey(a))):n++}),{data:i,isAll:!!a.length&&e===a.length-n}},l.exportFile=function(t,e,n){e=e||l.clearCacheKey(l.cache[t]),n=n||"csv";var i,a,r=c.config[t]||{},h={csv:"text/csv",xls:"application/vnd.ms-excel"}[n],d=document.createElement("a");if(s.ie)return o.error("IE_NOT_SUPPORT_EXPORTS");d.href="data:"+h+";charset=utf-8,\ufeff"+encodeURIComponent((i=[],a=[],layui.each(e,function(e,n){var r=[];"object"===u()(t)?(layui.each(t,function(t,n){0==e&&i.push(n||"")}),layui.each(l.clearCacheKey(n),function(t,e){r.push(e)})):l.eachCols(t,function(t,a){a.field&&"normal"==a.type&&!a.hide&&(0==e&&i.push(a.title||""),r.push(n[a.field]))}),a.push(r.join(","))}),i.join(",")+"\r\n"+a.join("\r\n"))),d.download=(r.title||"table_"+(r.index||""))+"."+n,document.body.appendChild(d),d.click(),document.body.removeChild(d)},l.resize=function(t){if(t){if(!h(t))return;c.that[t].resize()}else layui.each(c.that,function(){this.resize()})},l.reload=function(t,n){n=n||{};var i=h(t);if(i)return n.data&&n.data.constructor===Array&&delete i.data,l.render(e.extend(!0,{},i,n))},l.render=function(t){var e=new B(t);return c.call(e)},l.clearCacheKey=function(t){return delete(t=e.extend({},t))[l.config.checkName],delete t[l.config.indexName],t},l.init(),t(d,l)}),layui.define("jquery",function(t){var e=layui.$;t("util",{fixbar:function(t){var n,i,a="layui-fixbar",r="layui-fixbar-top",o=e(document),s=e("body");(t=e.extend({showHeight:200},t)).bar1=!0===t.bar1?"&#xe606;":t.bar1,t.bar2=!0===t.bar2?"&#xe607;":t.bar2,t.bgcolor=t.bgcolor?"background-color:"+t.bgcolor:"";var l=[t.bar1,t.bar2,"&#xe604;"],c=e(['<ul class="'+a+'">',t.bar1?'<li class="layui-icon" lay-type="bar1" style="'+t.bgcolor+'">'+l[0]+"</li>":"",t.bar2?'<li class="layui-icon" lay-type="bar2" style="'+t.bgcolor+'">'+l[1]+"</li>":"",'<li class="layui-icon '+r+'" lay-type="top" style="'+t.bgcolor+'">'+l[2]+"</li>","</ul>"].join("")),h=c.find("."+r),d=function(){o.scrollTop()>=t.showHeight?n||(h.show(),n=1):n&&(h.hide(),n=0)};e("."+a)[0]||("object"===u()(t.css)&&c.css(t.css),s.append(c),d(),c.find("li").on("click",function(){var n=e(this).attr("lay-type");"top"===n&&e("html,body").animate({scrollTop:0},200),t.click&&t.click.call(this,n)}),o.on("scroll",function(){clearTimeout(i),i=setTimeout(function(){d()},100)}))},countdown:function(t,e,n){var i=this,a="function"==typeof e,r=new Date(t).getTime(),o=new Date(!e||a?(new Date).getTime():e).getTime(),s=r-o,l=[Math.floor(s/864e5),Math.floor(s/36e5)%24,Math.floor(s/6e4)%60,Math.floor(s/1e3)%60];a&&(n=e);var c=setTimeout(function(){i.countdown(t,o+1e3,n)},1e3);return n&&n(s>0?l:[0,0,0,0],e,c),s<=0&&clearTimeout(c),c},timeAgo:function(t,e){var n=[[],[]],i=(new Date).getTime()-new Date(t).getTime();return i>6912e5?(i=new Date(t),n[0][0]=this.digit(i.getFullYear(),4),n[0][1]=this.digit(i.getMonth()+1),n[0][2]=this.digit(i.getDate()),e||(n[1][0]=this.digit(i.getHours()),n[1][1]=this.digit(i.getMinutes()),n[1][2]=this.digit(i.getSeconds())),n[0].join("-")+" "+n[1].join(":")):i>=864e5?(i/1e3/60/60/24|0)+"天前":i>=36e5?(i/1e3/60/60|0)+"小时前":i>=12e4?(i/1e3/60|0)+"分钟前":i<0?"未来":"刚刚"},digit:function(t,e){var n="";e=e||2;for(var i=(t=String(t)).length;i<e;i++)n+="0";return t<Math.pow(10,e)?n+(0|t):t},toDateString:function(t,e){var n=new Date(t||new Date),i=[this.digit(n.getFullYear(),4),this.digit(n.getMonth()+1),this.digit(n.getDate())],a=[this.digit(n.getHours()),this.digit(n.getMinutes()),this.digit(n.getSeconds())];return(e=e||"yyyy-MM-dd HH:mm:ss").replace(/yyyy/g,i[0]).replace(/MM/g,i[1]).replace(/dd/g,i[2]).replace(/HH/g,a[0]).replace(/mm/g,a[1]).replace(/ss/g,a[2])},escape:function(t){return String(t||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}})});var E=new(function(){return function(){this.rightClickTimeE=null,this.rightClickTimeS=null,this.leftClickX=0,this.RZGraphCache={},this.chartIsDragging=!1}}());window.RZChartData=E;var k=E,F=window.Highcharts,O=window.layui,L=O.$,U=O.layer;L.fn.removeWithoutLeaking=function(){this.each(function(t,e){e.parentNode&&e.parentNode.removeChild(e)})};var P=n(14);!function(t,e){t.ContextMenu=t.ContextMenu?t.ContextMenu:{};var n=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;"function"==typeof n&&(n=n());var r=e.createElement("div");r.setAttribute("class","web-context-menu-item "+i),r.setAttribute("id",t);var o=e.createElement("span");o.setAttribute("class","menu-item-name"),o.innerText=n,a&&"function"==typeof a&&o.addEventListener("click",function(){try{a()}catch(t){}});var s=e.createElement("i");s.innerText="▲",o.appendChild(s);var l=e.createElement("div");return l.setAttribute("class","web-context-menu-items"),r.appendChild(o),r.appendChild(l),r},i=function(){var t=e.createElement("div");return t.setAttribute("class","menu-item-line"),t},a=function(t,a){var o=e.createElement("div");"en"===Object(f.v)("rzgraphlang")?o.setAttribute("class","web-context-menu RZGraph-Locale-En-Menu"):o.setAttribute("class","web-context-menu"),r(o,"web-context-menu-"+t),e.querySelector("body").appendChild(o);var s=e.createElement("div");s.setAttribute("class","web-context-menu-items"),o.appendChild(s);for(var l=0,c=a.length;l<c;l++){var u=a[l],h=u.parent,d=n(u.id,u.name,u.classname,u.callback);if(null!=document.getElementById(u.id))try{document.getElementById(u.id).remove()}catch(t){document.getElementById(u.id).removeNode(!0)}if(h){var p=e.querySelector("#"+h+" .web-context-menu-items");p.appendChild(d),p.appendChild(i())}else s.appendChild(d),s.appendChild(i())}var A=o.querySelectorAll(".web-context-menu-items");for(l=0,c=A.length;l<c;l++){var m=A[l];if(!m.hasChildNodes()){var y=m.parentElement.querySelector("i");y.parentElement.removeChild(y)}}};function r(t,e){(function(t,e){return 0!=(e=e||"").replace(/\s/g,"").length&&new RegExp(" "+e+" ").test(" "+t.className+" ")})(t,e)||(t.className=""==t.className?e:t.className+" "+e)}var o=function(e,n){n.style.display="block";var i=e.clientX,a=e.clientY;a+n.clientHeight>t.innerHeight&&(a-=n.clientHeight),i+n.clientWidth>t.innerWidth&&(i-=n.clientWidth),n.style.left=i+"px",n.style.top=a+"px"};ContextMenu.bind=function(n,i){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(n){var s=n;t.ContextMenu.unbind(n);var l=function t(n,i){try{var s;s="function"==typeof i?i():i;var l=e.querySelectorAll(".web-context-menu");if(l)for(var c=0,u=l.length;c<u;c++)l[c].style.display="none";var h="",d=this.getAttribute("data-menu-key");d?h=d:(h="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),this.setAttribute("data-menu-key",h));var p=e.querySelector(".web-context-menu-"+h);if((!p||p.length<1)&&(a(h,s),p=e.querySelector(".web-context-menu-"+h)),o(n,p),r)try{r()}catch(t){}return e.addEventListener("click",function(t){p.style.display="none"}),!1}catch(t){return P.a.error("menu",t),!1}return!1};L(s).mouseup(function(t){var e=this;2==t.button&&setTimeout(function(){l.call(e,t,i)},0)}),s.oncontextmenu=function(){return!1}}},ContextMenu.unbind=function(t){try{t.oncontextmenu=null,L(t).unbind();var e=t.getAttribute("data-menu-key");e&&L(".web-context-menu-"+e).remove(),t.removeAttribute("data-menu-index")}catch(t){}}}(window,document);var R=window.ContextMenu;n(227),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237);O.define("jquery",function(t){var e=O.$,n=O.hint(),i=function(t,e,n){var i=-1;return function(t,e){var n;if("function"!=typeof e)return this;if((t=t||[]).constructor===Object){for(n in t)if(e.call(t[n],n,t[n]))break}else for(n=0;n<t.length&&!e.call(t[n],n,t[n]);n++);}(t,function(t,a){a[n]==e&&(i=t)}),i},a={name:"name",id:"id",children:"children",checkbox:"checkbox",spread:"spread"},r=function(t){this.changeList=[],this.$vm=this,this.$options=t||{},this.$el=this.utils.isElementNode(this.$options.elem)?this.$options.elem:e(this.$options.elem),this.nodes=this.$options.nodes||[],this.props=this.$options.props||a,this.nameKey=this.props.name||a.name,this.idKey=this.props.id||a.id,this.childrenKey=this.props.children||a.children,this.checkboxKey=this.props.checkbox||a.checkbox,this.spreadKey=this.props.spread||a.spread},o=["&#xe8ed;","&#xe8ec;"],s=["&#xe7a9;","&#xe7a8;"];r.prototype.utils={isElementNode:function(t){return 1===t.nodeType}},r.prototype.init=function(){var t=this.$vm,e=this.$options;t.$el.addClass("layui-box layui-atree"),e.skin&&t.$el.addClass("layui-atree-skin-"+e.skin),t.tree(t.$el,t.nodes),t.on(t.$el)},r.prototype.tree=function(t,n,i){var a=this.$vm,r=(this.$options,n);O.each(r,function(n,r){var o=r[a.childrenKey]&&r[a.childrenKey].length>0,s=a.getDom(r);i&&(r.$parent=i);var l=e(s.ul(r)),c=e(a.getNode(r));r[a.checkboxKey]&&this.changeList.push(r),o&&(c.append(l),a.tree(l,r[a.childrenKey],r)),a.spread(c,r),a.bindUlEvent(c,r),t.append(c)})},r.prototype.getDom=function(t){var e=this.$vm,n=this.$options,i=t[e.childrenKey]&&t[e.childrenKey].length>0;return{spread:function(){return i?'<i class="layui-atree-icon layui-atree-spread">'+(t[e.spreadKey]||n.spreadAll||n.initLevel>=t.level?o[1]:o[0])+"</i>":""},checkbox:function(){return n.check?'<i class="layui-atree-icon layui-atree-check'+(t[e.checkboxKey]?" is-checked":"")+'">'+(t[e.checkboxKey]?s[1]:s[0])+"</i>":""},ul:function(){return'<ul class="'+(t[e.spreadKey]||n.spreadAll||n.initLevel>=t.level?"layui-show":"")+'"></ul>'},node:function(){return'<a href="'+(t.href||"javascript:;")+'" '+(n.target&&t.href?'target="'+n.target+'"':"")+"><cite>"+(t[e.nameKey]||"")+"</cite></a>"},menu:function(t){var e="";if(t.customBtn){for(var n=0;n<t.customBtn.length;n++){var i=t.customBtn[n];e+='<span class="layui-atree-custombtn unselect" data-id="'+i.id+'">'+i.name+"</span>"}e='<div class="layui-atree-menu">'+e+"</div>"}return e}}},r.prototype.getNode=function(t){var e=this.$vm,n=this.$options,i=e.getDom(t);return["<li "+(t[e.spreadKey]||n.spreadAll||n.initLevel>=t.level?'data-spread="'+(t[e.spreadKey]||!0)+'"':"")+(t[e.checkboxKey]?'data-check="'+t[e.checkboxKey]+'"':"")+"data-id="+t[e.idKey]+'><div class="layui-atree-node">',i.spread(),i.checkbox(),i.node(),i.menu(t),"</div></li>"].join("")},r.prototype.checkItems=function(t){this.checkAll(!1,!1);for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,i=this.$vm,a=function(t,e,a,r){n.setCheck(t,e,a),n.setAllChildCheck(t,e,a),n.setAllPatentCheck(t,e,a),r&&i.change()},r=0;r<t.length;r++){a(n.$el.find("li[data-id='"+t[r][this.idKey]+"']"),t[r],e,!1)}i.change()},r.prototype.expandAll=function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.$vm,n=0;n<this.nodes.length;n++){var i=this.$el.find("li[data-id='"+this.nodes[n][this.idKey]+"']"),a=i.children(".layui-atree-node").children(".layui-atree-spread"),r=i.children("ul"),o=i.attr("data-spread");o&&!1===t&&e.open(i,r,a),o||!0!==t||e.open(i,r,a)}(!(arguments.length>0&&void 0!==arguments[1])||arguments[1])&&e.change()},r.prototype.checkAll=function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,n=this.$vm,i=function(t,i,a,r){e.setCheck(t,i,a),e.setAllChildCheck(t,i,a),e.setAllPatentCheck(t,i,a),r&&n.change()},a=0;a<this.nodes.length;a++){i(e.$el.find("li[data-id='"+this.nodes[a][this.idKey]+"']"),this.nodes[a],t,!1)}n.change()},r.prototype.bindUlEvent=function(t,e){var n=this.$vm,i=this.$options;"function"==typeof i.click&&n.click(t,e),"function"==typeof i.change&&"checkbox"===i.check&&n.checkbox(t,e),e.customBtn&&n.customBtn(t,e)},r.prototype.change=function(){var t=this.$vm;this.$options.change(t.getCheckData())},r.prototype.customBtn=function(t,n){this.$vm;var i=this.$options;t.children(".layui-atree-node").children(".layui-atree-menu").children(".layui-atree-custombtn").on("click",function(a){var r=e(this).attr("data-id");i.onCustomBtnClick&&i.onCustomBtnClick(n,r,!0===t.data("check"))})},r.prototype.click=function(t,e){this.$vm;var n=this.$options;t.children(".layui-atree-node").children("a").on("click",function(t){O.stope(t),n.click(e,this)})},r.prototype.setAllChildCheck=function(t,n,i){for(var a=t.children("ul").find("li"),r=n&&n.children||[],o=0,s=a.length;o<s;o++){var l=e(a[o]);this.setCheck(l,r[o],i),this.setAllChildCheck(l,r[o],i)}},r.prototype.setAllPatentCheck=function(t,n,i){for(var a=t.parent().parent(),r=a.children("ul").find("li"),o=!0,s=0;s<r.length;s++){if(!e(r[s]).data("check")){o=!1;break}}!n.$parent||!o&&i||(this.setCheck(a,n.$parent,i),this.setAllPatentCheck(a,n.$parent,i))},r.prototype.setCheck=function(t,e,n){var a=this.$vm,r=this.changeList,o=t.children(".layui-atree-node").find(".layui-atree-check");if(n?(t.data("check",!0),t.attr("data-check",!0),o.html(s[1]),o.addClass(" is-checked")):(t.data("check",null),t.attr("data-check",null),o.removeClass(" is-checked"),o.html(s[0])),e){var l=i(r,e[a.idKey],a.idKey);-1===l&&!0===n?r.push(e):!1===n&&l>=0&&r.splice(l,1)}},r.prototype.getCheckData=function(){var t=this.$vm,n=e(t.$el).find(".is-checked"),i=[];return n.map(function(t){var a=n[t];i.push(e(a).data())}),i},r.prototype.checkbox=function(t,e){var n=this.$vm,i=this,a=(this.$options,t.children(".layui-atree-node").children(".layui-atree-check"));a.data(e),a.on("click",function(){var a;a=!t.data("check"),i.setCheck(t,e,a),i.setAllChildCheck(t,e,a),i.setAllPatentCheck(t,e,a),n.change()})},r.prototype.spread=function(t,e){var n=this.$vm,i=(this.$options,t.children(".layui-atree-node")),a=i.children(".layui-atree-spread"),r=t.children("ul");i.children("a");r[0]&&a.on("click",function(){n.open(t,r,a)})},r.prototype.open=function(t,e,n){t.data("spread")?(t.data("spread",null),t.attr("data-spread",null),e.removeClass("layui-show"),n.html(o[0])):(t.data("spread",!0),t.attr("data-spread",!0),e.addClass("layui-show"),n.html(o[1]))},r.prototype.on=function(t){this.$vm,this.$options;t.find("i").on("selectstart",function(t){return!1})},t("atree",function(t){var i=new r(t=t||{}),a=e(t.elem);return a[0]?(i.init(a),i):n.error("layui.atree error")})}),layui.define(["jquery"],function(t){var e="treeTable",n=layui.jquery;(a=function(){}).prototype.config=function(){return{top_value:0,primary_key:"id",parent_key:"pid",hide_class:"layui-hide",icon:{open:"layui-icon layui-icon-triangle-d",close:"layui-icon layui-icon-triangle-r",left:32},cols:[],checked:{},is_click_icon:!1,is_checkbox:!1,is_cache:!1,is_head:!0,is_open:!1}},a.prototype.template=function(t){var i=this,a=[],r="",o=n("table"+t.elem).length||!(t.is_click_icon=!0),s=t.is_checkbox?'<div class="layui-unselect layui-form-checkbox cbx" lay-skin="primary"><i class="layui-icon layui-icon-ok"></i></div>':"",l=s?s.replace("cbx","cbx layui-form-checked"):"",c=s&&'<th style="width:28px;">'+(n.inArray(t.top_value,t.checked.data)>-1?l:s)+"</th>";n.each(i.data(t,t.data),function(e,u){var h="",d=!1,p=u[t.parent_key]==t.top_value||u[t.parent_key]==i.cache(t,u[t.parent_key])||t.is_open?"":t.hide_class;u.level=a[u[t.primary_key]]=u[t.parent_key]!=t.top_value?a[u[t.parent_key]]+1:0,u.is_end=!t.childs[u[t.primary_key]],n.each(t.cols,function(r,p){var f="";p.width&&(f+="width:"+p.width+";"),p.align&&(f+="text-align:"+p.align+";"),f&&(f='style="'+f+'"'),t.is_checkbox&&t.checked&&n.inArray(u[t.checked.key],t.checked.data)>-1&&(d=!0),0==e&&t.is_head&&(c+="<th "+f+">"+p.title+"</th>");var A=p.key!=t.icon_key||u.is_end?"<span></span>":'<i class="'+(i.cache(t,u[t.primary_key])||t.is_open?t.icon.open:t.icon.close)+'"></i>',m=p.key==t.icon_key?a[u[t.primary_key]]*t.icon.left+"px":"";A=A.replace(">",' style="margin-left:'+m+';">'),h+="<td "+f+(m?"data-down":"")+">"+A+(o?"":d?l:s)+(p.template?p.template(u):u[p.key])+"</td>"});var f=o?n(d?l:s).wrap('<td style="width:28px;">').parent().prop("outerHTML"):"";r+='<tr class="'+p+'" data-id="'+u[t.primary_key]+'" data-pid="'+u[t.parent_key]+'">'+f+h+"</tr>"});var u=o?'<thead><tr data-id="'+t.top_value+'">'+c+"</tr></thead><tbody>"+r+"</tbody>":r.replace(/<tr/g,"<ul").replace(/tr>/g,"ul>").replace(/<td/g,"<li").replace(/td>/g,"li>"),h=t.is_click_icon?"[data-down] i:not(.layui-icon-ok)":"[data-down]";n(t.elem).html(u).off("click",h).on("click",h,function(){var a=n(this).parents("[data-id]").eq(0),r=a.find("[data-down]"),o=a.data("id"),s=a.data("pid"),l=r.find("i:not(.layui-icon-ok)").attr("class")==t.icon.close;l?(r.find("i:not(.layui-icon-ok)").attr("class",t.icon.open),r.parents(t.elem).find("[data-pid="+o+"]").removeClass(t.hide_class),i.cache(t,o,!0)):(r.find("i:not(.layui-icon-ok)").attr("class",t.icon.close),i.childs_hide(t,o)),layui.event.call(this,e,"tree(flex)",{elem:this,item:t.childs[s][o],table:t.elem,is_open:l})}).off("click",".cbx").on("click",".cbx",function(){var a=n(this).toggleClass("layui-form-checked").hasClass("layui-form-checked"),r=n(this).parents("[data-id]").eq(0),o=r.data("id"),s=r.data("pid"),l=n(this).parents("[lay-filter]").eq(0).attr("lay-filter");i.childs_checkbox(t,0,o,a),i.parents_checkbox(t,s),layui.event.call(this,e,"tree(checked"+l+")",{elem:this,item:void 0===s?{}:t.childs[s][o],table:t.elem,is_checked:a})}).off("click","[lay-filter]").on("click","[lay-filter]",function(){var i=n(this).parents("[data-id]").eq(0),a=i.data("id"),r=i.data("pid"),o=n(this).attr("lay-filter");return layui.event.call(this,e,"tree("+o+")",{elem:this,item:t.childs[r][a]})}),t.end&&t.end(t)},a.prototype.parents_checkbox=function(t,e){var i=n(t.elem).find("[data-pid="+e+"]"),a=n(t.elem).find("[data-id="+e+"]"),r=n(t.elem).find("[data-pid="+e+"] .cbx.layui-form-checked").length;if(i.length==r||0==r){e=a.data("pid");r?a.find(".cbx").addClass("layui-form-checked"):a.find(".cbx").removeClass("layui-form-checked"),void 0===e||this.parents_checkbox(t,e)}else{e=a.data("pid");a.find(".cbx").removeClass("layui-form-checked"),void 0===e||this.parents_checkbox(t,e)}},a.prototype.setOpen=function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this;e.forEach(function(e){var r=n(t.elem).find("[data-id="+e+"]"),o=r.find("[data-down]");e=r.data("id"),r.data("pid");i?(o.find("i:not(.layui-icon-ok)").attr("class",t.icon.open),o.parents(t.elem).find("[data-pid="+e+"]").removeClass(t.hide_class),a.cache(t,e,!0)):(o.find("i:not(.layui-icon-ok)").attr("class",t.icon.close),a.childs_hide(t,e))})},a.prototype.setChecked=function(t,e){var i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.forEach(function(e){var r=i,o=n(t.elem).find("[data-id="+e+"]"),s=o.find("td").eq(0).find(".layui-form-checkbox");a?s.addClass("layui-form-checked"):s.removeClass("layui-form-checked");e=o.data("id");var l=o.data("pid");n(t.elem).find("[data-id="+l+"]");r.childs_checkbox(t,0,e,a),r.parents_checkbox(t,l)})},a.prototype.childs_checkbox=function(t,e,i,a){var r=this;n(t.elem).find("[data-pid="+i+"]").each(function(){var i=n(this).find("td").eq(e).find(".layui-form-checkbox");a?i.addClass("layui-form-checked"):i.removeClass("layui-form-checked"),r.childs_checkbox(t,e,n(this).data("id"),a)})},a.prototype.childs_hide=function(t,e){var i=this;i.cache(t,e,!1),n(t.elem).find("[data-pid="+e+"]:not(."+t.hide_class+")").each(function(){var a=n(this).find("[data-down]"),r=a.find("i:not(.layui-icon-ok)");r.length&&r.attr("class",t.icon.close),a.parents(t.elem).find("[data-pid="+e+"]").addClass(t.hide_class),i.childs_hide(t,n(this).data("id"))})},a.prototype.data=function(t){var e=[],i=[];return n.each(t.data,function(n,a){e[a[t.primary_key]]=a,i[a[t.parent_key]]||(i[a[t.parent_key]]=[]),i[a[t.parent_key]][a[t.primary_key]]=a}),t.childs=i,this.tree_data(t,e,t.top_value,[])},a.prototype.tree_data=function(t,e,i,a){var r=this;return e[i]&&(a.push(e[i]),delete e[i]),n.each(t.data,function(n,o){o[t.parent_key]==i&&a.concat(r.tree_data(t,e,o[t.primary_key],a))}),a},a.prototype.render=function(t){var e=this;return(t=n.extend(e.config(),t)).url?n.get(t.url,function(n){t.data=n,e.template(t)}):e.template(t),t},a.prototype.checked=function(t,e,i,a){var r=[];return null==e&&(e=0),null==i&&(i=e),n(t.elem).find("tr").each(function(){if(n(this).find("td").eq(e).find(".layui-form-checked").length){var t=e!=i||a?n.trim(n(this).find("td").eq(i).text()):n(this).data("id");r.push(t)}}),r},a.prototype.openAll=function(t){var e=this;n.each(t.data,function(n,i){i[t.primary_key]&&e.cache(t,i[t.primary_key],!0)}),e.render(t)},a.prototype.closeAll=function(t){this.render(t)},a.prototype.on=function(t,n){return layui.onevent.call(this,e,t,n)},a.prototype.parentValues=function(t,e,i,a,r){var o=n(t.elem).find("[data-id="+e+"]");if(o.length&&e){var s=o.data("pid"),l=o.find("td").eq(i).text();a?r.unshift(l):r.unshift(e),this.parentValues(t,s,i,a,r)}return r};var i={};a.prototype.cache=function(t,e,a){if(!t.is_cache)return!1;var r=t.elem.substr(1),o=(e=e.toString(),i[r]?i[r].split(","):[]),s=n.inArray(e,o);if(void 0===a)return-1!=s&&e;a&&-1==s&&o.push(e),!a&&s>-1&&o.splice(s,1),i[r]=o.join(",")};var a=new a;t(e,a)});var H={xZoomMinSelection:10};F.setOptions({global:{useUTC:!1}});var Q=Object(f.v)("RZ_Compatibility_Mode");!function(t){var e=t._modules["Extensions/Boost/BoostUtils.js"];if(e){t.eachAsync=e.eachAsync;var n=e.hasWebGLSupport;e.hasWebGLSupport=function(){return!0!==Q&&n()}}var i=t._modules["Extensions/Boost/Boost.js"];i&&i(),e&&!e.hasWebGLSupport()&&t.addEvent(t.Chart,"redraw",function(){try{var t=this.plotBoxClip.id;this.seriesGroup.attr("clip-path","url(#"+t+")")}catch(t){}});var a=t._modules["Extensions/Annotations/Mixins/EventEmitterMixin.js"];if(a){var r=t.fireEvent,o=t._modules["Core/Utilities.js"].objectEach,s=function(){var e=this,n=function(n){z(n,t.isTouchDevice?"touchstart":"mousedown",function(t){e.onMouseDown(t),t&&t.stopPropagation&&t.stopPropagation()})};if(n(this.graphic.element),(e.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&n(t.graphic.text.element)}),o(e.options.events,function(t,n){var i=function(i){"click"===n&&e.cancelClick||t.call(e,e.chart.pointer.normalize(i),e.target),("click"!==n||"click"==n&&e.cancelClick)&&i&&i.stopPropagation&&i.stopPropagation()};-1===(e.nonDOMEvents||[]).indexOf(n)?e.graphic.on(n,i):z(e,n,i)}),e.options.draggable&&(z(e,"drag",e.onDrag),!e.graphic.renderer.styledMode)){var i={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[e.options.draggable]};e.graphic.css(i),(e.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(i)})}e.isUpdating||r(e,"add")};a.addEvents=s,t.Annotation.prototype.addEvents=s}t.Annotation.prototype.addClipPaths=function(){}}(F),"zh"==M.getLocale()&&(F.setOptions({lang:{contextButtonTitle:"图表导出菜单",decimalPoint:".",downloadJPEG:"下载JPEG图片",downloadPDF:"下载PDF文件",downloadPNG:"下载PNG文件",downloadSVG:"下载SVG文件",drillUpText:"返回 {series.name}",loading:"加载中",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],noData:"没有数据",numericSymbols:["k","兆","G","T","P","E"],printChart:"打印图表",resetZoom:"恢复缩放",resetZoomTitle:"恢复图表",shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],thousandsSep:",",weekdays:["星期一","星期二","星期三","星期四","星期五","星期六","星期天"]}}),F.setOptions({global:{timezoneOffset:-480,useUTC:!1}})),L(document).bind("keydown",function(t){var e=L(".RZcontainer[data-isactived='1']");if(e.length>0){var n=L(e).eq(0).attr("data-id");k.RZGraphCache[n]&&k.RZGraphCache[n].onHotKeyDown&&k.RZGraphCache[n].onHotKeyDown(t.keyCode)}return!0}),L(document).bind("keyup",function(t){var e=L(".RZcontainer[data-isactived='1']");if(e.length>0){var n=L(e).eq(0).attr("data-id");k.RZGraphCache[n]&&k.RZGraphCache[n].onHotKeyUp&&k.RZGraphCache[n].onHotKeyUp(t.keyCode)}return!0}),L(document).ready(function(){L(document).on("click",".RZcontainer",function(){"1"!==L(this).attr("data-isActived")&&(L(".RZcontainer").attr({"data-isActived":"0"}),L(this).attr({"data-isActived":"1"}))})});var _=null,N=function(){try{_&&_.destroy&&_.destroy(),_=null}catch(t){}},j=function(t,e){return N(),_=t.renderer.path(e).css({"z-index":999999}).attr({zIndex:9999999,"stroke-width":1,"stroke-dasharray":3,stroke:F.getOptions().colors[12],id:"rzChartPath"}).add()},Y=function(t){requestAnimationFrame?requestAnimationFrame(t):t()},z=F.addEvent;document.body;F.wrap(F.Chart.prototype,"init",function(t){t.apply(this,Array.prototype.slice.call(arguments,1));var e=this;if(!e.polar){var n,i,a,r,o=e.options.chart.panning||!0,s=e.container,l=e.yAxis[0],c=e.xAxis[0],u=!1,h=0,d=0,p=!1,A=new Date,m=0,y=0,g=0,v=0,b=!1,C=function(t){k.rightClickTimeE=new Date;var i=function(){if(u&&(L("body").css("cursor","default"),u=!1,k.chartIsDragging=!1,d>40||h>20))return t.stopPropagation(),!1;N()},a=function(){if(N(),1==p){if(p=!1,b){if(b=!1,!1===e.options.enabledYAxisZoom)return;try{e&&e.pointer&&e.pointer.drop&&e.pointer.drop(t),e&&e.pointer&&(e.pointer.hasZoom=!1);var i=t.clientY-e.container.getBoundingClientRect().top,a=l.toValue(i,!0),r=l.toValue(n,!0);Y(function(){return l.setExtremes(a<r?a:r,a<r?r:a,!0)})}catch(t){}try{t.stopPropagation()}catch(t){t.cancelBubble=!0}return!1}if(new Date-A>50&&m-t.screenX>10&&y-t.screenY>0)return e.rzisZoomOut=!0,e&&e.pointer&&e.pointer.drop(t),F.fireEvent(e,"resetZoom",{}),e&&e.pointer&&(e.pointer.hasZoom=!1),t.stopPropagation(),!1}};if("mouseleave"===t.type)return i(),void a();0==t.button&&a(),p=!1,2==t.button&&i()};e&&c&&l&&o&&(z(s,"mousedown",function(t){L(".web-context-menu").hide(),0==t.button&&(p=!0,A=new Date,y=t.screenY,m=t.screenX,v=t.chartX,g=t.chartY),n=e.pointer.normalize(t).chartY,i=e.pointer.normalize(t).chartX,a=l.toValue(n,!0),r=c.toValue(i,!0),2==t.button&&(e&&e.options&&!1===e.options.enabledHotkey||(d=0,h=0,L("body").css("cursor","pointer"),k.rightClickTimeS=new Date,u=!0))}),z(s,"mousemove",Object(f.H)(function(t){if(!e||!e.options||!1!==e.options.enabledHotkey)try{if(b=!1,N(),1==p){if(Math.abs(t.chartX-v)<H.xZoomMinSelection&&Math.abs(t.chartY-g)>=20){if(!1===e.options.enabledYAxisZoom)return;var o=e.plotLeft,s=e.plotWidth+e.plotLeft;return L(".highcharts-selection-marker").hide(),j(e,["M",o,t.chartY,"L",s,t.chartY,"M",o,g,"L",s,g]),b=!0,!1}return L(".highcharts-selection-marker").show(),t.chartX-v>0||t.chartY-g>0?void L(".highcharts-selection-marker").show():(L(".highcharts-selection-marker").hide(),void j(e,["M",v,g,"L",v,t.chartY,"L",t.chartX,t.chartY,"L",t.chartX,g,"L",v,g,"M",v,g,"L",t.chartX,t.chartY,"M",t.chartX,g,"L",v,t.chartY,"Z"]))}if(u&&!F.Pointer.prototype.inClass(t.target,"highcharts-scrollbar")){k.chartIsDragging=!0,F.fireEvent(e,"draggingChart",{}),L("body").css("cursor","pointer");var f,A,m=e.pointer.normalize(t).chartX,y=c.toValue(m,!0),C=c.getExtremes(),x=C.userMin,w=C.userMax,D=C.min,I=C.max,B=void 0!==x?x:D,T=void 0!==w?w:I;if((d=Math.abs(i-m))>40&&(!1!==window.rzAllowDragZero?(f=B-(y-r),A=T-(y-r),Y(function(){return c.setExtremes(f,A,!1,!1)})):(B-(y-r)<D&&(y=B+r-D),T-(y-r)>I&&(y=T+r-I),A=T-(y-r),(f=B-(y-r))>=D&&A<=I&&Y(function(){c.setExtremes(f<D?D:f,A>I?I:A,!1,!1)}))),e.options.chart.zoomType){var S,M,E=e.pointer.normalize(t).chartY,O=l.toValue(E,!0),U=l.getExtremes(),P=U.userMin,R=U.userMax,Q=U.min,_=U.max,z=void 0!==P?P:Q,G=void 0!==R?R:_;(h=Math.abs(n-E))>20&&(e.options.enabledYAxisDrag||(S=z-(O-a),M=G-(O-a),Y(function(){return l.setExtremes(S,M,!1,!1)})))}Y(function(){e.redraw(!1)})}}catch(t){}},100,{})),z(s,"mouseleave",C),z(s,"mouseup",C))}});var G=new(function(){return function(){var t=this;this.Data={},this.maxCount=10,this.TableData={},this.getDeviceId=function(){if(t.TableData)return t.TableData.deviceId},this.Add=function(e,n){Object.keys(t.Data).indexOf(e)>-1&&(t.Data[e]=void 0,delete t.Data[e]),t.Data[e]=n},this.Get=function(e){return t.Data[e]},this.Delete=function(e){t.Data[e]=void 0,delete t.Data[e]},this.Dispose=function(){t.TableData=null},this.Clear=function(){}}}()),V=new(function(){return function(){var t=this;this._data={},this.AddCache=function(e,n){t._data[e]=n},this.RemoveCache=function(e){t._data[e]=void 0,delete t._data[e]},this.Clear=function(){t._data={}},this.Get=function(){return t._data}}}()),K={_listeners:{},addEvent:function(t,e,n){return void 0===this._listeners[t]&&(this._listeners[t]=[]),"function"==typeof e&&(e.id=n,this._listeners[t].push(e)),this},fireEvent:function t(e,n){try{var i=this._listeners[e];if(!i)return;if("function"==typeof i)return i({type:e,data:n}),this;if(i instanceof Array)for(var a=0,r=i.length;a<r;a+=1)if("function"==typeof i[a])try{i[a]({type:e,data:n})}catch(t){P.a.error("fireEvent=>",e,t)}}catch(t){P.a.error("fireEvent=>",e,t)}return this},removeEvent:function t(e,n,i){try{var a=this._listeners[e];if("string"==typeof e&&a instanceof Array){if("function"==typeof n||i)for(var r=0,o=a.length;r<o;r+=1)if(a[r]===n||a[r].id==i){this._listeners[e].splice(r,1);break}}else this._listeners[e]=void 0,delete this._listeners[e];return this}catch(t){P.a.error("removeEvent=>",t)}}};window.RzGraphEventBus=window.RzGraphEventBus||K;var W=window.RzGraphEventBus,X=function(){function t(t){this._id=t,this.eventList=[]}return t.prototype.Dispose=function(){this.RemoveAllEvent(),this.eventList=null,this._id=null},t.prototype.RemoveAllEvent=function(){var t=this;this.eventList&&(this.eventList.map(function(e){W.removeEvent(e,null,t._id)}),this.eventList=[])},t.prototype.AddEvent=function(t,e){W.addEvent(t,e,this._id),this.eventList.push(t)},t.prototype.RemoveEvent=function(t,e,n){W.removeEvent(t,e,n);try{this.eventList.splice(this.eventList.indexOf(t),1)}catch(t){}},t.prototype.DispatchEvent=function(t,e){W.fireEvent(t,e)},t}(),q=n(1),J=function(){function t(t,e){var n=this;if(void 0===e&&(e=null),this.isShow=!0,this.chartName="",this.deviceId="",this.devicePath="",this.onAssetChangeJudgeType=!1,this.onlyDeviceChange=!1,this.onDisplayChange=function(t){},this.onWhenHidden=function(){},this.onAssetTypeNotSupport=function(t){},this.onTrendChange=function(t){},this.onBaseTrendChange=function(t){var e=t.data,i=n;if(e.assetid===G.TableData.assetid&&(e.assetType=9999===e.assetType?10:e.assetType,i.isShow)){if(e.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(e.assetType)<0){try{i.assetType!==e.assetType&&i.onAssetTypeNotSupport(e)}catch(t){}return}n.onTrendChange(e)}},this.onTemporaryDataClick=function(t){},this.onBaseTemporaryDataClick=function(t){var e=t.data;n.onTemporaryDataClick(e)},this.lastAssetChangeData=null,this.setChartName=function(){L(n.element).attr("data-type",n.chartName)},this.fastIsEqual=!0,this.onAssetChange=function(t,e){},this.onBaseAssetChange=function(t){var e=t.data;n.setChartName();var i=n;if(e.assetid===G.TableData.assetid||!n.fastIsEqual){if(e.assetType=9999===e.assetType?10:e.assetType,i.lastAssetChangeData&&e&&i.lastAssetChangeData.assetid==e.assetid&&i.lastAssetChangeData.assetType==e.assetType&&i.lastAssetChangeData.deviceId==e.deviceId&&i.lastAssetChangeData.path==e.path&&3!=e.assetType&&n.fastIsEqual)return!0;if(1==i.onlyDeviceChange&&i.lastAssetChangeData&&e&&i.lastAssetChangeData.deviceId==e.deviceId)return i.Path=e.path,void i.onAssetChange(e,{setChartTitle:!0});if(i.isShow){if(i.lastAssetChangeData=e,i.assetId=e.assetid,i.deviceId=e.deviceId,i.Path=e.path,i.assetType=e.assetId,i.devicePath=e.devicePath,i.assetType=e.assetType,i.onAssetTypeNotSupport(e),n.onAssetChangeJudgeType&&e.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(e.assetType)<0)return;i.onAssetChange(e)}}},this.addEvent=function(t,e){var i=n;n.event.AddEvent(t,function(n){(i.isShow||"TemporaryDataOnClick"===t)&&e(n)})},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.assetType=G.TableData.assetType,this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId,this.devicePath=G.TableData.devicePath):this.Path=e,L(this.element).addClass("RZGraphChartCard");var i=Object(f.v)("RZGraphDarkTheme"),a=Object(f.v)("rzgraphlang");!1!==i&&L(this.element).addClass("RZGraph-Dark-Theme"),"en"===a&&L(this.element).addClass("RZGraph-Locale-En"),this.isShow=!0,this.id=Object(f.y)(),this.event=new X(this.id),this.addEvent("onAssetChange",this.onBaseAssetChange),this.addEvent("TrendChange",this.onBaseTrendChange),this.addEvent("TemporaryDataOnClick",this.onBaseTemporaryDataClick),V.AddCache(this.id,this)}return t.prototype.getChartByType=function(t){try{if(t){if("DataTable"===t){var e=G.TableData;return e&&Object.keys(e).length>0?e:null}var n=null,i=V.Get();return i&&Object.keys(i).map(function(e){i[e]&&i[e].chartName===t&&(n=i[e])}),n}}catch(t){return null}},t.prototype.BaseDispose=function(){this.event&&this.event.Dispose(),this.assetId=null,this.assetType=null,this.deviceId=null,this.devicePath=null,this.lastAssetChangeData=null,L(this.element).unbind(),L(this.element).remove(),this.element=null,V.RemoveCache(this.id)},t}(),Z=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},tt=(function(){}(),function(){function t(t){var e=this;this.isOpen=!0,this._id=null,this._chart=null,this._menuItems=[],this._removeMeunItems=[],this.Bind=function(t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=null),e.isOpen){e._elem=t;var a=e;R.bind(t,function(){var t=Z(Z([],a.getBaseMenu()),a._menuItems);if(a._removeMeunItems.length>0)for(var e=function(e){var n=a._removeMeunItems[e];t=t.filter(function(t){return t.id!==n&&t.parent!==n})},n=0;n<a._removeMeunItems.length;n++)e(n);return!1===a._chart.chartConfig.isShowDisplayPoint&&(t=t.filter(function(t){return t.id.indexOf("removePoint")<0})),t},n,i)}},this._chart=t,this._id=t.id,this._menuItems=[],this._removeMeunItems=[]}return t.prototype.Dispose=function(){this._menuItems=null,R.unbind(this._elem),this._chart=null,this._elem=null,this._id=null},t.prototype.AddMenuItem=function(t,e,n,i,a){this._chart.isInit&&console&&console.warn,this._menuItems||(this._menuItems=[]),this._menuItems.findIndex(function(e){return e.id===t})>=0||this._menuItems.push({id:t,name:e,callback:n,parent:i,classname:a})},t.prototype.AddMenuItems=function(t){this._chart.isInit&&console&&console.warn,this._menuItems||(this._menuItems=[]),this._menuItems=this._menuItems.concat(t)},t.prototype.getMenuItems=function(){return this._menuItems},t.prototype.RemoveMenuItem=function(t){t+=this._id,this._removeMeunItems.push(t),this._menuItems=this._menuItems.filter(function(e){return e.id!==t&&e.parent!==t})},t.prototype.getBaseMenu=function(){var t=this;Object(f.v)("RZGraphDarkTheme");return[{id:"enableDynamicCursor"+t._id,name:t._chart.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open"),callback:function(){var e=!t._chart.dynamicCursorEnable;e?t._chart.openDynamicCursorEnable():t._chart.closeDynamicCursorEnable(),L("#enableDynamicCursor"+t._id+" .menu-item-name").html(t._chart.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open")),t._chart.props.onBaseMeunBtnClick&&t._chart.props.onBaseMeunBtnClick("enableDynamicCursor",t._chart.GetChartId(),e)}},{name:M.$t("menu.label"),id:"remark"+this._id,callback:function(){}},{name:M.$t("menu.label.add"),id:"addremark"+this._id,parent:"remark"+this._id,callback:function(){t._chart.verifyData(t._chart.data)&&U.prompt({title:M.$t("prompt.label.title"),formType:2,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],value:t._chart.getSelectedText(!1)},function(e,n){try{var i=t._chart.getDataBySelectedIndex();t._chart.AddCustomLabel(e,i[0],i[1])}catch(t){}U.close(n)})}},{name:M.$t("menu.label.remove.all"),id:"removeallremark"+t._id,parent:"remark"+t._id,callback:function(){t._chart.RemoveAllCustomLabel()}},{name:M.$t("meun.graphic.lock"),id:"LockChart"+t._id,callback:function(){t._chart.isLockChart=!t._chart.isLockChart,L("#LockChart"+t._id+" .menu-item-name").html(t._chart.isLockChart?M.$t("meun.graphic.cancellock"):M.$t("meun.graphic.lock"))}},{name:M.$t("meun.export.image"),id:"ExportPic"+t._id,callback:function(){t._chart.Export()}},{name:"保存截图",id:"ExportPicData"+t._id,callback:function(){t._chart.getChartImage()}},{name:M.$t("meun.setting"),id:"Setting"+this._id},{name:t._chart.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide"),id:"toolbar"+this._id,parent:"Setting"+this._id,callback:function(){var e=!t._chart.layout.toolBoxVisibility;t._chart.layout.UpdateToolBoxVisible(e),L("#toolbar"+t._id+" .menu-item-name").html(t._chart.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),t._chart.Resize(),t._chart.props.onBaseMeunBtnClick&&t._chart.props.onBaseMeunBtnClick("toolbar",t._chart.GetChartId(),e)}},{name:t._chart.layout.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide"),id:"helpInfo"+this._id,parent:"Setting"+this._id,callback:function(){var e=!t._chart.layout.helperInfoVisibility;t._chart.layout.UpdateHelperInfoVisible(e),L("#helpInfo"+t._id+" .menu-item-name").html(t._chart.layout.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide")),t._chart.Resize(),t._chart.props.onBaseMeunBtnClick&&t._chart.props.onBaseMeunBtnClick("helpInfo",t._chart.GetChartId(),e)}}]},t}()),et=function(){function t(t){var e=this;this.isOpen=!0,this._id=null,this._chart=null,this._menuItems=[],this.Bind=function(t){if(e.isOpen){e._elem=t;var n=e;R.bind(t,function(){var t=n._menuItems;return t.filter(function(t){return t.id.indexOf("removePoint")<0})})}},this._chart=t,this._id=t.id,this._menuItems=this.getBaseMenu()}return t.prototype.Dispose=function(){this._menuItems=null,R.unbind(this._elem),this._chart=null,this._elem=null,this._id=null},t.prototype.AddMenuItem=function(t,e,n,i){this._chart.isInit&&console&&console.warn,this._menuItems||(this._menuItems=[]),this._menuItems.findIndex(function(e){return e.id===t})>=0||this._menuItems.push({id:t,name:e,callback:n,parent:i})},t.prototype.AddMenuItems=function(t){this._chart.isInit&&console&&console.warn,this._menuItems||(this._menuItems=[]),this._menuItems=this._menuItems.concat(t)},t.prototype.getMenuItems=function(){return this._menuItems},t.prototype.RemoveMenuItem=function(t){t+=this._id,this._menuItems=this._menuItems.filter(function(e){return e.id!==t&&e.parent!==t})},t.prototype.getBaseMenu=function(){var t=this;return[{id:"enableDynamicCursor"+t._id,name:M.$t("menu.dynamiccursor.close"),callback:function(){t._chart.dynamicCursorEnable?t._chart.closeDynamicCursorEnable():t._chart.openDynamicCursorEnable(),L("#enableDynamicCursor"+t._id+" .menu-item-name").html(t._chart.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open"))}},{name:M.$t("menu.label"),id:"remark"+this._id,callback:function(){}},{name:M.$t("menu.label.add"),id:"addremark"+this._id,parent:"remark"+this._id,callback:function(){U.prompt({title:M.$t("prompt.label.title"),formType:2,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],value:t._chart.getSelectedText(!1)},function(e,n){var i=t._chart.getDataBySelectedIndex();t._chart.AddCustomLabel(e,i[0],i[1]),U.close(n)})}},{name:M.$t("menu.label.remove.all"),id:"removeallremark"+t._id,parent:"remark"+t._id,callback:function(){t._chart.RemoveAllCustomLabel()}},{name:M.$t("meun.export.image"),id:"ExportPic"+t._id,callback:function(){t._chart.Export()}},{name:"保存截图",id:"ExportPicData"+t._id,callback:function(){t._chart.getChartImage()}}]},t}(),nt=function(){return function(t,e,n,i,a,r){this.onMainCursorMoving=t,this.onMainCursorMoved=e,this.onRenderEnd=n,this.onWillRender=i,this.onSetExtremes=a,this.onMaxBtnClick=r}}(),it=function(){function t(){this._listeners={}}return t.prototype.Dispose=function(){this.RemoveAllEvent(),this._listeners=null},t.prototype.AddEvent=function(t,e,n,i){void 0===n&&(n=0),void 0===this._listeners[t]&&(this._listeners[t]=[]),"function"==typeof e&&(e.id=i,e.order=n,this._listeners[t].push(e))},t.prototype.RemoveEvent=function(t,e,n){var i=this._listeners[t];if("string"==typeof t&&i instanceof Array){if("function"==typeof e||n)for(var a=0,r=i.length;a<r;a+=1)if(i[a]===e||i[a].id==n){this._listeners[t].splice(a,1);break}}else this._listeners[t]=void 0,delete this._listeners[t]},t.prototype.DispatchEvent=function(t,e){var n=this._listeners[t];if(n&&("function"==typeof n&&n({type:t,data:e}),n instanceof Array))for(var i=0,a=(n=n.sort()).length;i<a;i+=1)if("function"==typeof n[i])try{n[i]({type:t,data:e})}catch(t){}},t.prototype.RemoveAllEvent=function(){this._listeners={}},t}(),at=function(){return(at=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},rt=function(){function t(){}return t.toDecimal=function(t){var e=parseFloat(t);if(!isNaN(e))return Math.round(1e3*t)/1e3},t.formatData=function(t,e){void 0===e&&(e="MeasValue");for(var n=[],i=t.length-1;i>=0;i--){var a=t[i];n.push([Object(f.e)(a.MeasDate),a[e]])}return n},t.FormatInitData=function(e,n,i,a){if(void 0===i&&(i="MeasValue"),void 0===a&&(a="IndexDatas"),!e||!e.data||!e.data[a])return{option:{},data:[]};n&&n(e.data[a]);var r=e.data[a],o=t.formatData(r,i),s=e.data.AlarmLimits||[],l=t.InitAlarmLine(s,o);return{option:t.GetTrendOption(o,l),data:o}},t.GetTrendOption=function(t,e,n){return at({title:{text:""},plotOptions:{series:{marker:{radius:4}}},series:[{keys:void 0,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:t,marker:{enabled:!0,radius:2},lineWidth:1,animation:!1},at({id:"alarmline-1",lineWidth:1,name:"alarmline-1",animation:!1,step:"left",color:Object(f.i)(1),allowPointSelect:!1,enableMouseTracking:!1,marker:{enabled:!1}},e[0]),at({id:"alarmline-2",lineWidth:1,name:"alarmline-2",step:"left",animation:!1,color:Object(f.i)(2),allowPointSelect:!1,enableMouseTracking:!1,marker:{enabled:!1}},e[1]),at({id:"alarmline-3",lineWidth:1,name:"alarmline-3",step:"left",animation:!1,color:Object(f.i)(3),allowPointSelect:!1,enableMouseTracking:!1,marker:{enabled:!1}},e[2]),at({id:"alarmline-4",lineWidth:1,name:"alarmline-4",animation:!1,step:"left",color:Object(f.i)(4),allowPointSelect:!1,enableMouseTracking:!1,marker:{enabled:!1}},e[3])]},n)},t.formatAlarmLineData=function(t,e){var n=[[],[],[],[]];return 0==e.length?n:(t.map(function(t){var i=null==t.BeginDate?e[0][0]:Object(f.e)(t.BeginDate),a=null==t.EndDate?e[e.length-1][0]:Object(f.e)(t.EndDate),r=t.AlarmLevel?t.AlarmLevel:1,o=t.DataType?t.DataType:"";n[r-1].push({starttime:i,endtime:a,alarmvalue:t.AlarmValue,alarmlevel:r,dataType:o})}),n)},t.InitAlarmLine=function(e,n){return t.formatAlarmLineDataChart(t.BreakPointFormat(t.formatAlarmLineData(e,n)))},t.formatAlarmLineDataChart=function(t,e){void 0===e&&(e=!1);var n=1;return(t||[]).map(function(t){var i={states:{hover:{enabled:!1,marker:{enabled:!1}}},data:t,step:"left",name:"alarmline-"+n,lineWidth:1,visible:e};return n++,i})},t.BreakPointFormat=function(e){for(var n=[[],[],[],[]],i=function(i,a){e[i]=e[i].sort(function(t,e){return t.starttime>e.starttime?1:t.starttime==e.starttime?0:-1}),e[i].map(function(e){n[i].push({x:e.starttime,y:e.alarmvalue,dataLabels:{enabled:!0,align:"left",style:{fontWeight:"bold"},formatter:function(){return this.y.toFixed(3)},color:Object(f.i)(i+1),verticalAlign:"bottom",overflow:!0,crop:!1,dataType:e.dataType}}),n[i].push({x:e.endtime-2,y:t.toDecimal(e.alarmvalue)}),n[i].push({x:e.endtime-1,y:null})})},a=0,r=e.length;a<r;a++)i(a);return n},t.GetMostNearIndexData=function(t,e,n,i,a,r,o,s){void 0===a&&(a=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=0);var l=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t}([],e);if(l&&0!=l.length){var c=function(t){return i?i(l[t][n]):l[t][n]},u=function(t){return i?i(t[n]):t[n]};a&&(l=l.sort(function(t,e){return u(t)-u(e)})),t=i?i(t):t;var h,d=0,p=l.length-1;if(t>=c(p))return a?0:p;if(t<=c(d))return a?p:0;for(;p>=d;){var f=Math.round((d+p)/2);if(c(f)===t)return a?e.length-f-1:f;if(c(f)>t){if(0==f){h=0;break}if(!(c(f-1)>t)){h=t-c(f-1)>=c(f)-t?f:f-1;break}p=f-1}else{if(!(c(f)<t)){h=f;break}if(f==l.length-1){h=l.length-1;break}if(!(c(f+1)<t)){h=t-c(f)>=c(f+1)-t?f+1:f;break}d=f+1}}return r&&t-u(l[h])>0&&(h+=1),a&&(h=e.length-h-1),o&&s!=h&&l[h][n]==l[s][n]&&(h=s),h}},t.GetMostNearIndex=function(t,e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=!1),e&&0!=e.length){var a,r=0,o=e.length-1;if(t>=e[o][n])return o;if(t<=e[r][n])return 0;for(;o>=r;){var s=Math.round((r+o)/2);if(e[s][n]>t){if(0==s){a=0;break}if(!(e[s-1][n]>t)){a=t-e[s-1][n]>=e[s][n]-t?s:s-1;break}o=s-1}else{if(!(e[s][n]<t)){a=s;break}if(s==e.length-1){a=e.length-1;break}if(!(e[s+1][n]<t)){a=t-e[s][n]>=e[s+1][n]-t?s+1:s;break}r=s+1}}return i&&t-e[a][0]>0?a+1:a}},t.GetMostNearLoop=function(t,e,n){void 0===n&&(n=0);for(var i=0,a=Number.MAX_SAFE_INTEGER,r=0;r<e.length;r++){var o=Math.abs(e[r][n]-t);o<a&&(i=r,a=o)}return i},t.GetMostNearLoop2D=function(t,e,n,i){void 0===i&&(i=0);for(var a=0,r=Number.MAX_SAFE_INTEGER,o=0;o<n.length;o++){var s=Math.pow(Math.abs(n[o][0]-t),2)+Math.pow(Math.abs(n[o][1]-e),2);s<r&&(a=o,r=s)}return a},t}(),ot=function(){var t,e,n={canvas:!!(e=(t=document.createElement("canvas")).getContext("2d")),imageData:!!e.getImageData,dataURL:!!t.toDataURL,btoa:!!window.btoa};function i(t,e,n){var i=t.width,a=t.height;null==e&&(e=i),null==n&&(n=a);var r=document.createElement("canvas"),o=r.getContext("2d");return r.width=e,r.height=n,o.drawImage(t,0,0,i,a,0,0,e,n),r}function a(t,e,n,a){return(t=i(t,n,a)).toDataURL(e)}function r(t){var e=document.createElement("img");return e.src=t,e}function o(t){return"image/"+(t=t.toLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]}function s(t){if(!window.btoa)throw"btoa undefined";var e="";if("string"==typeof t)e=t;else for(var n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function l(t){var e=t.width,n=t.height;return t.getContext("2d").getImageData(0,0,e,n)}var c=function(t){var e=t.width,n=t.height,i=e*n*3,a=i+54,r=[66,77,255&a,a>>8&255,a>>16&255,a>>24&255,0,0,0,0,54,0,0,0],o=[40,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,1,0,24,0,0,0,0,0,255&i,i>>8&255,i>>16&255,i>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=(4-3*e%4)%4,c=t.data,u="",h=e<<2,d=n,p=String.fromCharCode;do{for(var f=h*(d-1),A="",m=0;m<e;m++){var y=m<<2;A+=p(c[f+y+2])+p(c[f+y+1])+p(c[f+y])}for(var g=0;g<l;g++)A+=String.fromCharCode(0);u+=A}while(--d);return s(r.concat(o))+s(u)},u=function(t,e,r,s,u){var h,d=s;if(n.canvas&&n.dataURL)if("string"==typeof t&&(t=document.getElementById(t)),null==s&&(s="png"),s=o(s),/bmp/.test(s)){var p=l(i(t,e,r));h=c(p)}else if(window.navigator.msSaveOrOpenBlob){var f=t.msToBlob(),A=new Blob([f]);window.navigator.msSaveOrOpenBlob(A,u+"."+d)}else{h=a(t,s,e,r);var m=document.createElement("a");m.setAttribute("href",h),m.setAttribute("download",u+".png"),m.style.display="none",document.body.appendChild(m),m.click(),document.body.removeChild(m),m=null}},h=function(t,e,s,u){if(n.canvas&&n.dataURL){if("string"==typeof t&&(t=document.getElementById(t)),null==u&&(u="png"),u=o(u),/bmp/.test(u)){var h=l(i(t,e,s));return r(function(t,e){return"data:"+e+";base64,"+t}(c(h),"image/bmp"))}return r(a(t,u,e,s))}};return{getImageData:function(t,e,n,i){return a(t,e,n,i)},saveAsImage:u,saveAsPNG:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"chart";return u(t,e,n,"png",i)},saveAsJPEG:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"chart";return u(t,e,n,"jpeg",i)},saveAsGIF:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"chart";return u(t,e,n,"gif",i)},saveAsBMP:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"chart";return u(t,e,n,"bmp",i)},convertToImage:h,convertToPNG:function(t,e,n){return h(t,e,n,"png")},convertToJPEG:function(t,e,n){return h(t,e,n,"jpeg")},convertToGIF:function(t,e,n){return h(t,e,n,"gif")},convertToBMP:function(t,e,n){return h(t,e,n,"bmp")}}}(),st=function(){function t(t){void 0===t&&(t=0),this.Timeout=t}return t.prototype.Open=function(){var t=this;!1!==window.rzgrapheOpenLoading&&(this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null),this.loadingIndex&&U.close(this.loadingIndex),0!==this.Timeout?this.debounceTimeout=window.setTimeout(function(){t.loadingIndex=U.load(1,{shade:[0]})},this.Timeout):this.loadingIndex=U.load(1,{shade:[0]}))},t.prototype.close=function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null),this.loadingIndex&&U.close(this.loadingIndex)},t}(),lt=(window.html2canvas,{isElementToSkip:function(t,e){return!1},addClassRecursively:function(t,e){if(t.classList&&!this.isElementToSkip(t)&&(t.classList.add(e),t.children&&t.children.length))for(var n=0;n<t.children.length;n++){var i=t.children[n];this.addClassRecursively(i,e)}},addWhiteListClas:function(t){var e="string"==typeof t?document.querySelector(t):t;for(this.addClassRecursively(e,"rzgrahp_export_whitelist_class"),this.addClassRecursively(document.head,"rzgrahp_export_whitelist_class"),document.documentElement.classList.add("rzgrahp_export_whitelist_class");e;)e.classList&&e.classList.add("rzgrahp_export_whitelist_class"),e=e.parentElement},data:{styleSheets:null},getStyleSheets:function(){var t=this.data.styleSheets;if(!t){var e=["rzgraph.css"];t=Object.keys(document.styleSheets||{}).map(function(t){var n=document.styleSheets[t];if(!n.href)return n;var i=n.href;return i&&e.every(function(t){return!i.endsWith(t)}),n}),this.data.styleSheets=t.filter(function(t){return t})}return t},copyStyles:function(t){var e=t.createElement("style");t.body.appendChild(e);var n=e.sheet;this.getStyleSheets().forEach(function(t){if(t)try{((null==t?void 0:t.rules)||[]).forEach(function(t){n.insertRule(t.cssText)}),t.cssText&&n.insertRule(t.cssText)}catch(t){}})}}),ct=function(){return(ct=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},ut=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},ht=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},dt=window.html2canvas,pt=function(){function t(t){var e=this;this.RemoveGroup=function(t){t.destroy()},this.AddTurnImage=function(t,n,i,a,r,o){e.hchartInstance.renderer.image(n,i,a,r,o).attr({zIndex:5}).add(t)},this.AddAngleLabel=function(t,n,i,a){var r=e.hchartInstance.renderer,o=r.text(n,i,a).attr({zIndex:6,fontSize:"16px",fill:"#FFFFFF"}).add(t).getBBox();r.circle(i+o.width/2,a-4,o.width>o.height?o.width/2+4:o.height/2+4).attr({fill:"#ff8c3d",stroke:"#ffc49b","stroke-width":1,zIndex:5}).add(t)},this.AddLabel=function(t,n,i,a){if(e.hchartInstance&&e.hchartInstance.chartWidth){e.hchartInstance.removeAnnotation(i);var r=[];r.push({point:{xAxis:0,yAxis:0,x:t,y:n},text:a,y:100,x:10});var o={draggable:"",id:i,labelOptions:{format:a,backgroundColor:F.color(F.getOptions().colors[2]).setOpacity(.15).get(),borderWidth:1,shadow:!0,padding:8,distance:16,useHTML:!1,allowOverlap:!0,borderRadius:3,borderColor:F.getOptions().colors[1],style:{cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},crop:!1},zIndex:9999,labels:r};e.hchartInstance.addAnnotation(o)}},this.RemoveLabel=function(t){e.hchartInstance&&e.hchartInstance.chartWidth&&e.hchartInstance.removeAnnotation(t)},this.RemovePoint=function(t){e.hchartInstance&&e.hchartInstance.chartWidth&&e.hchartInstance.removeAnnotation(t)},this.AddCickPoint=function(t,n,i,a,r,o,s,l){if(void 0===a&&(a=null),void 0===r&&(r={}),void 0===o&&(o="circle"),void 0===s&&(s=null),void 0===l&&(l=null),e.hchartInstance&&e.hchartInstance.chartWidth){s||(s="red"),l||(l=3);var c={id:t+length,draggable:"",cursor:"pointer",events:{click:function(t){a(r)}},shapes:[{fill:s,cursor:"pointer",point:{xAxis:0,yAxis:0,x:n,y:i},type:o,r:l,zIndex:9999}]};e.fixedPoints.push(c);try{e.hchartInstance.removeAnnotation(t+length),e.hchartInstance.addAnnotation(c,!0)}catch(t){}}},this.AddPoint=function(t,n,i,a,r,o,s,l){var c,u,h,d,p;if(void 0===a&&(a="line"),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=0),void 0===l&&(l=0),r||(r=F.getOptions().colors[6]),"DoubleCursorPoint"===t&&(r=F.getOptions().colors[7]),"SideFrequencyCursorPoint"===t&&(r=F.getOptions().colors[8]),"SideFrequencyCursorPoint2"===t&&(r=F.getOptions().colors[8]),r="red",o||(o=2),e.hchartInstance&&e.hchartInstance.chartWidth){var A=null===(c=e.hchartInstance.annotations)||void 0===c?void 0:c.find(function(e){return e.options.id===t});if(A&&(null===(h=null===(u=null==A?void 0:A.options)||void 0===u?void 0:u.shapes)||void 0===h?void 0:h.length)){var m=null===(p=null===(d=null==A?void 0:A.options)||void 0===d?void 0:d.shapes[0])||void 0===p?void 0:p.point;if(Object(f.q)("line"==a?{xAxis:s,yAxis:l,x:n,y:i}:{xAxis:0,yAxis:0,x:n,y:i},m))return}var y;y="line"==a?{id:t,draggable:"",shapes:[{stroke:r,fill:r,point:{x:n,y:i,xAxis:s,yAxis:l},type:"circle",r:o}],zIndex:9999}:{id:t,draggable:"",shapes:[{stroke:r,fill:r,point:{x:n,y:i},type:"circle",r:o}]};try{e.hchartInstance.removeAnnotation(t),e.hchartInstance.addAnnotation(y)}catch(t){}}},this.RemoveLine=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=!1),!e.hchartInstance||!e.hchartInstance.chartWidth)return!1;var a=i?e.hchartInstance.yAxis[n]:e.hchartInstance.xAxis[n];try{return a.removePlotLine(t),!0}catch(t){return!1}},this.RemoveCheckedLine=function(){e.RemoveLine("CheckedLine")},this.AddLine=function(t,n,i,a){if(void 0===i&&(i=0),void 0===a&&(a=!1),e.hchartInstance&&e.hchartInstance.chartWidth){var r=a?e.hchartInstance.yAxis[i]:e.hchartInstance.xAxis[i];return e.RemoveLine(t,i,a),r.addPlotLine(ct({id:t,width:1,zIndex:9999},n))}},this.LineStartMove=function(t,e,n,i,a,r){if(void 0===r&&(r=null),0==t.button){L("body").bind({"mousemove.line":Object(f.H)(function(t){e.LineMoveStep(t,e,n,i,r),t.cancelBubble=!0,t.stopPropagation()},100,{}),"mouseup.line":function(t){return e.LineMoveStop(t,e,n,a,r),function(t){t=t||window.event;try{t.stopPropagation()}catch(e){t.cancelBubble=!0}}(t),!1}}),e.clickX=t.pageX-n.translateX,e.clickY=t.pageY-n.translateY,t.cancelBubble=!0,t.stopPropagation()}},this.LineMoveStep=function(t,e,n,i,a){try{if(i){var r=e.hchartInstance,o=n.translate(t.pageX-e.clickX,!1);return a&&a.translate(t.pageX-e.clickX,!1),void i(r.xAxis[0].toValue(o.translateX,1),t.offsetY)}n.translate(t.pageX-e.clickX,!1),a&&a.translate(t.pageX-e.clickX,!1)}catch(t){}},this.LineMoveStop=function(t,e,n,i,a){try{if(L("body").unbind(".line"),i){var r=e.hchartInstance,o=n.translate(t.pageX-e.clickX,!1);a&&a.translate(t.pageX-e.clickX,!1),i(r.xAxis[0].toValue(o.translateX,1),t.offsetY)}}catch(t){}},this.AddCheckedLine=function(t,n,i){if(void 0===n&&(n=0),e.hchartInstance&&e.hchartInstance.chartWidth){var a=e,r=e.AddLine("CheckedLine1",{value:t,color:F.getOptions().colors[6],dashStyle:"Dash",zIndex:99},n),o=e.AddLine("CheckedLine",{value:t,color:"rgba(0,0,0,0)",width:12},n);o&&o.svgElem&&r&&r.svgElem&&o.svgElem.css({cursor:"col-resize"}).translate(0,0).on("mousedown",function(t){a.LineStartMove(t,a,o.svgElem,function(t,e){var n=a.hchartInstance,r=t+o.options.value-n.xAxis[0].toValue(0,1),s=n.xAxis[0].toPixels(r);i.onSingleCursorMove(s,e)},function(t,e){var n=a.hchartInstance,r=t+o.options.value-n.xAxis[0].toValue(0,1),s=n.xAxis[0].toPixels(r);i.onSingleCursorMoveEnd(s,e)},r.svgElem)})}},this.AddDoubleCursor=function(t,n,i){if(void 0===n&&(n=0),e.hchartInstance&&e.hchartInstance.chartWidth){e.RemoveDoubleCursor();var a=e,r=e.AddLine("DoubleCursor1",{value:t,color:F.getOptions().colors[7],width:1,id:"DoubleCursor1",dashStyle:"Dash",label:{text:"",verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20,dashStyle:"Dash"}},n),o=e.AddLine("DoubleCursor",{value:t,color:"rgba(0,0,0,0)",width:12},n);o.svgElem.css({cursor:"col-resize"}).translate(0,0).on("mousedown",function(t){a.LineStartMove(t,a,o.svgElem,function(t,e){var n=a.hchartInstance,r=t+o.options.value-n.xAxis[0].toValue(0,1);i.onCursorMove(r,e)},function(t,e){var n=a.hchartInstance,r=t+o.options.value-n.xAxis[0].toValue(0,1);i.onCursorMoveEnd(r,e)},r.svgElem)})}},this.RemoveDoubleCursor=function(){if(e.hchartInstance&&e.hchartInstance.chartWidth)for(var t=e.hchartInstance.xAxis[0].plotLinesAndBands.length-1;t>=0;t--)e.hchartInstance.xAxis[0].plotLinesAndBands[t].id.indexOf("DoubleCursor")>=0&&e.hchartInstance.xAxis[0].removePlotLine(e.hchartInstance.xAxis[0].plotLinesAndBands[t].id)},this.AddCheckedPoint=function(t,n,i,a,r){if(void 0===i&&(i="line"),void 0===a&&(a=0),void 0===r&&(r=0),e.hchartInstance&&e.hchartInstance.chartWidth){e.AddPoint("checkedPoint",t,n,i,null,null,a,r)}},this.AddShapePoint=function(t,n,i,a,r,o,s,l){if(void 0===n&&(n=function(t){}),void 0===i&&(i={}),void 0===a&&(a=0),void 0===r&&(r="circle"),void 0===o&&(o=null),void 0===s&&(s=2),void 0===l&&(l=10),e.hchartInstance&&e.hchartInstance.chartWidth){var c=e.hchartInstance.yAxis[a].toValue(l);e.AddCickPoint("clickPoint",t,c,n,i,r,o,s)}},this.RemoveCheckedPoint=function(){e.hchartInstance&&e.hchartInstance.chartWidth&&e.RemovePoint("checkedPoint")},this.Render=function(t,n){if(e.hchartInstance)try{e.hchartInstance.destroy()}catch(t){}return e.hchartInstance=F.chart(t,n),!1},this.RemoveCheckedLabel=function(){e.hchartInstance&&e.hchartInstance.chartWidth&&e.hchartInstance.removeAnnotation("checkedTooltip")},this.AddCheckedLabel=function(t,n,i,a,r,o){var s,l,c,u,h,d,p;if(void 0===a&&(a="line"),void 0===r&&(r=0),void 0===o&&(o=0),e.hchartInstance&&e.hchartInstance.chartWidth){var A;A="line"==a?{xAxis:r,yAxis:o}:{};var m=null===(s=e.hchartInstance.annotations)||void 0===s?void 0:s.find(function(t){return"checkedTooltip"===t.options.id});if(m&&(null===(c=null===(l=null==m?void 0:m.options)||void 0===l?void 0:l.labels)||void 0===c?void 0:c.length)){var y=null===(h=null===(u=null==m?void 0:m.options)||void 0===u?void 0:u.labels[0])||void 0===h?void 0:h.point;if((null===(p=null===(d=null==m?void 0:m.options)||void 0===d?void 0:d.labels[0])||void 0===p?void 0:p.text)===i&&Object(f.q)(ct(ct({},A),{x:t,y:n}),y))return}var g={id:"checkedTooltip",draggable:"xy",labelOptions:{allowOverlap:!0,shape:"connector",borderColor:"#AAA",verticalAlign:"center",y:-32,style:{color:F.getOptions().colors[13],fontSize:"0.9em",fontWeight:500}},useHTML:!0,labels:[{point:ct(ct({},A),{x:t,y:n}),text:i}]};0==Object(f.v)("RZGraphDarkTheme")&&(g={id:"checkedTooltip",draggable:"xy",labelOptions:{allowOverlap:!0,backgroundColor:"rgba(255, 255, 255, 0.4)",borderColor:"rgba(255, 255, 255, 0.3)",borderWidth:.5,verticalAlign:"center",justify:!1,y:-32,shadow:{color:"rgba(0, 0, 0, 0.38)",width:3,offsetX:0,offsetY:1},style:{color:"#ff0000",fontSize:"0.9em"}},useHTML:!0,labels:[{point:ct(ct({},A),{x:t,y:n}),text:i}],zIndex:100}),e.hchartInstance.removeAnnotation("checkedTooltip"),e.hchartInstance.addAnnotation(g)}},this.AddCustomLabel=function(t,n,i,a){if(void 0===a&&(a="line"),e.hchartInstance&&e.hchartInstance.chartWidth){var r=e.customLabels;e.RemoveCheckedCustomLabel(t,n,a),r.push({x:t,y:n,text:i}),e.customLabels=r;var o;o="line"==a?{xAxis:0,yAxis:0}:{};var s={id:"remarklabel"+t+n,draggable:"xy",labelOptions:{allowOverlap:0,shape:"connector",borderWidth:0,borderRadius:0,align:"right",stroke:F.getOptions().colors[13],justify:!1,style:{color:F.getOptions().colors[13],fontSize:"0.8em"}},labels:[{point:ct(ct({},o),{x:t,y:n}),text:i}]};e.hchartInstance.addAnnotation(s,!0),e.hchartInstance.addAnnotation({id:"remarkpoint"+t+n,draggable:"",shapes:[{point:ct(ct({},o),{x:t,y:n}),fill:F.getOptions().colors[13],stroke:F.getOptions().colors[13],type:"circle",r:2}]},!0),L('path[fill="rgba(0, 0, 0, 0.75)"]').attr("stroke",F.getOptions().colors[13])}},this.ResetZoom=function(t,n){new Promise(function(i,a){e.hchartInstance&&e.hchartInstance.chartWidth&&(t&&n?e.hchartInstance.xAxis[0].setExtremes(t,n,!0,!1,"IsDirectReset"):e.hchartInstance.zoomOut(),e.hchartInstance.pointer.hasZoom=!1)})},this.VisibleSeriesWithId=function(t,n){try{if(!e.hchartInstance||!e.hchartInstance.chartWidth)return;if(e.hchartInstance){var i=e.hchartInstance.get(t);i&&i.setVisible(n)}}catch(t){}},this.SetSeriesDataWithId=function(t,n,i){try{if(!e.hchartInstance||!e.hchartInstance.chartWidth)return;if(e.hchartInstance){var a=e.hchartInstance.get(t);a&&a.setData(i),a&&a.setVisible(n)}}catch(t){}},this.IEVersion=function(){var t=navigator.userAgent,e=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,n=t.indexOf("Edge")>-1&&!e,i=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1;if(e){new RegExp("MSIE (\\d+\\.\\d+);").test(t);var a=parseFloat(RegExp.$1);return 7==a?7:8==a?8:9==a?9:10==a?10:6}return n?"edge":i?11:-1},this.getChartImage=function(){e.getImageData(!1,e.hchartInstance)},this.getImageData=function(t,n){void 0===t&&(t=!0),void 0===n&&(n=null);var i=new st(0);i.Open();try{var a;a=L(e.element).parents(".RZGraphChartCard").length>0?L(e.element).parents(".RZGraphChartCard")[0]:L(e.element)[0];var r=L(a).clone(!1);r.css({position:"fixed",top:L(a).offset().top,left:L(a).offset().left,height:L(a).height(),width:L(a).outerWidth(),"z-index":9999});var o=function(t){return new Promise(function(e,n){var i=(new XMLSerializer).serializeToString(t);i=i.replace(/xmlns="http:\/\/www\.w3\.org\/2000\/svg"/,"");var a=document.createElement("canvas");a.className="screenShotTempCanvas",window.canvg(a,i,{width:L(t).width(),height:L(t).height(),renderCallback:function(t){e(!0)}}),L(a).insertAfter(t),L(t).attr("class","tempHide"),L(t).hide()})},s=L(r).find("svg"),l=e.IEVersion();Promise.all(L.map(s,function(t){return ut(e,void 0,void 0,function(){return ht(this,function(e){switch(e.label){case 0:return-1===l?[3,2]:[4,o(t)];case 1:return[2,e.sent()];case 2:return[2]}})})})).then(function(){r.appendTo("body"),lt.addWhiteListClas(r[0]||r);var e=a,n=e.offsetWidth,o=e.offsetHeight,s=document.createElement("canvas");s.width=2*n,s.height=2*o,s.getContext("2d").scale(2,2);var l=s.getContext("2d");l.mozImageSmoothingEnabled=!1,l.webkitImageSmoothingEnabled=!1,l.msImageSmoothingEnabled=!1,l.imageSmoothingEnabled=!1;var c={scale:2,canvas:s,logging:!1,width:n,height:o,imageTimeout:0,ignoreElements:function(t){return!!t.classList&&!t.classList.contains("rzgrahp_export_whitelist_class")},useCORS:!0};dt(r[0]||r,c).then(function(e){var n,o;if(t)ot.saveAsPNG(e,e.width,e.height);else{var s=e.toDataURL(),l=L(a).attr("data-type"),c=null===(n=G.TableData)||void 0===n?void 0:n.deviceId;L(a).find(".rzAxisPanelMax").length&&(l=L(a).find(".rzAxisPanelMax").eq(0).attr("data-chart-type")),null===(o=window.EPMEvent)||void 0===o||o.emit("onExportImage",{imgData:s,deviceId:c,chartName:l})}L(a).find(".screenShotTempCanvas").remove(),L(a).find(".tempHide").show().removeClass("tempHide"),L(r).remove(),r=null,i.close()}).catch(function(t){L(a).find(".screenShotTempCanvas").remove(),L(a).find(".tempHide").show().removeClass("tempHide"),L(r).remove(),r=null,i.close()})})}catch(t){i.close()}},this.Export=function(){e.getImageData(!0,e.hchartInstance)},this.AddMultiplierCursor=function(t,n,i){if(e.hchartInstance&&e.hchartInstance.chartWidth){e.RemoveMultiplierCursor();for(var a=[],r=2;r<i+2&&t*r<=n&&0!=t;r++)a.push(t*r);for(r=0;r<a.length;r++)e.hchartInstance.xAxis[0].addPlotLine({value:a[r],color:F.getOptions().colors[8],zIndex:9999,width:1,id:"MultiplierCursor-"+r,dashStyle:"Dash",label:{text:r+2+"X",style:{color:F.getOptions().colors[8]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20,dashStyle:"Dash"}})}},this.AddToggleCursor=function(t,n){if(e.hchartInstance&&e.hchartInstance.chartWidth){e.RemoveToggleCursor();for(var i=0;i<n.length;i++)n[i].data.ChFreq&&n[i].num&&e.hchartInstance.xAxis[0].addPlotLine({value:n[i].num?n[i].num*n[i].data.ChFreq*t:n[i].data.ChFreq*t,color:F.getOptions().colors[2],zIndex:9999,width:1,id:"AddToggleCursor-"+i,dashStyle:"solid",label:{title:n[i].num?n[i].data.Desc+n[i].name+"/"+n[i].num*n[i].data.ChFreq*t+"Hz":n[i].name+"/"+n[i].data.ChFreq*t+"Hz",text:n[i].num?n[i].data.Desc+n[i].name+"/"+n[i].num*n[i].data.ChFreq*t+"Hz":n[i].name+"/"+n[i].data.ChFreq*t+"Hz",style:{color:F.getOptions().colors[3]},verticalAlign:"top",textAlign:"right",rotation:90,y:300,x:-5,dashStyle:"solid"}})}},this.RemoveToggleCursor=function(){if(e.hchartInstance&&e.hchartInstance.chartWidth)try{for(var t=e.hchartInstance.xAxis[0].plotLinesAndBands.length-1;t>=0;t--)e.hchartInstance.xAxis[0].plotLinesAndBands[t].id.indexOf("AddToggleCursor")>=0&&e.hchartInstance.xAxis[0].removePlotLine(e.hchartInstance.xAxis[0].plotLinesAndBands[t].id)}catch(t){}},this.RemoveMultiplierCursor=function(){if(e.hchartInstance&&e.hchartInstance.chartWidth)try{for(var t=e.hchartInstance.xAxis[0].plotLinesAndBands.length-1;t>=0;t--)e.hchartInstance.xAxis[0].plotLinesAndBands[t].id.indexOf("MultiplierCursor")>=0&&e.hchartInstance.xAxis[0].removePlotLine(e.hchartInstance.xAxis[0].plotLinesAndBands[t].id)}catch(t){}},this.RemoveSideFrequency=function(){if(e.hchartInstance&&e.hchartInstance.chartWidth){e.RemovePoint("SideFrequencyCursorPoint"),e.RemovePoint("SideFrequencyCursorPoint2");try{for(var t=e.hchartInstance.xAxis[0].plotLinesAndBands.length-1;t>=0;t--)e.hchartInstance.xAxis[0].plotLinesAndBands[t].id.indexOf("SideFrequency")>=0&&e.hchartInstance.xAxis[0].removePlotLine(e.hchartInstance.xAxis[0].plotLinesAndBands[t].id)}catch(t){}}},this.AddSideFrequencyCursor=function(t,n,i,a,r){if(e.hchartInstance&&e.hchartInstance.chartWidth){0==n&&(n=Math.round(a/5)),e.RemoveSideFrequency(),e.RemovePoint("SideFrequencyCursorPoint"),e.RemovePoint("SideFrequencyCursorPoint2");for(var o=[],s=1;s<i+1;s++)if(1!=s){if(!(t+s*n<=a))break;o.push(t+s*n)}else o.push(t+s*n>=a?a:t+s*n);for(s=1;s<i+1;s++)if(1!=s){if(!(t-s*n>=0))break;o.push(t-s*n)}else o.push(t-s*n<0?0:t-s*n);var l=e,c=function(i){var a=e.hchartInstance.xAxis[0].addPlotLine({value:o[i],color:F.getOptions().colors[8],width:1,zIndex:9999,id:"SideFrequency-"+i,dashStyle:"Dash",label:{verticalAlign:"top",textAlign:"center",rotation:0,y:-10,dashStyle:"Dash"}});if(o[i]==t+n||o[i]==t-n){var s=o[i]==t-n,c=e.AddLine("SideFrequency-"+i+"-"+i,{value:o[i],color:"rgba(0,0,0,0)",width:12},0);c.svgElem.css({cursor:"col-resize"}).translate(0,0).on("mousedown",function(t){l.LineStartMove(t,l,c.svgElem,function(t,e){var n=l.hchartInstance,i=t+a.options.value-n.xAxis[0].toValue(0,1);r.onCursorMove(i,s,e)},function(t,e){var n=l.hchartInstance,i=t+a.options.value-n.xAxis[0].toValue(0,1);r.onCursorMoveEnd(i,s,e)},a.svgElem)})}};for(s=0;s<o.length;s++)c(s)}},this.element=t,this.customLabels=[],this.fixedPoints=[]}return t.prototype.Dispose=function(){try{this.customLabels=null,this.fixedPoints=null,L(this.element).unbind(),L(this.element).remove(),this.element=null,this.hchartInstance&&this.hchartInstance.destroy(),this.hchartInstance=null}catch(t){}},t.prototype.CustomLabelRender=function(t){var e;e="line"==t?{xAxis:0,yAxis:0}:{};for(var n=0;n<this.customLabels.length;n++){var i={id:"remarklabel"+this.customLabels[n].x+this.customLabels[n].y,draggable:"xy",labelOptions:{shape:"connector",borderWidth:1,borderRadius:0,align:"right",stroke:F.getOptions().colors[13],justify:!1,crop:!0,shadow:!1,padding:0,allowOverlap:0,style:{color:F.getOptions().colors[13],fontSize:"0.8em"}},labels:[{point:ct(ct({},e),{x:this.customLabels[n].x,y:this.customLabels[n].y}),text:this.customLabels[n].text,y:100,x:10}]};this.hchartInstance.addAnnotation(i,!0),this.hchartInstance.addAnnotation({id:"remarkpoint"+this.customLabels[n].x+this.customLabels[n].y,draggable:"",shapes:[{point:ct(ct({},e),{x:this.customLabels[n].x,y:this.customLabels[n].y}),fill:F.getOptions().colors[13],stroke:F.getOptions().colors[13],type:"circle",r:2}]},!0)}},t.prototype.RemoveCheckedCustomLabel=function(t,e,n){if(void 0===n&&(n="line"),this.hchartInstance&&this.hchartInstance.chartWidth){0!==this.customLabels.filter(function(n){return n.x===t&&n.y===e}).length&&(this.customLabels=this.customLabels.filter(function(n){return n.x!==t&&n.y!==e}),this.hchartInstance.removeAnnotation("remarklabel"+t+e),this.hchartInstance.removeAnnotation("remarkpoint"+t+e))}},t.prototype.RemoveAllCustomLabel=function(){if(this.hchartInstance&&this.hchartInstance.chartWidth&&this.hchartInstance){for(var t=this.customLabels.length-1;t>=0;t--)this.hchartInstance.removeAnnotation("remarklabel"+this.customLabels[t].x+this.customLabels[t].y),this.hchartInstance.removeAnnotation("remarkpoint"+this.customLabels[t].x+this.customLabels[t].y);this.customLabels=[]}},t}(),ft=function(){function t(t,e,i,a,r,o){var s=this;void 0===a&&(a=!0),void 0===r&&(r=!0),this.helperInfoShow=!0,this._toolBox=null,this._helperInfo=null,this.toolBoxWidth=30,this.helpInfoHeight=30,this.toolBoxItem=[],this.GenerateView=function(){var t=s.generateHelperinfo,e=s.generateToolbox,n=s,i=L("<div style='position:relative;width:100%;height:100%;'></div>"),a=L("<div data-id='"+s._id+"' id='"+n._id+"'\tstyle='z-index:1;height: 100%;float:left;position:absolute;right:0;left:"+(e?s.toolBoxWidth:0)+"px;'></div>"),r=L("<div class='rzgraph_helperinfo' style='height:"+n.helpInfoHeight+"px'> </div>"),o=L("<div id='hchart"+n._id+"'  data-id='"+n._id+"' class='RZcontainer' style='position:absolute;top:"+(t?n.helpInfoHeight:0)+"px;bottom:0;left:0;right:0'></div>");return r.append(n._helperInfo),t&&a.append(r),a.append(o),e&&L(i).append(s._toolBox),s._toolBox.click(function(t){if(t.target.tagName&&"img"===t.target.tagName.toLocaleLowerCase()||"li"===t.target.tagName.toLocaleLowerCase()){var e=L(t.target).attr("data-id");if(!e)return!1;if(e&&e!=M.$t("toolar.btn.zoom")){var i=L(t.target);"img"===t.target.tagName.toLocaleLowerCase()&&(i=L(t.target).parent()),L(i).addClass("rzToolBoxClick"),L(i).siblings().removeClass("rzToolBoxClick")}var a=n.toolBoxItem.filter(function(t){return t.title!==e});a&&a.length>0&&a.forEach(function(t){t.unselectedCallback()}),(a=n.toolBoxItem.filter(function(t){return t.title===e}))&&a.length>0&&a[0].selectedCallback()}}),L(i).append(a),L(s._ele).append(i),L(s._ele).find(".btnZoom").click(function(){n.chart.resetZoom()}),L(s._ele).addClass("rzchartpanel"),s.UpdateHelperInfo({}),o[0]},this.Clear=function(){L(s._ele).find(".rzgraph_helperinfo>ul>li[id$='"+s._id+"']").html("")},this.UpdateHelperInfo=function(t){var e=s;if(s.chart.isLockChart)s.helperInfoShow&&s.generateHelperinfo&&t.CurosrValue&&""!=t.CurosrValue&&L("#CurosrValue"+e._id).html(t.CurosrValue);else if(s.helperInfoShow&&s.generateHelperinfo){Object.keys(t).map(function(n){L("#"+(n+e._id)).attr("data-data",t[n]),"RotatingSpeed"==n&&(t[n]=""!==t[n]&&void 0!==t[n]?t[n]+"RPM":""),L("#"+(n+e._id)).html(t[n]||""),L("#"+(n+e._id)).attr("title",t[n]||"")});var n=0,i="path";L(s._ele).find(".rzgraph_helperinfo>ul>li").each(function(t,e){var a=L(e).attr("data-key");a&&"path"===a.toLowerCase()?i=a:n+=L(e).width()+5}),L("#"+(i+e._id)).css("max-width",L("#"+(i+e._id)).parent().width()-n-10)}},this.UpdateToolBoxVisible=function(t){s.toolBoxVisibility=t;var e=L(s._ele);t?(e.find(".rzToolBox").hide(),L("#"+s._id).css("left","0px")):(e.find(".rzToolBox").show(),L("#"+s._id).css("left",s.generateToolbox?s.toolBoxWidth+1+"px":0))},this.UpdateHelperInfoVisible=function(t){s.helperInfoVisibility=t;var e=L(s._ele);t?(e.find(".rzgraph_helperinfo").hide(),e.find(".RZcontainer").css("top","0")):(e.find(".rzgraph_helperinfo").show(),e.find(".RZcontainer").css("top",s.helpInfoHeight+"px"))},this.AddToolBoxItem=function(t,e,n,i,a,r,o){void 0===r&&(r=!1),void 0===o&&(o=""),s.toolBoxItem.push({selectedImg:t,unselectedImg:e,title:n,selectedCallback:i,unselectedCallback:a});var l=L("<li style='' data-key='"+o+"' data-id='"+n+"'><img style='' data-id='"+n+"' src='"+e+"' title='"+n+"'></img></li>");r&&(s._toolBox.find("li").removeClass("rzToolBoxClick"),l.addClass("rzToolBoxClick")),s._toolBox.find("li").last().before(l)},this._InitHelperInfo=function(t){var e=s;s._helperInfo=null;var n=L("<ul></ul>");return Object.keys(t).map(function(i){"path"===i.toLowerCase()?n.append("<li id='"+(i+e._id)+"' data-key='"+i+'\' style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;" title="'+t[i]+'">'+(t[i]?t[i]:"")+"</li>"):n.append("<li id='"+(i+e._id)+"'  data-key='"+i+"'  title=\""+t[i]+'">'+(t[i]?t[i]:"")+"</li>")}),s._helperInfo=n,n},this._InitToolBox=function(){var t=s,e=L("<div class='rzToolBox' style='float:left;width: "+s.toolBoxWidth+"px;height: 100%;'></div> "),i=L("<ul style='' class='toolbar'>\t\n  <li style='' id='zoom"+s._id+"'><img class=\"btnZoom\" style='' src='"+n(148)+"' title='"+M.$t("toolar.btn.zoom")+"'></img></li>\n  </ul>");return L("#zoom"+s._id).click(function(){t.chart.resetZoom()}),e.append(i),e},this._id=e,this._ele=t,this._toolBox=this._InitToolBox(),this.AddToolBoxItem(n(115),n(115),M.$t("toolbar.btn.vernier.single"),function(){},function(){},!0),this.generateToolbox=a,this.generateHelperinfo=r,this.toolBoxVisibility=!1,this.helperInfoVisibility=!1,this.chart=i,r&&o&&(this._helperInfo=this._InitHelperInfo(o))}return t.prototype.Dispose=function(){this._ele&&(L(this._helperInfo).unbind(),L(this._helperInfo).remove(),this._helperInfo=null,this.toolBoxItem=null,L(this._toolBox).unbind(),L(this._toolBox).remove(),this._toolBox=null,L(this._ele).remove(),L(this._ele).unbind(),this._ele=null)},t.prototype.AddHelperInfoItem=function(t){var e=this,n="";Object.keys(t).map(function(i){n+="<li id='"+(i+e._id)+"'>"+(t[i]?t[i]:"")+"</li>"}),L(this._ele).find("ul").append(n)},t}(),At=function(){function t(){this.top=0,this.items=[]}return t.prototype.push=function(t){this.items[this.top]=t,this.top++},t.prototype.pop=function(){if(0===this.top)return"queue is null";var t=this.items[this.top];return delete this.items[this.top],this.top--,t},t.prototype.peek=function(){return this.items[this.top-1]},t.prototype.isEmpty=function(){return this.top<=1},t.prototype.isSame=function(t){return-1!==this.items.findIndex(function(e){return JSON.stringify(e)===JSON.stringify(t)})},t.prototype.size=function(){return this.top},t.prototype.clear=function(){this.top=0,this.items=[]},t.prototype.toString=function(){if(this.isEmpty())return"queue is null";for(var t=JSON.stringify(this.items[0]),e=1;e<this.top;e++)t=t+","+JSON.stringify(this.items[e]);return t},t}(),mt=(new At,n(184)),yt=n.n(mt),gt=n(185),vt=n.n(gt),bt=n(186),Ct=n.n(bt),xt=n(187),wt=n.n(xt),Dt=n(188),It=n.n(Dt),Bt=n(189),Tt=n.n(Bt),St=n(190),Mt=n.n(St),Et=n(191),kt=n.n(Et),Ft=n(192),Ot=n.n(Ft),Lt=n(193),Ut=n.n(Lt),Pt=function(){return(Pt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Rt={space:3,annotationSize:{width:20,height:20},defaultYOffset:-10},Ht=function(){function t(e,n){var i=this;this.chart=e,this.getAnnotationSize=function(t,e){for(var n,a,r=0,o=0,s=e||t.length,l=0;l<s;l++){var c=t[l];if(!0!==c.center){var u=null!==(n=c.height)&&void 0!==n?n:i.config.annotationSize.height,h=null!==(a=c.width)&&void 0!==a?a:i.config.annotationSize.width;r+=u+i.config.space,o=h>o?h:o}}return{width:o,height:r+i.config.defaultYOffset}},this.annotationPrefix="__custom__chart__",this.clear=function(){var t,e,n,a,r;if(null===(n=null===(e=null===(t=i.chart)||void 0===t?void 0:t.hchartInstance)||void 0===e?void 0:e.annotations)||void 0===n?void 0:n.length){var o=[];null===(r=null===(a=i.chart)||void 0===a?void 0:a.hchartInstance)||void 0===r||r.annotations.forEach(function(t){var e,n;(null===(n=null===(e=null==t?void 0:t.userOptions)||void 0===e?void 0:e.id)||void 0===n?void 0:n.indexOf(i.annotationPrefix))>=0&&o.push(t.userOptions.id)}),o.forEach(function(t){i.chart.hchartInstance.removeAnnotation(t)})}},this.renderAnnotation=function(e){var n,a;i.clear();var r=i.chart.hchartInstance,o=i;if(r)for(var s=r.chartHeight,l=(r.chartWidth,function(l){var c=e[l],u=null!==(n=c.xAxis)&&void 0!==n?n:0,h=null!==(a=c.yAxis)&&void 0!==a?a:0,d=(r.yAxis[h].toPixels(c.y),r.xAxis[u].toPixels(c.x),i.getAnnotationSize(c.annotations)),p=(d.width,d.height),f={id:i.annotationPrefix+"_"+l,draggable:"",shapes:c.annotations.map(function(e){var n,a,r=null!==(n=e.height)&&void 0!==n?n:i.config.annotationSize.height,l=null!==(a=e.width)&&void 0!==a?a:i.config.annotationSize.width;return{positioner:function(t){var n=F.Annotation.MockPoint.pointToPixels(this.points[0]);if(!0===e.center)return{x:n.x-this.graphic.width/2,y:n.y-this.graphic.height/2};var i=p<n.y;!1===i&&(i=s-n.y<n.y||i);var a=o.getAnnotationSize(c.annotations,this.index).height;return{x:n.x-this.graphic.width/2,y:i?n.y-this.graphic.height/2-a:n.y-this.graphic.height/2+a}},events:{onmousedown:function(t,e){}},snap:0,type:"image",src:t.getImageByKey(e.imgKey),width:l,height:r,point:{x:c.x,y:c.y,xAxis:u,yAxis:h}}})};r.addAnnotation(f,!0)}),c=0;c<e.length;c++)l(c)},this.config=Pt(Pt(Pt({},this.config),Rt),n)}return t.prototype.setConfig=function(t){this.config=Pt(Pt(Pt({},this.config),Rt),t)},t.imgMap={sun:"https://www.highcharts.com/samples/graphics/sun.png",snow:"https://www.highcharts.com/samples/graphics/snow.png",one:yt.a,open:vt.a,stop:Ct.a,errorSignal:wt.a,alarm1:It.a,alarm2:Tt.a,alarm3:Mt.a,alarm4:kt.a,YRPoint:Ot.a,Red:Ut.a},t.registerImage=function(e,n){t.imgMap[e]=n},t.getImageByKey=function(e){return t.imgMap[e]},t}(),Qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_t=function(){return(_t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Nt=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},jt=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t};var Yt,zt,Gt=function(t){function e(e){var n=t.call(this)||this;if(n.props=new nt,n.extremesStack=new At,n.getDataByXy=function(t,e){return void 0===e&&(e=0),n.verifyData(n.data)&&e<n.data.length&&t<n.data[e].length?n.data[e][t]:null},n.ChartKeys=["x","y"],n.isInit=!1,n.GetChartId=function(){return n.id},n.getIndexByChartPx=function(t,e,i){var a,r,o,s,l,c,u;void 0===e&&(e=0);try{var h=n.convertYToIndex(t,e),d=null!==(a=n.selectedYIndex)&&void 0!==a?a:0;if(n.chartConfig.xIsSort&&n.data&&1==n.data.length){for(var p=rt.GetMostNearIndex(n.hchartInstance.xAxis[0].toValue(t),n.data[h],0),f=Number.MAX_SAFE_INTEGER,A=0,m=p;m>=0;m--){var y=n.data[h][m][0],g=n.data[h][m][1],v=n.hchartInstance.yAxis[0].toPixels(g),b=n.hchartInstance.xAxis[0].toPixels(y);if(Math.pow(b-t,2)>f)break;(x=Math.pow(b-t,2)+Math.pow(v-e,2))<f&&(f=x,A=m)}m=p+1;for(var C=(null===(r=n.data[h])||void 0===r?void 0:r.length)||0;m<C;m++){var x;y=n.data[h][m][0],g=n.data[h][m][1],v=n.hchartInstance.yAxis[0].toPixels(g),b=n.hchartInstance.xAxis[0].toPixels(y);if(Math.pow(b-t,2)>f)break;(x=Math.pow(b-t,2)+Math.pow(v-e,2))<f&&(f=x,A=m)}return[p=A,d,n.data[d][p]]}f=Number.MAX_SAFE_INTEGER,A=0,p=0;for(var w=function(a){if(void 0!==i&&a!==i)return"continue";if(h=a,(null===(o=n.hchartInstance)||void 0===o?void 0:o.series[a])&&!1===(null===(s=n.hchartInstance)||void 0===s?void 0:s.series[a].visible))return"continue";var r=0;try{var p=null===(c=null===(l=n.hchartInstance)||void 0===l?void 0:l.series)||void 0===c?void 0:c.find(function(t){var e;return(null===(e=null==t?void 0:t.userOptions)||void 0===e?void 0:e.id)==="__id__-"+a});p&&p.userOptions&&(r=p.userOptions.xAxis||0,p.userOptions.yAxis||0)}catch(t){}n.AxisConfig&&n.AxisConfig.length>a&&(r=n.AxisConfig[a].xAxis,n.AxisConfig[a].yAxis);for(var m=rt.GetMostNearIndex(n.hchartInstance.xAxis[r].toValue(t),n.data[h],0)||0,y=m;y>=0;y--){var g=n.data[h][y][0],v=n.data[h][y][1],b=n.hchartInstance.yAxis[0].toPixels(v),C=n.hchartInstance.xAxis[0].toPixels(g);if(Math.pow(C-t,2)>f)break;(w=Math.pow(C-t,2)+Math.pow(b-e,2))<f&&(f=w,A=y,d=a)}y=m+1;for(var x=(null===(u=n.data[h])||void 0===u?void 0:u.length)||0;y<x;y++){var w;g=n.data[h][y][0],v=n.data[h][y][1],b=n.hchartInstance.yAxis[0].toPixels(v),C=n.hchartInstance.xAxis[0].toPixels(g);if(Math.pow(C-t,2)>f)break;(w=Math.pow(C-t,2)+Math.pow(b-e,2))<f&&(f=w,d=a,A=y)}},D=0;D<n.data.length;D++)w(D);return[p=A,d,n.data[d][p]]}catch(t){return null}},n.getIndexByPx=function(t,e){var i,a,r,o,s,l,c;void 0===e&&(e=0);try{var u=n.convertYToIndex(t,e),h=null!==(i=n.selectedYIndex)&&void 0!==i?i:0;if(n.chartConfig.xIsSort&&n.data&&1==n.data.length){for(var d=rt.GetMostNearIndex(n.hchartInstance.xAxis[0].toValue(t),n.data[u],0),p=Number.MAX_SAFE_INTEGER,f=0,A=d;A>=0;A--){var m=n.data[u][A][0],y=n.data[u][A][1],g=n.hchartInstance.yAxis[0].toPixels(y),v=n.hchartInstance.xAxis[0].toPixels(m);if(Math.pow(v-t,2)>p)break;(C=Math.pow(v-t,2)+Math.pow(g-e,2))<p&&(p=C,f=A)}A=d+1;for(var b=(null===(a=n.data[u])||void 0===a?void 0:a.length)||0;A<b;A++){var C;m=n.data[u][A][0],y=n.data[u][A][1],g=n.hchartInstance.yAxis[0].toPixels(y),v=n.hchartInstance.xAxis[0].toPixels(m);if(Math.pow(v-t,2)>p)break;(C=Math.pow(v-t,2)+Math.pow(g-e,2))<p&&(p=C,f=A)}return[d=f,h,n.data[h][d]]}p=Number.MAX_SAFE_INTEGER,f=0,d=0;for(var x=function(i){if(u=i,(null===(r=n.hchartInstance)||void 0===r?void 0:r.series[i])&&!1===(null===(o=n.hchartInstance)||void 0===o?void 0:o.series[i].visible))return"continue";var a=0;try{var d=null===(l=null===(s=n.hchartInstance)||void 0===s?void 0:s.series)||void 0===l?void 0:l.find(function(t){var e;return(null===(e=null==t?void 0:t.userOptions)||void 0===e?void 0:e.id)==="__id__-"+i});d&&d.userOptions&&(a=d.userOptions.xAxis||0,d.userOptions.yAxis||0)}catch(t){}n.AxisConfig&&n.AxisConfig.length>i&&(a=n.AxisConfig[i].xAxis,n.AxisConfig[i].yAxis);for(var A=rt.GetMostNearIndex(n.hchartInstance.xAxis[a].toValue(t),n.data[u],0)||0,m=A;m>=0;m--){var y=n.data[u][m][0],g=n.data[u][m][1],v=n.hchartInstance.yAxis[0].toPixels(g),b=n.hchartInstance.xAxis[0].toPixels(y);if(Math.pow(b-t,2)>p)break;(x=Math.pow(b-t,2)+Math.pow(v-e,2))<p&&(p=x,f=m,h=i)}m=A+1;for(var C=(null===(c=n.data[u])||void 0===c?void 0:c.length)||0;m<C;m++){var x;y=n.data[u][m][0],g=n.data[u][m][1],v=n.hchartInstance.yAxis[0].toPixels(g),b=n.hchartInstance.xAxis[0].toPixels(y);if(Math.pow(b-t,2)>p)break;(x=Math.pow(b-t,2)+Math.pow(v-e,2))<p&&(p=x,h=i,f=m)}},w=0;w<n.data.length;w++)x(w);return[d=f,h,n.data[h][d]]}catch(t){return null}},n.convertXToIndex=function(t,e){void 0===e&&(e=0);var i=n.getIndexByPx(t,e);return n.selectedYIndex=i[1],n.selectedXIndex=i[0],[i[0],i[2]]},n.convertYToIndex=function(t,e){if(1===n.data.length)return 0;for(var i=0;i<n.data.length;i++)if(n.data[i]&&n.data[i].length>0)return i},n.verifyData=function(t){if(t||(t=n.data),t&&t.length>0)for(var e=0;e<t.length;e++)if(t[e]&&t[e].length>0)return!0;return!1},n.GetYUnit=function(t){return t?"["+t+"]":""},n.chartIsLoading=!1,n.renderChart=function(t,e,i,a,r){try{n.chartIsLoading=!0;var o=n.GetOptions(t,e,i,a,r);window.requestAnimationFrame;var s=n.hchartHelper.Render(n.chartElement,o);n.chartIsLoading=!1,n.hchartInstance=n.hchartHelper.hchartInstance,s&&n.onRenderEnd()}catch(t){P.a.error(t,"renderChart")}k.RZGraphCache[n.id]=n},n.dynamicCursorEnable=!0,n.getAxisConfig=function(){var t=0,e=0;try{var i=n.selectedYIndex,a=n.hchartInstance.get("__id__-"+i);a&&a.userOptions&&(t=a.userOptions.xAxis||0,e=a.userOptions.yAxis||0)}catch(t){}return n.AxisConfig&&n.AxisConfig.length>0&&n.AxisConfig[n.selectedYIndex]&&(t=n.AxisConfig[n.selectedYIndex].xAxis,e=n.AxisConfig[n.selectedYIndex].yAxis),{xAxis:t,yAxis:e}},n.AddCheckedLabel=function(t,e,i){try{var a=n.getAxisConfig();n.hchartHelper.AddCheckedLabel(t,e,i,"line",a.xAxis,a.yAxis)}catch(t){}},n.AddCheckedPoint=function(t,e){var i=n.getAxisConfig();n.hchartHelper.AddCheckedPoint(t,e,"line",i.xAxis,i.yAxis)},n.GetSelectedXY=function(){try{return n.selectedYIndex>=n.data.length&&(n.selectedYIndex=n.data.length-1),n.selectedXIndex>=n.data[n.selectedYIndex].length&&(n.selectedXIndex=n.data[n.selectedYIndex].length-1),n.data[n.selectedYIndex][n.selectedXIndex]}catch(t){return null}},n.resetZoom=function(){n.hchartHelper.ResetZoom()},n.GetOptions=function(t,e,i,a,r){return n.GetBaseOptions(t,e,i,a,r)},n.triggerSetExtremes=!0,n.chartConfig={xIsTime:!1,customXAxisMin:null,customXAxisMax:null,xIsSort:!0,isAllowMaxBtn:!1,addLine:!0,convertUnit:!0,isShowDisplayPoint:!0,showXAxisMaxLabel:!0,isDirectReset:!0},n.showAlarmLine=!1,n.HideOrShowAlarmLine=function(t){n.showAlarmLine=t;for(var e=n.hchartHelper,i=1;i<=4;i++){var a="alarmline-"+i;e.VisibleSeriesWithId(a,t)}},n.HideOrShowAlarmLineByType=function(t,e,i){n.showAlarmLine=t;var a=n.hchartHelper;i&&(e=e.filter(function(t){return t.DataType===i})),rt.formatAlarmLineDataChart(rt.BreakPointFormat(rt.formatAlarmLineData(e,n.data[0])),n.showAlarmLine).forEach(function(e){var n=[];e.data.forEach(function(t){var e;t.dataLabels&&(null===(e=t.dataLabels)||void 0===e?void 0:e.dataType)!==i||n.push(t)}),a.SetSeriesDataWithId(e.name,t,n)})},n.CreateAlarmLine=function(t){var e=[],i=rt.formatAlarmLineDataChart(rt.BreakPointFormat(rt.formatAlarmLineData(t,n.data[0])),n.showAlarmLine);return i&&i.map(function(t,n){e.push(_t({key:["x","y","dataLabels"],boostThreshold:0,id:"alarmline-"+(n+1),lineWidth:1,name:"alarmline-"+(n+1),animation:!1,step:"left",color:Object(f.i)(n+1),allowPointSelect:!1,enableMouseTracking:!1,marker:{enabled:!1}},t))}),e},n.enableMouseTracking=!1,n.setXZoom=function(t,e){n.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,{trigger:"PushStack"})},n.getXMax=function(){var t=0;try{for(var e=0;e<n.data.length;e++){var i=n.data[e];i&&i.length>0&&i[i.length-1][0]>t&&(t=i[i.length-1][0])}}catch(t){}return t},n.GetBaseOptions=function(t,e,i,a,r){var o,s=n,l={},c=[];t&&t.series||n.data.map(function(t,e){c.push({turboThreshold:0,animation:!1,keys:n.ChartKeys,allowPointSelect:!1,enableMouseTracking:n.enableMouseTracking,name:"",data:t,id:"__id__-"+e,lineWidth:1})}),i&&(c=c.concat(n.CreateAlarmLine(i)),t&&t.series&&!t.series.find(function(t){var e;return(null===(e=null==t?void 0:t.id)||void 0===e?void 0:e.indexOf("alarmline"))>=0})&&(t.series=t.series.concat(n.CreateAlarmLine(i))));var u={series:{cursor:"pointer",animation:!1,enableMouseTracking:n.enableMouseTracking,marker:{enabled:!1,radius:2,states:{hover:{enabled:!1}}}}};n.chartConfig.xIsTime?(u.series.marker.enabled=!0,l={type:"datetime",minorTickInterval:"auto",dateTimeLabelFormats:{millisecond:"%m-%d %H:%M:%S",second:"%m-%d %H:%M:%S",minute:"%m-%d %H:%M:%S",hour:"%m-%d %H:%M",day:"%m-%d %H:%M",week:"%m-%d %H:%M",month:"%Y-%m-%d",year:"%Y-%m"},tickPixelInterval:180,labels:{crop:!1,overflow:"justify",padding:0,autoRotation:!1,align:"center",formatter:function(t){var e=t.dateTimeLabelFormat;return this.chart.time.dateFormat(e,this.value)}},minPadding:4/L(n.element).width(),maxPadding:4/L(n.element).width()}):l={minPadding:0,maxPadding:0,tickPositioner:function(t,e){var n=this.tickPositions,i=this.dataMax,a=this.dataMin;return e===i&&n[n.length-1]!==e&&n.push(e),t===a&&n[0]!==a&&(n=jt([t],n)),null==n||n.sort(function(t,e){return t-e}),n}},n.chartConfig.showXAxisMaxLabel||(l.tickPositioner=void 0);var h={};try{n.chartConfig.customXAxisMax&&n.chartConfig.customXAxisMin?h={softMin:n.chartConfig.customXAxisMin,softMax:n.chartConfig.customXAxisMax}:n.chartConfig.customXAxisMax?h={softMax:n.chartConfig.customXAxisMax}:n.chartConfig.customXAxisMin&&(h={softMin:n.chartConfig.customXAxisMin})}catch(t){}return _t({annotations:[{id:"remarklabel",labelOptions:{shape:"connector",align:"right",justify:!1,crop:!0,style:{fontSize:"0.8em",textOutline:"1px white"}},labels:[]},{draggable:"",id:"checkedPoint",shapes:[]},{draggable:"",id:"checkedTooltip",labelOptions:{crop:!0,backgroundColor:"rgba(255,255,255,0.5)",verticalAlign:"top",y:15},labels:[]}],title:{text:"",floating:!0},exporting:{scale:1},navigation:{buttonOptions:{enabled:!1}},credits:{enabled:!1},boost:{allowForce:!1,useGPUTranslations:!1},tooltip:{enabled:!1},plotOptions:_t({},u),legend:{enabled:!1},chart:_t(_t({marginLeft:s.verifyData()&&1===(null===(o=n.data)||void 0===o?void 0:o.length)?65:void 0,resetZoomButton:{position:{x:0,y:-300}},reflow:!0,defaultSeriesType:"line",animation:!1,zoomType:"x",panning:!0,spacingRight:8},r),{events:_t({load:function(t){try{s.chartIsLoading=!1;var e=s.data;s.hchartInstance=t.target,s.hchartHelper.hchartInstance=t.target,e&&e.length>0&&(s.onRenderEnd&&s.onRenderEnd(),s.props&&s.props.onRenderEnd&&s.props.onRenderEnd(s.selectedXIndex,s.selectedYIndex))}catch(t){P.a.error("chartload",t)}},selection:function(t){1!==L(t.target.container).parent().attr("data-isActived")&&(L(".RZcontainer").attr({"data-isActived":"0"}),L(t.target.container).parent().attr({"data-isActived":"1"}))},resetZoom:function(){if(s.chartConfig.isDirectReset||s.extremesStack.isEmpty())s.hchartHelper.ResetZoom();else{s.extremesStack.pop();var t=s.extremesStack.peek();s.hchartHelper.ResetZoom(t.min,t.max)}},click:function(t){if(!0!==s.disableQuickOperation){var e=s.data;if(e&&e.length>0){var n=t.chartX,i=t.chartY;n&&i&&s.ChartClick(n,i)}}}},null==r?void 0:r.events)}),xAxis:_t(_t(_t(_t({type:"linear",minorTickInterval:"auto",gridZIndex:0,allowDecimals:!0,showFirstLabel:!0,showLastLabel:!0,tickPixelInterval:120,labels:{overflow:"justify",padding:0,autoRotation:!1,align:"center",formatter:function(t){s.chartConfig.xIsTime;var e=s.chartConfig.xIsTime?200:80;if(this.axis.tickPositions.indexOf(this.value)===this.axis.tickPositions.length-2){var n=this.axis.max-this.axis.min,i=this.axis.width/n;if((this.axis.max-this.value)*i<e)return""}var a=Math.round(10*this.value)/10,r={rate:1,unit:s.xUtils};return s.chartConfig.convertUnit&&(r=Object(f.b)(s.xUtils)),"°"===r.unit?this.isFirst?(a%360).toFixed(0)+" "+r.unit:(a%360).toFixed(3):"CPM"===r.unit?this.isFirst?(this.value*r.rate).toFixed(0)+" "+r.unit:(this.value*r.rate).toFixed(0):"s"===r.unit?this.isFirst?(this.value*r.rate).toFixed(3)+" "+r.unit:(this.value*r.rate).toFixed(3):this.isFirst?(this.value*r.rate).toFixed(0)+" "+r.unit:a*r.rate}}},l),h),e),{events:_t(_t({setExtremes:function(t){var e=!(arguments&&arguments.length>0&&"NotDispatch"===arguments[0]),n=arguments&&arguments.length>0&&"IsDirectReset"===arguments[0];if("syncExtremes"!==t.trigger){var i=!0;if("PushStack"===t.trigger){if(void 0!==t.min&&void 0!==t.max){if(t.min===this.min||t.max===this.max)return;t.min>this.min||t.max<this.max?t.max-t.min>216e5&&s.chartConfig.xIsTime?s.extremesStack.push({min:t.min,max:t.max}):t.max===t.min||s.chartConfig.xIsTime||s.extremesStack.push({min:t.min,max:t.max}):(t.min<this.min||t.max>this.max)&&s.extremesStack.pop()}else s.extremesStack.clear();return!0}if(n&&s.props&&s.props.onSetExtremes){var a=s.extremesStack.peek();!1!==(r=s.props.onSetExtremes(a.min,a.max))&&!0!==r||(i=r)}try{if(t.target.chart&&t.target.chart.rzisZoomOut)return t.target.chart.rzisZoomOut=!1,!1;var r;if(t.max&&this.toPixels(t.max)-this.toPixels(t.min)<=H.xZoomMinSelection?i=!1:(s.lastExtremes={max:t.max,min:t.min},s.props&&s.props.onSetExtremes&&e&&(!1!==(r=s.props.onSetExtremes(t.min,t.max))&&!0!==r||(i=r))),i&&!(s.chartConfig.isDirectReset||t.target.chart&&t.target.chart.rzisZoomOut)&&void 0!==t.min&&void 0!==t.max)if(t.max-t.min>216e5&&s.chartConfig.xIsTime)s.extremesStack.push({min:t.min,max:t.max});else{if(t.max===t.min||s.chartConfig.xIsTime)return!1;s.extremesStack.push({min:t.min,max:t.max})}return i}catch(t){return!0}}}},{}),null==e?void 0:e.events)}),yAxis:_t({minorTickInterval:"auto",allowDecimals:!0,showFirstLabel:!0,showLastLabel:!0,endOnTick:s.chartConfig.xIsTime,startOnTick:s.chartConfig.xIsTime,title:{text:s.GetYUnit(s.yUtils),margin:3,enabled:!!s.GetYUnit(s.yUtils)},tickPositioner:function(t,e){var n=this.tickPositions;if(s.chartConfig.xIsTime)return n;try{var i=this.tickInterval;n=s.chartConfig.xIsTime?.1*(e-t)<i?jt(jt([t-.1*(e-t)],n),[e+.1*(e-t)]):jt(jt([t-.1*(e-t),t],n),[e,e+.1*(e-t)]):jt(jt([t],n),[e]),null===(n=Array.from(new Set(n)))||void 0===n||n.sort(function(t,e){return t-e})}catch(t){}return n},labels:{x:-8,padding:0,overflow:"allow",align:"right",formatter:function(t){var e=t.value,n=t.axis.tickPositions.concat([]),i=n.indexOf(t.value),a=t.axis.min,r=t.axis.max,o=t.axis.transA;if((i===n.length-2||1===i)&&(null==n?void 0:n.length)>2){var s=o;if(1===i&&(e-a)*s<20)return"";if(i===n.length-2&&(r-e)*s<20)return""}var l=parseFloat(e);return Math.abs(l)>=1e3?(Number(Math.round(10*l))/10).toFixed(0):Math.abs(l)>=100?(Number(Math.round(10*l))/10).toFixed(1):Math.abs(l)>=10?(Number(Math.round(100*l))/100).toFixed(2):(Number(Math.round(1e3*l))/1e3).toFixed(3)}}},a),series:c},t)},!e)throw"ele is null";if(Object(f.A)(e))n.element=e;else{if(!Object(f.A)(document.getElementById(e)))throw"Ele is not the correct html node";e=null==e?void 0:e.replace("#",""),n.element=document.getElementById(e)}return n.isShow=!0,n.data=[],n.id=Object(f.y)(),n.layout=new ft(n.element,n.id,n),n.menuInstance=new tt(n),n.hchartHelper=new pt(n.element),n}return Qt(e,t),e.prototype.Resize=function(){try{this.hchartInstance&&this.hchartInstance.reflow()}catch(t){}},e.prototype.Export=function(){this.hchartHelper.Export()},e.prototype.getChartImage=function(){this.hchartHelper.getChartImage()},e.prototype.Clear=function(){if(!this.isLockChart&&this.hchartInstance)try{this.hchartInstance.destroy()}catch(t){}},e.prototype.Dispose=function(){try{if(k.RZGraphCache[this.id]=void 0,delete k.RZGraphCache[this.id],t.prototype.Dispose.call(this),this.hchartInstance)try{this.hchartInstance.destroy&&this.hchartInstance.destroy()}catch(t){}this.menuInstance&&(this.menuInstance.Dispose(),this.menuInstance=null),this.hchartHelper&&(this.hchartHelper.Dispose(),this.hchartHelper=null),this.chartElement&&(L(this.chartElement).unbind(),L(this.chartElement).remove(),this.chartElement=null),this.RemarkContent=null,this.chartConfig=null,this.data=null,this.xUtils=null,this.yUtils=null,this.layout.Dispose(),this.layout=null,this.ChartKeys=null,this.hchartInstance=null,this.props=null,this.sourceData=null,this.selectedXIndex=null,this.selectedYIndex=null,this.chartName=null,this.data=null,L(this.element).unbind(),L(this.element).remove(),this.element=null}catch(t){}},e.prototype.onHotKeyDown=function(t){if(this.verifyData(this.data))switch(t){case 37:if(this.selectedXIndex>0){this.selectedXIndex=this.selectedXIndex-1,this.MoveMainCursor(!0,!0,!0,!0);try{var e=this.hchartInstance.xAxis[0].min,n=this.hchartInstance.xAxis[0].max;e>(i=this.GetSelectedXY()[0])&&(n=n+i-e,this.hchartInstance.xAxis[0].setExtremes(i,n,!0,!1))}catch(t){}}break;case 39:if(this.selectedXIndex<this.data[this.selectedYIndex].length-1){this.selectedXIndex=this.selectedXIndex+1,this.MoveMainCursor(!0,!0,!0,!0);try{var i;e=this.hchartInstance.xAxis[0].min;(n=this.hchartInstance.xAxis[0].max)<(i=this.GetSelectedXY()[0])&&(e=e-n+i,this.hchartInstance.xAxis[0].setExtremes(e,i,!0,!1))}catch(t){}}break;case 38:this.selectedYIndex<this.data.length-1&&(this.selectedYIndex=this.selectedYIndex+1,this.MoveMainCursor(!0,!0,!0,!0));break;case 40:this.selectedYIndex>=1&&(this.selectedYIndex=this.selectedYIndex-1,this.MoveMainCursor(!0,!0,!0,!0))}},e.prototype.onHotKeyUp=function(t){if(this.verifyData(this.data))switch(t){case 37:this.selectedXIndex>=0&&this.onMainCursorMoved();break;case 39:this.selectedXIndex<this.data[this.selectedYIndex].length&&this.onMainCursorMoved();break;case 38:this.data.length>1&&this.selectedYIndex<this.data.length&&this.onMainCursorMoved();break;case 40:this.data.length>1&&this.selectedYIndex>=0&&this.onMainCursorMoved()}},e.prototype.getMostIndexX=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=!1);var a=this.convertYToIndex(t,e),r=rt.GetMostNearIndex(t,i||this.data[a],0,n);if(void 0!==r)return i?[r,i[r]]:[r,this.data[a][r]]},e.prototype.onMainCursorMoving=function(t){if(this.props&&this.props.onMainCursorMoving){var e=this.GetSelectedXY();this.props.onMainCursorMoving(this.selectedXIndex,this.selectedYIndex,e,t)}},e.prototype.onMainCursorMoved=function(t){if(this.props&&this.props.onMainCursorMoved)try{var e=this.GetSelectedXY(),n=null;if(this.sourceData)try{n=this.sourceData[this.selectedYIndex][this.selectedXIndex]}catch(t){}this.props.onMainCursorMoved(this.selectedXIndex,this.selectedYIndex,e,t,n)}catch(t){}},e.prototype.onSingleCursorMove=function(t,e){e=e||0;var n=this.convertXToIndex(t,e);this.selectedXIndex=n[0],this.dynamicCursorEnable&&this.AddCheckedLabel(n[1][0],n[1][1],this.getSelectedText()),this.AddCheckedPoint(n[1][0],n[1][1]),this.onMainCursorMoving()},e.prototype.onSingleCursorMoveEnd=function(t,e){e=e||0;var n=this.convertXToIndex(t,e);this.selectedXIndex=n[0],this.hchartHelper.AddCheckedLine(n[1][0],0,this),this.dynamicCursorEnable&&this.AddCheckedLabel(n[1][0],n[1][1],this.getSelectedText()),this.AddCheckedPoint(n[1][0],n[1][1]),this.onMainCursorMoved()},e.prototype.MoveMainCursorByXValue=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=null);var i=this.getMostIndexX(t);this.selectedXIndex=i[0],this.MoveMainCursor(!0,!0,!0,!1,e,n)},e.prototype.MoveMainCursor=function(t,e,n,i,a){var r=this;void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===a&&(a=!0);for(var o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];try{if(!this.verifyData())return;var l=this.GetSelectedXY();if(!l||void 0===l[0]||null===l[0]||void 0===l[1]||null===l[1])return;if(t&&this.chartConfig.addLine&&this.hchartHelper.AddCheckedLine(Number(l[0]),0,this),this.dynamicCursorEnable&&e&&this.AddCheckedLabel(Number(l[0]),Number(l[1]),this.getSelectedText()),n&&this.AddCheckedPoint(Number(l[0]),Number(l[1])),!a)return;setTimeout(function(){i?r.onMainCursorMoving.apply(r,o):r.onMainCursorMoved.apply(r,o)},0)}catch(t){P.a.error(t,"MoveMainCursor")}},e.prototype.UpdateMainCursorLabel=function(t){t||(t=this.GetSelectedXY()),this.dynamicCursorEnable&&this.AddCheckedLabel(t[0],t[1],this.getSelectedText())},e.prototype.ChartClick=function(t,e){var n=this.convertXToIndex(t,e);n&&n.length>0&&(this.selectedXIndex=n[0],this.MoveMainCursor())},e.prototype.Init=function(){if(this.isInit=!0,this.hchartInstance=this.hchartHelper.hchartInstance,this.chartElement=this.layout.GenerateView(),this.menuInstance.Bind(this.chartElement,!1,this.props.OpenMeunCallBack||this.OpenMeunCallBack),this.chartAnnotations=new Ht(this),this.chartConfig.isAllowMaxBtn){var t=L(this.element).hasClass("rzAxisPanelMax")?M.$t("headbar.title.resize"):M.$t("headbar.title.maxsize");L(this.element).find(".rzgraph_helperinfo ul").append("<li style='position: absolute;right: 0;'><div id='btnZoomPanel"+this.id+"' title='"+t+"' style='' class='rzBtnMaxSize'></div></li>");var e=this;L("#btnZoomPanel"+this.id).click(function(){L(this).attr("title")==M.$t("headbar.title.maxsize")?(L(this).attr("title",M.$t("headbar.title.resize")),L(this).addClass("rzBtnMinSize"),L(e.element).addClass("rzAxisPanelMax"),L(e.element).siblings().hide(),L(this).parents(".rzAxisPanelParent").children().each(function(t,e){L(e).hasClass("rzAxisPanelMax")||0!=L(e).find(".rzAxisPanelMax").length||L(e).hide()}),L(e.element).show(),L(this).parents(".rzAxisPanelParent").find(".gutter").hide(),L(this).parents(".rzAxisPanelParent").find(".rzgraph_helperinfo").hide(),L(e.element).find(".rzgraph_helperinfo").show(),L(e.element).css("position","absolute"),e.props.onMaxBtnClick&&e.props.onMaxBtnClick(!0)):(L(e.element).css("position","relative"),L(this).attr("title",M.$t("headbar.title.maxsize")),L(this).removeClass("rzBtnMinSize"),L(this).parents(".rzAxisPanelParent").find(".gutter").show(),L(this).parents(".rzAxisPanelParent").find(".rzgraph_helperinfo").show(),L(this).parents(".rzAxisPanelParent").children().each(function(t,e){L(e).show()}),L(e.element).removeClass("rzAxisPanelMax"),L(e.element).siblings().show(),e.props.onMaxBtnClick&&e.props.onMaxBtnClick(!1)),e.Resize()})}!1===this.layout.generateToolbox&&this.menuInstance.RemoveMenuItem("toolbar"),!1===this.layout.generateHelperinfo&&this.menuInstance.RemoveMenuItem("helpInfo"),!1===this.layout.generateHelperinfo&&!1===this.layout.generateToolbox&&this.menuInstance.RemoveMenuItem("Setting")},e.prototype.RemoveMainCurosr=function(){this.hchartHelper.RemoveCheckedLabel(),this.hchartHelper.RemoveCheckedLine(),this.hchartHelper.RemoveCheckedPoint()},e.prototype.onRenderEnd=function(){this.verifyData(this.data)&&this.MoveMainCursor(!0,!0,!0,!1,!0,"first")},e.prototype.render=function(t,e,n,i,a,r,o,s,l){!this.isLockChart&&this.isShow&&(this.verifyData(t)||(t=[[]]),this.RemoveMainCurosr(),this.props&&this.props.onWillRender&&this.props.onWillRender(),this.lastExtremes=null,this.chartConfig=_t(_t({},this.chartConfig),r),this.data=t,this.xUtils=e||"",this.yUtils=n||"",this.renderChart(i,a,o,s,l),L(this.element).attr("data-chart-type")||L(this.element).attr("data-chart-type",this.chartConfig.xIsTime?"TrendChart":"VibChart"))},e.prototype.getSelectedText=function(t){if(void 0===t&&(t=!0),!this.verifyData())return"";var e=this.data[this.selectedYIndex][this.selectedXIndex];return e[0].toFixed(3)+this.xUtils+"，"+e[1].toFixed(3)+this.yUtils},e.prototype.getDataBySelectedIndex=function(){return this.verifyData()?this.data[this.selectedYIndex][this.selectedXIndex]:null},e.prototype.AddCustomLabel=function(t,e,n){this.hchartHelper.AddCustomLabel(e,n,t)},e.prototype.RemoveCheckedCustomLabel=function(t,e){this.hchartHelper.RemoveCheckedCustomLabel(t,e)},e.prototype.RemoveAllCustomLabel=function(){this.hchartHelper.RemoveAllCustomLabel()},e.prototype.getFormatText=function(t,e){var n=this.data[e][t];return n[0].toFixed(3)+this.xUtils+n[1].toFixed(3)+this.yUtils},e.prototype.openDynamicCursorEnable=function(){this.dynamicCursorEnable=!0;var t=this.GetSelectedXY();try{this.AddCheckedLabel(t[0],t[1],this.getSelectedText())}catch(t){}},e.prototype.closeDynamicCursorEnable=function(){this.dynamicCursorEnable=!1,this.hchartHelper.RemoveLabel("checkedTooltip")},e.prototype.onRemarkChange=function(t,e){},e.prototype.addSeries=function(t,e){void 0===e&&(e=null);var n=_t({turboThreshold:0,animation:!1,keys:this.ChartKeys,allowPointSelect:!1,enableMouseTracking:this.enableMouseTracking,name:"",data:t,lineWidth:1},e);this.data.push(t),this.hchartInstance&&this.hchartInstance.addSeries(n,!0)},Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onHotKeyDown",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onHotKeyUp",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onMainCursorMoving",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onMainCursorMoved",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onSingleCursorMove",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onSingleCursorMoveEnd",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"ChartClick",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"Init",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onRenderEnd",null),Nt([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"render",null),Nt([Object(f.a)()],e.prototype,"addSeries",null),e}(it),Vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Wt=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Xt=function(){return function(){}}();(zt=Yt||(Yt={})).First="0",zt.Last="1",zt.Center="2",zt.None="3";var qt=function(t){function e(e,n,i){void 0===n&&(n=Yt.First),void 0===i&&(i=null);var a=t.call(this,e)||this;return a.DilutionCount=0,a.AddMenuItem=function(t){for(var e in t)a.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},a.UpdateLayoutHelperInfo=function(){var t=a.getSelectedText(!1);a.layout.UpdateHelperInfo({CurosrValue:t})},a.OpenMeunCallBack=function(){a.MenuAfterAction&&a.MenuAfterAction()},a.MenuAfterAction=null,a.GetPointColor=function(t){},a.RenderShapePoint=function(t,e,n,i,r){if(void 0===e&&(e=function(t){}),void 0===n&&(n="circle"),void 0===i&&(i="line"),void 0===r&&(r=0),"line"==i&&null!=t&&t.length>0)for(var o=0;o<t.length;o++){a.GetPointColor(t[o]);a.hchartHelper.AddShapePoint(t[o].x,e,t[o],r,n)}},a.getSelectedData=function(){try{var t=a.data[a.selectedYIndex][a.selectedXIndex];return Object(f.p)(t)}catch(t){return null}},a.selectedYIndex=0,a.props=Kt(Kt({},a.props),i),a.chartName="CommonChart",a.defaultCurosrPosition=null==n?Yt.First:n,a}return Vt(e,t),e.prototype.Dispose=function(){this.cursorList&&this.cursorList.map(function(t){t.Dispose(),t=null}),this.cursorList=null,this.DilutionCount=null,this.defaultCurosrPosition=null,this.MenuAfterAction=null,this.element=null,this.annotationPoints=[],t.prototype.Dispose.call(this)},e.prototype.getAlarmLimits=function(){return this.alarmLimits},e.prototype.setAlarmLimits=function(t){this.alarmLimits=t},e.prototype.getAnnotationPoints=function(){return this.annotationPoints},e.prototype.setAnnotationPoints=function(t){this.annotationPoints=t},e.prototype.updateHelperInfo=function(){try{this.layout.UpdateHelperInfo({CurosrValue:this.getSelectedText(!1)})}catch(t){}},e.prototype.Clear=function(t){if(void 0===t&&(t=!1),!this.isLockChart){if(this.hchartInstance)try{t&&this.layout.Clear(),this.layout.UpdateHelperInfo({CurosrValue:""}),this.hchartInstance.destroy()}catch(t){}this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(t){t.isOpen&&t.onClear&&t.onClear()})}},e.prototype.registeredCursor=function(t){Array.isArray(t)||(t=[t]),this.cursorList&&this.cursorList.length?this.cursorList=Wt(Wt([],this.cursorList),t):this.cursorList=t},e.prototype.registeredToolBox=function(t,e,n,i,a){this.layout.AddToolBoxItem(t,e,n,i,a)},e.prototype.registeredMenu=function(t,e,n,i){this.menuInstance.AddMenuItem(t,e,n,i)},e.prototype.GetCursorList=function(){return this.cursorList},e.prototype.onMainCursorMoving_Before=function(t){this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(e){e.isOpen&&e.onMainCursorMove&&e.onMainCursorMove(t)}),this.updateHelperInfo()},e.prototype.onMainCursorMoved_Before=function(t){this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(e){e.isOpen&&e.onMainCursorMoved&&e.onMainCursorMoved(t)}),this.updateHelperInfo()},e.prototype.onSingleCursorMove_After=function(){},e.prototype.ChartClick_After=function(){},e.prototype.render_Before=function(t){try{if(this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(e){e.onRenderBefore&&e.onRenderBefore(t)}),!this.verifyData(t))return;if(0!=t[0].length&&t[0].length>this.selectedXIndex&&this.selectedXIndex>=0)return void this.layout.UpdateHelperInfo({CurosrValue:""});if(this.defaultCurosrPosition){for(var e=0;e<t.length;e++)if(t[e]&&t[e].length>0){if(this.selectedYIndex=e,this.defaultCurosrPosition==Yt.First)return void(this.selectedXIndex=0);if(this.defaultCurosrPosition==Yt.Last)return void(this.selectedXIndex=t[this.selectedYIndex].length-1);if(this.defaultCurosrPosition==Yt.Center)return void(this.selectedXIndex=Math.floor(t[this.selectedYIndex].length/2));this.defaultCurosrPosition===Yt.None&&this.RemoveMainCurosr()}this.selectedXIndex=0}}catch(t){}},e.prototype.onRenderEnd_After=function(t){this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(e){e.onRenderEnd&&e.onRenderEnd(t)})},e.prototype.Init_Before=function(){this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(t){t.onInit&&t.onInit()})},e.prototype.formatNumber=function(t){return(Number(Math.round(1e3*t))/1e3).toFixed(3)},e.prototype.getSelectedText=function(t){void 0===t&&(t=!0);try{var e=JSON.parse(JSON.stringify(this.data[this.selectedYIndex][this.selectedXIndex]));"°"===this.xUtils&&(e[0]=this.formatNumber(e[0]%360));var n={rate:1,unit:this.xUtils};this.chartConfig.convertUnit&&(n=Object(f.b)(this.xUtils)),this.xUtils=n.unit,e=e.concat([]),this.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=this.formatNumber(e[0]*n.rate),"°"===this.xUtils&&(e[0]=this.formatNumber(e[0]%360));var i="";if(i=e[0]+this.xUtils+"，"+this.formatNumber(e[1])+this.yUtils,this.ChartKeys.length<e.length)for(var a=this.ChartKeys.length;a<e.length;a++)""!==e[a]&&null!==e[a]&&void 0!==e[a]&&(i+="，"+("number"==typeof e[a]?this.formatNumber(e[a]):e[a]));return t&&(i=""+i),this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(e){e.isOpen&&e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},e}(Gt),Jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zt=function(){return(Zt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},$t=function(t){function e(e,n,i,a){void 0===n&&(n=Yt.First),void 0===i&&(i=null),void 0===a&&(a=null);var r=t.call(this,e,n,i)||this;return r.BearingBushCoef=null,r.convertXToIndex=function(t,e){void 0===e&&(e=0),r.selectedYIndex=0;try{for(var n=Number.MAX_SAFE_INTEGER,i=0,a=0,o=r.data[r.selectedYIndex].length;a<o;a++){var s=r.data[r.selectedYIndex][a][0]-t,l=r.data[r.selectedYIndex][a][1]-e,c=s*s+l*l;n>c&&(n=c,i=a)}return r.selectedXIndex=i,[r.selectedXIndex,r.data[r.selectedYIndex][r.selectedXIndex]]}catch(t){return null}},r.RemoveGroup=function(t){r.hchartHelper.RemoveGroup(t)},r.AddTurnImage=function(t,e,n,i,a,o){r.hchartHelper.AddTurnImage(t,e,n,i,a,o)},r.AddAngleLabel=function(t,e,n,i){r.hchartHelper.AddAngleLabel(t,e,n,i)},r.GetBaseOptions=function(t){var e=r;return Zt({allowMove:!1,title:{text:"",floating:!0},exporting:{url:"//export.highcharts.com.cn"},navigation:{buttonOptions:{enabled:!1}},annotations:[{draggable:"",id:"remarklabel",labelOptions:{shape:"connector",align:"right",justify:!1,crop:!0,style:{fontSize:"0.8em",textOutline:"1px white"}},labels:[]},{draggable:"",id:"checkedTooltip",labelOptions:{crop:!0,backgroundColor:"rgba(255,255,255,0.5)",verticalAlign:"top",y:15},labels:[]}],credits:{enabled:!1},boost:{enabled:!1},tooltip:{enabled:!1},plotOptions:{series:{cursor:"pointer"}},legend:{enabled:!1},chart:{defaultSeriesType:"line",animation:!1,zoomType:"xy",spacing:[5,5,5,5],margin:null,reflow:!0,panning:!0,panKey:"ctrl",events:{load:function(t){var n=e.data;n&&n.length>0&&(e.hchartInstance=t.target,e.hchartHelper.hchartInstance=t.target,e.onRenderEnd&&e.onRenderEnd(),e.props&&e.props.onRenderEnd&&e.props.onRenderEnd(this.selectedXIndex,this.selectedYIndex))},selection:function(t){try{t.resetSelection?e.circle.show():e.circle.hide()}catch(t){}},resetZoom:function(){e.hchartHelper.ResetZoom()},draggingChart:function(){e.circle&&e.circle.hide()},click:function(t){var n=e.data;if(n&&n.length>0){var i=t.xAxis[0].value,a=t.yAxis[0].value;i&&a&&e.ChartClick(i,a)}}}},xAxis:{gridLineWidth:1,gridZIndex:2,minorTickInterval:"auto",events:{setExtremes:function(t){return!((t.max-t.min)*t.target.transA<=H.xZoomMinSelection)}}},yAxis:{gridLineWidth:1,gridZIndex:2,minorTickInterval:"auto",title:{text:e.yUtils?"["+e.yUtils+"]":"",margin:1},events:{setExtremes:function(t){return!((t.max-t.min)*t.target.transA<=H.xZoomMinSelection)}},labels:{formatter:function(){var t=parseFloat(this.value);return Math.abs(t)>100?t.toFixed(0):Math.abs(t)>10?t.toFixed(2):t.toFixed(3)}}},series:[{turboThreshold:0,animation:!1,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:r.data[0],marker:{enabled:!1},lineWidth:1}]},t)},r.BearingBushCoef=a,r.chartConfig.addLine=!1,r}return Jt(e,t),e.prototype.onRenderEnd=function(){if(this.verifyData(this.data)){this.MoveMainCursor(!0,!0,!0,!1,!0,"first");var t=0,e=0,n=0,i=0,a=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;this.selectedYIndex=0;for(var o=0,s=this.data[this.selectedYIndex].length;o<s;o++){var l=Math.abs(this.data[this.selectedYIndex][o][0]);t=t>l?t:l,n=n&&n<l?n:l;var c=Math.abs(this.data[this.selectedYIndex][o][1]);e=e>c?e:c,i=i&&i<c?i:c;var u=l*l+c*c;u>a&&(a=u,o),u<r&&(r=u,o)}var h=this.hchartInstance.plotSizeX,d=this.hchartInstance.plotSizeY;this.BearingBushCoef&&(t=t>this.BearingBushCoef?t:this.BearingBushCoef,e=e>this.BearingBushCoef?e:this.BearingBushCoef);var p=t/h,f=e/d,A=p>f?p:f;t=A*h,e=A*d,this.BearingBushCoef&&(t=t>this.BearingBushCoef?t:this.BearingBushCoef,e=e>this.BearingBushCoef?e:this.BearingBushCoef),this.hchartInstance.xAxis[0].update({max:t,min:-t}),this.hchartInstance.yAxis[0].update({max:e,min:-e,maxPadding:0,minPadding:0,endOnTick:!1,startOnTick:!1}),this.hchartInstance.redraw(),this.circle&&this.circle.destroy();var m=this.hchartInstance.renderer.g().attr({zIndex:5}).add();this.circle=m;var y=this.hchartInstance.xAxis[0].toPixels(0);if(this.BearingBushCoef){this.layout.UpdateHelperInfo({BearingBushCoef:M.$t("Bearing.oefficient")+":"+this.BearingBushCoef});var g=this.hchartInstance.xAxis[0].toPixels(this.BearingBushCoef)-y;this.hchartInstance.renderer.circle(this.hchartInstance.plotSizeX/2+this.hchartInstance.plotLeft,this.hchartInstance.plotSizeY/2+this.hchartInstance.plotTop,g).attr({"stroke-dasharray":"5,5",fill:"#FCFFC5","fill-opacity":0,stroke:"red","stroke-width":1,zIndex:5}).add(m)}}},e}(qt),te=function(){function t(t,e,n,i,a,r,o,s,l){var c=this;void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=!0),void 0===l&&(l=null),this.onWhenHidden=function(){if(c.chart)try{c.chart.data=[[]],c.chart.hchartInstance.destroy()}catch(t){}},this.convertAngleToXy=function(t){var e=t/45,n=c.chart;try{switch(e){case 0:return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,(n.hchartInstance.plotHeight+n.hchartInstance.plotTop+24)/2];case 1:return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,24];case 2:return[n.hchartInstance.plotWidth/2+n.hchartInstance.plotLeft-5,24];case 3:return[n.hchartInstance.plotLeft,24];case 4:return[n.hchartInstance.plotLeft,(n.hchartInstance.plotHeight+n.hchartInstance.plotTop+24)/2];case 5:return[n.hchartInstance.plotLeft,n.hchartInstance.plotHeight+n.hchartInstance.plotTop];case 6:return[n.hchartInstance.plotWidth/2+n.hchartInstance.plotLeft-5,n.hchartInstance.plotHeight+n.hchartInstance.plotTop];case 7:return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,n.hchartInstance.plotHeight+n.hchartInstance.plotTop]}}catch(t){}return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,(n.hchartInstance.plotHeight+n.hchartInstance.plotTop+20)/2]},this.Resize=function(){try{var t=c.chart;if(c.chart.hchartInstance&&c.chart.hchartInstance.reflow(),c.chart.onRenderEnd(),c.renderGroup&&c.renderGroup.destroy(),!t.hchartInstance||!t.hchartInstance.renderer)return;c.renderImg(t)}catch(t){}},this.render=function(t,e,n,i){var a=c.chart;t&&(a.render([t],e,n,i,null,null,null,null,{type:"scatter"}),c.renderGroup&&c.renderGroup.destroy(),c.renderImg(a),c.Resize())},this.xAngle=n,this.yAngle=i,this.Rotation=a,this.chart=new $t(t,null,{onMainCursorMoved:function(t,e,n,i){o&&o(t,i)},onMainCursorMoving:function(t,e,n,i){o&&o(t,i)},onRenderEnd:null,onSetExtremes:null,onWillRender:null},l),this.chart.Resize=this.Resize;var u=this.chart;u.layout.generateToolbox=!1,u.layout._InitHelperInfo({name:e,MeasTime:"  ",CurosrValue:"",BearingBushCoef:"",Speed:""}),u.chartConfig.isAllowMaxBtn=s,u.selectedYIndex=0,u.menuInstance.RemoveMenuItem("LockChart"),u.Init()}return t.prototype.Dispose=function(){try{this.chart.Dispose()}catch(t){}},t.prototype.renderImg=function(t){if(this.renderGroup)try{this.renderGroup.destroy()}catch(t){}var e=t.hchartInstance.renderer.g().attr({zIndex:5}).add();if(this.xAngle==this.yAngle){var i=this.convertAngleToXy(this.xAngle);t.AddAngleLabel(e,"XY",i[0],i[1])}else{var a=this.convertAngleToXy(this.xAngle);t.AddAngleLabel(e,"X",a[0],a[1]);var r=this.convertAngleToXy(this.yAngle);t.AddAngleLabel(e,"Y",r[0],r[1])}t.AddTurnImage(e,1==this.Rotation?n(116):n(117),t.hchartInstance.chartWidth-60,t.hchartInstance.plotTop+10,60,60),this.renderGroup=e},t}(),ee=n(5),ne=n.n(ee),ie=function t(){l()(this,t)};ie.SaveDataRange=function(t){Object(f.E)("rzgrapg_datarange",t)},ie.GetDataRange=function(){var t=Object(f.v)("rzgrapg_datarange");return t&&null!=t||(t={DataRangEunm:"0",DataNumber:"200",DateTimeStart1:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),DateTimeStart2:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),DateTimeEnd2:Object(f.d)(new Date,"YYYY/MM/DD 23:59"),DataInt:"7",DataType:"1",isShowError:!0,isShowGongkuang:!0,Temp:"3",TempDataTime:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),TempDataTimeStart:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),TempDataTimeEnd:Object(f.d)(new Date,"YYYY/MM/DD 23:59"),TempDataType:"1",TempDataInt:"7"}),t},ie.GetTempQuery=function(){var t=ie.GetDataRange();if("0"==t.Temp)return"&mindate="+t.TempDataTime;if("3"==t.Temp){var e=new Date;return"0"==t.TempDataType?e=Object(f.r)(Object(f.c)("H",0-parseInt(t.TempDataInt),new Date)):"1"==t.TempDataType?e=Object(f.r)(Object(f.c)("d",0-parseInt(t.TempDataInt),new Date)):"2"==t.TempDataType?e=Object(f.r)(Object(f.c)("d",0-7*parseInt(t.TempDataInt),new Date)):"3"==t.TempDataType&&(e=Object(f.r)(Object(f.c)("M",0-parseInt(t.TempDataInt),new Date))),"&mindate=".concat(e)}return"&mindate=".concat(t.TempDataTimeStart,"&maxdate=").concat(t.TempDataTimeEnd)},ie.GetQueryByDataRange=function(){var t=ie.GetDataRange();if("0"==t.DataRangEunm)return"&limit="+t.DataNumber;if("1"==t.DataRangEunm)return"&mindate="+t.DateTimeStart1;if("2"==t.DataRangEunm)return"&mindate=".concat(t.DateTimeStart2,"&maxdate=").concat(t.DateTimeEnd2);if("3"==t.DataRangEunm){var e=new Date;return"0"==t.DataType?e=Object(f.r)(Object(f.c)("H",0-parseInt(t.DataInt),new Date)):"1"==t.DataType?e=Object(f.r)(Object(f.c)("d",0-parseInt(t.DataInt),new Date)):"2"==t.DataType?e=Object(f.r)(Object(f.c)("d",0-7*parseInt(t.DataInt),new Date)):"3"==t.DataType&&(e=Object(f.r)(Object(f.c)("M",0-parseInt(t.DataInt),new Date))),"&mindate=".concat(e)}},ie.VerifyDataRange=function(t){if("0"==t.DataRangEunm){if(!/^\d+$/.test(t.DataNumber))return M.$t("datatable.filter.error.tip.datacount.isnotint");if(parseInt(t.DataNumber)<=0)return M.$t("datatable.filter.error.tip.datacount.thanzero")}if("2"==t.DataRangEunm&&new Date(t.DateTimeStart2)>new Date(t.DateTimeEnd2))return M.$t("panel.startthanend.msg");if("3"==t.DataRangEunm){if(!/^\d+$/.test(t.DataInt))return M.$t("datatable.filter.error.notint");if(parseInt(t.DataNumber)<=0)return M.$t("datatable.filter.error.gtzero")}return"0"==t.Temp&&new Date(t.TempDataTimeStart)>new Date(t.TempDataTimeEnd)?M.$t("tip.error.time"):""},ie.GetDataRangeHtml=function(t,e){return"   <div style='padding: 10px;width:800px;'> \n\t<div class='layui-form' action='' id='formDataRange'> \n\t<div class='layui-row layui-col-space10'> \n\t <div class='layui-col-md6'> \n\t\t<div class='layui-card'> \n\t\t <div class='layui-card-header'>\n\t\t\t".concat(M.$t("datatable.filter.title.datalist"),"\n\t\t </div> \n\t\t <div class='layui-card-body'> \n\n\t\t\t <div class='layui-form-item'> \n\t\t\t\t<div style='width: auto;padding: 0;float:left;'>\n\t\t\t\t <input type='radio'  lay-filter=\"DataRangEunm\" name='DataRangEunm' value='0' title='").concat(M.$t("datatable.filter.datacount"),"' ").concat("0"===t.DataRangEunm?" checked='' ":" "," />\n\t\t\t\t</div> \n\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t <input type='number' name='DataNumber' min='1' autocomplete='off' class='layui-input' value='").concat(t.DataNumber,"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 80px;height:28px;' />\n\t\t\t\t</div> \n\t\t\t\t<div class='layui-form-customline'>\n\t\t\t\t ").concat(M.$t("datatable.filter.group"),"\n\t\t\t\t</div> \n\t\t\t </div> \n\t\t\t <div class='layui-form-item'> \n\t\t\t\t<div style='width: auto;padding: 0;float:left;'>\n\t\t\t\t <input type='radio'  lay-filter=\"DataRangEunm\" name='DataRangEunm' value='1' title='").concat(M.$t("datatable.filter.time.since"),"' ").concat("1"===t.DataRangEunm?" checked='' ":" ","   /> \n\t\t\t\t</div> \n\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t <input type='text' class='layui-input' name='DateTimeStart1' id='DateTimeStart1").concat(e,"' placeholder='YYYY/MM/DD HH:mm' style='height:28px;'/>\n\t\t\t\t</div> \n\t\t\t </div> \n\t\t\t <div class='layui-form-item'> \n\t\t\t\t\t<div style='width: auto;padding: 0;float:left;'>\n\t\t\t\t\t\t\t<input type='radio'  lay-filter=\"DataRangEunm\" name='DataRangEunm' value='2' title='").concat(M.$t("datatable.filter.time.from"),"&nbsp;&nbsp; &nbsp;'  ").concat("2"===t.DataRangEunm?" checked='' ":" "," /> \n\t\t\t\t\t\t </div>\n\t\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t\t <input type='text' class='layui-input' name='DateTimeStart2' id='DateTimeStart2").concat(e,"' placeholder='YYYY/MM/DD HH:mm' style='height:28px;'/>\n\t\t\t\t\t</div> \n\t\t\t\t </div> \n\t\t\t <div class='layui-form-item'> \n\t\t\t\t\t<div class='layui-form-customline' style='padding-left: 28px;padding-right: 0'>\n\t\t\t\t\t\t\t").concat(M.$t("datatable.filter.time.to"),"&nbsp;&nbsp; &nbsp;\n\t\t\t\t\t\t </div> \n\t\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t\t <input type='text' class='layui-input' name='DateTimeEnd2' id='DateTimeEnd2").concat(e,"' placeholder='YYYY/MM/DD HH:mm' style='height:28px;'/>\n\t\t\t\t\t</div> \n\t\t\t\t </div> \n\t\t\t\t <div class='layui-form-item'> \n\t\t\t\t\t\t<div style='width: auto;padding: 0;float:left;'>\n\t\t\t\t\t\t\t\t<input type='radio'  lay-filter=\"DataRangEunm\" name='DataRangEunm' value='3' title='").concat(M.$t("datatable.filter.before"),"' ").concat("3"===t.DataRangEunm?" checked='' ":" ","  /> \n\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t <div class='layui-form-customline' style='padding-right:0'> \n\t\t\t\t\t\t\t\t\t<input type='number' name='DataInt'  min='0' autocomplete='off' class='layui-input' value='").concat(t.DataInt,"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 60px;height:28px;' />\n\t\t\t\t\t\t\t\t </div> \n\t\t\t\t\t\t\t\t <div class='layui-form-customline' style='width:80px;'>\n\t\t\t\t\t\t\t\t\t\t<select name='DataType' lay-verify='' style='width: 80px;height:28px;'>                    \n\t\t\t\t\t\t\t\t\t\t\t\t<option value='0' ").concat("0"===t.DataType?"selected":"",">").concat(M.$t("datatable.filter.select.option.hour"),"</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='1' ").concat("1"===t.DataType?"selected":"",">").concat(M.$t("datatable.filter.select.option.day"),"</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='2' ").concat("2"===t.DataType?"selected":"",">").concat(M.$t("datatable.filter.select.option.week"),"</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='3' ").concat("3"===t.DataType?"selected":"",">").concat(M.$t("datatable.filter.select.option.month"),"</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>     \n\t\t\t\t\t\t\t\t\t </div> \n\t\t\t\t\t </div> \n\t\t\t\t\t <div class='layui-form-item' style='height:28px;'> \n\t\t\t\t\t\t\t<input type='checkbox' name='isShowError' lay-skin='primary' title='").concat(M.$t("datatable.filter.display.errordata"),"' ").concat(!0===t.isShowError?" checked='' ":" ","  >\n\t\t\t\t\t\t </div> \n\t\t\t\t <div class='layui-form-item' style='height:28px;'> \n\t\t\x3c!--\t\t<input type='checkbox' name='isShowGongkuang'  lay-skin='primary' title='").concat(M.$t("datatable.filter.display.workingconditiondata"),"' ").concat(!0===t.isShowGongkuang?" checked='' ":" ","/>  --\x3e\n\t\t\t\t\t\t\t </div> \n\t\n\t\t </div> \n\t\t</div> \n\t </div> \n\t <div class='layui-col-md6'> \n\t\t<div class='layui-card' style='height:324px;'> \n\t\t <div class='layui-card-header'>\n\t\t\t").concat(M.$t("datatable.process.filter.title"),"\n\t\t </div> \n\t\t <div class='layui-card-body'>\n\t\t\t\t<div class='layui-form-item'> \n\t\t\t\t\t\t<div style='width: auto;padding: 0;float:left;'>\n\t\t\t\t\t\t <input type='radio'  lay-filter=\"Temp\" name='Temp' value='0' title='").concat(M.$t("datatable.filter.time.since"),"' ").concat("0"===t.Temp?" checked='' ":" "," /> \n\t\t\t\t\t\t</div> \n\t\t\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t\t\t <input type='text' class='layui-input' name='TempDataTime' id='TempDataTime").concat(e,"' placeholder='YYYY/MM/DD HH:mm' style='height:28px;'/>\n\t\t\t\t\t\t</div> \n\t\t\t\t\t </div> \n\t\t\t\t\t <div class='layui-form-item'> \n\t\t\t\t\t\t\t<div style='width: auto;padding: 0;float:left;'>\n\t\t\t\t\t\t\t\t\t<input type='radio' lay-filter=\"Temp\" name='Temp' value='1' title='").concat(M.$t("datatable.filter.time.from"),"&nbsp;&nbsp; &nbsp;'  ").concat("1"===t.Temp?" checked='' ":" "," /> \n\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t\t\t\t <input type='text' class='layui-input'name='TempDataTimeStart' id='TempDataTimeStart").concat(e,"' placeholder='YYYY/MM/DD HH:mm' style='height:28px;'/>\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t </div> \n\t\t\t\t\t <div class='layui-form-item'> \n\t\t\t\t\t\t\t<div class='layui-form-customline' style='padding-left: 28px;padding-right: 0'>\n\t\t\t\t\t\t\t").concat(M.$t("datatable.filter.time.to"),"&nbsp;&nbsp; &nbsp;\n\t\t\t\t\t\t\t\t </div> \n\t\t\t\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t\t\t\t <input type='text' class='layui-input' name='TempDataTimeEnd' id='TempDataTimeEnd").concat(e,"' placeholder='YYYY/MM/DD HH:mm' style='height:28px;'/>\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t </div> \n\t\t\t\t\t\t <div class='layui-form-item'> \n\t\t\t\t\t\t <div style='width: auto;padding: 0;float:left;'>\n\t\t\t\t\t\t\t\t <input type='radio'  lay-filter=\"Temp\" name='Temp' value='3' title='").concat(M.$t("datatable.filter.before"),"' ").concat("3"===t.Temp?" checked='' ":" ","  /> \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='layui-form-customline' style='padding-right:0'> \n\t\t\t\t\t\t\t\t\t <input type='number' name='TempDataInt'  min='0' autocomplete='off' class='layui-input' value='").concat(t.TempDataInt||7,"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 60px;height:28px;' />\n\t\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t\t\t<div class='layui-form-customline' style='width:80px;'>\n\t\t\t\t\t\t\t\t\t\t <select name='TempDataType' lay-verify='' style='width: 80px;height:28px;'>                    \n\t\t\t\t\t\t\t\t\t\t <option value='0' ").concat("0"===t.TempDataType?"selected":"").concat(M.$t("datatable.filter.select.option.hour"),"</option>\n\t\t\t\t\t\t\t\t\t\t <option value='1' ").concat("1"===t.TempDataType?"selected":"",">").concat(M.$t("datatable.filter.select.option.day"),"</option>\n\t\t\t\t\t\t\t\t\t\t <option value='2' ").concat("2"===t.TempDataType?"selected":"",">").concat(M.$t("datatable.filter.select.option.week"),"</option>\n\t\t\t\t\t\t\t\t\t\t <option value='3' ").concat("3"===t.TempDataType?"selected":"",">").concat(M.$t("datatable.filter.select.option.month"),'</option>\n\t\t\t\t\t\t\t\t\t\t\t </select>     \n\t\t\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t</div> \n\t\t </div> \n\t\t</div> \n\t </div> \n\t</div> \n\t<div class="layui-row layui-col-space10">\n\t<div class="" style="float:right;">\n\t\t<button class="layui-btn" lay-submit="" lay-filter="demo1">').concat(M.$t("btn.ok"),"</button>\n\t\t<button id='btnClose").concat(e,'\'  class="layui-btn layui-btn-primary layui-btn-cancel">').concat(M.$t("btn.cancel"),"</button>\n\t</div>\n</div>\n</div> \n </div> ")},ie.renderDateTime=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;O.laydate.render({elem:"#"+t+n,type:"datetime",format:i||"yyyy/MM/dd HH:mm",lang:M.getLocale(),value:e})},ie.DataRangInit=function(t,e){var n=ie.GetDataRange(),i=ie.GetDataRangeHtml(n,t),a=O.layer.prompt({title:M.$t("datatable.filter.title"),content:i,btn:[],shadeClose:!1},function(t,e){});L("#btnClose"+t).click(function(){return O.layer.close(a),!1});var r=O.form;O.laydate;r.render(),ie.renderDateTime("DateTimeStart1",n.DateTimeStart1?n.DateTimeStart1:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),t),ie.renderDateTime("DateTimeStart2",n.DateTimeStart2?n.DateTimeStart2:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),t),ie.renderDateTime("DateTimeEnd2",n.DateTimeEnd2?n.DateTimeEnd2:Object(f.d)(new Date,"YYYY/MM/DD 23:59"),t),ie.renderDateTime("TempDataTime",n.TempDataTime?n.TempDataTime:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),t),ie.renderDateTime("TempDataTimeStart",n.TempDataTimeStart?n.TempDataTimeStart:Object(f.d)(new Date,"YYYY/MM/DD 00:00"),t),ie.renderDateTime("TempDataTimeEnd",n.TempDataTimeEnd?n.TempDataTimeEnd:Object(f.d)(new Date,"YYYY/MM/DD 23:59"),t);var o=function(t){switch(l(),t){case"0":L("input[type='number'][name='DataNumber']").attr("disabled",!1);break;case"1":L("input[name='DateTimeStart1']").attr("disabled",!1);break;case"2":L("input[name='DateTimeStart2']").attr("disabled",!1),L("input[name='DateTimeEnd2']").attr("disabled",!1);break;case"3":L("input[name='DataInt']").attr("disabled",!1),L("input[name='DataType']").attr("disabled",!1)}return!0},s=function(t){switch(l(1),t){case"0":L("input[name='TempDataTime']").attr("disabled",!1);break;case"1":L("input[name='TempDataTimeStart']").attr("disabled",!1),L("input[name='TempDataTimeEnd']").attr("disabled",!1);break;case"3":L("input[name='TempDataInt']").attr("disabled",!1),L("input[name='TempDataType']").attr("disabled",!1)}},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;L("#formDataRange .layui-col-md6").eq(t).find("input[type='text']").attr("disabled",!0),L("#formDataRange .layui-col-md6").eq(t).find("input[type='number']").attr("disabled",!0)};r.on("radio(Temp)",function(t){var e=t.value;return s(e),!0});r.on("radio(DataRangEunm)",function(t){var e=t.value;return o(e),!0}),o(n.DataRangEunm),s(n.Temp),r.on("submit(demo1)",function(t){var n=ie.VerifyDataRange(t.field);return""!=n?(layer.msg(n),!1):(t.field.isShowError="on"==t.field.isShowError,t.field.isShowGongkuang="on"==t.field.isShowGongkuang,Object(f.E)("rzgrapg_datarange",t.field),e&&e(t),O.layer.close(a),!1)})},ie.GenerateSettingContentHtml=function(t){var e=Object(f.v)("RZ_Compatibility_Mode"),n=Object(f.v)("RZ_DisplayFrequency")||!1,i=Object(f.v)("RZ_AnalysisModel")||"0",a=Object(f.v)("RZGraphDarkTheme"),r="";q.a.UnitConversionConfig.map(function(t){var e=Object(f.v)(t.type)||t.defaultUnit;r+='\n\t\t\t\t<div class="layui-form-item">\n\t\t\t\t\t<label class="layui-form-label">'.concat(M.$t(t.key),'</label>\n\t\t\t\t\t<div class="layui-input-block">\n\t\t\t\t\t\t<select name="').concat(t.type,'" lay-verify="required">\n\t\t\t\t\t\t').concat(t.values.map(function(t){return"<option ".concat(e===t.name&&"selected",' value="').concat(t.name,'">').concat(t.name,"</option>")}),"\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t")});var o='\n\t\t\t<div class="'.concat(f.B&&"RZGraph-Locale-En-Setting",' RZGraphOtherSettingModal" style="width:300px;">\n\t\t\t\t<div class="layui-form" action="" lay-filter="SettingForm').concat(t,'">\n\t\t\t\t\t<div class="layui-form-item">\n\t\t\t\t\t<label class="layui-form-label">').concat(M.$t("settingModal.compatibleMode"),'</label>\n\t\t\t\t\t\t<div class="layui-input-block">\n\t\t\t\t\t\t\t<input type="checkbox" ').concat(e&&"checked",' name="CompatibilityMode" lay-skin="switch" >\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="layui-form-item">\n\t\t\t\t\t\t<label class="layui-form-label">').concat(M.$t("settingModal.theme"),'</label>\n\t\t\t\t\t\t<div class="layui-input-block">\n\t\t\t\t\t\t\t<input ').concat(!1===a&&"checked",' type="radio" name="Theme" value="light" title="').concat(M.$t("settingModal.theme.light"),'">\n\t\t\t\t\t\t\t<input ').concat((!0===a||null===a)&&"checked",' type="radio" name="Theme" value="dark" title="').concat(M.$t("settingModal.theme.dark"),'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t').concat(r,'\n\n\t\t\t\t\t<div class="layui-form-item">\n\t\t\t\t\t\t<label class="layui-form-label">').concat(M.$t("settingModal.showspeedspec"),'</label>\n\t\t\t\t\t\t<div class="layui-input-block">\n\t\t\t\t\t\t\t<input type="checkbox" ').concat(n&&"checked",' name="DisplayFrequency" lay-skin="switch" >\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t');return Object(f.v)("GraphConfig")&&(o+='\t<div class="layui-form-item">\n\t\t\t\t\t<label class="layui-form-label">'.concat(M.$t("settingModal.Singleloopanalysis"),':</label>\n\t\t\t\t\t\t<div class="layui-input-block single_analysis">\n\t\t\t\t\t\t\t <input type="radio" ').concat("0"===i&&"checked",'  name="AnalysisModel" value="0" title="').concat(M.$t("settingModal.Routine"),'" checked="">\n\t\t\t\t\t\t\t<input type="radio" ').concat("1"===i&&"checked",'  name="AnalysisModel" value="1" title="').concat(M.$t("settingModal.Singleequalangle"),'">\n\t\t\t\t\t\t\t<input type="radio" ').concat("2"===i&&"checked",'  name="AnalysisModel" value="2" title="').concat(M.$t("settingModal.Singleequaltime"),'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>')),o+'\n\t\t\t\t\t<div class="layui-form-item">\n\t\t\t\t\t\t<div class="layui-input-block" style="margin-left: 118px!important;">\n\t\t\t\t\t\t\t<button class="layui-btn" lay-submit="" lay-filter="SettingForm'.concat(t,'">').concat(M.$t("btn.ok"),"</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")},ie.OpenSettingModal=function(t){var e=O.layer,n=O.form,i=e.prompt({title:M.$t("settingModal.title"),content:ie.GenerateSettingContentHtml(t),btn:[],shadeClose:!0});n.render(),n.on("submit(SettingForm".concat(t,")"),function(t){var n=t.field,a=Object(f.v)("RZ_Compatibility_Mode")||!1,r=Object(f.v)("RZGraphDarkTheme");r=null==r||r;var o=Object(f.v)("RZ_AnalysisModel")||"0";return Object(f.E)("RZ_Compatibility_Mode","on"===n.CompatibilityMode),Object(f.E)("RZGraphDarkTheme","dark"===n.Theme),Object(f.E)("RZ_DisplayFrequency","on"===n.DisplayFrequency),Object(f.E)("RZ_AnalysisModel",n.AnalysisModel),q.a.UnitConversionConfig.map(function(t){Object(f.E)(t.type,n[t.type]||t.defaultUnit)}),o!==n.AnalysisModel&&W.fireEvent("AnalysisModelChange"),a===("on"===n.CompatibilityMode)&&r===("dark"===n.Theme)||e.open({title:M.$t("settingModal.success"),content:M.$t("settingModal.successMsg"),btn:[M.$t("btn.ok")]}),e.close(i),!1})};n(82);var ae=n(43),re=n.n(ae),oe=n(194),se=n(62),le=n.n(se),ce=function(){return(ce=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},ue=new(function(){function t(){var t=this;this._Data={},this.maxCount=50,this.allExpirys=!0,this.expirys=600,this.AllowCache=["OrderData","OrderEnvolope","ProcessPointGroups","AngleWave","IndexCfgs","OriginalVibWave","Spectrum","/Sections/","Cepstrum","DynamicPoints","CrossPhase","HighFreMeasdefID","SolutionAveSquareRoot","OriginalVibWaveData","SolutionAveSquareRootSpectrum","LogSpectrum","SolutionAveSquareRootLogSpectrum","GetTraitDatasWithMultiType","HarmonicDistortion","objectStream"],this.Add=function(e,n,i){if(0!=window.rzgraphCache&&e&&n&&n.data){var a=!1;if(t.AllowCache&&t.AllowCache.map(function(t){i.indexOf(t)>=0&&(a=!0)}),i||(a=!0),a){var r=Object.keys(t._Data);r.length>=t.maxCount&&t.Delete(r[0]),t._Data[e]={data:le()(n),timestamp:Date.now()}}}},this.Get=function(e){var n,i,a;if((null===(n=window.rondsGraphCache)||void 0===n?void 0:n._Data)&&(null===(i=window.rondsGraphCache)||void 0===i?void 0:i._Data[e]))return null===(a=window.rondsGraphCache)||void 0===a?void 0:a._Data[e];try{var r=t._Data[e];if(r&&r.data&&r.timestamp){var o=t.expirys,s=r.timestamp;if((Date.now()-s)/1e3<o)return le()(r.data);t.Delete(e)}}catch(t){}return null},this.Delete=function(e){t._Data[e]=void 0,delete t._Data[e]},this.Clear=function(){t._Data=null,t._Data={}}}return t.prototype.generateCode=function(t,e){var n=!1;if(this.AllowCache&&this.AllowCache.map(function(e){t.indexOf(e)>=0&&(n=!0)}),!n)return null;var i=e.params?ce(ce({},e.params),{_t:null}):{_t:null},a=t+JSON.stringify(i).replace(new RegExp(/( )/g),"");return oe.sha256().update(a).digest("hex")},t}());window.rzDataCache=ue;var he=ue,de=(n(118),n(21)),pe=n.n(de),fe=n(3),Ae=n(124),me=n(13),ye=n.n(me);function ge(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,Ae.Transform.call(this,t),this._msgpack=t.msgpack}function ve(t){if(!(this instanceof ve))return(t=t||{}).msgpack=this,new ve(t);ge.call(this,t),this._wrap="wrap"in t&&t.wrap}function be(t){if(!(this instanceof be))return(t=t||{}).msgpack=this,new be(t);ge.call(this,t),this._chunks=pe()(),this._wrap="wrap"in t&&t.wrap}ye()(ge,Ae.Transform),ye()(ve,ge),ve.prototype._transform=function(t,e,n){var i=null;try{i=this._msgpack.encode(this._wrap?t.value:t).slice(0)}catch(t){return this.emit("error",t),n()}this.push(i),n()},ye()(be,ge),be.prototype._transform=function(t,e,n){t&&this._chunks.append(t);try{var i=this._msgpack.decode(this._chunks);this._wrap&&(i={value:i}),this.push(i)}catch(t){return void(t instanceof this._msgpack.IncompleteBufferError?n():this.emit("error",t))}this._chunks.length>0?this._transform(null,e,n):n()};var Ce={Decoder:be,Encoder:ve},xe=n(61),we=n.n(xe),De=n(123);function Ie(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}n.n(De).a.inherits(Ie,Error);var Be={196:2,197:3,198:5,199:3,200:4,201:6,202:5,203:9,204:2,205:3,206:5,207:9,208:2,209:3,210:5,211:9,212:3,213:4,214:6,215:10,216:18,217:2,218:3,219:5,222:3,220:3,221:5};function Te(t,e,n){return e>=n+t}function Se(t){return function(t){t instanceof pe.a||(t=pe()().append(t));var n=e(t,0);if(!n)throw new Ie;return t.consume(n[1]),n[0]};function e(t,e){if(t.length<=e)return null;var o=t.length-e,s=e,l=t.readUInt8(s);s+=1;var c=Be[l]||-1;if(o<c)return null;var u,h=function(t,e){return l>=t&&l<=e};if(l<128)return[l,1];if(128==(240&l))return i(t,s,15&l,s-e);if(144==(240&l))return n(t,s,15&l,s-e);if(160==(224&l)){var d=31&l;return Te(d,o,1)?[t.toString("utf8",s,s+d),d+1]:null}if(h(192,195))return function(t){return 192===t?[null,1]:194===t?[!1,1]:195===t?[!0,1]:void 0}(l);if(h(196,198)){var p=t.readUIntBE(s,c-1);return s+=c-1,Te(p,o,c)?[t.slice(s,s+p),c+p]:null}if(h(199,201)){var f=t.readUIntBE(s,c-2);s+=c-2;var A=t.readInt8(s);return s+=1,Te(f,o,c)?r(t,s,A,f,c):null}if(h(202,203))return function(t,e,n){var i;return 4===n&&(i=t.readFloatBE(e)),8===n&&(i=t.readDoubleBE(e)),[i,n+1]}(t,s,c-1);if(h(204,207))return function(t,e,n){for(var i=e+n,a=0;e<i;)a+=t.readUInt8(e++)*Math.pow(256,i-e);return[a,n+1]}(t,s,c-1);if(h(208,211))return a(t,s,c-1);if(h(212,216)){var m=t.readInt8(s);return r(t,s+=1,m,c-2,2)}if(h(217,219)){var y=t.readUIntBE(s,c-1);return s+=c-1,Te(y,o,c)?[t.toString("utf8",s,s+y),c+y]:null}if(h(220,221)){var g=t.readUIntBE(s,c-1);return n(t,s+=c-1,g,c)}if(h(222,223))switch(l){case 222:return u=t.readUInt16BE(s),i(t,s+=2,u,3);case 223:return u=t.readUInt32BE(s),i(t,s+=4,u,5)}if(l>=224)return[l-256,1];throw new Error("not implemented yet")}function n(t,n,i,a){for(var r=n,o=[],s=0;s++<i;){var l=e(t,r);if(!l)return null;o.push(l[0]),r+=l[1]}return[o,a+r-n]}function i(t,e,i,a){var r=n(t,e,2*i,a);if(!r)return null;for(var o=we()(r,2),s=o[0],l=o[1],c=!0,u=0;u<2*i;u+=2)if("string"!=typeof s[u]){c=!1;break}if(c){for(var h={},d=0;d<2*i;d+=2){var p=s[d],f=s[d+1];h[p]=f}return[h,l]}for(var A=new Map,m=0;m<2*i;m+=2){var y=s[m],g=s[m+1];A.set(y,g)}return[A,l]}function a(t,e,n){var i;return 1===n&&(i=t.readInt8(e)),2===n&&(i=t.readInt16BE(e)),4===n&&(i=t.readInt32BE(e)),8===n&&(i=function(t,e){var n=128==(128&t[e]);if(n)for(var i=1,a=e+7;a>=e;a--){var r=(255^t[a])+i;t[a]=255&r,i=r>>8}return(4294967296*t.readUInt32BE(e+0)+t.readUInt32BE(e+4))*(n?-1:1)}(t.slice(e,e+8),0)),[i,n+1]}function r(e,n,i,a,r){var o=e.slice(n,n+a),s=t.get(i);if(!s)throw new Error("unable to find ext type "+i);return[s(o),r+a]}}n(279);var Me=n(125),Ee=n.n(Me);n(81);function ke(t,e){function n(i){if(void 0===i)throw new Error("undefined is not encodable in msgpack!");if(function(t){return t!=t&&"number"==typeof t}(i))throw new Error("NaN is not encodable in msgpack!");if(null===i)return fe.Buffer.from([192]);if(!0===i)return fe.Buffer.from([195]);if(!1===i)return fe.Buffer.from([194]);if(i instanceof Map)return function(t,e,n){var i=[Pe(t.size,128,222)],a=Ee()(t.keys());return a.every(function(t){return"string"==typeof t}),a.forEach(function(e){i.push(n(e),n(t.get(e)))}),pe()(i)}(i,0,n);if("string"==typeof i)return function(t,e){var n,i=fe.Buffer.byteLength(t);return i<32?((n=fe.Buffer.allocUnsafe(1+i))[0]=160|i,i>0&&n.write(t,1)):i<=255&&!e.compatibilityMode?((n=fe.Buffer.allocUnsafe(2+i))[0]=217,n[1]=i,n.write(t,2)):i<=65535?((n=fe.Buffer.allocUnsafe(3+i))[0]=218,n.writeUInt16BE(i,1),n.write(t,3)):((n=fe.Buffer.allocUnsafe(5+i))[0]=219,n.writeUInt32BE(i,1),n.write(t,5)),n}(i,e);if(i&&(i.readUInt32LE||i instanceof Uint8Array))return i instanceof Uint8Array&&(i=fe.Buffer.from(i)),pe()([Re(i.length),i]);if(Array.isArray(i))return pe()().append([Pe(i.length,144,220)].concat(Ee()(i.map(n))));if("object"===u()(i))return function(t,e){var n=e.find(function(e){return e.check(t)});if(!n)return null;var i=n.encode(t);return i?pe()([Ue(i.length-1),i]):null}(i,t)||function(t,e,n){var i=[];for(var a in t)t.hasOwnProperty(a)&&void 0!==t[a]&&"function"!=typeof t[a]&&i.push(a);var r=[Pe(i.length,128,222)];return e.sortKeys&&i.sort(),i.forEach(function(e){r.push(n(e),n(t[e]))}),pe()(r)}(i,e,n);if("number"==typeof i)return function(t,e){var n;if(function(t){return t%1!=0}(t))return Le(t,e.forceFloat64);if(Math.abs(t)>9007199254740991)return Le(t,!0);if(t>=0){if(t<128)return fe.Buffer.from([t]);if(t<256)return fe.Buffer.from([204,t]);if(t<65536)return fe.Buffer.from([205,255&t>>8,255&t]);if(t<=4294967295)return fe.Buffer.from([206,255&t>>24,255&t>>16,255&t>>8,255&t]);t<=9007199254740991&&((n=fe.Buffer.allocUnsafe(9))[0]=207,Fe(n,1,t))}else t>=-32?(n=fe.Buffer.allocUnsafe(1))[0]=256+t:t>=-128?((n=fe.Buffer.allocUnsafe(2))[0]=208,n.writeInt8(t,1)):t>=-32768?((n=fe.Buffer.allocUnsafe(3))[0]=209,n.writeInt16BE(t,1)):t>-214748365?((n=fe.Buffer.allocUnsafe(5))[0]=210,n.writeInt32BE(t,1)):t>=-9007199254740991&&((n=fe.Buffer.allocUnsafe(9))[0]=211,function(t,e,n){var i=n<0;Fe(t,e,n=Math.abs(n)),i&&function(t,e){for(var n=e+8;n-- >e;)if(0!==t[n]){t[n]=1+(255^t[n]);break}for(;n-- >e;)t[n]=255^t[n]}(t,e)}(n,1,t));return n}(i,e);throw new Error("not implemented yet")}return function(t){return n(t).slice()}}function Fe(t,e,n){var i=n%4294967296,a=Math.floor(n/4294967296);t.writeUInt32BE(a,e+0),t.writeUInt32BE(i,e+4)}var Oe=Math.fround;function Le(t,e){var n;return e||!Oe||Oe(t)!==t?((n=fe.Buffer.allocUnsafe(9))[0]=203,n.writeDoubleBE(t,1)):((n=fe.Buffer.allocUnsafe(5))[0]=202,n.writeFloatBE(t,1)),n}function Ue(t){return 1===t?fe.Buffer.from([212]):2===t?fe.Buffer.from([213]):4===t?fe.Buffer.from([214]):8===t?fe.Buffer.from([215]):16===t?fe.Buffer.from([216]):t<256?fe.Buffer.from([199,t]):t<65536?fe.Buffer.from([200,t>>8,255&t]):fe.Buffer.from([201,t>>24,t>>16&255,t>>8&255,255&t])}function Pe(t,e,n){if(t<16)return fe.Buffer.from([e|t]);var i=t<65536?2:4,a=fe.Buffer.allocUnsafe(1+i);return a[0]=t<65536?n:n+1,a.writeUIntBE(t,1,i),a}function Re(t){var e;return t<=255?((e=fe.Buffer.allocUnsafe(2))[0]=196,e[1]=t):t<=65535?((e=fe.Buffer.allocUnsafe(3))[0]=197,e.writeUInt16BE(t,1)):((e=fe.Buffer.allocUnsafe(5))[0]=198,e.writeUInt32BE(t,1)),e}var He=n(285);var Qe=function(t){var e=[],n=new Map;return t=t||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1},n.set(He.type,He.decode),t.disableTimestampEncoding||e.push(He),{encode:ke(e,t),decode:Se(n),register:function(t,e,n,i){return assert(e,"must have a constructor"),assert(n,"must have an encode function"),assert(t>=0,"must have a non-negative type"),assert(i,"must have a decode function"),this.registerEncoder(function(t){return t instanceof e},function(e){var i=pe()(),a=fe.Buffer.allocUnsafe(1);return a.writeInt8(t,0),i.append(a),i.append(n(e)),i}),this.registerDecoder(t,i),this},registerEncoder:function(t,n){return assert(t,"must have an encode function"),assert(n,"must have an encode function"),e.push({check:t,encode:n}),this},registerDecoder:function(t,e){return assert(t>=0,"must have a non-negative type"),assert(e,"must have a decode function"),n.set(t,e),this},encoder:Ce.encoder,decoder:Ce.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:Ie}},_e=Object(f.v)("__dev-ronds-graph-msgpack"),Ne=Qe().decode,je={};function Ye(t){return t.url+"&"+t.method}var ze=ne.a.CancelToken,Ge=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ye(t),i=je[n];if(i)try{!e&&i(),je[n]=void 0,delete je[n]}catch(t){}},Ve={};function Ke(){Object.keys(Ve).forEach(function(t){Ve[t]&&Ve[t].close&&Ve[t].close()}),Ve={}}function We(t){if(t&&t.url){var e=t.url+"&"+(null==t?void 0:t.method),n=Ve[e];n&&e&&(Ve[e]=void 0,delete Ve[e]),0===Object.keys(Ve).length&&(null==n||n.close())}else Ke()}window.loadingMapV1=Ve,ne.a.interceptors.request.use(function(t){Ye(t);return!1!==t.loading&&function(t){if(t&&t.url){var e=t.url+"&"+t.method,n=Object.keys(Ve||{});0===n.length?Ve[e]=new st(300):Ve[e]=Ve[n[0]],Ve[e].Open()}}(t),Ge(t),t.cancelToken=new ze(function(e){var n=Ye(t);je[n]=e}),t},function(t){(null==t?void 0:t.config)?We(t.config):Ke()}),ne.a.interceptors.response.use(function(t){return We(null==t?void 0:t.config),Ge(t.config,!0),t},function(t,e){return t&&t.config?We(t.config):Ke(),t});var Xe=function(t,e){if(t&&t.headers){var n=t.headers["content-type"];if(e&&n){var i=t.config.url;t.data&&200===t.status&&null!=t.data&&null!=t.data&&he.Add(e,{data:t.data,status:t.status,url:i},i)}}return t},qe={method:"get",credentials:"include",timeout:6e4},Je=["deviceId","entId","industryType"],Ze=ne.a;function $e(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(f.y)(),a=he.generateCode(t,n),r=re()({},qe,n);if(t=(window.RZGraphApiAddress||q.a.apiaddress)+t,Je.forEach(function(e){try{if(t.indexOf("".concat(e,"="))<0){var n=G.TableData[e];t+="".concat(t.indexOf("?")>=0?"&":"?").concat(e,"=").concat(n||"")}}catch(t){}}),a&&!1!==n.expirys&&"get"===((null==n?void 0:n.method)||"get").toLocaleLowerCase()){var o=he.Get(a);if(null!=o){var s=o;return Promise.resolve(s)}}var l="zh"==M.getLocale()?"zh-CN":"en-US";"POST"!==r.method&&"PUT"!==r.method&&"DELETE"!==r.method||(r.body instanceof FormData?(r.headers=re()({Accept:"application/json"},r.headers),r.body=re()({},r.body,{_csrf:i})):(r.headers=re()({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},r.headers),r.body=re()({},r.body,{_csrf:i})));var c=null;return window.RzGraphUseJson||null!=_e||"POST"===(null===(e=r)||void 0===e?void 0:e.method)||(c={headers:{Accept:"application/msgpack","Content-Type":"application/msgpack"},transformResponse:function t(e){try{return n&&"arraybuffer"===n.responseType?e:null==e||0===e.length||0===e.byteLength?null:Ne(e)}catch(t){return P.a.error("msgpack decode error",t,e),null}},responseType:"arraybuffer"}),Object(q.b)()&&t.indexOf("AnalysisModel")<0&&(t="".concat(t,"&AnalysisModel=").concat(Object(q.b)())),r.url=t+"&t="+(new Date).getTime(),r.data=r.body||"",r.url=r.url.replace("??","?").replace("?&","?"),(r=re()({},r,c)).headers=re()({},r.headers,{"Accept-Language":l,"Cache-Control":"no-cache",Pragma:"no-cache"}),ne()(r).then(function(t){return Xe(t,a)}).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.resolve({data:null,status:500})})}var tn=n(2),en=n(6),nn=n.n(en),an=(n(121),n(11)),rn=n.n(an),on=n(30),sn=n.n(on),ln=n(91),cn=n.n(ln),un=n(92),hn=n.n(un),dn=n(93),pn=n.n(dn);n(107),n(108),n(173),n(174),n(175),n(114),n(176),n(177);function fn(t,e){return t%e>0&&(t+=e-t%e),t}var An=new(function(t){function e(){var t,n;l()(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=cn()(this,(t=hn()(e)).call.apply(t,[this].concat(a)))).path="algorithm.wasm",n.init=rn()(nn.a.mark(function t(){return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadWasm(n.path);case 2:n.moduleExports=t.sent,n.moduleExports.orderTrack_warpper_cc_initialize();case 4:case"end":return t.stop()}},t,this)})),n.destroy=function(){n.moduleExports.orderTrack_warpper_cc_terminate()},n}var n,i,a,r;return pn()(e,t),sn()(e,[{key:"fftzhu_web",value:(r=rn()(nn.a.mark(function t(e,n){var i,a,r,o,s,l;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(i=this.moduleExports,!e||!e.length){t.next=15;break}return a=e.length,r=this.createMatrixByArray(e),o=this.createMatrix(a),s=this.createMatrix(1),i.fftzhu_web(r,n,o,s),l=this.getArrayValue(o),this.destroyMatrix(r),this.destroyMatrix(o),this.destroyMatrix(s),t.abrupt("return",{y:this.parseArrayFloat(l),fs:this.getArrayValue(s)});case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}},t,this)})),function(t,e){return r.apply(this,arguments)})},{key:"orderTrack",value:(a=rn()(nn.a.mark(function t(e,n,i,a){var r,o,s,l,c,u,h,d,p,f,A,m,y,g,v,b,C=arguments;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=C.length>4&&void 0!==C[4]?C[4]:1,o=C.length>5&&void 0!==C[5]?C[5]:1,this.moduleExports){t.next=5;break}return t.next=5,this.init();case 5:return s=this.moduleExports,l=this.createMatrixByArray(e),c=this.createMatrixByArray(n),u=this.createMatrixByArray(i),h=this.createDoublePtr(),d=this.createDoublePtr(),p=this.createDoublePtr(),f=this.createDoublePtr(),A=this.createMatrix(e.length),m=this.createMatrix(e.length),y=this.createMatrix(e.length),g=this.createMatrix(e.length),s.orderTrack_warpper_cc(l,c,u,a,r,o,h,A,m,d,p,y,g,f),v=this.getArrayValue(m),b=this.getArrayValue(A),this.destroyMatrix(l),this.destroyMatrix(c),this.destroyMatrix(u),this.destroyMatrix(A),this.destroyMatrix(m),this.destroyMatrix(y),this.destroyMatrix(g),this.destroyPtr(h),this.destroyPtr(d),this.destroyPtr(f),this.destroyPtr(p),t.abrupt("return",{y:this.parseArrayFloat(v),x:this.parseArrayFloat(b),fs:this.getValue(h,"double"),npt:this.getValue(p,"double"),nCircle:this.getValue(d,"double"),speed:this.getValue(y,"double"),speedPerSample:this.getValue(g,"double"),status:this.getValue(f,"double")});case 32:case"end":return t.stop()}},t,this)})),function(t,e,n,i){return a.apply(this,arguments)})},{key:"FFT_Filter_web",value:(i=rn()(nn.a.mark(function t(e,n,i,a,r){var o,s,l,c;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:return o=this.moduleExports,s=this.createMatrixByArray(e),l=this.createMatrix(e.length),o.FFT_Filter_web(n,s,i,a,r,l),c=this.getArrayValue(l),this.destroyMatrix(s),this.destroyMatrix(l),t.abrupt("return",this.parseArrayFloat(c));case 11:case"end":return t.stop()}},t,this)})),function(t,e,n,a,r){return i.apply(this,arguments)})},{key:"envelop",value:(n=rn()(nn.a.mark(function t(e,n,i,a){var r,o,s,l,c,u,h;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(r=this.moduleExports,!e||!e.length){t.next=16;break}return o=e.length,s=this.createMatrix(o,e),l=this.createMatrix(o),c=this.createMatrix(o),r.envelop_ctx_web(s,n,i,a,c,l),u=this.getArrayValue(l),h=this.getArrayValue(c),this.destroyMatrix(s),this.destroyMatrix(l),this.destroyMatrix(c),t.abrupt("return",{x:this.parseArrayFloat(u),y:this.parseArrayFloat(h)});case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this)})),function(t,e,i,a){return n.apply(this,arguments)})}]),e}(function(){function t(){var e=this;l()(this,t),this.wasmMemory=void 0,this.buffer=void 0,this.HEAP8=void 0,this.HEAP16=void 0,this.HEAP32=void 0,this.HEAPU8=void 0,this.HEAPU16=void 0,this.HEAPU32=void 0,this.HEAPF32=void 0,this.HEAPF64=void 0,this.moduleExports=void 0,this.parseFloat=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{return e<=0?Math.round(t):(t=Math.round(t*Math.pow(10,e))/Math.pow(10,e),Number(Number(t).toFixed(e)))}catch(t){return n}},this.createMatrix=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=Math.ceil(t);var i=e.moduleExports.emxCreate_real_T(t,1);return n&&n.length&&e.setArray(i,n),i},this.createMatrixByArray=function(t){var n=t.length,i=e.moduleExports.emxCreate_real_T(n,1);return e.setArray(i,t),i},this.malloc=function(t){return e.moduleExports.malloc(t)},this.free=function(t){e.moduleExports.free(t)},this.destroyPtr=function(t){e.moduleExports.free(t)},this.getValue=function(t,n,i){n=n||"i8";var a=e.HEAP8,r=e.HEAP16,o=e.HEAP32,s=e.HEAPF32,l=e.HEAPF64;switch("*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return a[t>>0];case"i16":return r[t>>1];case"i32":case"i64":return o[t>>2];case"float":return s[t>>2];case"double":return l[t>>3];default:abort("invalid type for getValue: "+n)}return null},this.destroyMatrix=function(t){e.moduleExports.emxDestroyArray_real_T(t)},this.getValue=function(t,n,i){n=n||"i8";var a=e.HEAP8,r=e.HEAP16,o=e.HEAP32,s=e.HEAPF32,l=e.HEAPF64;switch("*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return a[t>>0];case"i16":return r[t>>1];case"i32":case"i64":return o[t>>2];case"float":return s[t>>2];case"double":return l[t>>3]}return null},this.getArrayValue=function(t){var n=e.HEAPF64,i=e.getSize(t),a=e.getValue(t,"i32")>>3;return n.slice(a,a+i)},this.setValue=function(t,n,i,a){i=i||"i8";var r,o=e.HEAP8,s=e.HEAP16,l=e.HEAP32,c=e.HEAPF32,u=e.HEAPF64;switch("*"===i.charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":o[t>>0]=n;break;case"i16":s[t>>1]=n;break;case"i32":l[t>>2]=n;break;case"i64":var h=[n>>>0,(r=n,+Math.abs(r)>=1?r>0?(0|Math.min(+Math.floor(r/4294967296),4294967295))>>>0:~~+Math.ceil((r-+(~~r>>>0))/4294967296)>>>0:0)];l[t>>2]=h[0],l[t+4>>2]=h[1];break;case"float":c[t>>2]=n;break;case"double":u[t>>3]=n;break;default:abort("invalid type for setValue: "+i)}},this.setArray=function(t,n){var i=e.HEAPF64,a=e.getValue(t,"i32")>>3;i.set(n,a)},this.getSize=function(t){var n=e.HEAP32,i=e.getValue(t+4,"i32")>>2,a=n.slice(i,i+4),r=we()(a,2);return r[0]*r[1]},this._emscripten_memcpy_big=function(t,n,i){e.HEAPU8.copyWithin(t,n,n+i)},this.getDoublePtrValue=function(t){return e.getValue(t,"double")},this.createDoublePtr=function(){var t=new Float64Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.getFloatPtrValue=function(t){return e.getValue(t,"float")},this.createFloatPtr=function(){var t=new Float32Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.getInt32PtrValue=function(t){return e.getValue(t,"i32")},this.createInt32Ptr=function(){var t=new Int32Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.createInt16Ptr=function(){var t=new Int16Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.createInt8Ptr=function(){var t=new Int16Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.updateGlobalBufferAndViews=function(t){e.buffer=t;var n=t;e.HEAP8=new Int8Array(n),e.HEAP16=new Int16Array(n),e.HEAP32=new Int32Array(n),e.HEAPU8=new Uint8Array(n),e.HEAPU16=new Uint16Array(n),e.HEAPU32=new Uint32Array(n),e.HEAPF32=new Float32Array(n),e.HEAPF64=new Float64Array(n)},this.emscripten_realloc_buffer=function(t){var n=e.updateGlobalBufferAndViews,i=e.wasmMemory,a=e.buffer;try{return i.grow(t-a.byteLength+65535>>16),n(i.buffer),1}catch(t){}},this._emscripten_resize_heap=function(t){var n=e.emscripten_realloc_buffer,i=e.HEAPU8,a=console.error,r=i.length;if((t>>>=0)>2147483648)return a("Cannot enlarge memory, asked to go up to "+t+" bytes, but the limit is 2147483648 bytes!"),!1;for(var o=1;o<=4;o*=2){var s=r*(1+.2/o);s=Math.min(s,t+100663296);var l=Math.min(2147483648,fn(Math.max(t,s),65536));if(n(l))return!0}return a("Failed to grow the heap from "+r+" bytes to "+l+" bytes, not enough memory!"),!1}}return sn()(t,[{key:"parseArrayFloat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return t;for(var n=[],i=0,a=t.length;i<a;i++)n.push(this.parseFloat(t[i],e));return n}},{key:"loadWasm",value:function(t){var e=this;if(WebAssembly){var n={emscripten_memcpy_big:this._emscripten_memcpy_big,emscripten_resize_heap:this._emscripten_resize_heap},i={env:n,wasi_snapshot_preview1:n};return new Promise(function(n,a){fetch("./rzgraph/wasm/"+t).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,i)}).then(function(t){e.wasmMemory=t.instance.exports.memory,e.updateGlobalBufferAndViews(t.instance.exports.memory.buffer),t.instance.exports.__wasm_call_ctors();var i=t.instance.exports;n(i)}).catch(function(t){})})}}}]),t}()));An.init();var mn=An,yn=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},gn=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function vn(t,e){return yn(this,void 0,void 0,function(){var n,i;return gn(this,function(a){switch(a.label){case 0:return(null==t?void 0:t.length)?[4,mn.fftzhu_web(t,e)]:[2,void 0];case 1:return n=a.sent(),i=e/2.56/n.y.length,[2,{y:n.y,xInterval:i}]}})})}function bn(t,e){var n;return yn(this,void 0,void 0,function(){var i,a,r,o,s,l,c,u,h,d;return gn(this,function(p){switch(p.label){case 0:if(!(null==t?void 0:t.length))return[2,void 0];for(i=t.length,a=Number(Math.floor(Math.log(i)/Math.log(2))),r=Number(Math.pow(2,a)),o=new Array(r),s=0,d=0;d<o.length;d++)o[d]=t[d],s+=t[d];for(l=s/o.length,d=0;d<o.length;d++)o[d]=o[d]-l;return[4,mn.fftzhu_web(o,e)];case 1:if(c=p.sent(),null===(n=null==c?void 0:c.y)||void 0===n?void 0:n.length){if(u=Number(r/2.56),isNaN(u)||null==u)return[2,void 0];for(h=new Array(u),d=0;d<u;d++)h[d]=null==c?void 0:c.y[d];return[2,{y:h}]}return[2,void 0]}})})}function Cn(t,e){var n;return yn(this,void 0,void 0,function(){var i,a,r,o,s,l,c,u;return gn(this,function(h){switch(h.label){case 0:if(!(null==t?void 0:t.length))return[2,void 0];for(i=0,a=t.length,u=0;u<a;u++)i+=t[u];for(r=new Array(a),o=i/a,u=0;u<a;u++)r[u]=t[u]-o;return[4,mn.fftzhu_web(r,e)];case 1:if(s=h.sent(),null===(n=null==s?void 0:s.y)||void 0===n?void 0:n.length){for(l=Math.round(Number(a/2)),c=new Array(l),u=0;u<l;u++)c[u]=null==s?void 0:s.y[u];return[2,{y:c}]}return[2,void 0]}})})}function xn(t,e,n,i,a){return void 0===a&&(a=3),yn(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d;return gn(this,function(p){switch(p.label){case 0:return(null==t?void 0:t.length)?[4,mn.envelop(t,e,n,i)]:[2,void 0];case 1:for(r=p.sent(),o=i-n,s=t.length,l=Math.round(t.length/2.56),(c=Math.round(o/2*a/(e/s)))>l&&(c=l),u=new Array(c),h=0;h<c;h++)u[h]=r.y[h];return d=e/2.56/l,(null==u?void 0:u.length)&&(u[0]=0),[2,{x:r.x,y:u,xInterval:d}]}})})}function wn(t,e,n,i,a,r){return void 0===a&&(a=1),void 0===r&&(r=1),yn(this,void 0,void 0,function(){var o,s,l;return gn(this,function(c){switch(c.label){case 0:return(null==t?void 0:t.length)?[4,mn.orderTrack(t,e,n,i,a,r)]:[2,void 0];case 1:return o=c.sent(),s=o.nCircle,l=360*s/o.y.length/r,[2,{x:o.x,y:o.y,fs:o.fs,npt:o.npt,speedPerSample:o.speedPerSample,xInterval:l}]}})})}function Dn(t,e,n,i,a){if(null==t?void 0:t.length)return mn.FFT_Filter_web(t,e,n,i,a)}var In=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Bn=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Tn=function(t,e,n){void 0===e&&(e=5);try{return e<=0?Math.round(t):(t=Math.round(t*Math.pow(10,e))/Math.pow(10,e),Number(Number(t).toFixed(e)))}catch(t){return n}},Sn=function(){var t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}(),Mn=function(){function t(){}return t.getVibWaveFromStream=function(t){for(var e=t.buffer,n=t.convertCoef,i=t.isRemoveMean,a=void 0===i||i,r=t.offset,o=void 0===r?0:r,s=0,l=new Uint8Array(e),c=Math.round((l.length-o)/2),u=new ArrayBuffer(2),h=new DataView(u),d=0,p=new Array(c),f=0;f<c;f++)h.setUint8(0,l[2*f+1+o]),h.setUint8(1,l[2*f+o]),d=h.getInt16(0,Sn),d*=n,p[f]=d,s+=d;if(a)for(var A=s/p.length,m=0,y=p.length;m<y;m++)p[m]=Tn(p[m]-A);else for(var g=0,v=p.length;g<v;g++)p[g]=Tn(p[g],5);return p},t.getVibDataFromStream=function(e){var n=e.buffer,i=e.convertCoef,a=e.isRemoveMean,r=void 0===a||a,o=e.offset,s=void 0===o?0:o,l=e.samplingRate,c=t.getVibWaveFromStream({buffer:n,convertCoef:i,isRemoveMean:r,offset:s}),u=1/l*1e3;return t.parseDrawData(c,u)},t.getSpecDataFromData=function(e){var n=e.waveData,i=e.samplingRate;return In(this,void 0,void 0,function(){var e,a,r;return Bn(this,function(o){switch(o.label){case 0:return[4,bn(n,i)];case 1:return e=o.sent(),a=e.y,r=i/2.56/a.length,[2,t.parseDrawData(a,r)]}})})},t.getSpecDataFromStream=function(e){var n=e.buffer,i=e.samplingRate,a=e.convertCoef,r=e.isRemoveMean,o=e.offset;return In(this,void 0,void 0,function(){var e,s,l;return Bn(this,function(c){switch(c.label){case 0:return[4,bn(t.getVibWaveFromStream({buffer:n,convertCoef:a,isRemoveMean:r,offset:o}),i)];case 1:return e=c.sent(),s=e.y,l=i/2.56/s.length,[2,t.parseDrawData(s,l)]}})})},t.envelop=function(t,e,n,i,a){return void 0===a&&(a=3),In(this,void 0,void 0,function(){var a;return Bn(this,function(r){switch(r.label){case 0:return[4,xn(t,e,n,i)];case 1:return[2,{y:(a=r.sent()).y,xInterval:a.xInterval}]}})})},t.fft=function(t,e){return In(this,void 0,void 0,function(){var n,i;return Bn(this,function(a){switch(a.label){case 0:return[4,vn(t,e)];case 1:return n=a.sent(),i=e/2.56/n.y.length,[2,{y:n.y,xInterval:i}]}})})},t.FFTCalcNotZeroPadding=function(t,e){return In(this,void 0,void 0,function(){var n,i;return Bn(this,function(a){switch(a.label){case 0:return[4,Cn(t,e)];case 1:return n=a.sent(),i=e/2/n.y.length,[2,{y:n.y,xInterval:i}]}})})},t.fft_filter=function(t,e,n,i,a){return In(this,void 0,void 0,function(){return Bn(this,function(r){switch(r.label){case 0:return[4,Dn(t,e,n,i,a)];case 1:return[2,{y:r.sent(),xInterval:1/e*1e3}]}})})},t.parseDrawData=function(t,e){return t.map(function(t,n){return[e*n,t]})},t}(),En=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},kn=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Fn=window.graphAopCaches||{};function On(t,e,n){return void 0===e&&(e=0),function(i,a,r){var o=t||a;Fn[o]||(Fn[o]=new Rn,Fn[o].maxCount=e,Fn[o].expirys=n);var s=r.value;r.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return En(this,void 0,void 0,function(){var e,n,i;return kn(this,function(a){switch(a.label){case 0:return e=JSON.stringify(t),null!==(n=Fn[o].get(e))&&void 0!==n?[2,n]:(i=s.apply(this,t))&&i.then?[4,i]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return null!=i&&Fn[o].add(e,i),[2,Fn[o].get(e)]}})})}}}window.graphAopCaches=Fn;var Ln,Un,Pn,Rn=function(){return function(){var t=this;this._Data={},this.maxCount=500,this.expirys=0,this.resetCache=function(){t._Data={}},this.generateCode=function(t){return JSON.stringify(t).replace(new RegExp(/( )/g),"")},this.add=function(e,n){var i=e,a=Object.keys(t._Data);t.maxCount&&a.length>=t.maxCount&&t.delete(a[0]),t._Data[i]={data:le()(n),timestamp:Date.now()}},this.delete=function(e){t._Data[e]=void 0,delete t._Data[e]},this.get=function(e){var n=e;try{var i=t._Data[n]?le()(t._Data[n]):t._Data[n];if(t.expirys&&i&&i.data&&i.timestamp){var a=t.expirys,r=i.timestamp;return(Date.now()-r)/1e3<a?i.data:void t.delete(n)}return null==i?void 0:i.data}catch(t){}},this.clear=function(){t._Data={}}}}();function Hn(t){return null==t||""===t}(Un=Ln||(Ln={}))[Un.Wave=0]="Wave",Un[Un.Spec=1]="Spec",Un[Un.LongWave=2]="LongWave",Un[Un.Envolope=7]="Envolope",Un[Un.Cepstrum=8]="Cepstrum",Un[Un.Stop=5]="Stop",Un[Un.Black=9]="Black",function(t){t[t.Default=0]="Default",t[t.EquarAngle=1]="EquarAngle",t[t.EquarTime=2]="EquarTime"}(Pn||(Pn={}));var Qn=function(){var t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}();function _n(t,e,n){if(!t.length)return[];for(var i=[],a=e;a<n&&a<t.length;a++)i.push(t[a]);return i}function Nn(t,e,n){if(!(null==t?void 0:t.length))return[];t.length-e>n&&(n=t.length-e);for(var i=new Array(n),a=e;a<e+n;a++)i[a]=t[a];return i}function jn(t){for(var e=Number.MIN_SAFE_INTEGER,n=0;n<t.length;n++)e<t[n]&&(e=t[n]);return e}function Yn(t){return parseInt(t)}function zn(t){for(var e=0,n=t.length,i=0;i<n;i++)e+=t[i];var a=e/t.length;for(i=0;i<n;i++)t[i]=t[i]-a;return t}function Gn(t,e,n){return t.substr(0,e)+n+t.substr(e+n.length)}function Vn(t){if(!t)return t;var e=new RegExp("([A-Z])","g");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],a=n[0].toString();e.lastIndex=0,e.test(a)&&(t[Gn(n,0,a.toLowerCase())]=t[n],delete t[n]),"object"!=typeof i&&"[object Array]"!==Object.prototype.toString.call(i)||Array.isArray(i)&&"object"!=typeof i[0]&&"[object Array]"!==Object.prototype.toString.call(i[0])||Vn(i)}return t}function Kn(t){if(!t)return t;var e=new RegExp("([a-z])","g");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],a=n[0].toString();e.lastIndex=0,e.test(a)&&(t[Gn(n,0,a.toUpperCase())]=t[n],delete t[n]),"object"!=typeof i&&"[object Array]"!==Object.prototype.toString.call(i)||Array.isArray(i)&&"object"!=typeof i[0]&&"[object Array]"!==Object.prototype.toString.call(i[0])||Kn(i)}return t}function Wn(t,e){return t%e>0&&(t+=e-t%e),t}var Xn=new(function(t){function e(){var t,n;l()(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=cn()(this,(t=hn()(e)).call.apply(t,[this].concat(a)))).path="algorithm.wasm",n.init=rn()(nn.a.mark(function t(){return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadWasm(n.path);case 2:n.moduleExports=t.sent,n.moduleExports.orderTrack_warpper_cc_initialize();case 4:case"end":return t.stop()}},t,this)})),n.destroy=function(){n.moduleExports.orderTrack_warpper_cc_terminate()},n}var n,i,a,r,o,s,c,u;return pn()(e,t),sn()(e,[{key:"ifft_web",value:(u=rn()(nn.a.mark(function t(e){var n,i,a,r,o;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(t.prev=3,n=this.moduleExports,!e||!e.length){t.next=14;break}return i=e.length,a=this.createMatrixByArray(e),r=this.createMatrix(i),n.ifft_web(a,r),o=this.getArrayValue(r),this.destroyMatrix(a),this.destroyMatrix(r),t.abrupt("return",{y:this.parseArrayFloat(o)});case 14:t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(3),t.next=21,this.init();case 21:case 22:return t.abrupt("return",null);case 23:case"end":return t.stop()}},t,this,[[3,16]])})),function(t){return u.apply(this,arguments)})},{key:"fft_all_web",value:(c=rn()(nn.a.mark(function t(e,n){var i,a,r,o,s,l;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(t.prev=3,i=this.moduleExports,!e||!e.length){t.next=16;break}return a=e.length,r=this.createMatrixByArray(e),o=this.createMatrix(a),s=this.createMatrix(1),i.fft_all_web(r,n,o,s),l=this.getArrayValue(o),this.destroyMatrix(r),this.destroyMatrix(o),this.destroyMatrix(s),t.abrupt("return",{y:this.parseArrayFloat(l),fs:this.getArrayValue(s)});case 16:t.next=24;break;case 18:return t.prev=18,t.t0=t.catch(3),t.next=23,this.init();case 23:case 24:return t.abrupt("return",null);case 25:case"end":return t.stop()}},t,this,[[3,18]])})),function(t,e){return c.apply(this,arguments)})},{key:"fftzhu_web",value:(s=rn()(nn.a.mark(function t(e,n){var i,a,r,o,s,l;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(t.prev=3,i=this.moduleExports,!e||!e.length){t.next=16;break}return a=e.length,r=this.createMatrixByArray(e),o=this.createMatrix(a),s=this.createMatrix(1),i.fftzhu_web(r,n,o,s),l=this.getArrayValue(o),this.destroyMatrix(r),this.destroyMatrix(o),this.destroyMatrix(s),t.abrupt("return",{y:this.parseArrayFloat(l),fs:this.getArrayValue(s)});case 16:t.next=24;break;case 18:return t.prev=18,t.t0=t.catch(3),t.next=23,this.init();case 23:case 24:return t.abrupt("return",null);case 25:case"end":return t.stop()}},t,this,[[3,18]])})),function(t,e){return s.apply(this,arguments)})},{key:"fft_web",value:(o=rn()(nn.a.mark(function t(e){var n,i,a,r,o,s,l;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(t.prev=3,n=this.moduleExports,!e||!e.length){t.next=17;break}return i=e.length,a=this.createMatrixByArray(e),r=this.createMatrix(i),o=this.createMatrix(i),n.fft_web(a,r,o),s=this.getArrayValue(r),l=this.getArrayValue(o),this.destroyMatrix(a),this.destroyMatrix(r),this.destroyMatrix(o),t.abrupt("return",{real:this.parseArrayFloat(s),imaginary:this.parseArrayFloat(l)});case 17:t.next=25;break;case 19:return t.prev=19,t.t0=t.catch(3),t.next=24,this.init();case 24:case 25:return t.abrupt("return",null);case 26:case"end":return t.stop()}},t,this,[[3,19]])})),function(t){return o.apply(this,arguments)})},{key:"ifft_web",value:(r=rn()(nn.a.mark(function t(e,n){var i,a,r,o,s,l,c,u;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(t.prev=3,i=this.moduleExports,!e||!e.length){t.next=18;break}for(a=e.length,r=this.createMatrixByArray(e),o=this.createMatrixByArray(n),s=this.createMatrix(a,null,2),i.ifft_web(r,o,s),l=this.getArrayValue(s),this.destroyMatrix(s),this.destroyMatrix(o),this.destroyMatrix(r),c=[],u=0;u<(null==l?void 0:l.length);u++)u%2==0&&c.push(l[u]);return t.abrupt("return",{y:c});case 18:t.next=26;break;case 20:return t.prev=20,t.t0=t.catch(3),t.next=25,this.init();case 25:case 26:return t.abrupt("return",null);case 27:case"end":return t.stop()}},t,this,[[3,20]])})),function(t,e){return r.apply(this,arguments)})},{key:"orderTrack",value:(a=rn()(nn.a.mark(function t(e,n,i,a){var r,o,s,l,c,u,h,d,p,f,A,m,y,g,v,b,C=arguments;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=C.length>4&&void 0!==C[4]?C[4]:1,o=C.length>5&&void 0!==C[5]?C[5]:1,this.moduleExports){t.next=5;break}return t.next=5,this.init();case 5:return t.prev=5,s=this.moduleExports,l=this.createMatrixByArray(e),c=this.createMatrixByArray(n),u=this.createMatrixByArray(i),h=this.createDoublePtr(),d=this.createDoublePtr(),p=this.createDoublePtr(),f=this.createDoublePtr(),A=this.createMatrix(e.length),m=this.createMatrix(e.length),y=this.createMatrix(e.length),g=this.createMatrix(e.length),s.orderTrack_warpper_cc(l,c,u,a,r,o,h,A,m,d,p,y,g,f),v=this.getArrayValue(m),b=this.getArrayValue(A),this.destroyMatrix(l),this.destroyMatrix(c),this.destroyMatrix(u),this.destroyMatrix(A),this.destroyMatrix(m),this.destroyMatrix(y),this.destroyMatrix(g),this.destroyPtr(h),this.destroyPtr(d),this.destroyPtr(f),this.destroyPtr(p),t.abrupt("return",{y:v,x:b,fs:this.getValue(h,"double"),npt:this.getValue(p,"double"),nCircle:this.getValue(d,"double"),speed:this.getValue(y,"double"),speedPerSample:this.getValue(g,"double"),status:this.getValue(f,"double")});case 35:return t.prev=35,t.t0=t.catch(5),t.next=40,this.init();case 40:return t.abrupt("return",null);case 41:case"end":return t.stop()}},t,this,[[5,35]])})),function(t,e,n,i){return a.apply(this,arguments)})},{key:"FFT_Filter_web",value:(i=rn()(nn.a.mark(function t(e,n,i,a,r){var o,s,l,c;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:return t.prev=3,o=this.moduleExports,s=this.createMatrixByArray(e),l=this.createMatrix(e.length),o.FFT_Filter_web(n,s,i,a,r,l),c=this.getArrayValue(l),this.destroyMatrix(s),this.destroyMatrix(l),t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(3),t.next=19,this.init();case 19:return t.abrupt("return",null);case 20:case"end":return t.stop()}},t,this,[[3,14]])})),function(t,e,n,a,r){return i.apply(this,arguments)})},{key:"envelop",value:(n=rn()(nn.a.mark(function t(e,n,i,a){var r,o,s,l,c,u,h;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.moduleExports){t.next=3;break}return t.next=3,this.init();case 3:if(t.prev=3,r=this.moduleExports,!e||!e.length){t.next=17;break}return o=e.length,s=this.createMatrix(o,e),l=this.createMatrix(o),c=this.createMatrix(o),r.envelop_ctx_web(s,n,i,a,c,l),u=this.getArrayValue(l),h=this.getArrayValue(c),this.destroyMatrix(s),this.destroyMatrix(l),this.destroyMatrix(c),t.abrupt("return",{x:this.parseArrayFloat(u),y:this.parseArrayFloat(h)});case 17:t.next=25;break;case 19:return t.prev=19,t.t0=t.catch(3),t.next=24,this.init();case 24:case 25:return t.abrupt("return",null);case 26:case"end":return t.stop()}},t,this,[[3,19]])})),function(t,e,i,a){return n.apply(this,arguments)})}]),e}(function(){function t(){var e=this;l()(this,t),this.wasmMemory=void 0,this.buffer=void 0,this.HEAP8=void 0,this.HEAP16=void 0,this.HEAP32=void 0,this.HEAPU8=void 0,this.HEAPU16=void 0,this.HEAPU32=void 0,this.HEAPF32=void 0,this.HEAPF64=void 0,this.moduleExports=void 0,this.parseFloat=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t},this.createMatrix=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t=Math.ceil(t);var a=e.moduleExports.emxCreate_real_T(t,i);return n&&n.length&&e.setArray(a,n),a},this.createMatrixByArray=function(t){var n=t.length,i=e.moduleExports.emxCreate_real_T(n,1);return e.setArray(i,t),i},this.malloc=function(t){return e.moduleExports.malloc(t)},this.free=function(t){e.moduleExports.free(t)},this.destroyPtr=function(t){e.moduleExports.free(t)},this.getValue=function(t,n,i){n=n||"i8";var a=e.HEAP8,r=e.HEAP16,o=e.HEAP32,s=e.HEAPF32,l=e.HEAPF64;switch("*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return a[t>>0];case"i16":return r[t>>1];case"i32":case"i64":return o[t>>2];case"float":return s[t>>2];case"double":return l[t>>3];default:abort("invalid type for getValue: "+n)}return null},this.destroyMatrix=function(t){e.moduleExports.emxDestroyArray_real_T(t)},this.getValue=function(t,n,i){n=n||"i8";var a=e.HEAP8,r=e.HEAP16,o=e.HEAP32,s=e.HEAPF32,l=e.HEAPF64;switch("*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return a[t>>0];case"i16":return r[t>>1];case"i32":case"i64":return o[t>>2];case"float":return s[t>>2];case"double":return l[t>>3]}return null},this.getArrayValue=function(t){var n=e.HEAPF64,i=e.getSize(t),a=e.getValue(t,"i32")>>3;return n.slice(a,a+i)},this.setValue=function(t,n,i,a){i=i||"i8";var r,o=e.HEAP8,s=e.HEAP16,l=e.HEAP32,c=e.HEAPF32,u=e.HEAPF64;switch("*"===i.charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":o[t>>0]=n;break;case"i16":s[t>>1]=n;break;case"i32":l[t>>2]=n;break;case"i64":var h=[n>>>0,(r=n,+Math.abs(r)>=1?r>0?(0|Math.min(+Math.floor(r/4294967296),4294967295))>>>0:~~+Math.ceil((r-+(~~r>>>0))/4294967296)>>>0:0)];l[t>>2]=h[0],l[t+4>>2]=h[1];break;case"float":c[t>>2]=n;break;case"double":u[t>>3]=n;break;default:abort("invalid type for setValue: "+i)}},this.setArray=function(t,n){var i=e.HEAPF64,a=e.getValue(t,"i32")>>3;i.set(n,a)},this.getSize=function(t){var n=e.HEAP32,i=e.getValue(t+4,"i32")>>2,a=n.slice(i,i+4),r=we()(a,2);return r[0]*r[1]},this._emscripten_memcpy_big=function(t,n,i){e.HEAPU8.copyWithin(t,n,n+i)},this.getDoublePtrValue=function(t){return e.getValue(t,"double")},this.createDoublePtr=function(){var t=new Float64Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.getFloatPtrValue=function(t){return e.getValue(t,"float")},this.createFloatPtr=function(){var t=new Float32Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.getInt32PtrValue=function(t){return e.getValue(t,"i32")},this.createInt32Ptr=function(){var t=new Int32Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.createInt16Ptr=function(){var t=new Int16Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.createInt8Ptr=function(){var t=new Int16Array(1);return e.malloc(t.length*t.BYTES_PER_ELEMENT)},this.updateGlobalBufferAndViews=function(t){e.buffer=t;var n=t;e.HEAP8=new Int8Array(n),e.HEAP16=new Int16Array(n),e.HEAP32=new Int32Array(n),e.HEAPU8=new Uint8Array(n),e.HEAPU16=new Uint16Array(n),e.HEAPU32=new Uint32Array(n),e.HEAPF32=new Float32Array(n),e.HEAPF64=new Float64Array(n)},this.emscripten_realloc_buffer=function(t){var n=e.updateGlobalBufferAndViews,i=e.wasmMemory,a=e.buffer;try{return i.grow(t-a.byteLength+65535>>16),n(i.buffer),1}catch(t){}},this._emscripten_resize_heap=function(t){var n=e.emscripten_realloc_buffer,i=e.HEAPU8,a=console.error,r=i.length;if((t>>>=0)>2147483648)return a("Cannot enlarge memory, asked to go up to "+t+" bytes, but the limit is 2147483648 bytes!"),!1;for(var o=1;o<=4;o*=2){var s=r*(1+.2/o);s=Math.min(s,t+100663296);var l=Math.min(2147483648,Wn(Math.max(t,s),65536));if(n(l))return!0}return a("Failed to grow the heap from "+r+" bytes to "+l+" bytes, not enough memory!"),!1},this.wasmBytes=void 0}var e;return sn()(t,[{key:"parseArrayFloat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t}},{key:"loadWasm",value:(e=rn()(nn.a.mark(function t(e){var n,i,a,r,o,s=this;return nn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!WebAssembly){t.next=14;break}if(n={emscripten_memcpy_big:this._emscripten_memcpy_big,emscripten_resize_heap:this._emscripten_resize_heap},i={env:n,wasi_snapshot_preview1:n},a="./rzgraph/wasm/",!this.wasmBytes){t.next=13;break}return t.next=7,WebAssembly.instantiate(this.wasmBytes,i);case 7:return r=t.sent,this.wasmMemory=r.instance.exports.memory,this.updateGlobalBufferAndViews(r.instance.exports.memory.buffer),r.instance.exports.__wasm_call_ctors(),o=r.instance.exports,t.abrupt("return",o);case 13:return t.abrupt("return",new Promise(function(t,n){var r;fetch((a||"")+e+"?t="+(null===(r=new Date)||void 0===r?void 0:r.getTime())).then(function(t){return t.arrayBuffer()}).then(function(t){return s.wasmBytes=t,WebAssembly.instantiate(t,i)}).then(function(e){s.wasmMemory=e.instance.exports.memory,s.updateGlobalBufferAndViews(e.instance.exports.memory.buffer),e.instance.exports.__wasm_call_ctors();var n=e.instance.exports;t(n)}).catch(function(t){})}));case 14:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})}]),t}()));Xn.init();var qn=Xn,Jn=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return ni.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return ni.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):Zn();break;case"string":n.im=n.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,r=0;null===i&&Zn();for(var o=0;o<i.length;o++){var s=i[o];" "===s||"\t"===s||"\n"===s||("+"===s?a++:"-"===s?r++:"i"===s||"I"===s?(a+r===0&&Zn()," "===i[o+1]||isNaN(i[o+1])?n.im+=parseFloat((r%2?"-":"")+"1"):(n.im+=parseFloat((r%2?"-":"")+i[o+1]),o++),a=r=0):((a+r===0||isNaN(s))&&Zn(),"i"===i[o+1]||"I"===i[o+1]?(n.im+=parseFloat((r%2?"-":"")+s),o++):n.re+=parseFloat((r%2?"-":"")+s),a=r=0))}a+r>0&&Zn();break;case"number":n.im=0,n.re=t;break;default:Zn()}return isNaN(n.re)||isNaN(n.im),n},Zn=function(){throw SyntaxError("Invalid Param")},$n=function(t){return.5*(Math.exp(t)+Math.exp(-t))},ti=function(t){return.5*(Math.exp(t)-Math.exp(-t))};function ei(t,e){var n=Math.abs(t),i=Math.abs(e);return 0===t?Math.log(i):0===e?Math.log(n):n<3e3&&i<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}var ni=function(){function t(t,e){this.re=0,this.im=0;var n=Jn(t,e);this.re=n.re,this.im=n.im}return t.prototype.sign=function(){var e=this.abs();return new t(this.re/e,this.im/e)},t.prototype.add=function(e,n){var i=new t(e,n);return this.isInfinite()&&i.isInfinite()?t.NAN:this.isInfinite()||i.isInfinite()?t.INFINITY:new t(this.re+i.re,this.im+i.im)},t.prototype.sub=function(e,n){var i=new t(e,n);return this.isInfinite()&&i.isInfinite()?t.NAN:this.isInfinite()||i.isInfinite()?t.INFINITY:new t(this.re-i.re,this.im-i.im)},t.prototype.mul=function(e,n){var i=new t(e,n);return this.isInfinite()&&i.isZero()||this.isZero()&&i.isInfinite()?t.NAN:this.isInfinite()||i.isInfinite()?t.INFINITY:0===i.im&&0===this.im?new t(this.re*i.re,0):new t(this.re*i.re-this.im*i.im,this.re*i.im+this.im*i.re)},t.prototype.div=function(e,n){var i=new t(e,n);if(this.isZero()&&i.isZero()||this.isInfinite()&&i.isInfinite())return t.NAN;if(this.isInfinite()||i.isZero())return t.INFINITY;if(this.isZero()||i.isInfinite())return t.ZERO;e=this.re,n=this.im;var a,r,o=i.re,s=i.im;return 0===s?new t(e/o,n/o):Math.abs(o)<Math.abs(s)?new t((e*(r=o/s)+n)/(a=o*r+s),(n*r-e)/a):new t((e+n*(r=s/o))/(a=s*r+o),(n-e*r)/a)},t.prototype.pow=function(e,n){var i=new t(e,n);if(e=this.re,n=this.im,i.isZero())return t.ONE;if(0===i.im){if(0===n&&e>0)return new t(Math.pow(e,i.re),0);if(0===e)switch((i.re%4+4)%4){case 0:return new t(Math.pow(n,i.re),0);case 1:return new t(0,Math.pow(n,i.re));case 2:return new t(-Math.pow(n,i.re),0);case 3:return new t(0,-Math.pow(n,i.re))}}if(0===e&&0===n&&i.re>0&&i.im>=0)return t.ZERO;var a=Math.atan2(n,e),r=ei(e,n);return e=Math.exp(i.re*r-i.im*a),n=i.im*r+i.re*a,new t(e*Math.cos(n),e*Math.sin(n))},t.prototype.sqrt=function(){var e,n,i=this.re,a=this.im,r=this.abs();if(i>=0){if(0===a)return new t(Math.sqrt(i),0);e=.5*Math.sqrt(2*(r+i))}else e=Math.abs(a)/Math.sqrt(2*(r-i));return n=i<=0?.5*Math.sqrt(2*(r-i)):Math.abs(a)/Math.sqrt(2*(r+i)),new t(e,a<0?-n:n)},t.prototype.exp=function(){var e=Math.exp(this.re);return this.im,new t(e*Math.cos(this.im),e*Math.sin(this.im))},t.prototype.expm1=function(){var e=this.re,n=this.im;return new t(Math.expm1(e)*Math.cos(n)+function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(n),Math.exp(e)*Math.sin(n))},t.prototype.log=function(){var e=this.re,n=this.im;return new t(ei(e,n),Math.atan2(n,e))},t.prototype.abs=function(){return t=this.re,e=this.im,n=Math.abs(t),i=Math.abs(e),n<3e3&&i<3e3?Math.sqrt(n*n+i*i):(n<i?(n=i,i=t/e):i=e/t,n*Math.sqrt(1+i*i));var t,e,n,i},t.prototype.arg=function(){return Math.atan2(this.im,this.re)},t.prototype.sin=function(){var e=this.re,n=this.im;return new t(Math.sin(e)*$n(n),Math.cos(e)*ti(n))},t.prototype.cos=function(){var e=this.re,n=this.im;return new t(Math.cos(e)*$n(n),-Math.sin(e)*ti(n))},t.prototype.tan=function(){var e=2*this.re,n=2*this.im,i=Math.cos(e)+$n(n);return new t(Math.sin(e)/i,ti(n)/i)},t.prototype.cot=function(){var e=2*this.re,n=2*this.im,i=Math.cos(e)-$n(n);return new t(-Math.sin(e)/i,ti(n)/i)},t.prototype.sec=function(){var e=this.re,n=this.im,i=.5*$n(2*n)+.5*Math.cos(2*e);return new t(Math.cos(e)*$n(n)/i,Math.sin(e)*ti(n)/i)},t.prototype.csc=function(){var e=this.re,n=this.im,i=.5*$n(2*n)-.5*Math.cos(2*e);return new t(Math.sin(e)*$n(n)/i,-Math.cos(e)*ti(n)/i)},t.prototype.asin=function(){var e=this.re,n=this.im,i=new t(n*n-e*e+1,-2*e*n).sqrt(),a=new t(i.re-n,i.im+e).log();return new t(a.im,-a.re)},t.prototype.acos=function(){var e=this.re,n=this.im,i=new t(n*n-e*e+1,-2*e*n).sqrt(),a=new t(i.re-n,i.im+e).log();return new t(Math.PI/2-a.im,a.re)},t.prototype.atan=function(){var e=this.re,n=this.im;if(0===e){if(1===n)return new t(0,1/0);if(-1===n)return new t(0,-1/0)}var i=e*e+(1-n)*(1-n),a=new t((1-n*n-e*e)/i,-2*e/i).log();return new t(-.5*a.im,.5*a.re)},t.prototype.acot=function(){var e=this.re,n=this.im;if(0===n)return new t(Math.atan2(1,e),0);var i=e*e+n*n;return 0!==i?new t(e/i,-n/i).atan():new t(0!==e?e/0:0,0!==n?-n/0:0).atan()},t.prototype.asec=function(){var e=this.re,n=this.im;if(0===e&&0===n)return new t(0,1/0);var i=e*e+n*n;return 0!==i?new t(e/i,-n/i).acos():new t(0!==e?e/0:0,0!==n?-n/0:0).acos()},t.prototype.acsc=function(){var e=this.re,n=this.im;if(0===e&&0===n)return new t(Math.PI/2,1/0);var i=e*e+n*n;return 0!==i?new t(e/i,-n/i).asin():new t(0!==e?e/0:0,0!==n?-n/0:0).asin()},t.prototype.sinh=function(){var e=this.re,n=this.im;return new t(ti(e)*Math.cos(n),$n(e)*Math.sin(n))},t.prototype.cosh=function(){var e=this.re,n=this.im;return new t($n(e)*Math.cos(n),ti(e)*Math.sin(n))},t.prototype.tanh=function(){var e=2*this.re,n=2*this.im,i=$n(e)+Math.cos(n);return new t(ti(e)/i,Math.sin(n)/i)},t.prototype.coth=function(){var e=2*this.re,n=2*this.im,i=$n(e)-Math.cos(n);return new t(ti(e)/i,-Math.sin(n)/i)},t.prototype.csch=function(){var e=this.re,n=this.im,i=Math.cos(2*n)-$n(2*e);return new t(-2*ti(e)*Math.cos(n)/i,2*$n(e)*Math.sin(n)/i)},t.prototype.sech=function(){var e=this.re,n=this.im,i=Math.cos(2*n)+$n(2*e);return new t(2*$n(e)*Math.cos(n)/i,-2*ti(e)*Math.sin(n)/i)},t.prototype.asinh=function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},t.prototype.acosh=function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},t.prototype.atanh=function(){var e=this.re,n=this.im,i=e>1&&0===n,a=1-e,r=1+e,o=a*a+n*n,s=0!==o?new t((r*a-n*n)/o,(n*a+r*n)/o):new t(-1!==e?e/0:0,0!==n?n/0:0),l=s.re;return s.re=ei(s.re,s.im)/2,s.im=Math.atan2(s.im,l)/2,i&&(s.im=-s.im),s},t.prototype.acoth=function(){var e=this.re,n=this.im;if(0===e&&0===n)return new t(0,Math.PI/2);var i=e*e+n*n;return 0!==i?new t(e/i,-n/i).atanh():new t(0!==e?e/0:0,0!==n?-n/0:0).atanh()},t.prototype.acsch=function(){var e=this.re,n=this.im;if(0===n)return new t(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var i=e*e+n*n;return 0!==i?new t(e/i,-n/i).asinh():new t(0!==e?e/0:0,0!==n?-n/0:0).asinh()},t.prototype.asech=function(){var e=this.re,n=this.im;if(this.isZero())return t.INFINITY;var i=e*e+n*n;return 0!==i?new t(e/i,-n/i).acosh():new t(0!==e?e/0:0,0!==n?-n/0:0).acosh()},t.prototype.inverse=function(){if(this.isZero())return t.INFINITY;if(this.isInfinite())return t.ZERO;var e=this.re,n=this.im,i=e*e+n*n;return new t(e/i,-n/i)},t.prototype.conjugate=function(){return new t(this.re,-this.im)},t.prototype.neg=function(){return new t(-this.re,-this.im)},t.prototype.ceil=function(e){return e=Math.pow(10,e||0),new t(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},t.prototype.floor=function(e){return e=Math.pow(10,e||0),new t(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},t.prototype.round=function(e){return e=Math.pow(10,e||0),new t(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},t.prototype.isNaN=function(){return isNaN(this.re)||isNaN(this.im)},t.prototype.isZero=function(){return 0===this.im&&0===this.re},t.prototype.isFinite=function(){return isFinite(this.re)&&isFinite(this.im)},t.prototype.isInfinite=function(){return!(this.isNaN()||this.isFinite())},t.ZERO=new t(0,0),t.ONE=new t(1,0),t.I=new t(0,1),t.PI=new t(Math.PI,0),t.E=new t(Math.E,0),t.INFINITY=new t(1/0,1/0),t.NAN=new t(NaN,NaN),t.EPSILON=1e-15,t}(),ii=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},ai=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function ri(t){return ii(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c;return ai(this,function(u){switch(u.label){case 0:return[4,qn.fft_web(t)];case 1:for(e=u.sent(),i=(n=e||{}).real,a=void 0===i?[]:i,r=n.imaginary,o=void 0===r?[]:r,s=new Array(a.length),l=0,c=a.length;l<c;l++)s[l]=new ni(a[l],o[l]);return[2,s]}})})}function oi(t){return ii(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c;return ai(this,function(u){switch(u.label){case 0:return(null==t?void 0:t.length)?[4,qn.fft_web(t)]:[2,[]];case 1:if(e=u.sent(),i=(n=e||{}).real,a=void 0===i?[]:i,r=n.imaginary,o=void 0===r?[]:r,null==a?void 0:a.length){for(s=t.length,l=new Array(s),c=0;c<s;c++)l[c]=new ni(a[c],o[c]).abs()/(s/2);return[2,(null==l?void 0:l.map(function(t){return t*t/s}))||[]]}return[2,[]]}})})}function si(t){return ii(this,void 0,void 0,function(){var e,n,i,a,r;return ai(this,function(o){switch(o.label){case 0:for(e=[],n=[],i=0,a=t.length;i<a;i++)e.push(t[i].re),n.push(t[i].im);return[4,qn.ifft_web(e,n)];case 1:return[2,(null===(r=o.sent())||void 0===r?void 0:r.y)||[]]}})})}function li(t,e,n,i,a){return void 0===a&&(a=3),ii(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d;return ai(this,function(p){switch(p.label){case 0:return(null==t?void 0:t.length)?[4,qn.envelop(t,e,n,i)]:[2,void 0];case 1:for(r=p.sent(),o=i-n,s=t.length,l=Math.round(t.length/2.56),(c=Math.round(o/2*a/(e/s)))>l&&(c=l),u=new Array(c),h=0;h<c;h++)u[h]=r.y[h];return d=e/2.56/l,(null==u?void 0:u.length)&&(u[0]=0),[2,{x:r.x,y:u,xInterval:d}]}})})}var ci=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},ui=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},hi=function(){function t(){}return t.getIntraRangeValue=function(t,e){var n=[];try{if(t.length<=1)return[];for(var i=0;i<e.length;i++)e[i]>=t[0]&&e[i]<=t[t.length-1]&&n.push(e[i])}catch(t){}return n},t.GetLastLoopEquarTimeWave=function(e,n){var i=[],a=t.getADRPM(e),r=t.convertAdRPMIndex(a.adIndex,a.rpmIndex,1,n.yData,n);if(r.rpmIndex.length>=2){var o=r.adIndex[r.adIndex.length-1],s=r.adIndex[0],l=r.rpmIndex[r.rpmIndex.length-1],c=r.rpmIndex[r.rpmIndex.length-2];l>o&&(l=r.rpmIndex[r.rpmIndex.length-2],c=r.rpmIndex[r.rpmIndex.length-3]);var u=n.yData.length/(o-s),h=Yn((c-s)*u),d=Yn((l-s)*u);i=t.skip(n.yData,h),i=t.take(i,d-h)}else i=[];return i},t.getLastLapWave=function(e,n,i,a,r){r=0;try{if(n.length<2)return{data:[],intertval:r};var o=n[n.length-1],s=i[i.length-1];r=t.getSamplingInterval(n,e.yData.length);var l=t.getSamplingPerCircle(i,r);if(0==a){var c=t.getSamplingPerCircle([s,o],r),u=e.yData.length-l-c,h=t.skip(e.yData,u);return{data:h=t.take(h,l),intertval:r}}if(i.length<3)return{data:[],intertval:r};var d=i[i.length-1-1]-i[i.length-1-2],p=e.yData.length-Math.floor((o-i[i.length-1-1]+d/360*a)/r),f=e.yData.length-Math.floor((o-s+d/360*a)/r),A=t.skip(e.yData,p);return{intertval:r,data:A=t.take(A,f-p)}}catch(t){return{data:[],intertval:r}}},t.GetOneLoopEquarAngleWave=function(e,n){var i=n,a=t.getADRPM(e),r=t.convertAdRPMIndex(a.adIndex,a.rpmIndex,1,n.yData,n,a.keyIndex);if(r.rpmIndex.length>=2){var o=t.calcSpeed(a.timeBase,r.rpmIndex);i.runSpeed=t.getAverage(o);var s=r.adIndex,l=r.rpmIndex,c=r.keyIndex,u=t.getIntraRangeValue(s,l);if(u.length<2)return i.yData=[],i;var h=t.getIntraRangeValue([u[u.length-2],u[u.length-1]],c),d=[],p=0;if(null!=n&&2==n.signaltype){p=1;var f=n.yData.length/1024/16*(2e3/Yn(n.upperlimitingfreq))+1;d=t.skip(s,s.length-f),d=t.take(d,f)}var A=t.getSamplingInterval(0==p?s:d,n.yData.length),m=t.getSamplingPerCircle(l,A);i.samplingRate=m,i.isAngleWave=1;var y=t.getLastLapWave(n,0==p?s:d,u,(null==n?void 0:n.phaseAngle)||0,A),g=y.data;if(A=y.intertval,null==g||0==g.length)return i.yData=[],i;var v=t.getSamplingPerCircle(h,A),b=t.resampling2(g,u,h,A,v);if(null==b||0==b.length)return i.yData=[],i;i.yData=b}else i.yData=[];return i},t.resampling2=function(t,e,n,i,a){var r=[];try{if(e.length<2)return t;if(n.length<2)return t;for(var o=t.length,s=0;s<n.length-1;++s)for(var l=(n[s]-e[e.length-2])/i,c=(n[s+1]-n[s])/a/i,u=0;u<a;++u){var h=Math.floor(l),d=Math.ceil(l);if(h<0||h>=o)break;if(d<0||d>=o)break;var p=h,f=t[h],A=d,m=t[d],y=void 0;h==d?y=f:(y=(m-f)/(A-p)*(l-p)+f,isNaN(y)&&(y=0)),r.push(y),l+=c}}catch(t){}return r},t.resampling=function(t,e,n,i,a){var r=[],o=t.length;if(n.length<2)return t;for(var s=0;s<n.length-1;++s)for(var l=(n[s]-e[0])/i,c=(n[s+1]-n[s])/a/i,u=0;u<a;++u){var h=Math.floor(l),d=Math.ceil(l);if(h<0||h>=o)break;if(d<0||d>=o)break;var p=h,f=t[h],A=d,m=t[d],y=void 0;h==d?y=f:(y=(m-f)/(A-p)*(l-p)+f)||(y=0),r.push(y),l+=c}return r},t.getSamplingPerCircle=function(t,e){var n=0;try{if(t.length>1)for(var i=1;i<t.length;i++)n=Math.max(n,Math.floor(1*(t[i]-t[i-1])/e));n%2!=0&&(n-=1)}catch(t){}return parseInt(n)},t.getAverage=function(t){var e=0;return t.forEach(function(t){e+=t}),e/t.length},t.calcSpeed=function(t,e,n){void 0===n&&(n=1),0==n&&(n=1);for(var i=[],a=1;a<e.length;a++)if(e[a]>e[a-1]){var r=1*t/(e[a]-e[a-1])*60/n;i.push(r)}return i},t.getSamplingInterval=function(e,n){for(var i=e.length,a=new Array(i-1),r=0;r<i-1;++r){var o=e[r+1]-e[r];a[r]=o}return t.getMedian(a)*a.length/n},t.getMedian=function(t){var e=t.sort(),n=Yn(t.length/2);return e.length%2==0?(e[n-1]+e[n])/2:e[n]},t.getIndexDiff=function(t,e){return t<e?4294967295-e+t:t-e},t.convertAdRPMIndex=function(e,n,i,a,r,o){var s=0,l=0,c=0,u=0,h=0,d=0,p=0,f=0,A=0;if(!(null==e?void 0:e.length))return{adIndex:[],rpmIndex:[],keyIndex:[]};if(!(null==n?void 0:n.length))return{adIndex:[],rpmIndex:[],keyIndex:[]};var m=new Array(e.length),y=new Array(n.length),g=new Array((null==o?void 0:o.length)?null==o?void 0:o.length:0);for(m[0]=e[0],s=1;s<e.length;s++){for(u++,p=t.getIndexDiff(e[s],e[s-1]),m[u]=m[u-1]+p;l<n.length&&t.getIndexDiff(e[s],n[l])<p&&t.getIndexDiff(n[l],e[s-1])<p&&(y[h]=m[u-1]+t.getIndexDiff(n[l],e[s-1]),h++,!(l+1>=n.length))&&(f=t.getIndexDiff(n[l+1],n[l]),l++,!(y[h-1]+f>m[u])););if(null!=o&&o.length>0)for(;c<o.length&&t.getIndexDiff(e[s],o[c])<p&&t.getIndexDiff(o[c],e[s-1])<p&&(g[d]=m[u-1]+t.getIndexDiff(o[c],e[s-1]),d++,!(c+1>=o.length))&&(A=t.getIndexDiff(o[c+1],o[c]),c++,!(g[d-1]+A>m[u])););}for(var v=new Array(u+1),b=new Array(h),C=new Array(d),x=0;x<v.length;x++)v[x]=m[x];for(var w=0;w<b.length;w++)b[w]=y[w];for(var D=0;D<C.length;D++)C[D]=g[D];if(null!=r&&2==r.signaltype){0==r.upperlimitingfreq&&(r.upperlimitingfreq=r.samplingRate/2.56);var I=Number(a.length/1024/16*(2e3/r.upperlimitingfreq))+1;v=t.skip(v,v.length-I),v=t.take(v,I)}return{adIndex:v,rpmIndex:b,keyIndex:C}},t.skip=function(t,e){return(null==t?void 0:t.length)?e<=0?t:t.splice(e,t.length-e):[]},t.take=function(t,e){if(!(null==t?void 0:t.length))return[];for(var n=[],i=0;i<e;i++)n.push(t[i]);return n},t.getADRPM=function(t){var e,n,i,a,r,o=[],s=[],l=[],c=0;return(null==t?void 0:t.length)&&((o=null===(e=null==t?void 0:t.find(function(t){return 0==t.dataType}))||void 0===e?void 0:e.datas)||(o=[]),(s=null===(n=null==t?void 0:t.find(function(t){return 1==t.dataType}))||void 0===n?void 0:n.datas)||(s=[]),(null===(l=null===(i=null==t?void 0:t.find(function(t){return 2==t.dataType}))||void 0===i?void 0:i.datas)||void 0===l?void 0:l.length)||(l=[]),(null===(a=null==t?void 0:t.find(function(t){return 1==t.dataType}))||void 0===a?void 0:a.timeBase)>=0&&(c=null===(r=null==t?void 0:t.find(function(t){return 1==t.dataType}))||void 0===r?void 0:r.timeBase)),{adIndex:o,rpmIndex:s,timeBase:c,keyIndex:l}},t.GetPlusLength=function(t){return 8192},t.GetCutoffFreq=function(t,e,n){return 3==t.signaltype?.2:2==e?10:2==t.signaltype?2:1==n?10:2},t.DataIntegralFreqOne=function(t,e,n,i){return ci(this,void 0,void 0,function(){var a,r,o,s,l,c,u,h,d,p,f;return ui(this,function(A){switch(A.label){case 0:a=(null==t?void 0:t.length)?t.length:0,r=new Array(a),A.label=1;case 1:return A.trys.push([1,4,,5]),[4,ri(t)];case 2:for(o=A.sent(),s=e/a,l=2*Math.PI*s,c=new Array(a),f=0;f<a;f++)c[f]=f<=a/2-1?0===f?0:c[f-1]+l:f===a/2?-a*l/2:c[f-1]+l;for(u=new Array(a),f=0;f<a;f++)u[f]=0===f?new ni(0,0):o[f].div(new ni(0,c[f]));for(h=Math.floor(n/s),d=Math.ceil(i/s),p=new Array(a),f=0;f<a;f++)f>=h&&f<=d?p[f]=u[f]:f>=a-d&&f<=Math.min(a-1,a-h)?p[f]=u[f]:p[f]=new ni(0,0);return[4,si(p)];case 3:for(r=A.sent(),f=0;f<a;f++)r[f]*=1e3;return[3,5];case 4:return A.sent(),[3,5];case 5:return[2,r]}})})},t.RemoveTrend=function(t,e){var n=[];try{var i=t.length;n=new Array(i);for(var a,r,o=1e3/e,s=0,l=0,c=0,u=0,h=0;h<i;h++)s=h*o+s,l=h*h*o*o+l,c+=t[h],u=h*o*t[h]+u;a=(s*c-i*u)/(s*s-i*l),r=(s*u-l*c)/(s*s-i*l);for(h=0;h<i;h++)n[h]=t[h]-a*h*o-r;n[i-1]=n[i-2]}catch(t){}return n},t.FFTCalcNotZeroPadding=function(t){return ci(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l;return ui(this,function(c){switch(c.label){case 0:if(!(null==t?void 0:t.length))return[2,[]];for(e=0,n=t.length,l=0;l<n;l++)e+=t[l];for(i=new Array(n),a=e/n,l=0;l<n;l++)i[l]=t[l]-a;return[4,ri(i)];case 1:if(r=c.sent(),1,null==r?void 0:r.length){for(o=Yn(Number(n/2)),s=new Array(o),l=0;l<o;l++)s[l]=1*r[l].abs()/(n/2);return[2,s]}return[2,[]]}})})},t.FFTCalc=function(t){return ci(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u;return ui(this,function(h){switch(h.label){case 0:if(!(null==t?void 0:t.length))return[2,[]];for(e=t.length,n=Yn(Math.ceil(Math.log(e)/Math.log(2))),i=Number(Math.pow(2,n)),a=new Array(i),r=0,u=0;u<a.length;u++)a[u]=u>=e?0:t[u],r+=a[u];for(o=r/a.length,u=0;u<a.length;u++)a[u]=a[u]-o;return[4,ri(a)];case 1:if(s=h.sent(),l=Yn(i/2.56),isNaN(l)||null==l||!(null==s?void 0:s.length))return[2,[]];for(c=new Array(l),u=0;u<l;u++)c[u]=Math.sqrt(s[u].re*s[u].re+s[u].im*s[u].im)/(e/2);return[2,c]}})})},t.CepstrumCalc=function(t,e){return ci(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h,d;return ui(this,function(p){switch(p.label){case 0:if(!(null==t?void 0:t.length))return[2,[]];for(e=t.length,n=new Array(e),i=0,d=0;d<n.length;d++)n[d]=t[d],i+=t[d];for(a=i/n.length,d=0;d<n.length;d++)n[d]=n[d]-a;return[4,oi(n)];case 1:for(r=p.sent(),o=new Array(e),s=Yn(e/2),d=0;d<s;d++)r[d]<Math.pow(10,-20)&&(r[d]=Math.pow(10,-20)),l=Math.log10(r[d]),o[d]=new ni(l,0),o[e-1-d]=new ni(l,0);return[4,si(o)];case 2:if(null===(c=p.sent())||void 0===c?void 0:c.length){for(u=Yn(e/2),(h=new Array(u))[0]=0,d=1;d<u;d++)h[d]=c[d];return[2,h]}return[2,[]]}})})},t.DMCalc=function(t,e,n,i,a,r){return void 0===r&&(r=3),ci(this,void 0,void 0,function(){return ui(this,function(n){switch(n.label){case 0:return[4,li(t,e,i-a/2,i+a/2,r)];case 1:return[2,n.sent()]}})})},t.AmpAndPhaseCalc=function(t){return ci(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h;return ui(this,function(d){switch(d.label){case 0:[],e=[],n=[],d.label=1;case 1:for(d.trys.push([1,3,,4]),i=0,a=(null==t?void 0:t.length)||0,r=Yn(Math.ceil(Math.log(a)/Math.log(2))),o=Yn(Math.pow(2,r)),s=new Array(o),l=0,h=0;h<o;h++)s[h]=h>=a?0:t[h],l+=s[h];for(c=l/o,h=0;h<o;h++)s[h]-=c;return[4,ri(s)];case 2:if((u=d.sent()).length>0){for(i=Yn(o/2.56),e=new Array(i),h=0;h<i;h++)e[h]=2*Math.sqrt(Math.pow(u[h].re,2)+Math.pow(u[h].im,2))/(a/2);for((n=new Array(i))[0]=0,h=1;h<i;h++)n[h]=180*u[h].arg()/3.1415926}return[3,4];case 3:return d.sent(),e=[],n=[],[3,4];case 4:return[2,{amplitudeData:e,phaseData:n}]}})})},t.LogarithmicSpectrum=function(t,e){return ci(this,void 0,void 0,function(){var e,n,i,a,r,o,s;return ui(this,function(l){switch(l.label){case 0:if(e=[],null==t)return[2,e];l.label=1;case 1:return l.trys.push([1,3,,4]),n=t.length,[4,oi(zn(Nn(t,0,n)))];case 2:for(i=l.sent(),a=jn(i),r=Yn(n/2.56),o=new Array(r),s=0;s<r;s++)i[s]<Math.pow(10,-20)&&(i[s]=Math.pow(10,-20)),0==s?o[0]=10*Math.log10(i[1]/a):o[s]=10*Math.log10(i[s]/a);return e=Nn(o,0,r),[3,4];case 3:return l.sent(),e=[],[3,4];case 4:return e.length&&(e[0]=0),[2,e]}})})},t.BuildOrbitGraph=function(t,e,n,i){return ci(this,void 0,void 0,function(){var a,r,o,s,l,c,u;return ui(this,function(h){switch(h.label){case 0:a=[],h.label=1;case 1:h.trys.push([1,7,,8]),r=t.length/(n*e),o=0,h.label=2;case 2:return o<r?[4,ri(Nn(t,o*n*e,n*e))]:[3,6];case 3:for(s=h.sent(),l=1;l<s.length;l++)l!=i&&l!=s.length-i&&(s[l]=new ni(0));return(c=new ni(0)).re=s[i*e].re,c.im=-1*s[i*e].im,s[s.length-i*e]=c,[4,si(s)];case 4:u=h.sent(),a=a.concat(u),h.label=5;case 5:return o++,[3,2];case 6:return[3,8];case 7:return h.sent(),a=[],[3,8];case 8:return[2,a]}})})},t.CalcColumnarSpec=function(t,e,n){void 0===n&&(n=10);for(var i=t.length,a=[],r=[],o=0,s=0;s<=i;s++){s*e>=o*n+n&&(o+=1,r.push(jn(a)),a=[]),s<i&&a.push(t[s])}return r},t.TiltcfSensor=function(t,e,n,i,a,r,o){var s=function(t){for(var e=Number.MAX_SAFE_INTEGER,n=0;n<t.length;n++)e>t[n]&&(e=t[n]);return e}([t.length,e.length,n.length,i.length,a.length,r.length]);if(0==s)return null;if(t.length!=n.length||e.length!=i.length)return null;for(var l=1/o,c=new Array(n.length),u=new Array(e.length),h=0;h<t.length;h++)c[h]=9.8*Math.sin(t[h]*Math.PI/180)-n[h];for(h=0;h<e.length;h++)u[h]=9.8*Math.sin(e[h]*Math.PI/180)-i[h];var d=new Array(s),p=new Array(s);d[0]=Math.atan2(c[0],Math.sqrt(Math.pow(9.8,2)-Math.pow(c[0],2)-Math.pow(u[0],2))),p[0]=Math.atan2(u[0],Math.sqrt(Math.pow(9.8,2)-Math.pow(c[0],2)-Math.pow(u[0],2)));for(var f=1;f<s;f++)d[f]=d[f-1]+r[f]*l,p[f]=p[f-1]+a[f]*l,Math.pow(c[f],2)+Math.pow(u[f],2)<Math.pow(9.8,2)&&(d[f]=.98*d[f]+.02*Math.atan2(c[f],Math.sqrt(Math.pow(9.8,2)-Math.pow(c[f],2)-Math.pow(u[f],2))),p[f]=.98*p[f]+.02*Math.atan2(u[f],Math.sqrt(Math.pow(9.8,2)-Math.pow(c[f],2)-Math.pow(u[f],2))));for(h=0;h<d.length;h++)d[h]=180*d[h]/Math.PI;for(h=0;h<p.length;h++)p[h]=180*p[h]/Math.PI;return[d,p]},t.GetEquarAngleXInterval=function(t,e){return t/e},t.ButterworthBandpassFilter=function(t,e,n,i,a){return ci(this,void 0,void 0,function(){var e,r,o;return ui(this,function(s){switch(s.label){case 0:return e=(null==t?void 0:t.length)?t.length:0,i>a?[2,[]]:[4,ri(t)];case 1:r=s.sent(),s.label=2;case 2:for(s.trys.push([2,4,,5]),o=0;o<e/2;o++)n*o/e<i?(r[o]=new ni(0,0),r[e-1-o]=new ni(0,0)):n*o/e>a&&(r[o]=new ni(0,0),r[e-1-o]=new ni(0,0));return[4,si(r)];case 3:return[2,s.sent()];case 4:return s.sent(),[2,[]];case 5:return[2]}})})},t.ButterworthBandstopFilter=function(t,e,n,i,a){return ci(this,void 0,void 0,function(){var e,r,o;return ui(this,function(s){switch(s.label){case 0:return e=(null==t?void 0:t.length)?t.length:0,i>a?[2,[]]:[4,ri(t)];case 1:r=s.sent(),s.label=2;case 2:for(s.trys.push([2,4,,5]),o=0;o<e/2;o++)n*o/e>i&&n*o/e<a&&(r[o]=new ni(0,0),r[e-1-o]=new ni(0,0));return[4,si(r)];case 3:return[2,s.sent()];case 4:return s.sent(),[2,[]];case 5:return[2]}})})},t.ButterworthHighpassFilter=function(t,e,n,i){return ci(this,void 0,void 0,function(){var e,a,r;return ui(this,function(o){switch(o.label){case 0:return e=(null==t?void 0:t.length)?t.length:0,[4,ri(t)];case 1:a=o.sent(),o.label=2;case 2:for(o.trys.push([2,4,,5]),r=0;r<e/2;r++)n*r/e<i&&(a[r]=new ni(0,0),a[e-1-r]=new ni(0,0));return[4,si(a)];case 3:return[2,o.sent()];case 4:return o.sent(),[2,[]];case 5:return[2]}})})},t.ButterworthLowpassFilter=function(t,e,n,i){return ci(this,void 0,void 0,function(){var e,a,r;return ui(this,function(o){switch(o.label){case 0:return e=(null==t?void 0:t.length)?t.length:0,[4,ri(t)];case 1:a=o.sent(),o.label=2;case 2:for(o.trys.push([2,4,,5]),r=0;r<e/2;r++)n*r/e>i&&(a[r]=new ni(0,0),a[e-1-r]=new ni(0,0));return[4,si(a)];case 3:return[2,o.sent()];case 4:return o.sent(),[2,[]];case 5:return[2]}})})},t.RootMeanSquared=function(t){if(!(null==t?void 0:t.length))return 0;var e=0;return null==t||t.forEach(function(t){e+=t*t}),Math.sqrt(e/t.length)},t.GetSplitScreenData=function(e,n,i,a){return ci(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,f,A,m,y,g;return ui(this,function(v){switch(v.label){case 0:return(n>0||i>0)&&(n+i>e.length&&(i-=n+i-e.length),e=_n(e,n,i)),o=1/(r=a),[4,t.LogarithmicSpectrum(e,a)];case 1:for(s=v.sent(),l=function(t){for(var e=Number.MIN_SAFE_INTEGER,n=0,i=0;i<t.length;i++)e<t[i]&&(e=t[i],n=i);return n}(s),c=l*a/2.56/s.length,u=Math.ceil(r/c),h=Math.ceil(u/8),d=Math.floor((e.length-u)/h+1),p=[],f=[],A=1;A<=d;A++)m=Yn((A-1)*h),y=Yn((A-1)*h+u),g=t.RootMeanSquared(this.take(this.skip(e,m),y-m)),p.push(g),f.push(g);return[2,[p,f,o,h]]}})})},t.GetFloatAbsCMaxNum=function(t,e,n){for(var i=new Array(t.length),a=0;a<t.length;a++)i[a]=-(t[a]+e[a]);var r=0;i.forEach(function(t){var e=Math.abs(t);e>r&&(r=e)});var o=0;return t.forEach(function(t){var e=Math.abs(t);e>o&&(o=e)}),[i,r/n<=o/n*1.2]},t.GetCFloatData=function(e,n,i){var a=t.GetFloatAbsCMaxNum(e,n,i),r=a[0];if(!a[1]){var o=Nn(n,0,n.length-1);if(o[n.length-1]=0,!(a=t.GetFloatAbsCMaxNum(e,o,i))[1]){var s=Nn(n,0,n.length-1);if(s[0]=0,!(a=t.GetFloatAbsCMaxNum(e,s,i))[1])return r}}return a[0]},t.GetDoubleAbsCMaxNum=function(t,e,n){for(var i=new Array(t.length),a=0;a<t.length;a++)i[a]=-(t[a]+e[a]);var r=0;i.forEach(function(t){var e=Math.abs(t);e>r&&(r=e)});var o=0;return t.forEach(function(t){var e=Math.abs(t);e>o&&(o=e)}),[i,r/n<=o/n*1.2]},t.GetCDoubleData=function(e,n,i){var a=t.GetDoubleAbsCMaxNum(e,n,i),r=a[0];if(!a[1]){var o=Nn(n,0,n.length-1);if(o[n.length-1]=0,!(a=t.GetDoubleAbsCMaxNum(e,o,i))[1]){var s=Nn(n,0,n.length-1);if(s[0]=0,!(a=t.GetDoubleAbsCMaxNum(e,s,i))[1])return r}}return a[0]},t}(),di=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},pi=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function fi(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),di(this,void 0,void 0,function(){var i,a;return pi(this,function(r){switch(r.label){case 0:return[4,$e("/OriginalVibWaveData/"+t+"/"+e+"/"+n+"?AnalysisModel=0")];case 1:return i=Vn((null===(i=r.sent())||void 0===i?void 0:i.data)||{}),a={yData:[],samplingRate:0,xInterval:0,xUnit:"",yUnit:"",runSpeed:0,dataLen:0,oldDataLen:0,path:""},i?[2,i||a]:[2,a]}})})}function Ai(t){return di(this,void 0,void 0,function(){return pi(this,function(e){switch(e.label){case 0:return t?[4,$e("/TimeScales/"+t+"?tsid="+t)]:[2,void 0];case 1:return[2,Vn(e.sent().data||[])]}})})}function mi(t){return di(this,void 0,void 0,function(){return pi(this,function(e){switch(e.label){case 0:return"/oss/api/app/objectStorage/objectStream",t?[4,$e("/oss/api/app/objectStorage/objectStream?objectName="+t,{responseType:"arraybuffer"})]:[3,2];case 1:return[2,e.sent().data];case 2:return[2]}})})}var yi,gi=function(){return(gi=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},vi=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},bi=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ci=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},xi=function(){function t(){}return t.prototype.GetOriginalVibWave=function(t,e,n,i){var a,r;return void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),bi(this,void 0,void 0,function(){var o,s,l,c,u,h;return Ci(this,function(d){switch(d.label){case 0:return this.GetDataType(t)===Ln.Spec?[2,{yData:[],xInterval:0,yUnit:"",xUnit:""}]:[4,this.GetVibWaveInfo(t,e,n)];case 1:return Hn(null===(o=d.sent())||void 0===o?void 0:o.path)||(null===(a=null==o?void 0:o.yData)||void 0===a?void 0:a.length)?[3,3]:[4,this.GetObjectByteAsync(o.path)];case 2:(null===(s=d.sent())||void 0===s?void 0:s.byteLength)>0&&(l=this.GetWave(s,o.convertCoef,o.waveOffset||0,!0),o.yData=Array.from(l)),d.label=3;case 3:return i!==Pn.EquarAngle?[3,5]:[4,this.GetTimeScales(o.tSID)];case 4:return u=d.sent(),c=hi.GetOneLoopEquarAngleWave(u,o),e>0||n>0?(e+n>c.yData.length&&(n-=e+n-c.yData.length),h=_n(c.yData,e,n),o.yData=h):o.yData=c.yData,o.isAngleWave=1,o.samplingRate=c.samplingRate,[3,8];case 5:return i!=Pn.EquarTime?[3,7]:[4,this.GetTimeScales(o.tSID)];case 6:return u=d.sent(),o.yData=hi.GetLastLoopEquarTimeWave(u,o),(e>0||n>0)&&(e+n>o.yData.length&&(n-=e+n-o.yData.length),h=_n(o.yData,e,n),o.yData=h),[3,8];case 7:(e>0||n>0)&&(e+n>o.yData.length&&(n-=e+n-o.yData.length),h=_n(o.yData,e,n),o.yData=h),d.label=8;case 8:return(null===(r=null==o?void 0:o.yData)||void 0===r?void 0:r.length)&&(o.dataLen=o.yData.length,i==Pn.EquarAngle?(o.xInterval=360/o.samplingRate,o.xUnit="°"):(o.xUnit="ms",o.xInterval=1/o.samplingRate*1e3)),o.wave=o.yData,[2,o]}})})},t.prototype.GetSpectrum=function(t,e,n,i){var a,r,o,s,l,c;return void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),bi(this,void 0,void 0,function(){var u,h,d,p,f,A,m,y,g,v,b,C,x,w,D;return Ci(this,function(I){switch(I.label){case 0:return u=this.GetDataType(t),[4,this.GetOriginalVibWave(t)];case 1:return Hn((h=I.sent()).path)?[3,24]:u!=Ln.Wave&&u!=Ln.LongWave&&u!=Ln.Stop&&u!=Ln.Black?[3,21]:i!==Pn.EquarAngle?[3,9]:[4,this.GetTimeScales(h.tSID)];case 2:return m=I.sent(),d=hi.GetOneLoopEquarAngleWave(m,h),p=null===(a=null==d?void 0:d.yData)||void 0===a?void 0:a.length,null!=d.yData&&d.yData.length>0?e>0||n>0?(e+n>d.yData.length&&(n-=e+n-d.yData.length),C=_n(d.yData,e,n),f=h,[4,hi.FFTCalcNotZeroPadding(C)]):[3,4]:[3,7];case 3:return f.yData=I.sent(),[3,6];case 4:return A=h,[4,hi.FFTCalcNotZeroPadding(d.yData)];case 5:A.yData=I.sent(),I.label=6;case 6:return h.isAngleWave=1,h.xUnit="X",h.xInterval=d.samplingRate/p,[3,8];case 7:h.yData=[],I.label=8;case 8:return[3,20];case 9:return i!=Pn.EquarTime?[3,15]:[4,this.GetTimeScales(h.tSID)];case 10:return m=I.sent(),y=hi.GetLastLoopEquarTimeWave(m,h),e>0||n>0?(g=y.length,e+n>g&&(n-=e+n-g),C=_n(y,e,n),v=h,[4,hi.FFTCalc(C)]):[3,12];case 11:return v.yData=I.sent(),[3,14];case 12:return b=h,[4,hi.FFTCalc(y)];case 13:b.yData=I.sent(),I.label=14;case 14:return h.xUnit="Hz",(null===(r=null==h?void 0:h.yData)||void 0===r?void 0:r.length)&&(h.xInterval=h.samplingRate/2.56/h.yData.length),[3,20];case 15:return e>0||n>0?(e+n>h.yData.length&&(n-=e+n-h.yData.length),C=_n(h.yData,e,n),x=h,[4,hi.FFTCalc(C)]):[3,17];case 16:return x.yData=I.sent(),[3,19];case 17:return w=h,[4,hi.FFTCalc(h.yData)];case 18:w.yData=I.sent(),I.label=19;case 19:h.xUnit="Hz",(null===(o=null==h?void 0:h.yData)||void 0===o?void 0:o.length)&&(h.xInterval=h.samplingRate/2.56/h.yData.length),I.label=20;case 20:return[3,24];case 21:return 1!=u?[3,22]:(h.yData=h.yData,h.xUnit="Hz",(null===(s=null==h?void 0:h.yData)||void 0===s?void 0:s.length)&&(h.xInterval=h.samplingRate/2.56/h.yData.length),[3,24]);case 22:return D=h,[4,hi.FFTCalc(h.yData)];case 23:D.yData=I.sent(),h.xUnit="Hz",(null===(l=null==h?void 0:h.yData)||void 0===l?void 0:l.length)&&(h.xInterval=h.samplingRate/2.56/h.yData.length),I.label=24;case 24:return h.dataLen=(null===(c=null==h?void 0:h.yData)||void 0===c?void 0:c.length)||0,[2,h]}})})},t.prototype.GetCepstrum=function(t,e,n,i){var a;return void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),bi(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,f;return Ci(this,function(A){switch(A.label){case 0:return[4,this.GetOriginalVibWave(t,0,0)];case 1:return r=A.sent(),o=i,0!==e||0!==n?[3,10]:o!=Pn.EquarAngle?[3,4]:[4,this.GetTimeScales(r.tSID)];case 2:return c=A.sent(),s=hi.GetOneLoopEquarAngleWave(c,r),r.isAngleWave=1,l=r,[4,hi.CepstrumCalc(s.yData,s.samplingRate)];case 3:return l.yData=A.sent(),r.xUnit="°",r.xInterval=360/r.yData.length,[3,9];case 4:return o!=Pn.EquarTime?[3,7]:[4,this.GetTimeScales(r.tSID)];case 5:return c=A.sent(),u=hi.GetLastLoopEquarTimeWave(c,r),h=r,[4,hi.CepstrumCalc(u,r.samplingRate)];case 6:return h.yData=A.sent(),r.xUnit="ms",r.xInterval=1/r.samplingRate*1e3,[3,9];case 7:return d=r,[4,hi.CepstrumCalc(r.yData,r.samplingRate)];case 8:d.yData=A.sent(),r.xUnit="ms",r.xInterval=1/r.samplingRate*1e3,A.label=9;case 9:return[3,12];case 10:return e+n>r.yData.length&&(n-=e+n-r.yData.length),p=_n(r.yData,e,n),f=r,[4,hi.CepstrumCalc(p,r.samplingRate)];case 11:f.yData=A.sent(),r.xUnit="ms",r.xInterval=1/r.samplingRate*1e3,A.label=12;case 12:return r.yUnit="dB",r.dataLen=null===(a=null==r?void 0:r.yData)||void 0===a?void 0:a.length,[2,r]}})})},t.prototype.GetAngleWave=function(t,e,n,i){var a;return void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),bi(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d;return Ci(this,function(p){switch(p.label){case 0:return r=i,[4,this.GetOriginalVibWave(t)];case 1:return o=p.sent(),1==n&&(r=Pn.EquarTime),0==n&&r==Pn.EquarTime&&(r=Pn.EquarAngle),r!=Pn.EquarAngle?[3,3]:[4,this.GetTimeScales(o.tSID)];case 2:return l=p.sent(),s=hi.GetOneLoopEquarAngleWave(l,o),o.yData=s.yData,o.isAngleWave=1,o.samplingRate=s.samplingRate,o.xInterval=360/o.samplingRate,o.xUnit="°",[3,7];case 3:return r!=Pn.EquarTime?[3,5]:[4,this.GetTimeScales(o.tSID)];case 4:return l=p.sent(),o.yData=hi.GetLastLoopEquarTimeWave(l,o),o.xUnit="ms",o.xInterval=1/o.samplingRate*1e3*o.compressFactor,[3,7];case 5:return[4,this.GetTimeScales(o.tSID)];case 6:l=p.sent(),c=hi.getADRPM(l),(u=hi.convertAdRPMIndex(c.adIndex,c.rpmIndex,1,o.yData,o)).rpmIndex.length>=2?(h=hi.getSamplingInterval(u.adIndex,o.yData.length),0==e&&(e=hi.getSamplingPerCircle(u.rpmIndex,h)),o.samplingRate=e,d=hi.resampling(o.yData,u.adIndex,u.rpmIndex,h,e),o.xUnit="°",o.isAngleWave=1,0==n&&(o.yData=d,o.xInterval=360/o.samplingRate)):(o.yData=[],o.xInterval=1/o.samplingRate*1e3),p.label=7;case 7:return o.dataLen=null===(a=null==o?void 0:o.yData)||void 0===a?void 0:a.length,[2,o]}})})},t.prototype.GetOrderData=function(t,e){return void 0===e&&(e=1),bi(this,void 0,void 0,function(){var n,i,a,r,o,s,l,c,u,h,d,p,f,A,m,y;return Ci(this,function(g){switch(g.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:return n=g.sent(),i=[],a=n.yData,r=gi({},n),[4,this.GetTimeScales(null==n?void 0:n.tSID)];case 2:return o=g.sent(),s=hi.getADRPM(o),(l=hi.convertAdRPMIndex(s.adIndex,s.rpmIndex,1,a,r)).rpmIndex.length>=2?(c=hi.calcSpeed(s.timeBase,l.rpmIndex),u=c.length,h=hi.getSamplingInterval(l.adIndex,a.length),d=hi.getSamplingPerCircle(l.rpmIndex,h),(null===(p=hi.resampling(a,l.adIndex,l.rpmIndex,h,d))||void 0===p?void 0:p.length)?(f=gi(gi({},r),{samplingRate:d*hi.getAverage(c)/60/e,yData:p,xUnit:"°",isAngleWave:1,xInterval:360*u/p.length/e}),i.push(f),[4,hi.FFTCalcNotZeroPadding(p)]):[2,[]]):[3,4];case 3:A=g.sent(),m=gi(gi({},r),{xUnit:"Hz",yData:A,samplingRate:f.samplingRate,xInterval:f.samplingRate/p.length}),i.push(m),y=gi(gi({},r),{xUnit:"ms",yUnit:"RPM",yData:c,xInterval:1/(hi.getAverage(c)/60)*1e3}),i.push(y),g.label=4;case 4:return[2,i]}})})},t.prototype.GetOrderTimeAvg=function(t,e,n){return void 0===e&&(e=2),void 0===n&&(n=1),bi(this,void 0,void 0,function(){var i,a,r,o,s,l,c,u,h,d,p,f,A;return Ci(this,function(m){switch(m.label){case 0:return[4,this.GetOrderData(t,n)];case 1:if(i=m.sent(),0,1,2,a=[],!((null==i?void 0:i.length)>0))return[3,5];if(r=i[2].yData.length,e>r&&(e=r),e<1&&(e=1),o=Math.floor(i[0].yData.length/r),s=Math.floor(r/e),l=s*o,c=new Array(l),1!==e){for(u=0;u<c.length;u++)c[u]=0;for(u=0;u<e;u++)for(h=u*l,d=0;d<l;d++)c[d]+=i[0].yData[h+d];for(d=0;d<l;d++)c[d]=c[d]/e}else c=i[0].yData.concat([]);return p=gi(gi({},i[0]),{yData:c,xUnit:"°",isAngleWave:1,xInterval:360*s/c.length/n}),a.push(p),f=gi(gi({},p),{yData:[],xUnit:"Hz",isAngleWave:1,xInterval:360*s/c.length/n}),1!=e?[3,2]:(f.yData=i[1].yData,f.xInterval=i[1].xInterval,[3,4]);case 2:return[4,hi.FFTCalcNotZeroPadding(p.yData)];case 3:A=m.sent(),f.yData=A||[],f.xInterval=f.samplingRate/p.yData.length,m.label=4;case 4:a.push(f),m.label=5;case 5:return[2,a]}})})},t.prototype.GetOrderEnvolope=function(t,e,n,i,a){var r;return void 0===i&&(i=3),void 0===a&&(a=1),bi(this,void 0,void 0,function(){var o,s;return Ci(this,function(l){switch(l.label){case 0:return[4,this.GetOrderData(t,a)];case 1:return(null===(o=l.sent())||void 0===o?void 0:o.length)?[4,hi.DMCalc(o[0].yData,o[0].samplingRate,o[0].samplingRate/2,e,n,i)]:[3,3];case 2:return s=l.sent(),[2,gi(gi({},o[0]),{yData:null==s?void 0:s.y,xUnit:"Hz",dataLen:null===(r=null==s?void 0:s.y)||void 0===r?void 0:r.length,xInterval:null==s?void 0:s.xInterval})];case 3:return[2,{yData:[],runSpeed:0,xInterval:0,xUnit:"",yUnit:""}]}})})},t.prototype.GetEnvolope=function(t,e,n,i,a,r,o){return void 0===o&&(o=0),bi(this,void 0,void 0,function(){var s,l,c,u,h;return Ci(this,function(d){switch(d.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:return s=d.sent(),o!==Pn.EquarAngle?[3,7]:[4,this.GetTimeScales(null==s?void 0:s.tSID)];case 2:return l=d.sent(),c=hi.GetOneLoopEquarAngleWave(l,s),s.samplingRate=c.samplingRate,e>0||n>0?(e+n>c.yData.length&&(n-=e+n-c.yData.length),u=_n(c.yData,e,n),[4,hi.DMCalc(u,s.samplingRate,s.samplingRate/2.56,i,a,r)]):[3,4];case 3:return h=d.sent(),s.yData=h.y,s.xInterval=h.xInterval,[3,6];case 4:return[4,hi.DMCalc(s.yData,s.samplingRate,s.samplingRate/2.56,i,a,r)];case 5:h=d.sent(),s.yData=h.y,s.xInterval=h.xInterval,d.label=6;case 6:return s.xUnit="X",s.isAngleWave=1,[3,17];case 7:return o!==Pn.EquarTime?[3,13]:[4,this.GetTimeScales(null==s?void 0:s.tSID)];case 8:return l=d.sent(),c=hi.GetLastLoopEquarTimeWave(l,s),e>0||n>0?(e+n>c.length&&(n-=e+n-c.length),u=_n(c,e,n),[4,hi.DMCalc(u,s.samplingRate,s.samplingRate/2.56,i,a,r)]):[3,10];case 9:return h=d.sent(),s.yData=h.y,s.xInterval=h.xInterval,[3,12];case 10:return[4,hi.DMCalc(s.yData,s.samplingRate,s.samplingRate/2.56,i,a,r)];case 11:h=d.sent(),s.yData=h.y,s.xInterval=h.xInterval,d.label=12;case 12:return s.xUnit="X",s.isAngleWave=1,[3,17];case 13:return e>0||n>0?(e+n>s.yData.length&&(n-=e+n-s.yData.length),u=_n(s.yData,e,n),[4,hi.DMCalc(u,s.samplingRate,s.samplingRate/2.56,i,a,r)]):[3,15];case 14:return h=d.sent(),s.yData=h.y,s.xInterval=h.xInterval,[3,17];case 15:return[4,hi.DMCalc(s.yData,s.samplingRate,s.samplingRate/2.56,i,a,r)];case 16:h=d.sent(),s.yData=h.y,s.xInterval=h.xInterval,d.label=17;case 17:return s.dataLen=s.yData.length,[2,s]}})})},t.prototype.GetCrossPhase=function(t,e,n){var i,a;return void 0===n&&(n=0),bi(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,f,A,m,y,g,v,b,C,x;return Ci(this,function(w){switch(w.label){case 0:return r=[],[4,Promise.all([this.GetOriginalVibWave(t),this.GetOriginalVibWave(e)])];case 1:return o=w.sent(),s=o[0],l=o[1],(null===(i=null==s?void 0:s.yData)||void 0===i?void 0:i.length)&&(null===(a=null==l?void 0:l.yData)||void 0===a?void 0:a.length)&&(null==s?void 0:s.samplingRate)===(null==l?void 0:l.samplingRate)?(c=n,d=s.wave,p=l.wave,c!==Pn.EquarAngle?[3,3]:[4,Promise.all([this.GetTimeScales(s.tSID),this.GetTimeScales(l.tSID)])]):[2,r];case 2:return f=w.sent(),m=f[0],y=f[1],u=hi.GetOneLoopEquarAngleWave(m,s),d=u.yData,h=hi.GetOneLoopEquarAngleWave(y,l),p=h.yData,null==u||null==h||0==u.yData.length||0==h.yData.length?[2,r]:[3,5];case 3:return c!=Pn.EquarTime?[3,5]:[4,Promise.all([this.GetTimeScales(s.tSID),this.GetTimeScales(l.tSID)])];case 4:if(A=w.sent(),m=A[0],y=A[1],d=hi.GetLastLoopEquarTimeWave(m,s),p=hi.GetLastLoopEquarTimeWave(y,l),null==d||null==p||0==d.length||0==p.length)return[2,r];u.dataLen=d.length,h.dataLen=p.length,w.label=5;case 5:return[4,hi.AmpAndPhaseCalc(d)];case 6:return g=w.sent(),[4,hi.AmpAndPhaseCalc(p)];case 7:for(v=w.sent(),b=gi(gi({},s),{yData:new Array(v.amplitudeData.length)}),C=gi(gi({},l),{yUnit:"°",yData:new Array(v.phaseData.length)}),c==Pn.EquarAngle?(b.xUnit=C.xUnit="X",b.xInterval=C.xInterval=u.yData.length/2.56/b.yData.length):(b.xUnit=C.xUnit="Hz",b.xInterval=C.xInterval=C.samplingRate/2.56/C.yData.length),x=0;x<b.yData.length;x++)b.yData[x]=g.amplitudeData[x]*v.amplitudeData[x]/2,C.yData[x]=v.phaseData[x]-g.phaseData[x];return r.push(b),r.push(C),[2,r]}})})},t.prototype.GetConversionWave=function(t,e,n,i,a){return void 0===a&&(a=0),bi(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,f;return Ci(this,function(A){switch(A.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:if(r=A.sent(),o=r,s=r.yData,0==o.upperlimitingfreq&&(o.upperlimitingfreq=o.samplingRate/2.56),0==o.signaltype&&(o.signaltype=1),l=Math.floor(o.upperlimitingfreq/n),c=e-o.signaltype,u=1==l&&0==c?i:i*l+Math.abs(hi.GetPlusLength(a)),h=u<=s.length?hi.take(s,u):s,c<=0)return[2,null];d=o.samplingRate/l,p=1,A.label=2;case 2:return p<=c?(f=hi.GetCutoffFreq(o,e,p),[4,hi.DataIntegralFreqOne(h,o.samplingRate,f,2.56*o.upperlimitingfreq/2)]):[3,5];case 3:h=A.sent(),h=hi.RemoveTrend(h,o.samplingRate),p==c&&(h=hi.skip(h,Math.floor(Math.abs(3*hi.GetPlusLength(a)/4))),h=hi.take(h,h.length-Math.floor(Math.abs(hi.GetPlusLength(a)/4))),l>1&&(h=h.filter(function(t,e){return e%l==0}))),A.label=4;case 4:return p++,[3,2];case 5:switch(o.xUnit="ms",e){case 1:o.yUnit="m/s^2";break;case 2:o.yUnit="mm/s";break;case 3:o.yUnit="um"}return o.compressFactor=1,o.yData=h,o.xInterval=1/d*1e3*o.compressFactor,[2,o]}})})},t.prototype.GetVibWaveInfo=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),bi(this,void 0,void 0,function(){return Ci(this,function(i){switch(i.label){case 0:return[4,fi(t,e,n)];case 1:return[2,i.sent()]}})})},t.prototype.GetTimeScales=function(t){return bi(this,void 0,void 0,function(){return Ci(this,function(e){switch(e.label){case 0:return t?[4,Ai(t)]:[2,void 0];case 1:return[2,e.sent()]}})})},t.prototype.GetOrbit=function(t,e,n,i,a,r){return bi(this,void 0,void 0,function(){var o,s,l,c,u,h,d,p,f,A,m,y,g,v,b,C,x,w,D;return Ci(this,function(I){switch(I.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:return null===(o=I.sent())||void 0===o?[2,{yData:[]}]:(s=gi(gi({},o),{rPMs:[],phases:[]}),[4,this.GetTimeScales(o.tSID)]);case 2:return l=I.sent(),c=hi.getADRPM(l),(u=hi.convertAdRPMIndex(c.adIndex,c.rpmIndex,1,o.yData,o)).rpmIndex.length>=2?(h=hi.getSamplingInterval(u.adIndex,o.yData.length),s.samplingRate=n,d=hi.resampling(o.yData,u.adIndex,u.rpmIndex,h,n),s.xInterval=360/n,s.xUnit="°",s.isAngleWave=1,0!=i?[3,3]:(s.yData=d,[3,9])):[3,10];case 3:return p=d.length/n,e>p&&(e=p),[4,hi.BuildOrbitGraph(d,e,n,i)];case 4:f=I.sent(),1,A=hi.calcSpeed(c.timeBase,u.rpmIndex,1),m=f.length/(n*e),y=0,I.label=5;case 5:return y<m?(g=Nn(A,y*e,e),s.rPMs.push(Math.round(hi.getAverage(g))),(v=y*n*e)+(b=n*e)>f.length&&(b=f.length-v),C=Nn(f,v,b),[4,hi.AmpAndPhaseCalc(C)]):[3,8];case 6:x=I.sent(),w=(w=x.phaseData[i*e])<0?w+360:w,s.phases.push(Math.round(w)),I.label=7;case 7:return y++,[3,5];case 8:s.yData=f,I.label=9;case 9:return[3,11];case 10:s.yData=o.wave,s.xInterval=1/s.samplingRate*1e3,I.label=11;case 11:return a>0||r>0?((a<=0||a>=s.samplingRate/2)&&(a=.1),(r<=0||r>=s.samplingRate/2)&&(r=s.samplingRate/2-1),[4,hi.ButterworthBandpassFilter(s.yData,33,s.samplingRate,a,r)]):[3,13];case 12:D=I.sent(),s.compressFactor=1,s.yData=D,s.xInterval=1/s.samplingRate*1e3*1,I.label=13;case 13:return null!=s.yData&&(s.dataLen=s.yData.length),[2,s]}})})},t.prototype.GetLogSpectrum=function(t,e,n,i){return void 0===i&&(i=0),bi(this,void 0,void 0,function(){var a,r,o,s,l,c,u,h,d,p;return Ci(this,function(f){switch(f.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:return a=f.sent(),r=i,a.yUnit="dB",0!==e||0!==n?[3,10]:r!=Pn.EquarAngle?[3,4]:[4,this.GetTimeScales(a.tSID)];case 2:return l=f.sent(),o=hi.GetOneLoopEquarAngleWave(l,a),a.isAngleWave=1,s=a,[4,hi.LogarithmicSpectrum(o.yData,a.samplingRate)];case 3:return s.yData=f.sent(),a.xUnit="°",a.xInterval=360/a.yData.length,[3,9];case 4:return r!=Pn.EquarTime?[3,7]:[4,this.GetTimeScales(a.tSID)];case 5:return l=f.sent(),c=hi.GetLastLoopEquarTimeWave(l,a),u=a,[4,hi.LogarithmicSpectrum(c,a.samplingRate)];case 6:return u.yData=f.sent(),a.xUnit="Hz",a.xInterval=a.samplingRate/2.56/a.yData.length,[3,9];case 7:return h=a,[4,hi.LogarithmicSpectrum(a.wave,a.samplingRate)];case 8:h.yData=f.sent(),a.xUnit="Hz",a.xInterval=a.samplingRate/2.56/a.yData.length,f.label=9;case 9:return[3,12];case 10:return e+n>a.yData.length&&(n-=e+n-a.yData.length),d=_n(a.yData,e,n),p=a,[4,hi.LogarithmicSpectrum(d,a.samplingRate)];case 11:p.yData=f.sent(),a.xUnit="Hz",a.xInterval=a.samplingRate/2.56/a.yData.length,f.label=12;case 12:return a.dataLen=a.yData.length,[2,a]}})})},t.prototype.GetOriginalVibWaveByOtherPhases=function(t,e,n,i,a){return void 0===a&&(a=Pn.Default),bi(this,void 0,void 0,function(){var a,r;return Ci(this,function(o){switch(o.label){case 0:return[4,this.GetOriginalVibWave(t,n,i)];case 1:return a=o.sent(),[4,this.GetOriginalVibWave(e,n,i)];case 2:return r=o.sent(),a.yData.length!=r.yData.length?[2,[]]:(a.yData=hi.GetCFloatData(a.yData,r.yData,a.measValue),[4,a]);case 3:return[2,o.sent()]}})})},t.prototype.GetSolutionAveSquareRoot=function(t,e,n){return bi(this,void 0,void 0,function(){var i,a,r,o,s;return Ci(this,function(l){switch(l.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:return i=l.sent(),[4,hi.GetSplitScreenData(i.wave,e,n,i.samplingRate)];case 2:return a=l.sent(),r=a[2],o=a[3],s=a[1],1/(r*o),i.yData=s,i.waveKey="",i.yUnit="dB",i.xUnit="ms",i.dataLen=i.yData.length,i.xInterval=1/i.samplingRate*1e3*1*(i.wave.length-1)/(i.yData.length-1),[2,i]}})})},t.prototype.GetSolutionAveSquareRootSpectrum=function(t,e,n){var i;return bi(this,void 0,void 0,function(){var a,r,o,s,l,c,u,h;return Ci(this,function(d){switch(d.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:return a=d.sent(),(null===(i=null==a?void 0:a.yData)||void 0===i?void 0:i.length)?[4,hi.GetSplitScreenData(a.wave,e,n,a.samplingRate)]:[2,a];case 2:return r=d.sent(),o=r[2],s=r[3],l=r[1],c=1/(o*s),[4,hi.FFTCalcNotZeroPadding(l)];case 3:return u=d.sent(),h=u,a.yData=h,a.waveKey="",a.yUnit="dB",a.xUnit="Hz",a.dataLen=a.yData.length,a.xInterval=c/2.56/a.yData.length,[2,a]}})})},t.prototype.GetSolutionAveSquareRootLogSpectrum=function(t,e,n){var i;return bi(this,void 0,void 0,function(){var a,r,o,s,l,c,u,h,d;return Ci(this,function(p){switch(p.label){case 0:return[4,this.GetOriginalVibWave(t)];case 1:return a=p.sent(),[4,hi.GetSplitScreenData(a.wave,e,n,a.samplingRate)];case 2:return r=p.sent(),o=r[2],s=r[3],l=r[1],c=1/(o*s),u=[],h=jn(l),l.forEach(function(t){u.push(t/h)}),d=a,[4,hi.LogarithmicSpectrum(u,c)];case 3:return d.yData=p.sent(),a.yUnit="dB",a.xUnit="Hz",a.dataLen=null===(i=null==a?void 0:a.yData)||void 0===i?void 0:i.length,a.xInterval=c/2.56/a.dataLen,[2,a]}})})},t.prototype.GetWave=function(t,e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=!1),!(null==t?void 0:t.byteLength))return[];for(var a=0,r=new Uint8Array(t),o=Math.round((r.length-n)/2),s=new ArrayBuffer(2),l=new DataView(s),c=0,u=new Float32Array(o),h=0;h<o;h++)l.setUint8(0,r[2*h+1+n]),l.setUint8(1,r[2*h+n]),c=l.getInt16(0,Qn),u[h]=c,a+=u[h];if(i)for(var d=a/u.length,p=(h=0,u.length);h<p;h++)u[h]=(u[h]-d)*e;else{h=0;for(var f=u.length;h<f;h++)u[h]=u[h]*e}return u},t.prototype.GetObjectByteAsync=function(t){return bi(this,void 0,void 0,function(){return Ci(this,function(e){switch(e.label){case 0:return[4,mi(t)];case 1:return[2,e.sent()]}})})},t.prototype.GetDataType=function(t){var e;if(t.length>=4){var n=null!==(e=t.split(";")[3])&&void 0!==e?e:"0";return parseInt(n)}return-1},vi([On("OriginalVibWave",100)],t.prototype,"GetOriginalVibWave",null),vi([On("Spectrum",100)],t.prototype,"GetSpectrum",null),vi([On("Cepstrum",100)],t.prototype,"GetCepstrum",null),vi([On("OrderData",100)],t.prototype,"GetOrderData",null),vi([On("GetCrossPhase",50)],t.prototype,"GetCrossPhase",null),vi([On("GetTimeScales",100)],t.prototype,"GetTimeScales",null),vi([On("GetOrbit",100)],t.prototype,"GetOrbit",null),vi([On("GetLogSpectrum",100)],t.prototype,"GetLogSpectrum",null),vi([On("GetOriginalVibWaveByOtherPhases",100)],t.prototype,"GetOriginalVibWaveByOtherPhases",null),vi([On("GetSolutionAveSquareRoot",100)],t.prototype,"GetSolutionAveSquareRoot",null),vi([On("GetSolutionAveSquareRootSpectrum",100)],t.prototype,"GetSolutionAveSquareRootSpectrum",null),vi([On("GetSolutionAveSquareRootLogSpectrum",100)],t.prototype,"GetSolutionAveSquareRootLogSpectrum",null),t}(),wi=function(){return(wi=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Di=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ii=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Bi=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Ti=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),new Promise(function(i,a){var r="_WaveData_"+t+"_"+e+"_"+n,o=he.Get(r);if(o)i(o);else{var s=[];s.push($e("/OriginalVibWaveData/"+t+"/"+e+"/"+n)),Promise.all(s).then(function(e){var n=e[0].data,a=n.Path;a?$e("/oss/api/app/objectStorage/objectStream?objectName="+a,{responseType:"arraybuffer"}).then(function(e){var a=Mn.getVibDataFromStream({buffer:e.data,convertCoef:n.ConvertCoef,samplingRate:n.SamplingRate}),o=null==a?void 0:a.map(function(t){return t[1]}),s=1/n.SamplingRate*1e3;n.YData=o,n.XInterval=s,n.TimeIndexs=function(){return $e("/GetTraitDatasWithMultiType/"+t)},he.Add(r,{data:n,status:200},""),i({data:n})}).catch(function(t){i({data:wi(wi({},n),{XInterval:0,YData:[],TimeIndexs:null})})}):i({data:wi(wi({},n),{XInterval:0,YData:[],TimeIndexs:null})})}).catch(function(t){a(t)})}})},Si=function(){function t(){}return t.BatchFetchOriginalVibWave=function(e){var n=[];return e.map(function(e){n.push(t.FetchOriginalVibWave(e.WaveKey,e.start,e.dataLen))}),ne.a.all(n)},t.BatchFetchSpectrum=function(e){var n=[];return e.map(function(e){n.push(t.FetchSpectrum(e.WaveKey,e.start,e.dataLen))}),ne.a.all(n)},t.FetchSpectrum=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Di(this,void 0,void 0,function(){return Ii(this,function(i){switch(i.label){case 0:return window.WebAssembly?[4,(new xi).GetSpectrum(t,e,n,Number(Object(q.b)()))]:[3,2];case 1:return[2,{data:Kn(i.sent()),status:200,successed:!0}];case 2:return[2,$e("/Spectrum/"+t+"/"+e+"/"+n)]}})})},t.FetchSolutionAveSquareRoot=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),$e("/SolutionAveSquareRoot/"+t+"/"+e+"/"+n)},t.FetchSolutionAveSquareRootSpec=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),$e("/SolutionAveSquareRootSpectrum/"+t+"/"+e+"/"+n)},t.FetchSolutionAveSquareRootSLogSpec=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),$e("/SolutionAveSquareRootLogSpectrum/"+t+"/"+e+"/"+n)},t.BatchFetchSimilarAnalysis=function(e){var n=[];return e.map(function(e){n.push(t.FetchSimilarAnalysis(e.deviceId,e.indexcode,e.MinDate,e.MaxDate))}),ne.a.all(n)},t.BatchFetchTowerBaseTrend=function(e){var n=[];return e.map(function(e){n.push(t.FetchTowerBaseTrend(e.deviceId,e.pointID,e.indexcode,e.MinDate,e.MaxDate))}),ne.a.all(n)},t.BatchFetchSignMultivalued=function(e){var n=[];return e.map(function(e){n.push(t.FetchSignMultivalued(e.MeasdefID,e.indexcode,e.deviceId))}),ne.a.all(n)},t.BatchFetchPistonRodSubside=function(e){var n=[];return e.map(function(e){n.push(t.FetchPistonRodSubside(e.deviceId,e.pointID,e.indexcode,e.MinDate,e.MaxDate,e.AnalysisModel))}),ne.a.all(n)},t.BatchFetchImpulseNum=function(e){var n=[];return e.map(function(e){n.push(t.FetchImpulseNum(e.deviceId,e.pointID,e.indexcode,e.MinDate,e.MaxDate,e.AnalysisModel))}),ne.a.all(n)},t.BatchFetchEnvolopeWave=function(e){var n=[];return e.map(function(e){n.push(t.FetchEnvolopeWave(e.WaveKey,e.envolopeType,e.bindwidth,e.deviceId))}),ne.a.all(n)},t.BatchFetchColumnarOriginalVibWave=function(e){var n=[];return e.map(function(e){n.push(t.FetchColumnarOriginalVibWave(e.WaveKey,e.start,e.dataLen,e.deviceId,e.AnalysisModel))}),ne.a.all(n)},t.FetchCurrentVoltageAnalysisTimeIndex=function(t){var e=[];if(t.length>0)if(3===t.length)for(var n=0;n<t.length;n++)e.push($e("/ThreePhaseIndexDatasWithMultiType/"+t[n]+" "));else{for(n=0;n<2;n++)e.push($e("/ThreePhaseIndexDatasWithMultiType/"+t[n]+" "));e.push($e("/ThreePhaseIndexDatasWithMultiType/"+t[0]+","+t[1]))}return Promise.all(e)},t.FetchTwoPhaseSpectrum=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),$e("/SpectrumByOtherPhases/"+t+"/"+e+"/"+n+"/"+i)},t.FetchLogarithmSpectrum=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Di(this,void 0,void 0,function(){return Ii(this,function(i){switch(i.label){case 0:return window.WebAssembly?[4,(new xi).GetLogSpectrum(t,e,n,Number(Object(q.b)()))]:[3,2];case 1:return[2,{data:Kn(i.sent()),status:200,successed:!0}];case 2:return[2,$e("/LogSpectrum/"+t+"/"+e+"/"+n)]}})})},t.FetchTwoPhaseLogarithmSpectrum=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),$e("/LogSpectrumByOtherPhases/"+t+"/"+e+"/"+n+"/"+i)},t.BatchFetchLogarithmSpectrum=function(e){var n=[];return e.map(function(e){n.push(t.FetchLogarithmSpectrum(e.WaveKey,e.start,e.dataLen))}),ne.a.all(n)},t.BatchFetchSpectrumByType=function(t){return ne.a.all(t)},t.FetchDeviceSpeedRange=function(t){return $e("/DeviceSpeedRange/"+t)},t.UpdateDeviceSpeedRange=function(t,e){var n="";return e.forEach(function(t){n+=t.minSpeed+"-"+t.maxSpeed+";"}),$e("/DeviceSpeedRange/"+t,{method:"POST",params:{speedRange:n,body:{}}})},t.FetchSpecialFreqsTrend=function(t,e,n){var i="?CompnentID="+t+"&IndexCode="+e+"&";for(var a in n)i+=a+"="+n[a]+"&";return $e("/TransferStream/FeatureFreqDatas"+(i=i.substring(0,i.length-1)))},t.FetchVibDatasByArgs=function(t,e){var n="?";for(var i in e)n+=i+"="+e[i]+"&";return $e("/VibDatas/"+t+(n=n.substring(0,n.length-1)))},t.FetchTsDatas=function(t,e,n,i){return Di(void 0,void 0,void 0,function(){var a;return Ii(this,function(r){switch(r.label){case 0:return a="?mindate="+Object(f.r)(n)+"&maxdate="+Object(f.r)(i),[4,$e("/TSDatas/"+t+"/"+e+a)];case 1:return[2,r.sent()]}})})},t.FetchIndexData=function(t,e,n,i,a,r){return void 0===r&&(r=""),Di(void 0,void 0,void 0,function(){var o;return Ii(this,function(s){switch(s.label){case 0:return o="?mindate="+Object(f.r)(i)+"&maxdate="+Object(f.r)(a),r&&(o+="&WaveKey="+r),[4,$e("/IndexDatas/"+t+"/"+e+"/"+n+o)];case 1:return[2,s.sent()]}})})},t.FetchOrderData=function(t,e){return void 0===e&&(e=1),Di(void 0,void 0,void 0,function(){return Ii(this,function(n){switch(n.label){case 0:return[4,$e("/OrderData/"+t+"/"+e)];case 1:return[2,n.sent()]}})})},t.FetchOrderEnvolope=function(t,e,n,i,a){return void 0===a&&(a=1),Di(void 0,void 0,void 0,function(){return Ii(this,function(r){switch(r.label){case 0:return[4,$e("/OrderEnvolope/"+t+"/"+e+"/"+n+"/"+i+"/"+a)];case 1:return[2,r.sent()]}})})},t.FetchOrderTimeAvg=function(t,e,n){return void 0===n&&(n=1),Di(void 0,void 0,void 0,function(){return Ii(this,function(i){switch(i.label){case 0:return[4,$e("/OrderTimeAvg/"+t+"/"+e+"/"+n)];case 1:return[2,i.sent()]}})})},t.FetchProcessData=function(t,e,n){return Di(void 0,void 0,void 0,function(){var i;return Ii(this,function(a){switch(a.label){case 0:return i="?mindate="+Object(f.r)(e)+"&maxdate="+Object(f.r)(n),[4,$e("/ProcessDatas/"+t+"?"+i)];case 1:return[2,a.sent()]}})})},t.FetchProcessPointGroups=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,$e("/ProcessPointGroups/"+t)];case 1:return[2,e.sent()]}})})},t.FetchMultiAngleWave=function(e,n,i){return Di(void 0,void 0,void 0,function(){var a,r;return Ii(this,function(o){switch(o.label){case 0:return a=function(e){return t.FetchAngleWave(e,n,i)},r=[],e.map(function(t){r.push(a(t))}),[4,ne.a.all(r)];case 1:return[2,o.sent()]}})})},t.FetchAngleWave=function(t,e,n){return Di(void 0,void 0,void 0,function(){return Ii(this,function(i){switch(i.label){case 0:return window.WebAssembly?[4,(new xi).GetAngleWave(t,e,n,Number(Object(q.b)()))]:[3,2];case 1:return[2,{data:Kn(i.sent()),status:200,successed:!0}];case 2:return[4,$e("/AngleWave/"+t+"/"+e+"/"+n)];case 3:return[2,i.sent()]}})})},t.BatchFetch=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,ne.a.all(t)];case 1:return[2,e.sent()]}})})},t.FetchIndex=function(t,e,n,i,a){return Di(void 0,void 0,void 0,function(){var r;return Ii(this,function(o){switch(o.label){case 0:return r="?mindate="+Object(f.r)(e)+"&maxdate="+Object(f.r)(n)+"&conditionalCompetition="+(a||""),[4,$e("/IndexDatas/"+t+"/"+i+"/1"+r)];case 1:return[2,o.sent()]}})})},t.FetchTimeIndexs=function(t,e){return Di(void 0,void 0,void 0,function(){var n,i;return Ii(this,function(a){switch(a.label){case 0:return n=ie.GetQueryByDataRange(),i=[],e.map(function(e){var a="/IndexDatas/"+t+"/"+e+"/1?"+n;i.push($e(a))}),[4,ne.a.all(i)];case 1:return[2,a.sent()]}})})},t.BatchFetchIndexCfgs=function(t,e){return Di(void 0,void 0,void 0,function(){var n,i;return Ii(this,function(a){switch(a.label){case 0:return n=function(t){return $e("/IndexCfgs/"+t+"/"+e)},i=[],t.map(function(t){i.push(n(t))}),[4,ne.a.all(i)];case 1:return[2,a.sent()]}})})},t.FetchCrossPhase=function(t,e){return Di(void 0,void 0,void 0,function(){return Ii(this,function(n){switch(n.label){case 0:return[4,(new xi).GetCrossPhase(t,e,Number(Object(q.b)()))];case 1:return[2,{data:Kn(n.sent()),status:200,successed:!0}]}})})},t.FetchDynamicPoints=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,$e("/DynamicPoints/"+t)];case 1:return[2,e.sent()]}})})},t.FetchFilterMultiWave=function(t,e,n,i){return Di(void 0,void 0,void 0,function(){var a,r;return Ii(this,function(o){switch(o.label){case 0:return a=function(t){return $e("/FilterWave/"+t+"/"+e+"/"+n+"/"+i)},r=[],t.map(function(t){r.push(a(t))}),[4,ne.a.all(r)];case 1:return[2,o.sent()]}})})},t.FetchFilterWave=function(t,e,n,i){return Di(void 0,void 0,void 0,function(){return Ii(this,function(a){switch(a.label){case 0:return[4,$e("/FilterWave/"+t+"/"+e+"/"+n+"/"+i)];case 1:return[2,a.sent()]}})})},t.FetchOriginalVibWave=function(t,e,n,i){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=""),Di(void 0,void 0,void 0,function(){var a;return Ii(this,function(r){switch(r.label){case 0:return window.WebAssembly&&!1!==window.fetchBuffer?[4,(new xi).GetOriginalVibWave(t,e,n,Number(Object(q.b)()))]:[3,2];case 1:return(a=r.sent()).TimeIndexs=function(){return $e("/GetTraitDatasWithMultiType/"+t)},[2,{data:Kn(a),status:200,successed:!0}];case 2:return"0"!==Object(q.b)()||0!==e||0!==n||""!==i&&"AnalysisModel=0"!==i||!1===window.fetchBuffer?[2,$e("/OriginalVibWave/"+t+"/"+e+"/"+n+i)]:[2,Ti(t,e,n)]}})})},t.FetchVibDataDetails=function(t){return Di(void 0,void 0,void 0,function(){var e;return Ii(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,$e("/VibDataDetails/"+t)];case 1:return(e=n.sent()).data.IndexDatas=e.data.Datas,[2,e];case 2:return n.sent(),[2,null];case 3:return[2]}})})},t.FetchOrbit=function(t,e,n,i,a,r){var o=[];return t.map(function(t){o.push(function(t){return $e("/Orbit/"+t+"/"+e+"/"+n+"/"+i,{params:{lowFreq:a||0,highFreq:r||0}})}(t))}),ne.a.all(o)},t.FetchAmpPhases=function(t,e,n,i,a,r){var o="";return i&&(o="?mindate="+Object(f.r)(i)+"&maxdate="+Object(f.r)(a)),r&&(o+=""==o?"?pointid="+r:"&pointid="+r),$e("/AmpPhases/"+t+"/"+e+"/"+n+o)},t.FetchVibDatas=function(t,e){var n="";return e&&e.map(function(t,e){var i="";0!=e&&(i=" or "),n+=i+"DataType="+t}),$e("/VibDatas/"+t+"?filter="+n+(e?"&dataType="+e.join(","):""))},t.FetchPolarCoordinates=function(t,e,n){return void 0===n&&(n=1),new Promise(function(i,a){$e("/AmpPhases/"+t+"/"+n+"/"+e).then(function(t){i(t)}).catch(function(t){a(t)})})},t.FetchSections=function(t){return new Promise(function(e,n){$e("/Sections/"+t).then(function(t){e(t)}).catch(function(t){n(t)})})},t.FetchEnvelope=function(t,e,n,i,a,r,o){return void 0===a&&(a=3),void 0===r&&(r=0),void 0===o&&(o=0),new Promise(function(e,s){$e("/Envolope/"+t+"/"+r+"/"+o+"/"+n+"/"+i+"/"+a).then(function(t){e(t)}).catch(function(t){s(t)})})},t.FetchCHTemperatures=function(t,e,n){return new Promise(function(i,a){var r=ie.GetTempQuery();e&&n&&(r="&mindate="+e+"&maxdate="+n),$e("/CHTemperatures/"+t+"?"+r).then(function(t){i(t)}).catch(function(t){a(t)})})},t.FetchCHLogs=function(t){return new Promise(function(e,n){var i=ie.GetTempQuery();$e("/CHLogs/"+t+"?DateAsc=0"+i).then(function(t){e(t)}).catch(function(t){n(t)})})},t.FetchBiasVoltages=function(t){return $e("/BiasVoltages/"+t)},t.FetchStopIndex=function(t,e,n){return $e("/IndexDatas/"+n+"/"+e+"/1?WaveKey="+t)},t.FetchTrendData=function(t,e,n,i){var a=Bi(Bi(Bi([],tn.d),tn.g),tn.i),r=[4,5,6,7,8,9];return new Promise(function(o,s){var l="",c="";a.indexOf(e)>=0?(l=n?"/IndexDatas/"+t+"/"+n+"/1":"/VibDatas/"+t,c=ie.GetQueryByDataRange()):r.indexOf(e)>=0?(l="/ProcessDatas/"+t,c=ie.GetTempQuery()):o({}),l&&$e(l+"?"+c+(i?"&conditionalCompetition="+i:"")).then(function(t){null==t.data&&(t.data={IndexDatas:[]}),t.data&&(t.data.Datas||t.data.datas)?t.data.IndexDatas=t.data.Datas||t.data.datas:(t.data||(t.data={}),t.data.IndexDatas=[]),o(t)}).catch(function(t){s(t)})})},t.FetchDataTrend=function(t,e,n,i){var a=e.limit||0,r=e.maxdate,o=e.mindate,s=e.dateasc;$e("/TrendDatas/"+t+"/"+e.param+"?limit="+a+"&maxdate="+r+"&mindate="+o+"&dateasc="+s).then(function(t){n&&n(t)}).catch(function(t){return i&&i(t)})},t.FetchDataTrendByQuery=function(t,e,n,i){var a=e.query;$e("/TrendDatas/"+t+"/"+e.param+"?&dataeasc=1"+a).then(function(t){n&&n(t)}).catch(function(t){return i&&i(t)})},t.FetchDataWaveform=function(e,n,i,a,r){void 0===n&&(n=0);var o=0,s="/OriginalVibWave/"+e+"/0/0";r&&3==r&&(o=2),n&&(o=n),1==o?s="/Spectrum/"+e+"/0/0":8==o&&(s="/Cepstrum/"+e+"/0/0"),s.indexOf("OriginalVibWave")>=0?t.FetchOriginalVibWave(e,0,length).then(function(t){i&&i(t)}):s.indexOf("Spectrum")>=0?t.FetchSpectrum(e,0,length).then(function(t){i&&i(t)}):$e(s).then(function(t){t&&t.data&&t.data.MeasDate&&(t.data.MeasDate=Object(f.r)(t.data.MeasDate)),i&&i(t)}).catch(function(t){return a&&a(t)})},t.FetchDataSpec=function(t){var e=t.WaveKey,n=t.data,i=void 0===n?{start:0,length:0}:n,a=t.successCallBack,r=t.errorCallback;$e("/Spectrum/"+e+"/"+i.start+"/"+i.length).then(function(t){t&&t.data&&t.data.MeasDate&&(t.data.MeasDate=Object(f.r)(t.data.MeasDate)),a&&a(t)}).catch(function(t){return r&&r(t)})},t.FetchDynamicPoints1=function(t,e,n,i){$e("/TransferStream/FeatureFreqDatas").then(function(t){t&&t.data&&t.data.MeasDate&&(t.data.MeasDate=Object(f.r)(t.data.MeasDate)),n&&n(t)}).catch(function(t){return i&&i(t)})},t.FetchDataCepstrum=function(t,e,n){window.WebAssembly?(new xi).GetCepstrum(t,0,0,Number(Object(q.b)())).then(function(t){var n={data:Kn(t),status:200,successed:!0};n&&n.data&&n.data.MeasDate&&(n.data.MeasDate=Object(f.r)(n.data.MeasDate),e&&e(n))}):$e("/Cepstrum/"+t+"/0/0").then(function(t){t&&t.data&&t.data.MeasDate&&(t.data.MeasDate=Object(f.r)(t.data.MeasDate)),e&&e(t)}).catch(function(t){return n&&n(t)})},t.FetchWaveform=function(e,n,i){var a=function(e){return t.FetchOriginalVibWave(e,0,length)},r=[];e.map(function(t){r.push(a(t))}),ne.a.all(r).then(function(t){n&&n(t)}).catch(function(t){i&&i(t)})},t.FetchAxisTrajectoryTrend=function(e,n,i){var a="mindate="+i.startTime+"&maxdate="+i.endTime;if("1"===n){var r=[];return e.map(function(t){r.push(function(t){return $e("/VibDatas/"+t+"/?dataeasc=1&"+a)}(t))}),ne.a.all(r)}var o=[];return e.map(function(e){o.push(t.FetchIndexData(e,"2029",1,i.startTime,i.endTime))}),ne.a.all(o)},t.FetchVibMultipleTrend=function(t,e,n,i,a){a||(a=ie.GetQueryByDataRange());var r=[];t.map(function(t){r.push(function(t){return $e("/VibDatas/"+t+"/?&dataeasc=1"+a)}(t))}),ne.a.all(r).then(function(t){e&&e(t)}).catch(function(t){n&&n(t)})},t.FetchFeatureValueCfgs=function(t){return $e("/FeatureValueCfgs/"+t)},t.FetchIndexDatas=function(t,e,n,i){var a=new st(500);return new Promise(function(r,o){a.Open();var s="?mindate="+Object(f.r)(e)+"&maxdate="+Object(f.r)(n),l=[];t.map(function(t){l.push(function(t){return $e("/IndexDatas/"+t+"/"+i+"/1"+s)}(t))}),ne.a.all(l).then(function(t){r(t),a.close()}).catch(function(t){o(t),a.close()})})},t.GetFreqTrend=function(t,e){var n=e;if(Object(f.z)()&&e){n="";for(var i=e.split(","),a=0;a<i.length;a++){var r=i[a].split("-");n+=Math.round(Number(r[0])/60*1e3)/1e3+"-"+Math.round(Number(r[1])/60*1e3)/1e3+" ",a!=i.length-1&&(n+=",")}}return new Promise(function(i,a){$e("/FreqTrend/"+t+"/"+n).then(function(t){try{for(var n=0;n<t.data.length;n++)t.data[n].TrendName=e}catch(t){}i(t)}).catch(function(t){return a(t)})})},t.GetEnvolopeFreqTrend=function(t,e,n,i,a){var r=e;if(Object(f.z)()&&e){n=Math.round(Number(n)/60*1e3)/1e3,i=Math.round(Number(i)/60*1e3)/1e3,r="";for(var o=e.split(","),s=0;s<o.length;s++){var l=o[s].split("-");r+=Math.round(Number(l[0])/60*1e3)/1e3+"-"+Math.round(Number(l[1])/60*1e3)/1e3,s!=o.length-1&&(r+=",")}}return new Promise(function(o,s){$e("/EnvolopeFreqTrend/"+t+"/"+r+"/"+n+"/"+i+"/"+a).then(function(t){try{for(var n=0;n<t.data.length;n++)t.data[n].TrendName=e}catch(t){}o(t)}).catch(function(t){return s(t)})})},t.FetchAllData=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return t?[4,$e("/FeatureFreqTree/"+t+" ")]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}})})},t.FetchTableAllData=function(t,e){return void 0===e&&(e=""),Di(void 0,void 0,void 0,function(){return Ii(this,function(n){switch(n.label){case 0:return t?[4,$e("/TransferStream/FeatureFreqTree"+e)]:[3,2];case 1:return[2,n.sent()];case 2:return[2]}})})},t.FetchSimilarAnalysis=function(t,e,n,i){return $e("/TransferStream/SimilarityTrend?&deviceId="+t+"&indexcode="+e+"&MinDate="+n+"&MaxDate="+i)},t.FetchModalAnalysis=function(t,e,n,i){return $e("/TransferStream/ModalityData?&deviceId="+t+"&PointID="+e+"&minDate="+n+"&maxDate="+i+" ")},t.FetchTowerBaseTrend=function(t,e,n,i,a){return $e("/TransferStream/TimeIndexData?pointID="+e+"&indexcode="+n+"&MinDate="+i+"&MaxDate="+a)},t.FetchIndexTrendName=function(t){return $e("/IndexCfgs/"+t+"/4")},t.FetchTowerTubeIndexTrendName=function(t){return $e("/TransferStream/TowerIndexCfgs")},t.FetchTowerTubeWavekey=function(t){return $e("/TransferStream/TowerWavekey?wavekey="+t)},t.FetchTowerSections=function(t,e,n,i){return $e("/TransferStream/TowerSections?pointID="+e+"&MinDate="+n+"&MaxDate="+i)},t.FetchTowerTrend=function(t,e,n){return $e("/TransferStream/TowerTrend/"+t+"?MinDate="+e+"&MaxDate="+n)},t.FetchTowerWave=function(t,e,n){return $e("/TowerWave/"+e+"_"+n+"/"+t+"?pointID="+e+"&wavekey="+n)},t.FetchSignMultivalued=function(t,e,n){return $e("/TransferStream/SignMultivalued?MeasdefID="+t+"&IndexCode="+e+"&deviceId="+n)},t.FetchNewDynamicPoints=function(t,e){return Di(void 0,void 0,void 0,function(){return Ii(this,function(n){switch(n.label){case 0:return[4,$e("/TransferStream/DynamicAsset?deviceId="+t+"&IndexCode="+e)];case 1:return[2,n.sent()]}})})},t.FetchConfigs=function(){return Di(void 0,void 0,void 0,function(){return Ii(this,function(t){switch(t.label){case 0:return[4,$e("/TransferStream/IsShowOneLoopData",{timeout:5e3})];case 1:return[2,t.sent()]}})})},t.FetchPistonRodSubside=function(t,e,n,i,a,r){return $e("/IndexDatas/"+e+"/"+n+"/1?mindate="+i+"&maxdate="+a+"&deviceId="+t+"&AnalysisModel="+r)},t.FetchPistonSpec=function(t,e,n,i,a){return void 0===n&&(n=0),$e("/Spectrum/"+t+"/"+e+"/"+n+"?&deviceId="+i+"&AnalysisModel="+a)},t.FetchSampleValue=function(t,e,n,i,a){return $e("/VibDatas/"+e+"?&deviceId="+t+"&AnalysisModel="+a+"&mindate="+n+"&maxdate="+i)},t.FetchImpulseNum=function(t,e,n,i,a,r){return $e("/IndexDatas/"+e+"/"+n+"/1?mindate="+i+"&maxdate="+a+"&deviceId="+t+"&AnalysisModel="+r)},t.FetchEnvolopeWave=function(t,e,n,i){return $e("/EnvolopeWave/"+t+"/"+e+"/"+n+"?&deviceId="+i+"&AnalysisModel=1")},t.FetchEnvolopeSpec=function(t,e,n,i,a,r){return $e("/EnvolopeSpec/"+t+"/"+e+"/"+n+"/"+i+"/"+a+"?&deviceId="+r+"&AnalysisModel=1")},t.ConversionWave=function(t,e,n,i){return Di(void 0,void 0,void 0,function(){return Ii(this,function(a){switch(a.label){case 0:return window.WebAssembly?[4,(new xi).GetConversionWave(t,e,n,i)]:[3,2];case 1:return[2,{data:Kn(a.sent()),status:200,successed:!0}];case 2:return[2,$e("/ConversionWave/"+t+"/"+e+"/"+n+"/"+i)]}})})},t.FetchColumnarOriginalVibWave=function(t,e,n,i,a){return void 0===e&&(e=0),void 0===n&&(n=0),Di(void 0,void 0,void 0,function(){var r;return Ii(this,function(o){switch(o.label){case 0:return window.WebAssembly?[4,(new xi).GetOriginalVibWave(t,e,n,a)]:[3,2];case 1:return(r=o.sent()).TimeIndexs=function(){return $e("/GetTraitDatasWithMultiType/"+t)},[2,{data:Kn(r),status:200,successed:!0}];case 2:return[2,$e("/OriginalVibWave/"+t+"/"+e+"/"+n+"?&deviceId="+i+"&AnalysisModel="+a)]}})})},t.FetchVibDatasSpec=function(t,e,n,i){return $e("/EnvolopeColumSpec/"+t+"/"+e+"/"+n+"?&deviceId="+i+"&AnalysisModel=1")},t.FetchCombineData=function(t,e,n,i){return $e("/EnvolopeWave/"+t+"/"+e+"?&deviceId="+n+"&AnalysisModel="+i)},t.FetchHighFreMeasdefID=function(t,e){return $e("/TransferStream/HighFreMeasdefID?pointID="+t+"&deviceId="+e)},t.FetchOilParticlesTrend=function(t){return $e("/TransferStream/GetOilParticleData?&MeasdefId="+t.pointID+"&MinDate="+t.MinDate+"&MaxDate="+t.MaxDate+"&GranulesSize="+t.GranulesSize+"&GranulesType="+t.GranulesType)},t.ResetOilParticlesDate=function(t){return $e("/TransferStream/ClearOilParticle?&MeasdefId="+t)},t.FetchDailyOilParticlesTrend=function(t){return $e("/TransferStream/GetOilParticleDataByDay?&MeasdefId="+t.pointID+"&MinDate="+t.MinDate+"&MaxDate="+t.MaxDate+"&GranulesSize="+t.GranulesSize+"&GranulesType="+t.GranulesType)},t.FetchOilParticleStaticData=function(t){return $e("/TransferStream/GetOilParticleStaticData?&MeasdefId="+t.pointID+"&MinDate="+t.MinDate+"&MaxDate="+t.MaxDate+"&GranulesSize="+t.GranulesSize+"&GranulesType="+t.GranulesType)},t.FetchCurrentHarmonicDistortionData=function(t,e,n,i,a,r){void 0===i&&(i=0),$e("/HarmonicDistortion/"+t+"/0/0/"+n+"?deviceId="+e+"&AnalysisModel="+i).then(function(t){t&&t.data&&t.data.MeasDate&&(t.data.MeasDate=Object(f.r)(t.data.MeasDate)),a&&a(t)}).catch(function(t){return r&&r(t)})},t.FetchTwoPhaseOriginalVibWave=function(t,e,n,i,a){return void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=""),$e("/OriginalVibWaveByOtherPhases/"+t+"/"+e+"/"+n+"/"+i+a)},t.FetchElectricPointsGroup=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,$e("/GetElectricPointGroupsByDevice/"+t)];case 1:return[2,e.sent()]}})})},t.FetchDeviceWorkSpec=function(t){return $e("/GetJsonSchemaData/"+t)},t.FetchDataLogSpectrum=function(e){var n=e.WaveKey,i=e.data,a=void 0===i?{start:0,length:0}:i,r=e.successCallBack,o=e.errorCallback;t.FetchLogarithmSpectrum(n,a.start,a.length).then(function(t){t&&t.data&&t.data.MeasDate&&(t.data.MeasDate=Object(f.r)(t.data.MeasDate)),r&&r(t)}).catch(function(t){return o&&o(t)})},t.BatchFetchEdgeComputingIndexCfgs=function(t){return Di(void 0,void 0,void 0,function(){var e,n,i,a,r,o,s;return Ii(this,function(l){switch(l.label){case 0:return e=t.pointIds,n=t.indexType,i=t.deviceId,a=t.industryType,r=t.alarmId,o=t.startTime,s=t.endTime,[4,$e("/EdgeComputingIndexCfgs",{method:"POST",body:{AssectIds:e,IndexType:n,DeviceId:i,IndustryType:a,AlarmId:r,StartTime:o,EndTime:s}})];case 1:return[2,l.sent()]}})})},t.GetAlarmPoints=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,$e("/alarm/api/app/alarm/alarmPointsByDeviceId",{method:"GET",params:t})];case 1:return[2,e.sent()]}})})},t.FetchIndexDetailsInfo=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,$e("/IndexDetailsInfo/"+t)];case 1:return[2,e.sent()]}})})},t.GetDeviceWorkingCondition=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,$e("/basic/api/app/workingCondition/deviceWorkingCondition/"+t.assetId,{method:"GET"})];case 1:return[2,e.sent()]}})})},t.GetDeviceParaCollectCondition=function(t){return Di(void 0,void 0,void 0,function(){return Ii(this,function(e){switch(e.label){case 0:return[4,$e("/basic/api/app/workingCondition/paraCollectCondition/"+t.assetId,{method:"GET"})];case 1:return[2,e.sent()]}})})},t.FetchFilterIndexData=function(t,e,n,i,a,r){return void 0===r&&(r=""),Di(void 0,void 0,void 0,function(){var o;return Ii(this,function(s){switch(s.label){case 0:return o="?mindate="+Object(f.r)(i)+"&maxdate="+Object(f.r)(a),r&&(o+="&WaveKey="+r),[4,$e("/IndexDatas/"+t+"/"+e+"/"+n+o)];case 1:return[2,s.sent()]}})})},t}(),Mi=function(){function t(t,e,n,i,a,r,o,s,l,c){var u=this;if(this.Reset=function(){try{u.chart.chart.hchartInstance.destroy()}catch(t){}},this.pointData=[],this.ResizeChart=function(){u.chart.Resize()},this.render=function(t,e){if(u.Reset(),u.pointData){t||(t=u.stime),e||(e=u.etime),u.stime=t,u.etime=e;var n=[];u.pointData.map(function(t){n.push(t.id)}),Si.FetchIndexDatas(n,t,e,270).then(function(t){if(t&&t.length&&t.length>=2&&t[0].data&&t[1].data&&t[0].data.Datas&&t[1].data.Datas&&t[0].data.Datas.length>0&&t[1].data.Datas.length>0){var e=[],n=t[0].data.Datas,i=t[1].data.Datas;n.length,i.length;for(var a=void 0,r=void 0,o=0,s=n.length;o<s;o++)if(a=n[o],r=i[o],a&&r&&a.MeasDate-r.MeasDate==0)e.push([a.MeasValue-u.pointData[0].DisWithSensor,r.MeasValue-u.pointData[1].DisWithSensor,Object(f.r)(a.MeasDate)]);else if(o<n.length/2)for(var l=0,c=i.length;l<c;l++){if(a.MeasDate==i[l].MeasDate){e.push([a.MeasValue-u.pointData[0].DisWithSensor,i[l].MeasValue-u.pointData[1].DisWithSensor,Object(f.r)(a.MeasDate)]);break}if(l<i.length-1&&new Date(a.MeasDate)<new Date(i[l+1].MeasDate))break}else for(l=i.length-1;l>=0;l--){if(a.MeasDate==i[l].MeasDate){e.push([a.MeasValue-u.pointData[0].DisWithSensor,i[l].MeasValue-u.pointData[1].DisWithSensor,Object(f.r)(a.MeasDate)]);break}if(l>0&&new Date(a.MeasDate)>new Date(i[l-1].MeasDate))break}u.chart.render(e,t[0].data.Unit,t[1].data.Unit)}}).catch(function(t){})}},this.InitChart=function(){var t=new te(L(u.element)[0],u.name,u.xAngle,u.yAngle,u.Direction,null,null,!0,u.BearingBushCoef);u.chart=t},!t)throw"ele is null";if(this.pointData=i,this.name=e,this.xAngle=a,this.yAngle=r,this.sectionId=n,this.BearingBushCoef=o,this.Direction=s,this.stime=l,this.etime=c,Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}this.id=Object(f.y)(),this.InitChart(),this.render()}return t.prototype.Dispose=function(){try{this.chart.Dispose(),L(this.element).unbind(),L(this.element).remove(),this.chart=null,this.element=null,this.pointData=null}catch(t){}},t}(),Ei=(n(135),n(122)),ki=n.n(Ei),Fi="undefined"!=typeof window?window:null,Oi=null===Fi,Li=Oi?void 0:Fi.document,Ui="addEventListener",Pi="removeEventListener",Ri="getBoundingClientRect",Hi="_a",Qi="_b",_i="_c",Ni="horizontal",ji=function(){return!1},Yi=Oi?"calc":"".concat(["","-webkit-","-moz-","-o-"].filter(function(t){var e=Li.createElement("div");return e.style.cssText="width:".concat(t,"calc(9px)"),!!e.style.length}).shift(),"calc"),zi=function(t){return"string"==typeof t||t instanceof String},Gi=function(t){if(zi(t)){var e=Li.querySelector(t);if(!e)throw new Error("Selector ".concat(t," did not match a DOM element"));return e}return t},Vi=function(t,e,n){var i=t[e];return void 0!==i?i:n},Ki=function(t,e,n,i){if(e){if("end"===i)return 0;if("center"===i)return t/2}else if(n){if("start"===i)return 0;if("center"===i)return t/2}return t},Wi=function(t,e){var n=Li.createElement("div");return n.className="gutter gutter-".concat(e),n},Xi=function(t,e,n){var i={};return zi(e)?i[t]=e:i[t]="".concat(Yi,"(").concat(e,"% - ").concat(n,"px)"),i},qi=function(t,e){return ki()({},t,"".concat(e,"px"))},Ji=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Oi)return{};var n,i,a,r,o,s,l=t;Array.from&&(l=Array.from(l));var c=Gi(l[0]).parentNode,u=getComputedStyle?getComputedStyle(c):null,h=u?u.flexDirection:null,d=Vi(e,"sizes")||l.map(function(){return 100/l.length}),p=Vi(e,"minSize",100),f=Array.isArray(p)?p:l.map(function(){return p}),A=Vi(e,"expandToMin",!1),m=Vi(e,"gutterSize",10),y=Vi(e,"gutterAlign","center"),g=Vi(e,"snapOffset",30),v=Vi(e,"dragInterval",1),b=Vi(e,"direction",Ni),C=Vi(e,"cursor",b===Ni?"col-resize":"row-resize"),x=Vi(e,"gutter",Wi),w=Vi(e,"elementStyle",Xi),D=Vi(e,"gutterStyle",qi);function I(t,e,i,a){var r=w(n,e,i,a);Object.keys(r).forEach(function(e){t.style[e]=r[e]})}function B(t,e,i){var a=D(n,e,i);Object.keys(a).forEach(function(e){t.style[e]=a[e]})}function T(){return s.map(function(t){return t.size})}function S(t){return"touches"in t?t.touches[0][i]:t[i]}function M(t){var e=s[this.a],n=s[this.b],i=e.size+n.size;e.size=t/this.size*i,n.size=i-t/this.size*i,I(e.element,e.size,this[Qi],e.i),I(n.element,n.size,this[_i],n.i)}function E(){var t=s[this.a].element,e=s[this.b].element,i=t[Ri](),o=e[Ri]();this.size=i[n]+o[n]+this[Qi]+this[_i],this.start=i[a],this.end=i[r]}function k(t){var e=function(t){if(!getComputedStyle)return null;var e=getComputedStyle(t);if(!e)return null;var n=t[o];return 0===n?null:n-=b===Ni?parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)}(c);if(null===e)return t;if(f.reduce(function(t,e){return t+e},0)>e)return t;var n=0,i=[],a=t.map(function(a,r){var o=e*a/100,s=Ki(m,0===r,r===t.length-1,y),l=f[r]+s;return o<l?(n+=l-o,i.push(0),l):(i.push(o-l),o)});return 0===n?t:a.map(function(t,a){var r=t;if(n>0&&i[a]-n>0){var o=Math.min(n,i[a]-n);n-=o,r=t-o}return r/e*100})}function F(t){if(!("button"in t&&0!==t.button)){var n=s[this.a].element,i=s[this.b].element;this.dragging||Vi(e,"onDragStart",ji)(T()),t.preventDefault(),this.dragging=!0,this.move=function(t){var n,i=s[this.a],a=s[this.b];this.dragging&&(n=S(t)-this.start+(this[Qi]-this.dragOffset),v>1&&(n=Math.round(n/v)*v),n<=i.minSize+g+this[Qi]?n=i.minSize+this[Qi]:n>=this.size-(a.minSize+g+this[_i])&&(n=this.size-(a.minSize+this[_i])),M.call(this,n),Vi(e,"onDrag",ji)(T()))}.bind(this),this.stop=function(){var t=s[this.a].element,n=s[this.b].element;this.dragging&&Vi(e,"onDragEnd",ji)(T()),this.dragging=!1,Fi[Pi]("mouseup",this.stop),Fi[Pi]("touchend",this.stop),Fi[Pi]("touchcancel",this.stop),Fi[Pi]("mousemove",this.move),Fi[Pi]("touchmove",this.move),this.stop=null,this.move=null,t[Pi]("selectstart",ji),t[Pi]("dragstart",ji),n[Pi]("selectstart",ji),n[Pi]("dragstart",ji),t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",this.gutter.style.cursor="",this.parent.style.cursor="",Li.body.style.cursor=""}.bind(this),Fi[Ui]("mouseup",this.stop),Fi[Ui]("touchend",this.stop),Fi[Ui]("touchcancel",this.stop),Fi[Ui]("mousemove",this.move),Fi[Ui]("touchmove",this.move),n[Ui]("selectstart",ji),n[Ui]("dragstart",ji),i[Ui]("selectstart",ji),i[Ui]("dragstart",ji),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",this.gutter.style.cursor=C,this.parent.style.cursor=C,Li.body.style.cursor=C,E.call(this),this.dragOffset=S(t)-this.end}}b===Ni?(n="width",i="clientX",a="left",r="right",o="clientWidth"):"vertical"===b&&(n="height",i="clientY",a="top",r="bottom",o="clientHeight"),d=k(d);var O=[];function L(t){var e=t.i===O.length,n=e?O[t.i-1]:O[t.i];E.call(n);var i=e?n.size-t.minSize-n[_i]:t.minSize+n[Qi];M.call(n,i)}return(s=l.map(function(t,e){var n,i={element:Gi(t),size:d[e],minSize:f[e],i:e};if(e>0&&((n={a:e-1,b:e,dragging:!1,direction:b,parent:c})[Qi]=Ki(m,e-1==0,!1,y),n[_i]=Ki(m,!1,e===l.length-1,y),"row-reverse"===h||"column-reverse"===h)){var a=n.a;n.a=n.b,n.b=a}if(e>0){var r=x(e,b,i.element);B(r,m,e),n[Hi]=F.bind(n),r[Ui]("mousedown",n[Hi]),r[Ui]("touchstart",n[Hi]),c.insertBefore(r,i.element),n.gutter=r}return I(i.element,i.size,Ki(m,0===e,e===l.length-1,y),e),e>0&&O.push(n),i})).forEach(function(t){var e=t.element[Ri]()[n];e<t.minSize&&(A?L(t):t.minSize=e)}),{setSizes:function(t){var e=k(t);e.forEach(function(t,n){if(n>0){var i=O[n-1],a=s[i.a],r=s[i.b];a.size=e[n-1],r.size=t,I(a.element,a.size,i[Qi],a.i),I(r.element,r.size,i[_i],r.i)}})},getSizes:T,collapse:function(t){L(s[t])},destroy:function(t,e){O.forEach(function(i){if(!0!==e?i.parent.removeChild(i.gutter):(i.gutter[Pi]("mousedown",i[Hi]),i.gutter[Pi]("touchstart",i[Hi])),!0!==t){var a=w(n,i.a.size,i[Qi]);Object.keys(a).forEach(function(t){s[i.a].element.style[t]="",s[i.b].element.style[t]=""})}})},parent:c,pairs:O}},Zi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$i=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.onWhenHidden=function(){},i.Resize=function(){i.chartList&&i.chartList.map(function(t){t.ResizeChart()})},i.chartList=[],i.InitLayout=function(){L(i.element).append('<div style="height:100%;"><div id="left'+i.id+"\" class='rzAxisPanelParent'>\n\n\t\t\t\t</div><div id='right"+i.id+'\' style="float:left;height:100%;overflow:hidden"></div></div>');var t=L(i.element).height();i.layout=Ji(["#left"+i.id,"#right"+i.id],{gutterSize:5,sizes:[100-100/t*100,100/t*100],onDragEnd:function(){i.chartList.map(function(t){return t.ResizeChart()})}})},i.Reset=function(){L("#left"+i.id).html(""),i.CheckedSection=[],i.chartList.map(function(t){t.Dispose()}),i.chartList=[],i.SectionData=[],i.CheckedSection=[],i.UpdateSection()},i.onAssetChange=function(){i.lastDeviceId!==i.deviceId&&(i.Reset(),i.lastDeviceId=i.deviceId,i.deviceId&&i.FetchSectionData())},i.FetchSectionData=function(){i.Reset();var t=i;Si.FetchSections(i.deviceId).then(function(e){e&&e.data&&e.data.length>0&&(e.data.map(function(e){try{e.XPoint&&e.YPoint&&t.SectionData.push({id:e.ID,BearingBushCoef:e.BearingBushCoef,Direction:e.Direction,name:e.SectionName,xAngle:e.XPoint.Angle,yAngle:e.YPoint.Angle,point:[{DisWithSensor:e.XPoint.DisWithSensor||0,id:e.XPoint.MeasDefs[0].ID,name:e.XPoint.NodeName},{DisWithSensor:e.YPoint.DisWithSensor||0,id:e.YPoint.MeasDefs[0].ID,name:e.YPoint.NodeName}]})}catch(t){}}),t.UpdateSection())}).catch(function(t){})},i.SectionData=[],i.UpdateSection=function(){L("#jiemian"+i.id+" .layui-form-item").html("");var t="";i.SectionData&&i.SectionData.length>0?i.SectionData.map(function(e){t+='<input type="checkbox" name="ckSection-'+e.id+'" lay-skin="primary" title="'+e.name+"\" value='"+e.id+"'>"}):t+="<span>"+M.$t("leftbar.title.nosection")+"</span>",L("#jiemian"+i.id+" .layui-form-item").html(t),O.form.render()},i.InitRight=function(){L("#right"+i.id).append('\n\t\t<div class="layui-form" id=\'fromAxis\' action="" style="text-align:center;">\n\t\t<fieldset class="layui-elem-field">\n\t<legend>'+M.$t("leftbar.title.section")+'</legend>\n\t\t<div id="jiemian'+i.id+'" style="text-align:left;margin-left:10px;max-height:300px;overflow-y:auto;">\n\t\t\t<div class="layui-form-item">\t\t\t\n\t\t</div>\n\n\t</div>\n\t</fieldset>\n\t \n\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t</div>\n\t<div class=\"layui-form-item\" style=\"padding-left:20px;\"> \n\t<input type='text' class='layui-input' name='AxisCenterStime' id='AxisCenterStime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="width:130px;height:28px;" />\n\t</div>\n<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n<label>'+M.$t("leftbar.form.endtime")+"</label>\n</div>\n<div class=\"layui-form-item\" style=\"padding-left:20px;\"> \n<input type='text' class='layui-input' name='AxisCenterEtime' id='AxisCenterEtime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="width:130px;height:28px;" />\n</div>\n\t<hr />\n\t<div class="layui-form-item" >\n      <button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnAxis'+i.id+'">'+M.$t("btn.ok")+"</button>\n  </div>\n\t\t</div>");var t=O.form;t.render(),ie.renderDateTime("AxisCenterStime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("AxisCenterEtime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var e=i;t.on("submit(btnAxis"+i.id+")",function(t){if(new Date(t.field.AxisCenterStime)>new Date(t.field.AxisCenterEtime))return O.layer.msg(M.$t("tip.error.time")),!1;try{var n=[];Object.keys(t.field).map(function(e){e.indexOf("ckSection")>=0&&n.push(t.field[e])}),e.DiffSectionData(n),e.AddPanel(n,t.field.AxisCenterStime,t.field.AxisCenterEtime)}catch(t){}return!1})},i.DiffSectionData=function(t){var e=i;i.CheckedSection&&i.CheckedSection.map(function(n){if(t.indexOf(n)<0)i.chartList.filter(function(t){return t.sectionId==n})[0].Dispose(),i.chartList=i.chartList.filter(function(t){return t.sectionId!=n}),L("#Section"+n+e.id).remove();else if(L("#Section"+n+e.id).hasClass("rzAxisPanelMax")){L("#Section"+n+e.id).removeClass("rzAxisPanelMax"),i.chartList.filter(function(t){return t.sectionId==n})[0].ResizeChart();var a=L("#Section"+(n+e.id)).find("div[id^='btnZoomPanel']");a.attr("title",M.$t("headbar.title.maxsize")),a.removeClass("rzBtnMinSize"),a.addClass("rzBtnMaxSize"),L("#Section"+(n+e.id)).css("position","relative")}else L("#Section"+n+e.id).show()})},i.AddPanel=function(t,e,n){i.CheckedSection=t;var a="rzAxisPanel";t&&1==t.length&&(a="rzAxisPanel rzAxisPanelMax");var r=i;if(t.map(function(t){if(0==L("#Section"+(t+r.id)).length){L("#left"+r.id).append("<div id='Section"+(t+r.id)+"' class='"+a+'\' style=""></div>');var o=i.SectionData.filter(function(e){return e.id==t})[0],s=new Mi("Section"+(t+r.id),o.name,o.id,o.point,o.xAngle,o.yAngle,o.BearingBushCoef,o.Direction,e,n);i.chartList.push(s)}else{L("#Section"+(t+r.id)).removeClass("rzAxisFullPanel"),i.chartList.filter(function(e){return e.sectionId==t})[0].render(e,n)}}),t&&1==t.length){var o=t[0];L("#Section"+(o+r.id)).attr("class",a);var s=L("#Section"+(o+r.id)).find("div[id^='btnZoomPanel']");s.attr("title",M.$t("headbar.title.resize")),s.addClass("rzBtnMinSize"),r.chartList.filter(function(t){return t.sectionId==o})[0].ResizeChart()}t&&2==t.length&&t&&t.map(function(t){L("#Section"+(t+r.id)).addClass("rzAxisFullPanel")})},i.InitLayout(),i.InitRight(),i.UpdateSection(),i.chartName="AxisCenter",i}return Zi(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.CheckedSection=null,this.chartList.map(function(t){t.Dispose()}),this.chartList=null,L(this.element).remove(),L(this.element).unbind(),this.element=null}catch(t){}},e}(J),ta=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ea=function(){return(ea=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},na=function(t){function e(e,n,i,a){void 0===n&&(n=Yt.First),void 0===i&&(i=null),void 0===a&&(a=null);var r=t.call(this,e,n,i)||this;return r.BearingBushCoef=null,r.convertXToIndex=function(t,e){void 0===e&&(e=0),r.selectedYIndex=0;try{for(var n=Number.MAX_SAFE_INTEGER,i=0,a=0,o=0;o<r.data.length;o++)for(var s=0,l=r.data[o].length;s<l;s++){var c=r.data[o][s][0]-t,u=r.data[o][s][1]-e,h=c*c+u*u;n>h&&(n=h,i=s,a=o)}return r.selectedYIndex=a,r.selectedXIndex=i,[r.selectedXIndex,r.data[r.selectedYIndex][r.selectedXIndex]]}catch(t){return null}},r.RemoveGroup=function(t){r.hchartHelper.RemoveGroup(t)},r.AddTurnImage=function(t,e,n,i,a,o){r.hchartHelper.AddTurnImage(t,e,n,i,a,o)},r.AddAngleLabel=function(t,e,n,i){r.hchartHelper.AddAngleLabel(t,e,n,i)},r.GetBaseOptions=function(t){for(var e=r,n=[],i=0;i<r.data.length;i++)n.push({turboThreshold:0,animation:!1,allowPointSelect:!1,enableMouseTracking:!1,name:"",color:"rgb(124, 181, 236)",data:r.data[i],marker:{enabled:!1},lineWidth:1});return ea({allowMove:!1,title:{text:"",floating:!0},exporting:{url:"//export.highcharts.com.cn"},navigation:{buttonOptions:{enabled:!1}},annotations:[{id:"remarklabel",labelOptions:{shape:"connector",align:"right",justify:!1,crop:!0,style:{fontSize:"0.8em",textOutline:"1px white"}},labels:[]},{draggable:"",id:"checkedTooltip",labelOptions:{crop:!0,backgroundColor:"rgba(255,255,255,0.5)",verticalAlign:"top",y:15},labels:[]}],credits:{enabled:!1},boost:{useGPUTranslations:!1},tooltip:{enabled:!1},plotOptions:{series:{cursor:"pointer"}},legend:{enabled:!1},chart:{reflow:!0,defaultSeriesType:"line",animation:!1,zoomType:"xy",panning:!0,panKey:"ctrl",events:{load:function(t){var n=e.data;n&&n.length>0&&(e.hchartInstance=t.target,e.hchartHelper.hchartInstance=t.target,e.onRenderEnd&&e.onRenderEnd(),e.props&&e.props.onRenderEnd&&e.props.onRenderEnd(this.selectedXIndex,this.selectedYIndex))},selection:function(t){try{t.resetSelection?e.circle.show():e.circle.hide()}catch(t){}},resetZoom:function(){e.hchartHelper.ResetZoom()},draggingChart:function(){e.circle&&e.circle.hide()},click:function(t){var n=e.data;if(n&&n.length>0){var i=t.xAxis[0].value,a=t.yAxis[0].value;i&&a&&e.ChartClick(i,a)}}}},xAxis:{gridLineWidth:1,gridZIndex:2,minorTickInterval:"auto",events:{setExtremes:function(t){return!((t.max-t.min)*t.target.transA<=H.xZoomMinSelection)}}},yAxis:{gridLineWidth:1,gridZIndex:2,minorTickInterval:"auto",startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,title:{text:e.yUtils?"["+e.yUtils+"]":"",margin:1},max:20,events:{setExtremes:function(t){return!((t.max-t.min)*t.target.transA<=H.xZoomMinSelection)}}},series:n},t)},r.BearingBushCoef=a,r.chartConfig.addLine=!1,r}return ta(e,t),e.prototype.Dispose=function(){t.prototype.Dispose.call(this),this.circle=null,this.BearingBushCoef=null},e.prototype.Resize=function(){try{this.hchartInstance&&this.hchartInstance.reflow(),this.chartResize()}catch(t){}},e.prototype.chartResize=function(){var t=0,e=0,n=0,i=0,a=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;this.selectedYIndex=0;for(var o=0;o<this.data.length;o++)for(var s=0,l=this.data[o].length;s<l;s++){var c=Math.abs(this.data[o][s][0]);t=t>c?t:c,n=n&&n<c?n:c;var u=Math.abs(this.data[o][s][1]);e=e>u?e:u,i=i&&i<u?i:u;var h=c*c+u*u;h>a&&(a=h,[o,s]),h<r&&(r=h,[o,s])}var d=this.hchartInstance.plotSizeX,p=this.hchartInstance.plotSizeY;this.BearingBushCoef&&(t=t>this.BearingBushCoef?t:this.BearingBushCoef,e=e>this.BearingBushCoef?e:this.BearingBushCoef);var f=t/d,A=e/p,m=f>A?f:A;t=m*d,e=m*p,this.hchartInstance.update({xAxis:{max:t,min:-t},yAxis:{max:e,min:-e}}),this.circle&&this.circle.destroy();var y=this.hchartInstance.renderer.g().attr({zIndex:5}).add();this.circle=y;var g=this.hchartInstance.xAxis[0].toPixels(0);if(this.BearingBushCoef){this.layout.UpdateHelperInfo({BearingBushCoef:M.$t("Bearing.oefficient")+":"+this.BearingBushCoef});var v=this.hchartInstance.xAxis[0].toPixels(this.BearingBushCoef)-g;this.hchartInstance.renderer.circle(this.hchartInstance.plotSizeX/2+this.hchartInstance.plotLeft,this.hchartInstance.plotSizeY/2+this.hchartInstance.plotTop,v).attr({"stroke-dasharray":"5,5",fill:"#FCFFC5","fill-opacity":0,stroke:"red","stroke-width":1,zIndex:5}).add(y)}},e.prototype.onRenderEnd=function(){this.verifyData(this.data)&&(this.MoveMainCursor(!0,!0,!0,!1,!0,"first"),this.chartResize(),this.chartIsLoading=!1)},e}(qt),ia=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),aa=function(){return(aa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},ra=function(t){function e(e,n,i,a,r,o,s,l,c){void 0===i&&(i=0),void 0===a&&(a=0),void 0===r&&(r=1),void 0===o&&(o=null),void 0===s&&(s=null),void 0===l&&(l=!0),void 0===c&&(c=null);var u=t.call(this,e,o)||this;u.onWhenHidden=function(){if(u.chart)try{u.chart.data=[[]],u.chart.hchartInstance.destroy()}catch(t){}},u.convertAngleToXy=function(t){var e=t/45,n=u.chart;try{switch(e){case 0:return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,(n.hchartInstance.plotHeight+n.hchartInstance.plotTop+24)/2];case 1:return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,24];case 2:return[n.hchartInstance.plotWidth/2+n.hchartInstance.plotLeft-5,24];case 3:return[n.hchartInstance.plotLeft,24];case 4:return[n.hchartInstance.plotLeft,(n.hchartInstance.plotHeight+n.hchartInstance.plotTop+24)/2];case 5:return[n.hchartInstance.plotLeft,n.hchartInstance.plotHeight+n.hchartInstance.plotTop+15];case 6:return[n.hchartInstance.plotWidth/2+n.hchartInstance.plotLeft-5,n.hchartInstance.plotHeight+n.hchartInstance.plotTop+15];case 7:return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,n.hchartInstance.plotHeight+n.hchartInstance.plotTop+15]}}catch(t){}return[n.hchartInstance.plotWidth+n.hchartInstance.plotLeft-15,(n.hchartInstance.plotHeight+n.hchartInstance.plotTop+20)/2]},u.Resize=function(){try{var t=u.chart;if(u.chart.hchartInstance&&u.chart.hchartInstance.reflow(),u.chart.onRenderEnd(),!t.hchartInstance||!t.hchartInstance.renderer)return;u.renderImg(t)}catch(t){}},u.render=function(t,e,n,i,a){var r=u.chart;if(t){for(var o=[],s=0;s<t.length;s++)o.push({animation:!1,allowPointSelect:!1,enableMouseTracking:!1,name:"",color:"rgb(124, 181, 236)",data:t[s],marker:{enabled:!1},lineWidth:1});a||(a={}),(a=aa(aa({},a),{boost:{enabled:!1}})).series=o,r.render(e,n,i,a,null,null,null,null,{}),u.renderImg(r)}},u.xAngle=i,u.yAngle=a,u.Rotation=r,u.chartName="AxisTrajectory",u.chart=new na(e,null,{onMainCursorMoved:function(t,e,n,i){s&&s(t,i,e,n)},onMainCursorMoving:function(t,e,n,i){s&&s(t,i,e,n)},onRenderEnd:null,onSetExtremes:null,onWillRender:null},c),u.chart.Resize=u.Resize;var h=u.chart;return h.layout.generateToolbox=!1,h.layout._InitHelperInfo({name:n,MeasTime:"  ",CurosrValue:"",BearingBushCoef:"",Speed:""}),h.chartConfig.isAllowMaxBtn=l,h.selectedYIndex=0,h.menuInstance.RemoveMenuItem("LockChart"),h.Init(),u}return ia(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.event.Dispose(),this.renderGroup&&this.renderGroup.destroy(),this.chart.Dispose(),this.xAngle=null,this.yAngle=null,this.chart=null,this.element=null}catch(t){}},e.prototype.Clear=function(){this.chart&&this.chart.Clear()},e.prototype.renderImg=function(t){if(this.renderGroup)try{this.renderGroup.destroy()}catch(t){}var e=t.hchartInstance.renderer.g().attr({zIndex:5}).add();if(this.xAngle==this.yAngle){var i=this.convertAngleToXy(this.xAngle);t.AddAngleLabel(e,"XY",i[0],i[1])}else{var a=this.convertAngleToXy(this.xAngle);t.AddAngleLabel(e,"X",a[0],a[1]);var r=this.convertAngleToXy(this.yAngle);t.AddAngleLabel(e,"Y",r[0],r[1])}t.AddTurnImage(e,1==this.Rotation?n(116):n(117),t.hchartInstance.chartWidth-60,t.hchartInstance.plotTop+10,60,60),this.renderGroup=e},e}(J),oa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sa=function(){return(sa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},la=function(t){function e(e,n,i){void 0===n&&(n=Yt.Last),void 0===i&&(i=null);var a=t.call(this,e,n,i)||this;return a.GetOptions=function(t){var e=[];return a.data.map(function(t,n){e.push({allowPointSelect:!1,enableMouseTracking:!1,name:a.names&&a.names.length>0?a.names[n]:"",data:a.data[n],marker:{enabled:!0,radius:2},lineWidth:1,animation:!1,turboThreshold:0,states:{hover:{enabled:!0}}})}),t=sa({title:{text:""},legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}},plotOptions:{series:{marker:{radius:4}}},xAxis:{type:"datetime",gridLineWidth:1,minorTickInterval:"auto",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"},events:{setExtremes:function(t){return!((t.max-t.min)*t.target.transA<=H.xZoomMinSelection)}}},series:e},t),a.GetBaseOptions(t,{boost:{enabled:!0,seriesThreshold:1}})},a}return oa(e,t),e.prototype.render_Before=function(t){if(!(this.verifyData(t)&&0!=t[0].length&&t[0].length>this.selectedXIndex))try{if(t&&t.length>=1&&this.defaultCurosrPosition)return void(this.defaultCurosrPosition==Yt.First?this.selectedXIndex=0:this.defaultCurosrPosition==Yt.Last?this.selectedXIndex=t[this.selectedYIndex].length-1:this.defaultCurosrPosition==Yt.Center&&(this.selectedXIndex=t[this.selectedYIndex].length/2));this.selectedYIndex=0,this.selectedXIndex=0}catch(t){}},e.prototype.render=function(t,e,n,i,a){!this.isLockChart&&this.isShow&&(this.render_Before(t),this.verifyData(t)||(t=[[]]),this.props&&this.props.onWillRender&&this.props.onWillRender(),this.names=a,this.data=t,this.xUtils=e,this.yUtils=n,this.chartIsLoading=!0,this.renderChart(this.GetOptions(i)))},e.prototype.getSelectedText=function(t){void 0===t&&(t=!0);var e=this.data[this.selectedYIndex][this.selectedXIndex];return Object(f.r)(e[0])+this.xUtils+"，"+e[1].toFixed(3)+this.yUtils},e}(qt),ca=function(){return(ca=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},ua=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},ha=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},da=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},pa=function(){function t(t,e,i,a,r,o,s,l,c){var u=this;if(this.pointData=[],this.addToolBox=function(){Object.keys(u.charts).map(function(t){var e=null;e=u.charts[t],"axisChart"===t&&(e=u.charts[t].chart),u.changeChartMeun(e)})},this.ResizeChart=function(){Object.keys(u.charts).map(function(t){u.charts[t].Resize()})},this.changeChartMeun=function(t){var e=u;t.menuInstance.RemoveMenuItem("toolbar"),t.menuInstance.AddMenuItem("toolbar"+t.menuInstance._id,function(){return t.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")},function(){var n=!t.layout.toolBoxVisibility;Object.keys(e.charts).map(function(t){var i=null;i=e.charts[t],"axisChart"===t&&(i=e.charts[t].chart),i.layout.toolBoxVisibility=n}),L(".toolbar"+e.id+" .menu-item-name").html(n?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),n?(L(u.element).find(".rzToolBox").hide(),L(u.element).find(".rzToolBox").siblings().css("left",0)):(L(u.element).find(".rzToolBox").show(),L(u.element).find(".rzToolBox").siblings().css("left","40px")),e.ResizeChart()},"Setting"+t.menuInstance._id,"toolbar"+u.id)},this.fetchWave=function(t){var e=u,n=null;try{e.charts.wavechart1.Clear(),e.charts.wavechart2.Clear(),e.charts.axisChart.Clear()}catch(t){}var i=u.charts.TrendChart.data[u.charts.TrendChart.selectedYIndex][t][0];try{var a=rt.GetMostNearIndex(i,e.charts.TrendChart.data[0]);n=e.charts.TrendChart.data[0][a][3]}catch(t){}var r=null;try{a=rt.GetMostNearIndex(i,e.charts.TrendChart.data[1]);r=e.charts.TrendChart.data[1][a][3]}catch(t){}n&&r&&Si.FetchOrbit([n,r],e.queryArgs.FilterCircle,e.queryArgs.SamplingPointCount,e.queryArgs.frequency,e.queryArgs.lowFreq,e.queryArgs.highFreq).then(function(t){e.lastWaveData=t;var n=t[0].data;e.charts.wavechart1.RemarkContent=n.Description;var i=[],a=[],r=0,o=[],s=e.queryArgs.DisplayLaps,l=e.queryArgs.SamplingPointCount;if(null!=n.YData){e.queryArgs.frequency,(p=0===n.IsAngleWave)||0==e.queryArgs.frequency||(l=e.queryArgs.SamplingPointCount*e.queryArgs.FilterCircle),e.isSourceWave=p;for(var c=0,h=n.YData.length;c<h;c++)p||c%l!=0||(a.push({point:{x:c*n.XInterval,y:n.YData[c],xAxis:0,yAxis:0},type:"circle",r:2,fill:"#b9501e"}),r%s==0&&0!=r&&o.push({color:"yellow",value:c*n.XInterval,width:1,id:"laps"+r,dashStyle:"Dash",label:{text:r,verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:8,dashStyle:"Dash"}}),r++),i.push([c*n.XInterval,n.YData[c]])}var d={draggable:"",id:"MarkPoints",shapes:a,zIndex:9999};if(e.charts.wavechart1.layout.UpdateHelperInfo({RunSpeed:n.RunSpeed?Number(n.RunSpeed).toFixed(0)+"RPM":""}),e.charts.wavechart1.render([i],n.XUnit,n.YUnit,{annotations:[d]},{plotLines:o}),n=t[1].data,e.charts.wavechart2.RemarkContent=n.Description,r=0,o=[],i=[],a=[],null!=n.YData){var p=0===n.IsAngleWave;u.isSourceWave=p;for(c=0,h=n.YData.length;c<h;c++)p||c%l!=0||(a.push({point:{x:c*n.XInterval,y:n.YData[c],xAxis:0,yAxis:0},type:"circle",r:2,fill:"#b9501e"}),r%s==0&&0!=r&&o.push({color:"yellow",value:c*n.XInterval,width:1,id:"laps"+r,dashStyle:"Dash",label:{text:r,verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:8,dashStyle:"Dash"}}),r++),i.push([c*n.XInterval,n.YData[c]])}e.charts.wavechart2.layout.UpdateHelperInfo({RunSpeed:n.RunSpeed?Number(n.RunSpeed).toFixed(0)+"RPM":""}),e.charts.wavechart2.render([i],n.XUnit,n.YUnit,{annotations:[{draggable:"",id:"MarkPoints",shapes:a,zIndex:9999}]},{plotLines:o}),e.lastAxisTrajectory=null,e.onWaveChartMove(e.charts.wavechart1.selectedXIndex)}).catch(function(t){u.charts.wavechart1.Clear(),u.charts.wavechart2.Clear(),u.charts.axisChart.Clear()})},this.lastAxisTrajectory=null,this.onWaveChartMove=function(t){var e=u,n=e.queryArgs.DisplayLaps,i=e.queryArgs.SamplingPointCount;u.isSourceWave||0==e.queryArgs.frequency||(i=e.queryArgs.SamplingPointCount*e.queryArgs.FilterCircle);var a=Math.floor(t/i),r=Math.floor(a/n);if(r!=u.lastAxisTrajectory){u.lastAxisTrajectory=r;var o=u.lastWaveData,s=o[0].data.YData,l=o[1].data.YData,c=[],h=[],d=[];if(s&&l){if(u.isSourceWave){for(var p=0,f=s.length>l.length?l.length:s.length;p<f;p++)c.push([s[p],l[p]]);return void u.charts.axisChart.render([c],[c],o[0].data.YUnit,o[1].data.YUnit)}for(p=r*i*n;p<((r+1)*i*n>s.length?s.length:(r+1)*i*n);p++)try{var A=Math.floor(p/i/e.queryArgs.FilterCircle);d.push([s[p],l[p],o[0].data.RPMs&&o[0].data.RPMs.length>A?o[0].data.RPMs[A].toFixed(3)+"RPM":""])}catch(t){d.push([s[p],l[p]])}}for(var m={draggable:"",id:"MarkPoints",shapes:h,zIndex:9999},y=(p=0,d.length/i);p<y;p++){for(var g=[],v=0;v<i;v++)g.push(d[v+p*i]);h.push({point:{x:g[0][0],y:g[0][1],xAxis:0,yAxis:0},type:"circle",r:2,fill:"#b9501e"}),c.push(g)}u.charts.axisChart.render(c,[d],o[0].data.YUnit,o[1].data.YUnit,{annotations:[m]});try{u.charts.axisChart.chart.Resize()}catch(t){}}},this.InitChart=function(){var t=u;W.addEvent("onAxisTrajectoryTrendChange",function(e){var n=e.data;if(n.source!=t.id&&t.charts.TrendChart.data&&0!=t.charts.TrendChart.data.length&&n.selectedX!=t.charts.TrendChart.selectedXIndex){var i=t.charts.TrendChart.getMostIndexX(n.data[0],0)[0];t.fetchWave(i),t.charts.TrendChart.selectedXIndex=i,t.charts.TrendChart.MoveMainCursor(!0,!0,!0,!1,!1),t.charts.TrendChart.updateHelperInfo()}},u.id);var e=new la("trend"+u.id,Yt.Last,{onMainCursorMoved:function(e,n,i,a){"first"!==a&&W.fireEvent("onAxisTrajectoryTrendChange",{selectedX:e,selectedY:n,source:t.id,data:i}),t.fetchWave(e)},onMainCursorMoving:null,onRenderEnd:null,onWillRender:null,onSetExtremes:null});e.layout.generateToolbox=!1,e.layout._InitHelperInfo({name:u.name,CurosrValue:""}),e.Init();var n=[],i=[];u.pointData.map(function(t){n.push(t.id),i.push(t.name)});var a=L(u.element).hasClass("rzAxisPanelMax")?M.$t("headbar.title.resize"):M.$t("headbar.title.maxsize");L("#trend"+u.id).find(".rzgraph_helperinfo ul").append("<li style='float:right;position: absolute;right:0;'><div id='btnZoomPanel"+u.id+"' title='"+a+"' style='' class='rzBtnMaxSize'></div></li>"),L("#btnZoomPanel"+u.id).click(function(){L(this).attr("title")==M.$t("headbar.title.maxsize")?(L(this).attr("title",M.$t("headbar.title.resize")),L(this).addClass("rzBtnMinSize"),L(t.element).addClass("rzAxisPanelMax"),L(t.element).siblings().hide()):(L(this).attr("title",M.$t("headbar.title.maxsize")),L(this).removeClass("rzBtnMinSize"),L(t.element).removeClass("rzAxisPanelMax"),L(t.element).siblings().show()),t.ResizeChart()}),u.charts.TrendChart=e;var r=new ra(L("#main"+u.id+" div:first")[0],M.$t("chart.name.originalaxis"),u.xAngle,u.yAngle,u.Direction,null,function(e,n){0!=e&&(n&&"first"===n||(t.isSourceWave||(e=t.lastAxisTrajectory*t.queryArgs.SamplingPointCount*t.queryArgs.DisplayLaps+e),t.MoveChartCursor(t.charts.wavechart1,e),t.MoveChartCursor(t.charts.wavechart2,e)))},!1,u.BearingBushCoef);r.chart.menuInstance.RemoveMenuItem("toolbar"),r.chart.menuInstance.RemoveMenuItem("LockChart"),u.charts.axisChart=r;var o=new qt(L("#wave"+u.id+"1")[0],Yt.First,{onMainCursorMoved:function(e,n,i,a){t.onWaveChartMove(e),t.MoveChartCursor(t.charts.wavechart2,e);var r=t.queryArgs.SamplingPointCount;t.isSourceWave||0==t.queryArgs.frequency||(r=t.queryArgs.SamplingPointCount*t.queryArgs.FilterCircle),t.isSourceWave?t.MoveChartCursor(t.charts.axisChart.chart,e):t.MoveChartCursor(t.charts.axisChart.chart,e%(t.queryArgs.DisplayLaps*r))},onMainCursorMoving:function(e,n,i){u.onWaveChartMove(e),t.MoveChartCursor(t.charts.wavechart2,e);var a=t.queryArgs.SamplingPointCount;u.isSourceWave||0==t.queryArgs.frequency||(a=t.queryArgs.SamplingPointCount*t.queryArgs.FilterCircle),t.isSourceWave?t.MoveChartCursor(t.charts.axisChart.chart,e):t.MoveChartCursor(t.charts.axisChart.chart,e%(t.queryArgs.DisplayLaps*a))},onRenderEnd:null,onSetExtremes:function(e,n){try{t.charts.wavechart2.hchartInstance.xAxis[0].setExtremes(e,n,!0,!1,"NotDispatch")}catch(t){}},onWillRender:null});o.ChartKeys=["x","y","marker"],o.menuInstance.RemoveMenuItem("LockChart"),o.layout._InitHelperInfo({name:M.$t("chart.name.rawdata")+"X",RunSpeed:"",CurosrValue:""}),o.layout.generateToolbox=!1,o.chartConfig.isShowDisplayPoint=!1,o.Init(),u.charts.wavechart1=o;var s=new qt(L("#wave"+u.id+"2")[0],Yt.First,{onMainCursorMoved:function(e,n,i){t.onWaveChartMove(e),t.MoveChartCursor(t.charts.wavechart1,e);var a=t.queryArgs.SamplingPointCount;t.isSourceWave||0==t.queryArgs.frequency||(a=t.queryArgs.SamplingPointCount*t.queryArgs.FilterCircle),t.isSourceWave?t.MoveChartCursor(t.charts.axisChart.chart,e):t.MoveChartCursor(t.charts.axisChart.chart,e%(t.queryArgs.DisplayLaps*a))},onMainCursorMoving:function(e,n,i){u.onWaveChartMove(e),t.MoveChartCursor(t.charts.wavechart1,e);var a=t.queryArgs.SamplingPointCount;u.isSourceWave||0==t.queryArgs.frequency||(a=t.queryArgs.SamplingPointCount*t.queryArgs.FilterCircle),t.MoveChartCursor(t.charts.axisChart.chart,e%(t.queryArgs.DisplayLaps*a))},onRenderEnd:null,onSetExtremes:function(e,n){try{t.charts.wavechart1.hchartInstance.xAxis[0].setExtremes(e,n,!0,!1,"NotDispatch")}catch(t){}},onWillRender:null});s.menuInstance.RemoveMenuItem("LockChart"),s.layout._InitHelperInfo({name:M.$t("chart.name.rawdata")+"Y",RunSpeed:"",CurosrValue:""}),s.layout.generateToolbox=!1,s.ChartKeys=["x","y","marker"],s.chartConfig.isShowDisplayPoint=!1,s.Init(),u.charts.wavechart2=s},this.UpdateTrend=function(){return ua(u,void 0,void 0,function(){var t,e,n,i,a,r,o,s;return ha(this,function(l){switch(l.label){case 0:return this.pointData?((t=this).Clear(),e=[],n=[],this.pointData.map(function(i){var a;e.push("2"===(null===(a=t.queryArgs)||void 0===a?void 0:a.dataSource)?i.pointId:i.id),n.push(i.name)}),[4,Si.FetchAxisTrajectoryTrend(e,this.queryArgs.dataSource,{startTime:this.queryArgs.startDate,endTime:this.queryArgs.endDate})]):[2];case 1:return i=l.sent(),a=[],r=[],o=[],i&&i.map(function(e){if(e.data&&e.data.Datas){for(var n=[],i=e.data.Datas.length-1;i>=0;i--){var s=e.data.Datas[i];if("1"===t.queryArgs.dataSource)n.push([Object(f.e)(s.MeasDate),s.MeasValue,{},s.WaveKey]);else try{null!==s.MeasValue&&"NaN"!==s.MeasValue&&(void 0!==s.Alarm&&null!=s.Alarm&&99===s.Alarm&&s.WaveKey?(r.push({point:{x:Object(f.e)(s.MeasDate),y:s.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),o.push([Object(f.e)(s.MeasDate),s.MeasValue]),n.push([Object(f.e)(s.MeasDate),s.MeasValue,{},s.WaveKey])):void 0!==s.Alarm&&99===s.Alarm?(r.push({point:{x:Object(f.e)(s.MeasDate),y:s.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),n.push([Object(f.e)(s.MeasDate),s.MeasValue,{},s.WaveKey])):s.WaveKey?(o.push([Object(f.e)(s.MeasDate),s.MeasValue]),n.push([Object(f.e)(s.MeasDate),s.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},s.WaveKey])):void 0!==s.Alarm&&null!=s.Alarm&&0!==s.Alarm&&1<=s.Alarm&&s.Alarm<=5?n.push([Object(f.e)(s.MeasDate),s.MeasValue,{enabled:!0,fillColor:s.Alarm>=4?Object(f.i)(s.Alarm):Object(f.i)(3),radius:2,symbol:"circle",enabledThreshold:0},s.WaveKey]):n.push([Object(f.e)(s.MeasDate),s.MeasValue,{},s.WaveKey]))}catch(t){}}a.push(n)}}),this.TrendData=i,s=a.map(function(t,e){return{keys:["x","y","marker","wavekey"],allowPointSelect:!1,enableMouseTracking:!1,name:n&&n.length>0?n[e]:"",data:t,marker:{enabled:!0,radius:2},lineWidth:1,animation:!1,turboThreshold:0,states:{hover:{enabled:!0}}}}),this.charts.TrendChart.render(a,"",i&&i.length>0&&i[0].data.Unit||"",{annotations:[{draggable:"",id:"MarkPoints",shapes:r,zIndex:9999}],series:da([],s)},n),[2]}})})},this.MoveChartCursor=function(t,e){try{t.selectedXIndex=e,t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}catch(t){}},this.Init=function(){L(u.element).append('<div id="'+u.id+'" style="position:relative;width:100%;height:100%;"><div class="rzToolBox" style="float:left;width: 30px;height: 100%;">\n      <ul>\n      <li style="" data-id="'+M.$t("toolbar.btn.vernier.single")+'" class="rzToolBoxClick"><img style="" data-id="'+M.$t("toolbar.btn.vernier.single")+'" src="'+n(115)+'" title="'+M.$t("toolbar.btn.vernier.single")+'"></li>\n      <li style="" id="zoom'+u.id+'"><img class="btnZoom" style="" src="'+n(148)+'" title="'+M.$t("toolar.btn.zoom")+'"></li>\n      </ul>\n      </div>\n      <div style="height: 100%;float:left;position:absolute;right:0;left:30px;">\n      <div id="trend'+u.id+"\"></div>\n    <div  id='main"+u.id+"' style=\"width:100%\">\n    <div id='main"+u.id+"1' style=\"height:100%;float:left\"></div><div id='main"+u.id+'2\'  style="height:100%;float:left">\n      <div id="wave'+u.id+'1"></div>\n      <div id="wave'+u.id+'2"></div>\n      </div> </div>\n    </div></div>\n    ');var t=u;L("#zoom"+u.id).click(function(e){var n=L(t.element).find(".RZcontainer[data-isactived='1']");if(n.length>0){var i=L(n).eq(0).attr("data-id");k.RZGraphCache[i]&&k.RZGraphCache[i].onHotKeyDown&&k.RZGraphCache[i].resetZoom()}}),Ji(["#trend"+u.id,"#main"+u.id],{gutterSize:5,direction:"vertical",gutterAlign:"end",minSize:0,sizes:[30,70],onDragEnd:function(){u.charts.TrendChart.Resize(),u.charts.wavechart1.Resize(),u.charts.wavechart2.Resize(),u.charts.axisChart.Resize()}}),Ji(["#main"+u.id+"1","#main"+u.id+"2"],{gutterSize:5,sizes:[50,50],minSize:0,onDragEnd:function(){u.charts.wavechart1.Resize(),u.charts.wavechart2.Resize(),u.charts.axisChart.Resize()}}),Ji(["#wave"+u.id+"1","#wave"+u.id+"2"],{gutterSize:5,direction:"vertical",sizes:[50,50],onDragEnd:function(){u.charts.wavechart1.Resize(),u.charts.wavechart2.Resize()}})},!t)throw"ele is null";if(this.pointData=a,this.name=e,this.xAngle=r,this.yAngle=o,this.sectionId=i,this.BearingBushCoef=s,this.queryArgs=c,this.Direction=l,Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}this.id=Object(f.y)(),this.charts={},this.Init(),this.InitChart(),this.addToolBox()}return t.prototype.Dispose=function(){var t=this;try{W.removeEvent("onAxisTrajectoryTrendChange",null,this.id),Object.keys(this.charts).map(function(e){t.charts[e].Dispose()}),this.charts=null,L(this.element).unbind(),L(this.element).remove(),this.element=null}catch(t){}},t.prototype.Clear=function(){var t=this;try{Object.keys(this.charts).map(function(e){t.charts[e].Clear()})}catch(t){}},t.prototype.changeData=function(t){this.queryArgs||(this.queryArgs={}),this.queryArgs.startDate!==t.startDate||this.queryArgs.endDate!==t.endDate||this.queryArgs.dataSource!==t.dataSource||Object(f.e)(this.queryArgs.endDate)>=Object(f.e)(new Date)?(this.queryArgs=ca(ca({},this.queryArgs),t),this.UpdateTrend()):(this.queryArgs=ca(ca({},this.queryArgs),t),this.fetchWave(this.charts.TrendChart.selectedXIndex))},t}(),fa=function(){function t(t){void 0===t&&(t=!1),this._id=Object(f.y)(),this.autoHeight=t}return t.prototype.Dispose=function(){L(this._elem).html(""),this._elem=null},t.prototype.clearBody=function(){L(this._elem).find(".rz-card-body").html("")},t.prototype.getHtml=function(t,e,n){return void 0===e&&(e=""),void 0===n&&(n="100%"),"\n    <div class='rz-card' >\n      <div class='rz-card-head'>\n        <div class='rz-card-head-wrapper'>\n          <div class=\"rz-card-head-title\">"+t+'</div>\n          <div class="rz-card-extra"></div>\n        </div>\n      </div>\n      <div class="'+(this.autoHeight?"rz-card-body-auto":"rz-card-body")+'">'+e+"</div>\n\t\t</div>"},t.prototype.render=function(t,e,n){void 0===n&&(n=""),this._elem=t;var i="\n    <div class='rz-card'>\n      <div class='rz-card-head'>\n        <div class='rz-card-head-wrapper'>\n          <div class=\"rz-card-head-title\">"+e+'</div>\n          <div class="rz-card-extra"></div>\n        </div>\n      </div>\n      <div class="'+(this.autoHeight?"rz-card-body-auto":"rz-card-body")+'">'+n+"</div>\n    </div>";L(t).append(i)},t}(),Aa=function(){function t(t,e,n){var i=this;this.renderDateTime=function(t,e,n){void 0===e&&(e=null),O.laydate.render({elem:"#"+t+n,type:"datetime",lang:M.getLocale(),value:e,format:"yyyy/MM/dd HH:mm"})},this.getId=function(){return i._id},this.getHtml=function(){return'\n    <div class="layui-form-item" style=""> \n\t   <div class="layui-form-customline" style="width: 28px;padding: 0;float:left;">'+M.$t("datatable.filter.time.from")+"</div> \n\t\t<div class=\"layui-form-customline\" style=\"width: calc(100% - 38px);margin-right: 0;padding-right: 0;\"> \n\t   <input type='text' class='layui-input' name='Stime' id='Stime"+i._id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t   </div>\n    </div>\n    <div class="layui-form-item" style=""> \n\t   <div class="layui-form-customline" style="width: 28px;padding: 0;float:left;">'+M.$t("datatable.filter.time.to")+"</div>\n\t    <div class=\"layui-form-customline\" style=\"width: calc(100% - 38px);margin-right: 0;padding-right: 0;\"> \n\t      <input type='text' class='layui-input' name='Etime' id='Etime"+i._id+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n       </div>\n  </div>"},n||(n=Object(f.y)()),this._id=n,this._sTimeDefalutValue=t,this._eTimeDefalutValue=e}return t.prototype.validate=function(t){return!0},t.prototype.transData=function(t){return t},t.prototype.getData=function(){return{sTime:L("#Stime"+this._id).val(),eTime:L("#Etime"+this._id).val()}},t.prototype.Dispose=function(){},t.prototype.Init=function(){this.renderDateTime("Stime",this._sTimeDefalutValue,this._id),this.renderDateTime("Etime",this._eTimeDefalutValue,this._id)},t}(),ma=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ya=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Reset=function(){L("#left"+i.id).html(""),i.CheckedSection=[],i.chartList.map(function(t){t.Dispose()}),i.chartList=[],i.SectionData=[],i.CheckedSection=[],i.UpdateSection()},i.Resize=function(){i.chartList&&i.chartList.map(function(t){t.ResizeChart()})},i.onAssetTypeNotSupport=function(){},i.onWhenHidden=function(){},i.lastDeviceId="",i.onAssetChange=function(){i.lastDeviceId!==i.deviceId&&(i.Reset(),i.lastDeviceId=i.deviceId,i.deviceId&&i.FetchSectionData())},i.chartList=[],i.InitLayout=function(){L(i.element).append('<div style="height:100%;"><div id="left'+i.id+"\" class='rzAxisPanelParent'>\n\t\t\t\t</div><div id='right"+i.id+'\' style="float:left;height:100%;"></div></div>');var t=L(i.element).height();i.layout=Ji(["#left"+i.id,"#right"+i.id],{gutterSize:5,sizes:[100-100/t*100,100/t*100],onDragEnd:function(){i.chartList.map(function(t){return t.ResizeChart()})}})},i.SectionData=[],i.FetchSectionData=function(){var t=i;Si.FetchSections(i.deviceId).then(function(e){e&&e.data&&e.data.length>0&&(e.data.map(function(e){try{e.XPoint&&e.YPoint&&t.SectionData.push({id:e.ID,BearingBushCoef:e.BearingBushCoef,Direction:e.Direction,name:e.SectionName,xAngle:e.XPoint.Angle,yAngle:e.YPoint.Angle,point:[{pointId:e.XPoint.ID,id:e.XPoint.MeasDefs[0].ID,name:e.XPoint.NodeName},{pointId:e.YPoint.ID,id:e.YPoint.MeasDefs[0].ID,name:e.YPoint.NodeName}]})}catch(t){}}),t.UpdateSection())}).catch(function(t){})},i.UpdateSection=function(){L("#jiemian"+i.id+" .layui-form-item").html("");var t="";i.SectionData&&i.SectionData.length>0?i.SectionData.map(function(e){t+='<input type="checkbox" name="ckSection-'+e.id+'" lay-skin="primary" title="'+e.name+"\" value='"+e.id+"'>"}):t+="<span>"+M.$t("leftbar.title.nosection")+"</span>",L("#jiemian"+i.id+" .layui-form-item").html(t),O.form.render()},i.InitRight=function(){L("#right"+i.id).append('\n      <div class="layui-form" id=\'fromAxis\' action="" style="text-align:center;height:100%;">\n      <div style="height:calc(100% - 50px);max-height:calc(100% - 50px);overflow-y:auto">\n      \t<div id=\'timeRangeDiv'+i.id+"' style=\"\">\n\t\t\t\t</div>\n\t\t\t\t<div id='jiemianDiv"+i.id+"' style=\"\">\n\t\t\t\t</div>\n\t\t\t\t<div id='lvboDiv"+i.id+"' style=\"\">\n        </div>\n        \t<div id='dataSourceDiv"+i.id+'\' style="">\n        </div>\n       </div>\n\t\t\t\t<div class="layui-form-item" style=\'margin-top:10px;\'>\n\t\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnAxis'+i.id+'">'+M.$t("btn.ok")+"</button>\n        </div>\n      \n\t\t\t</div>\n    ");var t=new Aa(Object(f.d)(Object(f.c)("d",-7,new Date),"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),i.id),e=new fa(!0).getHtml(M.$t("leftbar.form.selecttime"),t.getHtml());L("#timeRangeDiv"+i.id+" ").append(e),t.Init();var n='\n\t\t\t<div id="jiemian'+i.id+'" style="text-align:left;margin-left:10px;overflow-y:auto;">\n\t\t\t\t<div class="layui-form-item">\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',a='\n\t\t<div class="layui-form-item" style="text-align:left;margin-left:10px;margin-right:10px;">\n\t\t\t<select name="frequency" lay-filter="frequency">\n\t\t\t\t<option value="0" selected="">'+M.$t("leftbar.title.original")+'</option>\n\t\t\t\t<option value="1">1X</option>\n\t\t\t\t<option value="2">2X</option>\n\t\t\t\t<option value="3">3X</option>\n\t\t\t\t<option value="4">4X</option>\n\t\t\t\t<option value="5">5X</option>\n\t\t\t\t<option value="6">6X</option>\n\t\t\t\t<option value="7">7X</option>\n\t\t\t\t<option value="8">8X</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div style=\'text-align:center;\'>\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.title.analysislaps")+":</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"margin-left:10px;margin-right:10px;\"> \n\t\t\t\t<input type='number' name='DisplayLaps' min='1'  autocomplete='off' class='layui-input' value='1' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='height:28px;' />\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" id=\"divFilterCircle\" style=\"padding-left:10px;text-align:left;\"> \n\t\t\t\t<label>"+M.$t("leftbar.title.syntheticcircles")+":</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"margin-left:10px;margin-right:10px;\"> \n\t\t\t\t<input type='number' name='FilterCircle' min='1'  autocomplete='off' class='layui-input' value='1' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='height:28px;' />\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:10px;text-align:left;\"> \n\t\t\t\t<label>"+M.$t("leftbar.title.samplingpoints")+":</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"margin-left:10px;margin-right:10px;\"> \n\t\t\t\t<input type='number' name='SamplingPointCount' min='1'  autocomplete='off' class='layui-input' value='128' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='height:28px;' />\n      </div>\n\n\n      <div class=\"layui-form-item\" style=\"padding-left:10px;text-align:left;\"> \n\t\t\t\t<label>开始频率:</label>\n\t\t\t</div>\n      \t<div class=\"layui-form-item\" style=\"margin-left:10px;margin-right:10px;\"> \n\t\t\t\t<input type='number' name='lowFreq' min='0'  autocomplete='off' class='layui-input' value='' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='height:28px;' />\n      </div>\n      \n       <div class=\"layui-form-item\" style=\"padding-left:10px;text-align:left;\"> \n\t\t\t\t<label>结束频率:</label>\n\t\t\t</div>\n      \t<div class=\"layui-form-item\" style=\"margin-left:10px;margin-right:10px;\"> \n\t\t\t\t<input type='number' name='highFreq' min='0'  autocomplete='off' class='layui-input' value='' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='height:28px;' />\n\t\t\t</div>\n\t\t</div>\n\t\t";new fa(!0).render("#jiemianDiv"+i.id,M.$t("leftbar.title.section"),"<div id='jiemianCard"+i.id+"' style='height:100%;'></div>"),new fa(!0).render("#lvboDiv"+i.id,M.$t("panel.legend.title"),"<div id='lvboCard"+i.id+"' style='height:100%;'></div>"),L("#jiemianCard"+i.id).append(n),L("#lvboCard"+i.id).append(a);var r='\n      <div id="dataSource'+i.id+"\" style=\"text-align:left;margin-left:10px;overflow-y:auto;\">\n        <div class=\"layui-form-item\">\t\n           <input type='radio'  lay-filter=\"dataSource\" name='dataSource' value='1' title='测量定义' checked='' /> \t\n            <input type='radio'  lay-filter=\"dataSource\" name='dataSource' value='2' title='特征值-峰峰值' /> \t\n\t\t\t\t</div>\n\t\t\t</div>\n    ";new fa(!0).render("#dataSourceDiv"+i.id,"数据源","<div id='dataSourceDivCard"+i.id+"' style='height:100%;'></div>"),L("#dataSourceDivCard"+i.id).append(r);var o=O.form;o.render();var s=i;L("#divFilterCircle").hide(),L("input[name='FilterCircle']").hide(),o.on("select(frequency)",function(t){0==t.value&&(L("#divFilterCircle").hide(),L("input[name='FilterCircle']").hide())}),o.on("submit(btnAxis"+i.id+")",function(t){try{var e=[];if(Object.keys(t.field).map(function(n){n.indexOf("ckSection")>=0&&e.push(t.field[n])}),!t.field.FilterCircle)return U.msg(""+M.$t("tip.error.syntheticcircles")),!1;if(!t.field.DisplayLaps)return U.msg(M.$t("tip.error.analysislaps")),!1;s.DiffSectionData(e);var n={startDate:t.field.Stime,endDate:t.field.Etime,FilterCircle:t.field.FilterCircle,DisplayLaps:t.field.DisplayLaps,SamplingPointCount:t.field.SamplingPointCount,dataSource:t.field.dataSource,frequency:t.field.frequency,highFreq:t.field.highFreq,lowFreq:t.field.lowFreq};s.AddPanel(e,n)}catch(t){}return!1})},i.DiffSectionData=function(t){var e=i;i.CheckedSection&&i.CheckedSection.map(function(n){t.indexOf(n)<0?(i.chartList.filter(function(t){return t.sectionId==n})[0].Dispose(),i.chartList=i.chartList.filter(function(t){return t.sectionId!=n}),L("#Section"+n+e.id).remove()):L("#Section"+n+e.id).hasClass("rzAxisPanelMax")?(L("#Section"+n+e.id).removeClass("rzAxisPanelMax"),i.chartList.filter(function(t){return t.sectionId==n})[0].ResizeChart(),L("#Section"+n+e.id).find("[id^='btnZoomPanel']").attr("title",M.$t("headbar.title.maxsize")),L("#Section"+n+e.id).find("[id^='btnZoomPanel']").removeClass("rzBtnMinSize")):L("#Section"+n+e.id).show()})},i.AddPanel=function(t,e){i.CheckedSection=t;var n="rzAxisPanel";t&&1==t.length&&(n="rzAxisPanel rzAxisPanelMax");var a=i;if(t.map(function(t){var e=i.SectionData.filter(function(e){return e.id==t})[0];if(0==L("#Section"+(t+a.id)).length){L("#left"+a.id).append("<div id='Section"+(t+a.id)+"' class='"+n+'\' style=""></div>');var r=new pa("Section"+(t+a.id),e.name,t,e.point,e.xAngle,e.yAngle,null,e.Direction,{});i.chartList.push(r)}}),t&&1==t.length){var r=t[0];L("#Section"+(r+a.id)).attr("class",n);var o=L("#Section"+(r+a.id)).find("div[id^='btnZoomPanel']");o.attr("title",M.$t("headbar.title.resize")),o.addClass("rzBtnMinSize"),a.chartList.filter(function(t){return t.sectionId==r})[0].ResizeChart()}i.chartList.map(function(t){t.changeData(e)})},i.InitLayout(),i.InitRight(),i.UpdateSection(),i.chartName="AxisTrajectory",i.addEvent("TempDataRangeChange",function(t){i.chartList&&i.chartList.map(function(t){t.UpdateTrend()})}),i}return ma(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.CheckedSection=null,this.chartList.map(function(t){t.Dispose()}),this.chartList=null,L(this.element).remove(),this.element=null}catch(t){}},e}(J);!function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right"}(yi||(yi={}));var ga=function(){return function(){}}(),va=function(){function t(t,e){this.idSuffix=e||"",this.layoutConfig=t}return t.prototype.InitLayout=function(t){var e=this.getHtml(t);L(this._elem).html(e)},t.prototype.getHtml=function(t){var e=this,n="";return t.items&&t.items.map(function(t){var i=e.CTE(t,"");n+=i}),n},t.prototype.InitSplit=function(t){var e=this;this._splitArr=[],t.splitConfig&&t.splitConfig.map(function(t){var n=[];t.ids.map(function(t){n.push("#"+(t+e.idSuffix))});var i=[];if(t.size)if(Object(f.C)(t.size)){var a=L(""+n[0]).parent()[0].clientWidth;i=t.size(a)}else t.size.map(function(t){i.push(t)});else for(var r=0;r<t.ids.length;r++)i.push(100/t.ids.length);t.isVertical||L(""+n[0]).parent().addClass("RZHorizontalSplit");var o=null;if(t.minSize)if(Object(f.C)(t.size)){a=L(""+n[0]).parent()[0].clientWidth;o=t.minSize(a)}else o=t.minSize;else{o=[];for(r=0;r<t.ids.length;r++)o.push(0)}t.collapseBtnOpen&&(o=n.map(function(){return 0}));var s=Ji(n,{direction:t.isVertical?"vertical":"horizontal",gutterSize:5,sizes:i,expandToMin:!0,minSize:o,gutterAlign:t.gutterAlign?t.gutterAlign:"center",gutter:function(e,n){if(t.collapseBtnOpen&&t.collapseAlign!==yi.None){var a="layui-icon-right";if(t.collapseAlign===yi.Left?t.defaultCollapseAlign===yi.None?a="layui-icon-left":t.defaultCollapseAlign===yi.Left?a="layui-icon-right":t.defaultCollapseAlign===yi.Right&&(a="layui-icon-left"):t.collapseAlign===yi.Right&&(t.defaultCollapseAlign===yi.None?a="layui-icon-right":t.defaultCollapseAlign===yi.Left?a="layui-icon-left":t.defaultCollapseAlign===yi.Right&&(a="layui-icon-right")),(o=document.createElement("div")).className="gutter gutter-"+n,o.style.position="relative","horizontal"===n){var r=document.createElement("i");return r.className="dargIcon layui-icon "+a,r.style.position="absolute",r.style.width="5px",r.style.height="5px",r.style.fontSize="10px",r.style.top="calc(50% - 5px)",r.style.left="-3px",r.style.cursor="pointer",r.setAttribute("data-direction",t.defaultCollapseAlign.toString()),r.onclick=function(n){var a=r.getAttribute("data-direction"),o=s.parent.getAttribute("data-lastSize"),l=t.defaultPanelSize?t.defaultPanelSize:i;if(o){var c=o.split(",");l=[],c.map(function(t){l.push(Number(t))})}if(a===yi.Left.toString())t.collapseAlign===yi.Left?(s.setSizes(l),r.setAttribute("data-direction",yi.None.toString())):t.collapseAlign===yi.None?(s.collapse(e-1),r.setAttribute("data-direction",yi.Left.toString())):t.collapseAlign===yi.Right&&(s.setSizes(l),r.setAttribute("data-direction",yi.None.toString())),r.className=t.collapseAlign===yi.Left?"dargIcon layui-icon layui-icon-left":"dargIcon layui-icon layui-icon-right",setTimeout(function(){t.callBack&&t.callBack(null)},0);else if(a===yi.Right.toString())t.collapseAlign===yi.Left?(s.setSizes(l),r.setAttribute("data-direction",yi.None.toString())):t.collapseAlign===yi.None?(s.collapse(e),r.setAttribute("data-direction",yi.Right.toString())):t.collapseAlign===yi.Right&&(s.setSizes(l),r.setAttribute("data-direction",yi.None.toString())),r.className=t.collapseAlign===yi.Left?"dargIcon layui-icon layui-icon-left":"dargIcon layui-icon layui-icon-right";else if(a===yi.None.toString()){if(t.collapseAlign===yi.Left)s.collapse(e-1),r.setAttribute("data-direction",yi.Left.toString());else{if(t.collapseAlign!==yi.Right)return;s.collapse(e),r.setAttribute("data-direction",yi.Right.toString())}r.className=t.collapseAlign===yi.Left?"dargIcon layui-icon layui-icon-right":"dargIcon layui-icon layui-icon-left"}setTimeout(function(){t.callBack&&t.callBack(null)},0)},o.appendChild(r),o}return o}var o;return(o=document.createElement("div")).className="gutter gutter-"+n,o.style.position="relative",o},onDrag:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.onDrag&&t.onDrag(e)},onDragEnd:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.collapseBtnOpen){var i=s.getSizes(),a=null;try{a=L(s.pairs[0].gutter).find(".dargIcon")[0]}catch(t){a=L(s.parent).find(".dargIcon")[0]}t.collapseAlign===yi.Left?0===i[0]||i[0]<5?(0!==i[0]&&s.setSizes([0,100]),a.setAttribute("data-direction",yi.Left.toString()),a.className="dargIcon layui-icon layui-icon-right"):(s.parent.setAttribute("data-lastSize",i),a.setAttribute("data-direction",yi.None.toString()),a.className="dargIcon layui-icon layui-icon-left"):t.collapseAlign===yi.Right&&(0===i[1]||i[1]<5?(5!==i[1]&&s.setSizes([100,0]),a.setAttribute("data-direction",yi.Right.toString()),a.className="dargIcon layui-icon layui-icon-left"):(s.parent.setAttribute("data-lastSize",i),a.setAttribute("data-direction",yi.None.toString()),a.className="dargIcon layui-icon layui-icon-right"))}setTimeout(function(){t.callBack&&t.callBack(e)},0)},onDragStart:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.onDragStart&&t.onDragStart(e)}});e._splitArr.push(s)})},t.prototype.render=function(t){this._elem=t;var e=this.layoutConfig;this.InitLayout(e),this.InitSplit(e)},t.prototype.convertStyle=function(t){var e=function(t){return Object(f.D)(t)?t+"px":t},n="";return t.width?n+="width:"+e(t.width):t.children&&(n+="width:100%;"),t.height?n+="height:"+e(t.height):n+="height:100%;",n+(t.otherStyle?t.otherStyle:"")},t.prototype.convertAttr=function(t){if(t&&t.attr){var e="";return Object.keys(t.attr).map(function(n){e+=" "+n+'="'+t.attr[n]+'" '}),e}return""},t.prototype.CTE=function(t,e){var n=this,i=O.laytpl,a=i("<div id='{{d.id}}' {{d.attr}} style='{{d.style}}'>{{d.content}}</div>"),r=this.convertStyle(t),o=this.convertAttr(t);if(t.children){var s="";t.children.map(function(t){s+=n.CTE(t,"")}),e+=a.render({id:t.id+this.idSuffix,style:r,attr:o,content:s})}else e=""!=e?i(e).render({content:a.render({id:t.id,style:r,attr:o,content:""})}):a.render({id:t.id+this.idSuffix,style:r,attr:o,content:""});return e},t.prototype.Dispose=function(t){void 0===t&&(t=!1);try{this._splitArr&&this._splitArr.map(function(t){return t.destroy&&t.destroy()}),this._splitArr=null,t&&(L(this._elem).unbind(),L(this._elem).remove()),this._elem=null,this.layoutConfig=null}catch(t){}},t}(),ba=n(7),Ca=(function(){}(),new(function(){function t(){var t=this;this.maxCount=10,this.triggerChange=function(){if(t.event){var e=(t.CheckeData||[]).concat([]);e&&e.length&&e.sort(function(t,e){var n,i;return t.AssetId===e.AssetId?Object(f.e)(t.MeasDate)-Object(f.e)(e.MeasDate):(null===(n=t.properties)||void 0===n?void 0:n.sortPath)&&(null===(i=e.properties)||void 0===i?void 0:i.sortPath)?t.properties.sortPath>e.properties.sortPath?-1:1:t.AssetId>e.AssetId?1:-1}),Object.keys(t.event).map(function(n){new Promise(function(i,a){var r=t.event[n];try{r&&r(e)}catch(t){}})})}},this.CheckeData=[],this.maxCount=Object(f.v)("RZGraphe_maxgraphe")||10,W.addEvent("AnalysisModelChange",function(e){e.data;t.triggerChange()})}return t.prototype.setMaxCount=function(t){t>10&&(t=10),Object(f.E)("RZGraphe_maxgraphe",t),this.maxCount=t,this.CheckeData.length>this.maxCount&&(this.CheckeData.splice(0,this.CheckeData.length-this.maxCount),this.triggerChange())},t.prototype.Clear=function(){this.CheckeData=[],this.triggerChange()},t.prototype.GetData=function(){return this.CheckeData&&this.CheckeData.length?this.CheckeData.concat([]).sort(function(t,e){var n,i;return t.AssetId===e.AssetId?Object(f.e)(t.MeasDate)-Object(f.e)(e.MeasDate):(null===(n=t.properties)||void 0===n?void 0:n.sortPath)&&(null===(i=e.properties)||void 0===i?void 0:i.sortPath)?t.properties.sortPath>e.properties.sortPath?-1:1:t.AssetId>e.AssetId?1:-1}):[]},t.prototype.AddData=function(t,e){void 0===e&&(e=!0),this.CheckeData||(this.CheckeData=[]),this.CheckeData.filter(function(e){return e.DataKey===t.DataKey}).length>0||(this.CheckeData.length>=this.maxCount&&this.CheckeData.splice(0,1),this.CheckeData.push(t),e&&this.triggerChange())},t.prototype.AddDatas=function(t){var e=this;t.map(function(t){e.AddData(t,!1)}),this.triggerChange()},t.prototype.DeleteData=function(t,e){void 0===e&&(e=!0),this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t}),e&&this.triggerChange()},t.prototype.DeleteDatas=function(t){this.CheckeData=this.CheckeData.filter(function(e){return t.indexOf(e.DataKey)<0}),this.triggerChange()},t.prototype.AddEvent=function(t,e){this.event||(this.event={}),this.event[t]=e},t.prototype.DeleteEvent=function(t){this.event[t]=void 0,delete this.event[t]},t}()));Ca.AddEvent("onTableCheckedChange",function(t){Object(ba.a)("onTableCheckedChange",{data:t})}),ba.b.addListener("onCheckedMaxCountChange",function(t){Ca.setMaxCount(t)}),ba.b.addListener("onCheckedClear",function(t){Ca.Clear()}),window.RZCheckedCache=Ca;var xa=Ca,wa=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Da=function(){function t(t){var e=this;this._chart=t,this.calcSelectXYValue=function(t,n,i){return void 0===i&&(i=null),i?i[n][t]:[e.originalData[n].XInterval*t,e.originalData[n].YData[t]]},this.getYUnitSide=function(t){return e.YUnits[t]||""},this.leftLabelValue=[],this.rightLabelValue=[],this.transOriginalData=function(t){var n,i;e.originalData=t;var a=[];e.leftLabelValue=[],e.rightLabelValue=[],e.YUnits=[];for(var r=0;r<t.length;r++){var o=t[r].YData;if(null==o?void 0:o.length){for(var s=[],l=e.getMaxAndMin(o),c=l.min,u=l.max,h=0,d=o.length;h<d;h++){var p=(o[h]-c)/(u-c)+r+.2*r;s.push([t[r].XInterval*h,p])}if(e.leftLabelValue.push({label:c,value:(c-c)/(u-c)+r+.2*r}),e.leftLabelValue.push({label:u,value:(u-c)/(u-c)+r+.2*r}),null===(n=e.infos)||void 0===n?void 0:n.length){var A=null===(i=e.infos[r])||void 0===i?void 0:i.Path;A=A.split("/")[0],e.rightLabelValue.push({label:Object(f.d)(t[r].MeasDate,"YY/MM/DD HH:mm:ss"),value:r+.2*r}),e.rightLabelValue.push({label:A,value:(r+.2*r+1+r+.2*r)/2}),e.rightLabelValue.push({label:Math.round(1e3*t[r].MeasValue)/1e3+(t[r].YUnit||"")+","+Math.round(1e3*t[r].RunSpeed)/1e3+"RPM",value:1+r+.2*r})}else e.rightLabelValue.push({label:Object(f.d)(t[r].MeasDate,"YY/MM/DD HH:mm:ss"),value:r+.2*r}),e.rightLabelValue.push({label:Math.round(1e3*t[r].RunSpeed)/1e3+"RPM",value:(r+.2*r+1+r+.2*r)/2}),e.rightLabelValue.push({label:t[r].MeasValue.toFixed(3)+t[r].YUnit,value:1+r+.2*r});e.YUnits.push(t[r].YUnit),a.push(s)}else a.push([])}return a},this.getChartOption=function(t){var n=[],i=e,a=0;return t.forEach(function(t){n.push({getExtremesFromAll:!0,keys:i._chart.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,id:"VibDataSeries"+a,data:t,marker:{enabled:!1},color:F.getOptions().colors[0],lineWidth:1,animation:!1}),a++}),{boost:{useGPUTranslations:!1,allowForce:!1},series:n,yAxis:[{title:{text:i.getYUtil(),x:-10},tickPositioner:function(t,e){var n=i.leftLabelValue.filter(function(n){return n.value>=t&&n.value<=e}).map(function(t){return t.value});return 0===n.length?[Math.round(1e3*t)/1e3,Math.round(1e3*(t+(e-t)/2))/1e3,Math.round(.9*e*1e3)/1e3]:wa(wa([t],n),[e])},labels:{formatter:function(){var t=this;try{return i.leftLabelValue.filter(function(e){return e.value===t.value})[0].label.toFixed(3)}catch(t){return""}}},showFirstLabel:!0,showLastLabel:!0},{title:{text:null},linkedTo:0,opposite:!0,gridLineWidth:0,marginRight:200,lineWidth:0,tickLength:0,showFirstLabel:!0,showLastLabel:!0,overflow:"allow",tickPositioner:function(t,e){var n=i.rightLabelValue.filter(function(n){return n.value>=t&&n.value<=e}).map(function(t){return t.value});return 0===n.length?[]:n},labels:{step:1,formatter:function(){var t=this;try{return i.rightLabelValue.filter(function(e){return e.value===t.value})[0].label}catch(t){return""}}}}]}},this.GetInRangeIndex=function(t,n){n||(n=e.leftLabelValue);for(var i=0;i<n.length;i+=2){if(n[i].value<=t&&n[i+1].value>=t)return i/2;if(n[i-1].value<=t&&n[i].value>=t)return t-n[i-1].value>=n[i].value-t?i/2:i/2-1}return 0},this.ClearBaseChart=function(){return xa.Clear(),{xindex:[],option:{}}},this.ClearChart=function(t){e.originalData=[],e.leftLabelValue=[],e.rightLabelValue=[],e.YUnits=[],t&&t(),e._chart.Clear()},this.Init()}return t.prototype.Init=function(){var t=this._chart,e=this;t.getSelectedText=function(n){void 0===n&&(n=!0);var i=e.calcSelectXYValue(t.selectedXIndex,t.selectedYIndex);"°"===t.xUtils&&(i[0]=(i[0]%360).toFixed(3));var a="",r={rate:1,unit:t.xUtils};t.chartConfig.convertUnit&&(r=Object(f.b)(t.xUtils)),t.xUtils=r.unit;var o=e.getYUnitSide(t.selectedYIndex);return a=(i[0]*r.rate).toFixed(3)+t.xUtils+"，"+i[1].toFixed(3)+o,t.GetCursorList()&&t.GetCursorList().length>0&&t.GetCursorList().forEach(function(t){t.GetSelectText&&(a+=t.GetSelectText(n))}),a},t.convertYToIndex=function(t,e){return void 0===e&&(e=0),0}},t.prototype.getMaxAndMin=function(t){for(var e=t||[],n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=0,r=e.length;a<r;a++){var o=e[a];o<n&&(n=o),o>i&&(i=o)}return{min:n,max:i}},t.prototype.getYUtil=function(){return""},t.prototype.render=function(t,e){this.infos=e;var n=this.transOriginalData(t),i=this.getChartOption(n);this._chart.render(n,this.originalData.length>0?this.originalData[0].XUnit:"","",i)},t.prototype.Dispose=function(){this.originalData=null,this.leftLabelValue=null,this.rightLabelValue=null,this._chart=null,this.YUnits=null},t}(),Ia=function(){function t(){var t=this;this.UpdateHelperInfo=function(e){t.MultiChart.layout.UpdateHelperInfo(e)},this.Dispose=function(){t.MultiChart&&t.MultiChart.Dispose(),t.chartHelper&&t.chartHelper.Dispose(),t.chartHelper=null,t.lastUnits=null,t.MultiChart=null,t.ele=null},this.lastUnits=[],this.InitChart=function(e,n,i,a){if(!e)throw"ele is null";var r=new qt(e,Yt.First,{});r.chartName=a,r.layout._InitHelperInfo({path:n,CurosrValue:""}),r.chartConfig.isAllowMaxBtn=!1,r.Init(),t.MultiChart=r;return t.chartHelper=new Da(r),r},this.LoadDataSpec=function(e){var n=t;Si.BatchFetchSpectrum(e).then(function(e){var i=e.length;if(i>15){var a=i-15,r=n.parentHeight/15*a,o=L("#"+n.parentEle).attr("style");L("#"+t.ele).css("cssText",o+";height: calc( 100vh + "+r+"px );")}else{o=L("#"+n.parentEle).attr("style");L("#"+t.ele).css("cssText",o+";height: calc( 100vh );")}n.chartHelper.render(e.map(function(t){return t.data}),[])})}}return t.prototype.Resize=function(){this.MultiChart&&this.MultiChart.Resize()},t.prototype.Clear=function(){this.lastUnits=[],this.MultiChart.Clear(!0)},t}(),Ba=function(){return(Ba=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Ta=function(){function t(t){var e=this;void 0===t&&(t=!0),this.GetTable=function(){return e._table},this.getTableId=function(){return e.tableId},this.getAllData=function(){return O.table.cache[e.tableId]},this.autoSelectedRow=t}return t.prototype.Dispose=function(){O.table.cache[this.tableId]=null,this._table=null,this.lastArgs=null,L("#"+this._elemId).html(""),L("#"+this._elemId).unbind(),this._cols=null},t.prototype.Resize=function(){var t=L("#"+this._elemId);this.lastArgs&&(this.lastArgs.height=t.height()),this._table.resize(t.height())},t.prototype.SetSelectedIndex=function(t,e,n){var i=this;if(void 0===e&&(e=!1),void 0===n&&(n=!0),this.autoSelectedRow){var a=L("#"+this._elemId),r=0,o=0,s=0;if(a.find(".layui-laypage-limits select").length>0){var l=parseInt(a.find(".layui-laypage-limits select").val());s=parseInt(a.find(".layui-laypage-next").attr("data-page"))-2,o=Math.floor(t/l),r=t%l}if(s==o||!1===n||0===s){if(s===o&&a.find(".layui-table-click").attr("data-index")+""==r+"")return void(e&&a.find("tr[data-index='"+r+"']").trigger("click"));a.find("tr[data-index='"+r+"']").addClass("layui-table-click").siblings().removeClass("layui-table-click"),a.find(".layui-table-body").scrollTop(a.find("tr[data-index='"+r+"']").height()*r),e&&a.find("tr[data-index='"+r+"']").trigger("click")}else this._table.reload(Ba(Ba({},this.lastArgs),{page:{curr:o+1,layout:["limit","count","prev","page","next"],limits:[10,20,50,100],groups:1,first:!1,limit:50,last:!1},done:function(t,e,n){e==o+1&&(a.find("tr[data-index='"+r+"']").addClass("layui-table-click").siblings().removeClass("layui-table-click"),a.find(".layui-table-body").scrollTop(a.find("tr[data-index='"+r+"']").height()*r)),i.lastArgs.done&&i.lastArgs.done(t,e,n)}}))}},t.prototype.renderDone=function(t){var e=L("#"+this._elemId),n=parseInt(e.find(".layui-laypage-limits select").val());this.SetSelectedIndex(n*t[1],!0,!1)},t.prototype.OnClick=function(t){var e=O.table;this.onClick=t,e.on("row("+this.tableId+")",function(e){var n=e.data;e.tr.addClass("layui-table-click").siblings().removeClass("layui-table-click"),t&&t(n)})},t.prototype.OnCheck=function(t){O.table.on("checkbox("+this.tableId+")",function(e){t&&t(e)})},t.prototype.Update=function(t){var e=L("#"+this._elemId);this.lastArgs=Ba(Ba(Ba({},this.lastArgs),{height:e.height(),cols:this._cols}),t),this._table&&this._table.reload(this.lastArgs)},t.prototype.Create=function(t,e,n,i){var a=this;void 0===i&&(i=null);var r=O.table;this._cols=n,this._elemId=t;var o=L("#"+t);o.html("");var s="table_"+Object(f.y)();this.tableId=s,this.lastArgs=Ba({elem:"#"+s,height:L(o).height(),data:[],size:"sm",done:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];a.renderDone(t),e&&e(t)},limit:Number.MAX_SAFE_INTEGER,page:{curr:1,layout:["limit","count","prev","page","next"],limits:[10,20,50,100],groups:1,first:!1,limit:50,last:!1},cols:n},i),o.append("<div id='"+s+"'   lay-filter='"+s+"'></div>"),this._table=r.render(this.lastArgs)},t}(),Sa=function(){return function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.tableData=[],this.SetFilterFunc=function(t){n.onFilter=t},this.Init=function(){var t="\n            <div id='ConditionFilter"+n.id+"' lay-filter=\"ConditionFilter"+n.id+'" style="height:450px;width:400px;display:none;"> \n            </div>\n        ';L("body").append(t);var e=new Ta,i=[[{checkbox:!0,width:30,LAY_CHECKED:!0},{width:360,field:"IndexName",title:M.$t("datatable.title.indexname")}]];e.Create("ConditionFilter"+n.id,null,i,{page:!1}),n.table=e},this.Clear=function(){n.tableData=[],n.table&&n.table.Update({data:[]})},this.Dispose=function(){n.tableData=null,U.close(n.layerIndex),n.onFilter=null,L("#ConditionFilter"+n.id).remove(),n.table.Dispose(),n.table=null},this.GetData=function(t,e){void 0===e&&(e=null),t&&t.length>0&&"Root"!=t?Si.BatchFetchIndexCfgs(t,3).then(function(t){if(!t||!t[0].data)return n.Clear(),void(e&&e(null));n.tableData=t[0].data,n.table.Update({data:n.tableData}),e&&e(t[0].data)}).catch(function(t){n.Clear()}):n.Clear()},this.Open=function(){var t=n;t.layerIndex=U.prompt({shade:0,title:M.$t("ConditionFilter.title"),formType:2,content:L("#ConditionFilter"+t.id),btn:[M.$t("btn.ok"),M.$t("btn.reset")],yes:function(e,n){t.FilterData(),t.Close()},btn2:function(e,n){t.ResetFilter(),t.Close()}})},this.Close=function(){U.close(n.layerIndex)},this.FilterData=function(){var t=n.GetCheckedData();t&&n.onFilter&&n.onFilter(t)},this.ResetFilter=function(){n.onReset&&n.onReset()},this.GetCheckedData=function(){if(!n.table||!n.tableData||0==n.tableData.length)return null;var t=n.table.getTableId(),e=[];return O.table.checkStatus(t).data.forEach(function(t){e.push(t.IndexCode)}),e},this.OnSwitchFilterData=function(t){t?n.FilterData():n.onFilter&&n.onFilter([])},this.id=Object(f.y)(),this.onFilter=t,this.onReset=e,this.Init()}}(),Ma=function(){return(Ma=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Ea=function(){function t(){var t=this;this.GetTable=function(){return t._table},this.GetCheckedData=function(){var e=O.treeTable.checked(t._table),n=t.lastArgs.primary_key;return O.treeTable.data(t._table).filter(function(t){return e.indexOf(t[n])>=0})},this.lastArgs=null,this.Update=function(e){var n=O.treeTable;t._table=n.render(Ma(Ma({},t._table),e))},this.setChecked=function(e,n){void 0===n&&(n=!0),O.treeTable.setChecked(t._table,e,n)},this.openAll=function(){O.treeTable.openAll(t._table)},this.setOpen=function(e,n){void 0===n&&(n=!0),O.treeTable.setOpen(t._table,e,n)}}return t.prototype.Resize=function(){},t.prototype.Dispose=function(){L("#"+this._elemId).html(""),this._table=null,this.lastArgs=null},t.prototype.OnCheck=function(t){O.treeTable.on("tree(checked"+this.tableId+")",function(e){t&&t(e)})},t.prototype.render=function(t){var e=O.treeTable,n=L("#"+this._elemId);n.html(""),n.css({overflow:"auto"});var i="table_"+Object(f.y)();this.tableId=i,n.append("<table id='"+i+"' class=\"layui-table graph-table layui-form layui-anim\" lay-filter='"+i+"'></table>"),this.lastArgs=Ma(Ma(Ma({},this.lastArgs),t),{elem:"#"+i}),this._table=e.render(this.lastArgs)},t.prototype.Create=function(t,e,n){void 0===n&&(n=null);var i=O.form;this._elemId=t,this.lastArgs=Ma({data:[],icon_key:"title",is_cache:!0,top_value:0,primary_key:"id",parent_key:"pid",hide_class:"layui-hide",is_click_icon:!0,end:function(t){i.render()},is_checkbox:!0,cols:e},n),this.render(this.lastArgs)},t.prototype.onGotoIndex=function(t,e){void 0===e&&(e=[]);var n=L(t)||[],i=n&&n[0],a=L("[data-id="+e[0]+"]")||[],r=a&&a[0].offsetTop;i.scrollTop=r},t}(),ka=function(){return(ka=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Fa=function(){return function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.tableData=[],this.collectTableData=[],this.SetFilterFunc=function(t){n.onFilter=t},this.Init=function(){var t='\n    <div class="layui-tab layui-tab-brief " id="point'+n.id+'"  lay-filter="point'+n.id+'" style="height:100%;overview:hidden">\n      <div class="layui-tab layui-tab-brief"  lay-filter="pointType'+n.id+'" style="height:100%;">\n        <ul class="layui-tab-title">\n            <li class="layui-this"  data-id="0">\n            '+M.$t("common.deviceWorkingCondition")+'\n            </li>\n            <li data-id="1">\n            '+M.$t("common.deviceParaCollectCondition")+'\n            </li>\n        </ul>\n          <div class="layui-tab-content" style="height:calc(100% - 31px);padding:0">    \n            <div id="deviceWorkingCondition'+n.id+'" class="layui-tab-item layui-show"  style="height: calc(100%);overflow:auto;"></div>\n            <div id="collectWorkingCondition'+n.id+'" class="layui-tab-item "  style="height: 100%;"></div>\n          </div>\n      </div>\n    </div>',e="\n            <div id='ConditionFilter"+n.id+"' lay-filter=\"ConditionFilter"+n.id+'" style="height:450px;width:400px;display:none;"> \n              '+t+"\n            </div>\n        ";L("body").append(e);var i=new Ea,a=[{minWidth:180,key:"name",title:M.$t("datatable.title.indexname")},{minWidth:180,key:"Value",title:"值"}];i.Create("deviceWorkingCondition"+n.id,a,{icon_key:"name",primary_key:"id"}),n.table=i;var r=new Ea,o=[{minWidth:180,key:"name",title:M.$t("datatable.title.indexname")},{minWidth:180,key:"Value",title:"值"}];r.Create("collectWorkingCondition"+n.id,o,{icon_key:"name",primary_key:"id"}),n.collectTable=r},this.Clear=function(){n.tableData=[],n.collectTableData=[],n.table&&n.table.Update({data:[]}),n.collectTable&&n.collectTable.Update({data:[]})},this.Dispose=function(){n.tableData=null,n.collectTableData=null,U.close(n.layerIndex),n.onFilter=null,L("#ConditionFilter"+n.id).remove(),n.table.Dispose(),n.collectTable.Dispose(),n.table=null,n.collectTable=null},this.GetData=function(t,e){void 0===e&&(e=null),t&&t.length>0&&"Root"!=t?(Si.GetDeviceWorkingCondition({assetId:t}).then(function(t){var i=ka(ka({},t),{data:t.data.map(function(t){return Ua(t)})}),a=Oa("ElementType",i.data),r=[];a.forEach(function(t){var e=i.data.find(function(e){return e.ElementType===t});e&&r.push({pid:0,id:"parent-"+e.ElementType,name:e.ElementName,Value:""})});var o=[];if(La(a,"ElementType",i.data).forEach(function(t){t.forEach(function(t,e){o.push(ka(ka({},t),{dataIndex:e}))})}),o.forEach(function(t){r.push(ka(ka({pid:"parent-"+t.ElementType,id:t.Id},t),{name:""+(t.dataIndex+1)}))}),!i||!i.data)return n.Clear(),void(e&&e(null));n.tableData=r,n.table.Update({data:n.tableData}),e&&e(i.data)}).catch(function(t){n.Clear()}),Si.GetDeviceParaCollectCondition({assetId:t}).then(function(t){var i=ka(ka({},t),{data:t.data.map(function(t){return Ua(t)})}),a=Oa("ConditionType",i.data),r=[];a.forEach(function(t){var e=i.data.find(function(e){return e.ConditionType===t});e&&r.push({pid:0,id:"parent-"+e.ConditionType,name:e.ConditionName,Value:""})});var o=[];if(La(a,"ConditionType",i.data).forEach(function(t){t.forEach(function(t,e){o.push(ka(ka({},t),{dataIndex:e}))})}),o.forEach(function(t){r.push(ka(ka({pid:"parent-"+t.ConditionType,id:t.Id},t),{name:""+(t.dataIndex+1)}))}),!i||!i.data)return n.Clear(),void(e&&e(null));n.collectTableData=r,n.collectTable.Update({data:n.collectTableData}),e&&e(i.data)}).catch(function(t){n.Clear()})):n.Clear()},this.Open=function(){var t=n;t.layerIndex=U.prompt({shade:0,title:M.$t("ConditionFilter.title"),formType:2,content:L("#ConditionFilter"+t.id),btn:[M.$t("btn.ok"),M.$t("btn.reset")],yes:function(e,n){t.FilterData(),t.Close()},btn2:function(e,n){t.ResetFilter(),t.Close()}})},this.Close=function(){U.close(n.layerIndex)},this.FilterData=function(){var t;(t=0==L("#ConditionFilter"+n.id).find(".layui-this").attr("data-id")?n.GetCheckedData():n.GetCollectCheckedData())&&n.onFilter&&n.onFilter(t)},this.ResetFilter=function(){n.onReset&&n.onReset()},this.GetCheckedData=function(){var t=n.table.GetCheckedData(),e=[];return t.forEach(function(t){t.is_end&&e.push(t.Id)}),e},this.GetCollectCheckedData=function(){var t=n.collectTable.GetCheckedData(),e=[];return t.forEach(function(t){t.is_end&&e.push(t.Id)}),e},this.OnSwitchFilterData=function(t){t?n.FilterData():n.onFilter&&n.onFilter("")},this.id=Object(f.y)(),this.onFilter=t,this.onReset=e,this.Init()}}();function Oa(t,e){var n=[];return e.forEach(function(e){var i=e[t],a=n.some(function(t){return t===i});!a&&i?n.push(i):a||"number"!=typeof i||0!==i||n.push(i)}),n}function La(t,e,n){var i=[];return t.forEach(function(t){var a=[];n.forEach(function(n){n[e]===t&&a.push(n)}),i.push(a)}),i}function Ua(t){if(!t)return t;var e={};return Object.keys(t).forEach(function(n){var i=function(t){return"string"==typeof t?t.replace(t[0],t[0].toUpperCase()):t}(n);e[i]=t[n]}),e}var Pa=function(){return function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.tableData=[],this.SetFilterFunc=function(t){n.onFilter=t},this.getUpdateHtml=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),"<div class='speedSetting"+n.id+'\'><div>\n    <span style=\'float: left;\tline-height: 28px;margin-right:5px;\'>最小转速:</span>\n    <input type="number" min="1" step="1" class="layui-layer-input" value=\''+t+'\' /></div><div style="margin-top:10px;"><span style=\'float: left;\tline-height: 28px;margin-right:5px;\'>最大转速:</span><input type="number" min="1" step="1" class="layui-layer-input" value=\''+e+"' /></div></div>"},this.getUpdateValue=function(){var t=n,e=L(".speedSetting"+t.id).find("input").eq(0).val(),i=L(".speedSetting"+t.id).find("input").eq(1).val();return{minSpeed:e?Number(e):null,maxSpeed:i?Number(i):null}},this.updateTableData=function(t){var e=n.GetCheckedData();t.map(function(t){var n=e.filter(function(t){return t.minSpeed==t.minSpeed&&t.maxSpeed==t.maxSpeed});t.LAY_CHECKED=n.length>0}),n.table.Update({data:t}),n.tableData=t},this.onEdit=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=n,a=0;a=U.prompt({shade:.3,title:"转速区间",formType:2,shadeClose:!1,content:i.getUpdateHtml(t,e),btn:[M.$t("btn.ok"),"取消"],yes:function(n,r){var o=i.getUpdateValue();if(!o||void 0!==o.minSpeed&&null!==o.minSpeed)if(!o||void 0!==o.maxSpeed&&null!==o.maxSpeed)if(o.maxSpeed<o.minSpeed)U.msg("最大转速需要大于最小转速");else{var s=Object(f.p)(i.table.getAllData())||[];t&&e&&(s=s.filter(function(n){return n.minSpeed!==t&&n.maxSpeed!==e})),s.filter(function(t){return t.minSpeed===o.minSpeed&&t.maxSpeed===o.maxSpeed}).length?U.msg("已存在相同区间"):((s=s).push({minSpeed:o.minSpeed,maxSpeed:o.maxSpeed,key:s.length}),Si.UpdateDeviceSpeedRange(i.deviceId,s).then(function(e){e.data?(U.close(a),i.updateTableData(s)):U.msg(null!==t?"修改失败":"添加失败")}).catch(function(e){U.msg(null!==t?"修改失败":"添加失败")}))}else U.msg("请输入最大转速");else U.msg("请输入最小转速")},btn2:function(t,e){}}),L(".speedSetting"+i.id).find("input").eq(0).val(t||""),L(".speedSetting"+i.id).find("input").eq(1).val(e||"")},this.Init=function(){var t=n,e="\n    <div id='SpeedFilterPanel"+n.id+'\' style="height:450px;width:400px;">\n      <div style="padding-bottom:5px;">\n        <button class="layui-btn layui-btn-xs">添加</button>\n      </div>\n      <div id=\'SpeedFilter'+n.id+"' lay-filter=\"SpeedFilter"+n.id+'" style="height:420px;width:400px;"> \n      </div>\n      </div>\n        ';L("body").append(e),L("#SpeedFilterPanel"+n.id).find("button").click(function(){t.onEdit()});var i=new Ta;i.Create("SpeedFilter"+n.id,null,[[{checkbox:!0,width:30},{width:104,field:"minSpeed",title:"从"},{width:104,field:"maxSpeed",title:"到"},{field:"maxSpeed",title:"操作",width:150,toolbar:'<div><a class="layui-btn layui-btn-xs"  lay-event="edit">编辑</a>\n             <a style="background-color:#ff5722"  lay-event="del" class="layui-btn layui-btn-danger layui-btn-xs" >删除</a></div>'}]],{page:!1}),n.table=i,O.table.on("tool("+i.getTableId()+")",function(e){e.data,"del"===e.event?U.confirm(M.$t("memo.oper.deleteConfirm"),{btn:[M.$t("cascade.loadbtn.yes"),M.$t("cascade.loadbtn.no")],title:M.$t("layui.layer.tip.title")},function(n){var i=t.table.getAllData().filter(function(t){return t.minSpeed!=e.data.minSpeed&&t.maxSpeed!=e.data.maxSpeed});Si.UpdateDeviceSpeedRange(t.deviceId,i).then(function(a){U.close(n),a.data?(e.del(),t.updateTableData(i)):U.msg("删除失败")})}):"edit"===e.event&&t.onEdit(e.data.minSpeed,e.data.maxSpeed)})},this.Clear=function(){n.tableData=[],n.table&&n.table.Update({data:[]})},this.Dispose=function(){n.tableData=null,U.close(n.layerIndex),n.onFilter=null,L("#SpeedFilterPanel"+n.id).remove(),n.table.Dispose(),n.table=null},this.GetData=function(t,e){void 0===e&&(e=null),n.deviceId=t,t?Si.FetchDeviceSpeedRange(t).then(function(t){if(!t||!t.data)return n.Clear(),void(e&&e(null));var i=[];t.data.split(";").map(function(t,e){var n=e,a=t.split("-")[0],r=t.split("-")[1];void 0!==a&&void 0!==r&&i.push({key:n,minSpeed:Number(a),maxSpeed:Number(r)})}),n.tableData=i,n.table.Update({data:i}),e&&e(i)}).catch(function(t){n.Clear()}):n.Clear()},this.Open=function(){var t=n;t.layerIndex=U.prompt({shade:0,title:"转速筛选",formType:2,content:L("#SpeedFilterPanel"+t.id),btn:[M.$t("btn.ok"),M.$t("btn.reset")],yes:function(e,n){t.FilterData(),t.Close()},btn2:function(e,n){t.ResetFilter(),t.Close()}})},this.Close=function(){U.close(n.layerIndex)},this.FilterData=function(){var t=n.GetCheckedData();t&&n.onFilter&&n.onFilter(t)},this.ResetFilter=function(){n.onReset&&n.onReset()},this.GetCheckedData=function(){if(!n.table||!n.tableData||0==n.tableData.length)return[];var t=n.table.getTableId();return O.table.checkStatus(t).data},this.id=Object(f.y)(),this.onFilter=t,this.onReset=e,this.Init()}}(),Ra=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ha=function(){return(Ha=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Qa=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},_a=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Na=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t};function ja(){return!!(G.TableData&&G.TableData.selectedData&&[5,9].indexOf(G.TableData.selectedData.DataType)>=0||G.TableData.filteredFlag)}var Ya,za=function(t){function e(e,n,i,a){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===a&&(a={});var r=t.call(this,e,n)||this;r.Resize=function(){r.chart&&r.chart.Resize()},r.onWhenHidden=function(){if(r.chart)try{r.chart.data=[[]],r.chart.Dispose()}catch(t){}},r.onDisplayChange=function(t){0==t&&(r.ConditionFilterHelper.Close(),r.ConditionFilterHelperV2.Close(),r.SpeedFilterHelper.Close())},r.onAssetTypeNotSupport=function(t){try{if(r.chart.isLockChart)return;r.Clear(),r.lastDataIndexChangeData=null,r.chart.Clear(),r.chart.layout.UpdateHelperInfo({path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})}catch(t){}},r.isShowAlarmLine=!0,r.onAssetChange=function(t){r.onAssetTypeNotSupport(null);var e=r;if(!e.chart.isLockChart){if(r.GetNowIndexData(r.assetId),r.dyPoints.indexOf(r.assetType)>=0||ja()){var n=e.chart;e.ClearMenu(n),n.layout.UpdateHelperInfo({path:e.Path}),n.MenuAfterAction=e.HiddenTimeDomainCriteria,r.dyPoints.indexOf(r.assetType)<0&&ja()&&(e.resdata=t,r.lastDataIndexChangeData=t.data,e.UpdateChart(t))}else e.resdata=t,e.UpdateChart(t);e.MenuAlarmLine(r.chart,!1,!1),e.ConditionFilterHelper.GetData(t.deviceId,null),e.SpeedFilterHelper.GetData(t.deviceId,null),t.deviceId&&r.ConditionFilterHelperV2.GetData(t.deviceId)}},r.UpdateChart=function(t){var e=r,n=e.chart,i=rt.FormatInitData(t,e.InitOriginData),a=i.data,o=i.option;if(a&&a.length>0){var s=t.data.Unit?t.data.Unit:"";try{if(G.TableData.selectedData){var l=G.TableData.selectedData.MeasDate,c=rt.GetMostNearIndex(Object(f.e)(l),a);n.selectedXIndex=c}}catch(t){}n.render([a],"",s,o),n.selectedXIndex=a.length-1,e.ClearMenu(n),n.layout.UpdateHelperInfo({path:e.Path}),n.MenuAfterAction=e.HiddenTimeDomainCriteria}},r.dyPoints=tn.d,r.lastDataIndexChangeData=null,r.GetDataIndex=function(t){return rt.GetMostNearIndexData(t,r.originData,"MeasDate",function(t){return Object(f.e)(t)},!0)},r.InitOriginData=function(t){r.originData=t},r.GetNowIndexData=function(t){t!=r.oldAssetId&&(r.IndexData=[],r.oldAssetId=t,q.a.IndexConfig.map(function(e){1==e.points.length?r.IndexData.push(e):e.points.indexOf(t)>-1&&r.IndexData.push(e)}))},r.HiddenTimeDomainCriteria=function(){var t=r,e=r.chart.GetChartId();return function(){var n=t.assetType;if([5,7,11,4,6,8,9,12].indexOf(n)>=0){(a=document.getElementById("timedomaincriteria"+e)).style.display="none"}else{var i=r;if(L(".indexMenu"+(i.deviceId+i.assetId)).length>0)return;var a=document.getElementById("timedomaincriteria"+e);L(a).append('<div style="display:none;" class="indexMenu'+(i.deviceId+i.assetId)+'"></div>'),a.style.display="block",a.children[0].innerHTML=M.$t("menu.timedomaincriteria")+"<i>▲</i>",a.children[1].innerHTML="",r.IndexData.map(function(t){var n='\n\t\t\t\t\t\t<div class="web-context-menu-item" id="menu'+(t.value+e)+'" >\n\t\t\t\t\t\t\t<span class="menu-item-name">'+t.name+'</span>\n\t\t\t\t\t\t\t<div class="web-context-menu-item"></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="menu-item-line"></div>\n\t\t\t\t\t';L("#timedomaincriteria"+e).children(".web-context-menu-items").append(n),document.getElementById("menu"+(t.value+e)).addEventListener("click",function(){i.TimeDomainClick(i.chart,t)})}),L("#timedomaincriteria"+e).children(".web-context-menu-items").css({"max-height":"500px","overflow-y":"auto"})}t.dyPoints.indexOf(n)>=0?((a=document.getElementById("AddAlarmLine"+e)).style.display="none",(a=document.getElementById("conditionFilter"+e)).style.display="none",(a=document.getElementById("speedFilter"+e)).style.display="none"):((a=document.getElementById("AddAlarmLine"+e)).style.display="block",(a=document.getElementById("conditionFilter"+e)).style.display="block",(a=document.getElementById("speedFilter"+e)).style.display="block")}},r.GenerateMenuByConfig=function(t){var e=q.a.IndexConfig||[],n=r,i=[];return e.map(function(e){i.push({name:e.name,id:e.name+t.GetChartId(),parent:"timedomaincriteria"+t.GetChartId(),callback:function(){n.TimeDomainClick(n.chart,e)}})}),i},r.TimeDomainClick=function(t,e){r.Clear();for(var n=r,i=document.getElementById("timedomaincriteria"+t.GetChartId()).querySelector(".web-context-menu-items").children,a=0,o=i.length;a<o;a++)i[a].currentStyle?i[a].setAttribute("style","color:null"):i[a].style.color=null;var s=document.getElementById("timedomaincriteria"+t.GetChartId()).querySelector("#menu"+e.value+t.GetChartId());s.currentStyle?s.setAttribute("style","color:red"):s.style.color="red",n.param=e.value;var l=n.param,c=(ie.GetQueryByDataRange(),n.assetId);n.dyPoints.indexOf(n.assetType)>=0||ja()?Si.FetchStopIndex(n.lastDataIndexChangeData.WaveKey,l,n.assetId).then(function(e){try{var i=rt.FormatInitData(e,n.InitOriginData,"MeasValue","Datas"),a=i.data,r=i.option,o=e.data.Unit?e.data.Unit:"";t.render([a],"",o,r)}catch(t){n.chart.Clear()}}).catch(function(t){n.chart.Clear()}):Si.FetchTrendData(c,n.assetType,l).then(function(e){var i,a=rt.FormatInitData(e,n.InitOriginData),r=a.data,o=a.option;(null===(i=null==o?void 0:o.series)||void 0===i?void 0:i.length)&&(null==o||o.series.forEach(function(t){var e;(null===(e=null==t?void 0:t.id)||void 0===e?void 0:e.indexOf("alarmline"))>=0&&(t.visible=!n.isShowAlarmLine)}));var s=e.data.Unit?e.data.Unit:"";t.render([r],"",s,o)},function(){n.chart.Clear()})},r.getContextmenu=function(t){var e=r,n=r.GenerateMenuByConfig(t);return Na([{name:""+M.$t("menu.alarmline.show"),id:"AddAlarmLine"+t.GetChartId(),callback:function(){e.MenuAlarmLine(t)}},{name:""+M.$t("menu.timedomaincriteria"),id:"timedomaincriteria"+t.GetChartId(),callback:function(){}},{name:M.$t("menu.working.condition.strategy"),id:"conditionFilterV2"+e.chart.GetChartId(),callback:function(){e.ConditionFilterHelperV2.SetFilterFunc(e.FilterConditionV2.bind(e)),e.ConditionFilterHelperV2.SetReset(e.ResetFilterConditionV2.bind(e)),e.ConditionFilterHelperV2.Open()}},{name:M.$t("menu.speed.selection"),id:"speedFilter"+e.chart.GetChartId(),callback:function(){e.SpeedFilterHelper.Open()}},{name:M.$t("ConditionFilter.title"),id:"conditionFilter"+e.chart.GetChartId(),callback:function(){e.ConditionFilterHelper.SetFilterFunc(e.FilterCondition.bind(e)),e.ConditionFilterHelper.SetReset(e.ResetFilterCondition.bind(e)),e.ConditionFilterHelper.Open()}}],n)},r.MenuAlarmLine=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);var i=r;(e?i.isShowAlarmLine:!i.isShowAlarmLine)?(n&&(i.isShowAlarmLine=!1),t.HideOrShowAlarmLine(!0),document.getElementById("AddAlarmLine"+t.GetChartId())&&(document.getElementById("AddAlarmLine"+t.GetChartId()).getElementsByTagName("span")[0].innerHTML=""+M.$t("menu.alarmline.hide"))):(n&&(i.isShowAlarmLine=!0),t.HideOrShowAlarmLine(!1),document.getElementById("AddAlarmLine"+t.GetChartId())&&(document.getElementById("AddAlarmLine"+t.GetChartId()).getElementsByTagName("span")[0].innerHTML=""+M.$t("menu.alarmline.show")))},r.ClearMenu=function(t){var e,n=document.getElementById("timedomaincriteria"+t.GetChartId());if(n)for(var i=0,a=(e=n.querySelector(".web-context-menu-items").children).length;i<a;i++)e[i].style.color=null},r.SpeedFilterHelper={table:null,Init:function(){var t=new Pa(null);r.SpeedFilterHelper.table=t,r.SpeedFilterHelper.SetFilterFunc(r.SpeedFilter.bind(r)),r.SpeedFilterHelper.SetReset(r.ResetFilterCondition.bind(r))},GetData:function(t,e){void 0===e&&(e=null),r.SpeedFilterHelper.table.GetData([t],e)},Open:function(){r.SpeedFilterHelper.table.Open()},SetFilterFunc:function(t){r.SpeedFilterHelper.table.SetFilterFunc(t)},GetCheckedData:function(){return r.SpeedFilterHelper.table.GetCheckedData()},Close:function(){r.SpeedFilterHelper.table.Close()},Dispose:function(){r.SpeedFilterHelper.table.Dispose()},SetReset:function(t){r.SpeedFilterHelper.table.onReset=t}},r.SpeedFilter=function(t){var e=r,n=JSON.parse(JSON.stringify(e.resdata)),i=n.data.IndexDatas,a=[];if(t&&t.length>0){for(var o=function(e,n){var r=i[e].RunSpeed,o=!1;t.forEach(function(t){t.maxSpeed>r&&r>=t.minSpeed&&(o=!0)}),o&&a.push(i[e])},s=0,l=i.length;s<l;s++)o(s);n.data.IndexDatas=a,e.UpdateFilterChart(n)}},r.ConditionFilterHelper={table:null,Init:function(){var t=new Sa(null);r.ConditionFilterHelper.table=t},GetData:function(t,e){void 0===e&&(e=null),r.ConditionFilterHelper.table.GetData([t],e)},Open:function(){r.ConditionFilterHelper.table.Open()},SetFilterFunc:function(t){r.ConditionFilterHelper.table.SetFilterFunc(t)},GetCheckedData:function(){return r.ConditionFilterHelper.table.GetCheckedData()},Close:function(){r.ConditionFilterHelper.table.Close()},Dispose:function(){r.ConditionFilterHelper.table.Dispose()},SetReset:function(t){r.ConditionFilterHelper.table.onReset=t}},r.FilterCondition=function(t){var e=r,n=JSON.parse(JSON.stringify(e.resdata)),i=n.data.IndexDatas,a=[];if(t&&t.length>0){for(var o=0,s=i.length;o<s;o++)t.includes(i[o].Condition)&&a.push(i[o]);n.data.IndexDatas=a,e.UpdateFilterChart(n)}},r.ResetFilterCondition=function(){var t=r,e=t.resdata;t.UpdateFilterChart(e)},r.UpdateFilterChart=function(t){G.TableData.data=t.data.IndexDatas,G.TableData.UpdateTable(t.data.IndexDatas);var e=r.chart,n=rt.FormatInitData(t),i=n.data,a=n.option,o=t.data.Unit?t.data.Unit:"";e.render([i],"",o,a)},r.ConditionFilterHelperV2={table:null,Init:function(){var t=new Fa(null);r.ConditionFilterHelperV2.table=t},GetData:function(t){r.ConditionFilterHelperV2.table.GetData([t])},Open:function(){r.ConditionFilterHelperV2.table.Open()},SetFilterFunc:function(t){r.ConditionFilterHelperV2.table.SetFilterFunc(t)},GetCheckedData:function(){return r.ConditionFilterHelperV2.table.GetCheckedData()},Close:function(){r.ConditionFilterHelperV2.table.Close()},Dispose:function(){r.ConditionFilterHelper.table.Dispose()},SetReset:function(t){r.ConditionFilterHelperV2.table.onReset=t},InitQuery:function(){var t='<div style="margin-top: 5px; margin-left: 9px;"><input id="conditionFilterButton" type="checkbox" name="ckAll" lay-filter="conditionFilterButton'+r.id+'" lay-skin="primary" style="display:none;" title="'+M.$t("ConditionFilter.title")+"\" value='All' /></div>";L("#right_top"+r.id).append(t);var e=O.form;e.render();var n=r;e.on("checkbox(conditionFilterButton"+r.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.ConditionFilterHelperV2.table.OnSwitchFilterData(!0):n.ConditionFilterHelperV2.table.OnSwitchFilterData(!1),!0})}},r.FilterConditionV2=function(t){return Qa(r,void 0,void 0,function(){var e,n,i;return _a(this,function(a){switch(a.label){case 0:if(!(null==t?void 0:t.length))return this.ResetFilterConditionV2(),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),e=t.join(";"),[4,Si.FetchTrendData(this.assetId,this.assetType,this.param,e)];case 2:return n=a.sent(),i=Ha(Ha({},this.resdata),{data:null==n?void 0:n.data}),this.UpdateFilterChart(i),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},r.ResetFilterConditionV2=function(){r.ResetFilterCondition()},r.chartName="TrendChart";var o={onMainCursorMoved:function(t,e,n,i){var o,c,u=s.GetDataIndex(Object(f.r)(n[0]));if(a.onChange&&a.onChange(s.originData[u].WaveKey),"TwsGroup"!==s.chartName||"first"!==i){var h=s.dyPoints.indexOf(s.assetType)>=0?"startdown":"";s.event.DispatchEvent("TrendChange",Ha(Ha({},s.originData[u]),{MeasDate:Object(f.r)(n[0]),assetid:s.assetId,assetType:s.assetType,path:s.Path,MeasValue:n&&n.MeasValue?n.MeasValue.toFixed(3):"",source:h,DataType:(null===(o=r.lastDataIndexChangeData)||void 0===o?void 0:o.DataType)?r.lastDataIndexChangeData.DataType:(null===(c=s.originData[u])||void 0===c?void 0:c.DataType)?s.originData[u].DataType:0})),l.UpdateLayoutHelperInfo()}else l.UpdateLayoutHelperInfo()},onMainCursorMoving:function(t,e){l.UpdateLayoutHelperInfo()},onRenderEnd:function(t,e){s.originData&&s.originData.length>0&&(0==l.selectedXIndex&&(l.selectedXIndex=s.originData.length-1),l.MoveMainCursor(!0,!0,!0,!1,!1))},onMaxBtnClick:function(){s.Resize()}},s=r,l=new qt(e,Yt.Last,o);r.fastIsEqual=!1,r.chart=l,l.layout._InitHelperInfo({path:r.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var c=r.getContextmenu(l);return l.AddMenuItem(c),l.chartConfig.isAllowMaxBtn=i,l.chartConfig.xIsTime=!0,l.OpenMeunCallBack=r.HiddenTimeDomainCriteria(),l.Init(),r.addEvent("onDataIndexChange",function(t){if(!s.chart.isLockChart)if(r.dyPoints.indexOf(r.assetType)>=0&&!t.data.force)s.onAssetTypeNotSupport(null),ja()&&(r.lastDataIndexChangeData=t.data,Si.FetchVibDataDetails(t.data.WaveKey).then(function(t){var e=s.chart,n=rt.FormatInitData(t,s.InitOriginData,"MeasValue","Datas"),i=n.data,a=n.option;if(i&&i.length>0){var r=t.data.Unit?t.data.Unit:"";e.render([i],"",r,a),e.selectedXIndex=i.length-1,s.ClearMenu(e),e.layout.UpdateHelperInfo({path:s.Path}),e.MenuAfterAction=s.HiddenTimeDomainCriteria()}}).catch(function(t){}));else{var e=Object(f.e)(t.data.MeasDate),n=t.data.MeasValue,i=l.getMostIndexX(e,n);i&&(l.selectedXIndex=i[0],l.UpdateLayoutHelperInfo(),l.MoveMainCursor(!0,!0,!0,!1,!1))}}),r.ConditionFilterHelper.Init(),r.SpeedFilterHelper.Init(),r.ConditionFilterHelperV2.Init(),r.ConditionFilterHelperV2.InitQuery(),r}return Ra(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chart.Dispose(),this.chart=null,this.ConditionFilterHelper.Dispose(),this.ConditionFilterHelperV2.Dispose(),this.SpeedFilterHelper.Dispose()}catch(t){}},e.prototype.Clear=function(){this.chart.Clear()},e}(J),Ga=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Va=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.chartName="CascadeChart",i.dyPoints=tn.d,i.lastWaveKey=null,i.lastDataIndexChangeData=null,i.Dispose=function(){try{i.chartHelper.Dispose(),L(i.element).html(""),i.chartHelper=null,i.element=null}catch(t){}},i.Resize=function(){i.chartHelper.chart&&i.chartHelper.chart.Resize&&i.chartHelper.chart.Resize()},i.onBaseTrendChange=function(){},i.onAssetTypeNotSupport=function(){i.chartHelper.Clear()},i.onAssetChange=function(){i.chartHelper.Clear(),i.chartHelper.UpdateHelperInfo({path:i.Path})},i.LoadData=function(t){var e=i;Si.FetchVibDataDetails(i.lastWaveKey).then(function(n){var i=n.data.Datas,a=void 0===i?[]:i;a=a.sort(function(t,e){return t.RunSpeed-e.RunSpeed}),a="on"==t.filterType?a.filter(function(e){return e.RunSpeed>=parseInt(t.minSpeed)&&e.RunSpeed<=parseInt(t.maxSpeed)}):a.filter(function(e){return Object(f.e)(e.MeasDate)>=Object(f.e)(t.stime)&&Object(f.e)(e.MeasDate)<=Object(f.e)(t.etime)});for(var r={},o=0;o<a.length;o++)a[o].DataLen>524288||r[a[o].RunSpeed]||(r[a[o].RunSpeed]=a[o]);var s=[],l=Object.keys(r);t.speedX=parseInt(t.speedX);for(o=0;o<l.length;o+=t.speedX)s.push({WaveKey:r[l[o]].WaveKey,start:0,dataLen:0});s.length>=20?O.layer.confirm(M.$t("cascade.loadinfo.text",{count:s.length}),{btn:[M.$t("cascade.loadbtn.yes"),M.$t("cascade.loadbtn.no")]},function(){O.layer.closeAll(),e.chartHelper.Load(s),e.chartHelper.UpdateHelperInfo({path:e.Path})},function(){O.layer.closeAll()}):(e.chartHelper.Load(s),e.chartHelper.UpdateHelperInfo({path:e.Path}))}).catch(function(){})},i.chartHelper={Dispose:function(){i.chartHelper.chart&&i.chartHelper.chart.Dispose()},UpdateHelperInfo:function(t){var e=i.chartHelper.chart;e&&e.UpdateHelperInfo(t)},Init:function(t,e){var n=new Ia;n.InitChart(t,e,"",i.chartName),i.chartHelper.chart=n},Clear:function(){var t=i.chartHelper.chart;t&&t.Clear(),i.lastWaveKey=null},chart:null,Load:function(t){i.chartHelper.chart.LoadDataSpec(t)}};var a=i;return i.InitLayout(),i.chartHelper.Init("left"+i.id,i.Path),i.addEvent("onDataIndexChange",function(t){a.chartHelper.chart.isLockChart||9999===t.data.assetType||i.lastWaveKey!==t.data.WaveKey&&(a.onAssetTypeNotSupport(),5===t.data.DataType||9===t.data.DataType||ja()?(i.lastDataIndexChangeData=t.data,i.lastWaveKey=t.data.WaveKey,Si.FetchVibDataDetails(i.lastWaveKey).then(function(t){var e=t.data.Datas,n=void 0===e?[]:e,a=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,o="",s="";n.map(function(t){a<t.RunSpeed&&(a=t.RunSpeed),r>t.RunSpeed&&(r=t.RunSpeed),(""==s||Object(f.e)(s)<Object(f.e)(t.MeasDate))&&(s=t.MeasDate),(""==o||Object(f.e)(o)>Object(f.e)(t.MeasDate))&&(o=t.MeasDate)}),L("#minSpeed"+i.id).val(r),L("#maxSpeed"+i.id).val(a),L("#stime"+i.id).val(Object(f.d)(o,"YYYY/MM/DD HH:mm:ss")),L("#etime"+i.id).val(Object(f.d)(s,"YYYY/MM/DD HH:mm:ss"))})):a.chartHelper.Clear())}),i}return Ga(e,t),e.prototype.InitLayout=function(){var t=this,e=new ga;e.items=[{id:"left"},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[85,15],callBack:function(){t.Resize()}}],new va(e,this.id).render(L(this.element)),(new fa).render("#right"+this.id,M.$t("leftbar.form.control"),"<div class='layui-form' action='' id='formDataRange'><div id=\"controlcard"+this.id+'" style="overflow:auto">\n\n\t\t\t<div class="layui-form-item" id="switchName'+this.id+'">\n\t\t\t\n\t\t\t<input type="radio" name="filterType" value="on" title="'+M.$t("cascade.form.speedrange")+'" checked=""  lay-filter="filterType'+this.id+'">\n      <input type="radio" name="filterType" value="off" title="'+M.$t("cascade.form.timerange")+'"  lay-filter="filterType'+this.id+'">\n\t\t\t\n\t\t\t</div>\n\t\t\t</div>\n    <div id="speedRange'+this.id+'">\n    <div class="layui-form-item" style="padding-left:20px;padding-right:20px;"> '+M.$t("datatable.filter.time.from")+'\n    <input type="number" id="minSpeed'+this.id+'" name="minSpeed" autocomplete="off" min=\'1\' class="layui-input" value=\'1\' onkeyup="this.value=this.value.replace(/[^.-d]/g,\'\');" style="height:28px;">\n\t\t</div>\n\t\t<div class="layui-form-item" style="padding-left:20px;padding-right:20px;">'+M.$t("datatable.filter.time.to")+'\n    <input type="number" id="maxSpeed'+this.id+'" name="maxSpeed" autocomplete="off" min=\'1\' class="layui-input" value=\'1\' onkeyup="this.value=this.value.replace(/[^.-d]/g,\'\');" style="height:28px;">\n\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div id="timeRange'+this.id+'" style="display:none">    \n    <div class="layui-form-item" style="padding-left:20px;padding-right:20px;"> '+M.$t("datatable.filter.time.from")+'\n    <input type="text" id="stime'+this.id+'" name="stime" autocomplete="off" class="layui-input" style="height:28px;">\n\t\t</div>\n\t\t<div class="layui-form-item" style="padding-left:20px;padding-right:20px;">'+M.$t("datatable.filter.time.to")+'\n    <input type="text" id="etime'+this.id+'" name="etime" class="layui-input"  style="height:28px;">\n\t\t</div></div>\n\n\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n    <label>'+M.$t("cascade.speed.multinum")+'</label>\n    </div>\n    <div class="layui-form-item" style="padding-left:20px;padding-right:20px;">\n    <input type="number" id="speedX'+this.id+'" name="speedX" autocomplete="off" min=\'1\' class="layui-input" value=\'1\' onkeyup="this.value=this.value.replace(/[^.-d]/g,\'\');" style="height:28px;">\n\t\t</div>\n\t\t<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;\'>\n\t\t<button class="layui-btn layui-btn-sm" lay-submit=""  lay-filter="btnQuery'+this.id+'" id="btnQuery'+t.id+'">'+M.$t("btn.ok")+"</button>\n</div>\n      </div></div>"),ie.renderDateTime("stime"+this.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00:00"),"","yyyy/MM/dd HH:mm:ss"),ie.renderDateTime("etime"+this.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59:59"),"","yyyy/MM/dd HH:mm:ss");var n=O.form;n.render(),n.on("radio(filterType"+this.id+")",function(e){"on"===e.value?(L("#switchName"+t.id).find(".layui-form-label").text(""+M.$t("cascade.form.speedrange")),L("#speedRange"+t.id).show(),L("#timeRange"+t.id).hide()):(L("#switchName"+t.id).find(".layui-form-label").text(""+M.$t("cascade.form.timerange")),L("#speedRange"+t.id).hide(),L("#timeRange"+t.id).show())}),n.on("submit(btnQuery"+t.id+")",function(e){if(!t.lastWaveKey)return!1;var n=e.field;return t.LoadData(n),!1})},e}(J),Ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wa=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Resize=function(){i.chart&&i.chart.Resize()},i.onTemporaryDataClick=function(t){var e=t.WaveKey,n=void 0===e?void 0:e;t.DataType;i.onAssetTypeNotSupport(),i.chart.layout.UpdateHelperInfo({path:""}),n&&(i.lastDataKey=n,i.assetType=11,i.LoadData(n))},i.onAssetTypeNotSupport=function(t){if(void 0===t&&(t=null),!i.chart.isLockChart)try{i.lastDataKey=null,i.chart.hchartInstance&&i.chart.hchartInstance.destroy&&i.chart.hchartInstance.destroy(),i.chart.layout.UpdateHelperInfo({path:"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})}catch(t){}},i.onAssetChange=function(t){i.chart.isLockChart||(i.lastDataKey=null,i.onAssetTypeNotSupport(null),i.chart.layout.UpdateHelperInfo({path:i.Path}))},i.onTrendChange=function(t){if(!i.chart.isLockChart){var e=i,n=t.WaveKey;if(!n)return e.lastDataKey=n,void e.onAssetTypeNotSupport(null);n!=e.lastDataKey&&(e.lastDataKey=n,e.onAssetTypeNotSupport(null),e.LoadData(n))}},i.LoadData=function(t){var e=i;Si.FetchDataCepstrum(t,function(t){var e=t.data;i.chart.RemarkContent=e.Description,i.chart.layout.UpdateHelperInfo({MeasValue:(null!==e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:e.MeasDate});for(var n=[],a=0,r=e.YData.length;a<r;a++)n.push([a*e.XInterval,e.YData[a]]);i.chart.render([n],e.XUnit,e.YUnit)},function(){e.onAssetTypeNotSupport(null)})},i.chartName="CepstrumChart",i.chart=new qt(e),i.chart.layout._InitHelperInfo({path:i.Path||"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),i.chart.Init(),i}return Ka(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chart.Dispose(),this.chart=null,this.element=null}catch(t){}},e}(J),Xa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qa=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Ja=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.Resize=function(){i.chart&&i.chart.Resize();var t=L("#table"+i.id);i.table.reload({height:t.height(),width:t.width(),data:i.data})},i.helperInfoVisibility=!1,i.select="Temperature",i.CreateLayout=function(){var t=i.element;L(t).addClass("rzgraph"),L(t).addClass(i.id);var e=L(i.element).width();L(t).append("<div style='width:100%;height:100%;'>\n\t\t\t\t<div id='chartcontent"+i.id+"' style='width:100%'>\n\t\t\t\t\t<div id='chart"+i.id+"' style='height:100%;float:left;width:"+(.87*e-2.5)+"px'></div>\n\t\t\t\t\t<div id='select"+i.id+"' style='float:left;height:100%;width:"+(.13*e-2.5)+"px;'>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id='table"+i.id+"' style='width:100%'>\n\t\t\t\t\t<div id='table1"+i.id+"' lay-filter='"+i.id+"'></div>\n\t\t\t\t</div>\n\t\t\t</div>"),i.CreateTable(),i.CreateSelect()},i.RenderDone=function(t,e,n){L("#table"+i.id).find("[data-index='0']").addClass("layui-table-click").trigger("click").siblings().removeClass("layui-table-click")},i.onAssetChange=function(){var t=i;if(!i.chart.isLockChart){t.data=[];var e=i.chart;i.chart.layout.UpdateHelperInfo({path:i.Path,RotatingSpeed:"",MeasTime:"",CurosrValue:""}),t.assetId&&Si.FetchCHLogs(t.assetId).then(function(n){n.data&&n.data.Datas&&(n.data.Datas=(n.data.Datas||[]).sort(function(t,e){return new Date(t.MeasDate).getTime()-new Date(e.MeasDate).getTime()}));var a=Za.FormatInitData(n,null,t.select),r=a.data,o=a.option;if(r&&r.length>0){var s=n.data.Unit?n.data.Unit:"";t.data=n.data.Datas.concat([]),i.UpdataTableData(qa([],n.data.Datas)),e.render([r],"",s,o),e.selectedXIndex=r.length-1,e.MoveMainCursor(!0,!0,!0,!1,!0);var l=e.GetSelectedXY();l&&e.layout._InitHelperInfo({MeasValue:l[1],MeasTime:Object(f.r)(l[0]),path:t.Path})}},function(){i.onAssetTypeNotSupport()})}},i.GetDataIndex=function(t){for(var e=0,n=i.data.length;e<n;e++)if(t===Object(f.e)(i.data[e].MeasDate))return e;return-1},i.onChartCursorMove=function(t,e,n){if(n){i.chart.UpdateLayoutHelperInfo();var a=i.GetDataIndex(n[0]);if(!(a<0)){var r=parseInt(L(i.element).find(".layui-laypage-next").attr("data-page"))-2,o=Math.floor(a/50),s=a%50;r==o||i.table.reload({data:i.data,page:{curr:o+1,layout:["count","prev","page","next"],limits:[20,50,100],groups:1,first:!1,limit:50,last:!1}}),L(i.element).find("tr[data-index='"+s+"']").addClass("layui-table-click").siblings().removeClass("layui-table-click"),L(i.element).find(".layui-table-body").scrollTop(L(i.element).find("tr[data-index='"+s+"']").height()*s)}}},i.onAssetTypeNotSupport=function(){try{i.chart.hchartInstance&&i.chart.hchartInstance.destroy&&i.chart.hchartInstance.destroy(),i.chart.layout.UpdateHelperInfo({path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var t=L("#table"+i.id);i.table.reload({width:t.width(),data:[],page:{curr:1}})}catch(t){}},i.CreateLayout(),i.chartName="ChannelLogChart";var a=new Xt;a.onMainCursorMoved=i.onChartCursorMove,i.chart=new qt(document.getElementById("chart"+i.id),Yt.Last,a),i.chart.chartConfig.xIsTime=!0,i.chart.layout._InitHelperInfo({path:i.Path||"",CurosrValue:""}),i.chart.selectedXIndex=0,i.chart.Init();var r=i;return i.layout2=Ji(["#chartcontent"+i.id,"#table"+i.id],{gutterSize:5,sizes:[70,30],direction:"vertical",onDragEnd:function(){r.Resize()}}),i.layout3=Ji(["#chart"+i.id,"#select"+i.id],{gutterSize:5,sizes:[87,13],onDragEnd:function(){r.Resize()}}),i}return Xa(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.chart&&this.chart.Dispose(),this.chart=null,L(this.element).remove(),this.element=null},e.prototype.CreateSelect=function(){var t=this,e=this,n="";this.SelectConfig().map(function(i){i.select&&(e.select=i.value),n+='\n\t\t\t\t\t\t<input  type="radio" lay-filter="Select'+t.id+'" name="Select'+t.id+'" '+(i.select?"checked":"")+' value="'+i.value+'" title="'+i.name+'"></input>\n\t\t\t\t\t'}),(new fa).render("#select"+this.id,M.$t("leftbar.title.title"),"<div id='selectDiv"+this.id+"' style='overflow:auto;height:100%;'></div>"),L("#selectDiv"+this.id).append('<div action=\'\'  class="layui-form bar_radio_list">\n  \t\t\t\t<div class="layui-form-item">\n\t\t\t\t\t'+n+"\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t"),O.use("form",function(){O.form.on("radio(Select"+e.id+")",function(t){e.select=t.value;var n=e.chart,i=e.data,a=rt.formatData(i,e.select),r=rt.GetTrendOption(a,[[],[],[],[]]),o=n.selectedXIndex;e.chart.render([a],"",e.chart.yUtils,r),n.selectedXIndex=o,n.MoveMainCursor(!0,!0,!0,!1,!1);var s=n.GetSelectedXY();n.layout._InitHelperInfo({MeasValue:s?s[1]:"",MeasTime:s?Object(f.r)(s[0]):"",path:e.Path})})}),O.form.render()},e.prototype.SelectConfig=function(){return[{name:M.$t("datatable.title.temperature"),value:"Temperature",select:!0},{name:M.$t("datatable.title.voltage"),value:"Voltage"},{name:"RSSI",value:"RSSI"},{name:M.$t("datatable.title.transtime"),value:"TransTime"},{name:M.$t("datatable.title.startstate"),value:"TransErrs"},{name:M.$t("channel.log.ReTransmissiontimes"),value:"ReTransmissiontimes"},{name:M.$t("channel.log.TotalNumber"),value:"TotalNumber"},{name:M.$t("channel.log.Current"),value:"Currenti"},{name:M.$t("channel.log.EnergyCumulative"),value:"EnergyCumulative"},{name:M.$t("channel.log.AvgCurrenti"),value:"AvgCurrenti"},{name:M.$t("channel.log.Resistor"),value:"Resistor"},{name:M.$t("channel.log.LQI"),value:"LQI"}]},e.prototype.CreateTable=function(){var t=this,e=O.table,n=L("#table"+this.id);this.table=e.render({elem:"#table1"+this.id,height:n.height(),width:n.width(),data:[],done:function(e,n,i){t.RenderDone(e,n,i)},page:{curr:1,layout:["count","prev","page","next"],limits:[20,50,100],groups:1,first:!1,limit:50,last:!1},cols:[[{field:"MeasDate",minWidth:160,title:M.$t("datatable.title.measdate"),templet:function(t){return""+Object(f.r)(t.MeasDate)}},{field:"ElecticV",minWidth:110,title:M.$t("datatable.title.voltage")+"(V)",templet:function(t){return""+t.Voltage.toFixed(3)}},{field:"RSSI",minWidth:120,title:"RSSI",templet:function(t){return t.RSSI?""+t.RSSI.toFixed(3):""}},{field:"TransTime",minWidth:120,title:M.$t("datatable.title.transtime")+"(ms)",templet:function(t){return""+t.TransTime.toFixed(3)}},{field:"TransErrs",minWidth:140,title:M.$t("datatable.title.startstate"),templet:function(t){return""+t.TransErrs}},{field:"Temperature",minWidth:100,title:M.$t("datatable.title.temperature")+"(℃)",templet:function(t){return""+t.Temperature.toFixed(3)}},{field:"ReTransmissiontimes",title:M.$t("channel.log.ReTransmissiontimes"),minWidth:120},{field:"TotalNumber",title:M.$t("channel.log.TotalNumber"),minWidth:120},{field:"Currenti",title:M.$t("channel.log.Current")+"(mA)",minWidth:120},{field:"LogTime",title:M.$t("channel.log.LogTime"),minWidth:160,templet:function(t){return""+Object(f.r)(t.MeasDate)}},{field:"EnergyCumulative",title:M.$t("channel.log.EnergyCumulative"),minWidth:120,templet:function(t){return""+(t.EnergyCumulative?t.EnergyCumulative.toFixed(3):0)}},{field:"AvgCurrenti",title:M.$t("channel.log.AvgCurrenti")+"(mA)",minWidth:120},{field:"Resistor",title:M.$t("channel.log.Resistor")+"(Ω)",minWidth:120,templet:function(t){return""+(t.Resistor?t.Resistor.toFixed(3):0)}},{field:"LQI",title:M.$t("channel.log.LQI"),minWidth:120,templet:function(t){return""+(t.LQI?t.LQI.toFixed(3):0)}}]]}),e.on("row("+this.id+")",function(e){var n=e.data;e.tr.addClass("layui-table-click").siblings().removeClass("layui-table-click"),t.DataIndexChange(n)})},e.prototype.DataIndexChange=function(t){var e=rt.GetMostNearIndex(Object(f.e)(t.MeasDate),this.chart.data[0],0);this.chart.selectedXIndex=e,this.chart.MoveMainCursor(!0,!0,!0,!1,!1)},e.prototype.UpdataTableData=function(t){t=(t||[]).sort(function(t,e){return new Date(e.MeasDate).getTime()-new Date(t.MeasDate).getTime()});var e=L("#table"+this.id);this.table.reload({width:e.width(),data:t,height:e.height(),page:{curr:1,layout:["count","prev","page","next"]}})},e}(J),Za=function(){function t(){}return t.FormatInitData=function(t,e,n){if(void 0===n&&(n="Temperature"),!t||!t.data||!t.data.Datas)return{option:{},data:[]};e&&e(t.data.Datas);var i=t.data.Datas;i=(i||[]).sort(function(t,e){return new Date(e.MeasDate).getTime()-new Date(t.MeasDate).getTime()});var a=rt.formatData(i,n),r=t.data.AlarmLimits||[],o=rt.InitAlarmLine(r,a);return{option:rt.GetTrendOption(a,o),data:a}},t}(),$a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tr=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.helperInfoVisibility=!1,i.Resize=function(){i.UpdataTableLayout(),i.chart.Resize()},i.CreateLayout=function(){var t=i.element;L(t).addClass("rzgraph"),L(t).addClass(i.id);var e=L(t).height(),n=L(i.element).width();L(t).append("<div style='width:100%;height:100%;'><div id='chart"+i.id+"' style='height:100%;float:left;width:"+(.8*n-2.5)+"px'></div><div id='table"+i.id+"' style='height:100%;float:left;width:"+(.2*n-2.5)+"px;height:"+e+"px'><div id='table1"+i.id+"' lay-filter='"+i.id+"'></div></div></div>"),i.CreateTable()},i.onAssetTypeNotSupport=function(t){if(!i.chart.isLockChart)try{i.chart.hchartInstance&&i.chart.hchartInstance.destroy&&i.chart.hchartInstance.destroy(),i.chart.layout.UpdateHelperInfo({path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),i.UpdataTableData([])}catch(t){}},i.RenderDone=function(t,e,n){if(i.chart){var a=i.chart,r=a.getSelectedText(!1);a.layout.UpdateHelperInfo({CurosrValue:r})}L("#table"+i.id).find("[data-index='0']").addClass("layui-table-click").trigger("click").siblings().removeClass("layui-table-click")},i.GetData=function(t){var e,n,a=(null===(e=null==t?void 0:t.dates)||void 0===e?void 0:e.startTime)||"",r=(null===(n=null==t?void 0:t.dates)||void 0===n?void 0:n.endTime)||"";if(!i.chart.isLockChart){var o=i,s=i.chart;Si.FetchCHTemperatures(i.assetId,a,r).then(function(t){t.data.IndexDatas=t.data.Datas;var e=rt.FormatInitData(t),n=e.data,a=e.option,r=t.data.Unit;if(i.data=t.data.Datas,i.UpdataTableData(i.data),s.render([n],"",r,a),n&&n.length>0){s.selectedXIndex=n.length-1,s.MoveMainCursor(!0,!0,!0,!1,!0);var l=s.GetSelectedXY();s.layout._InitHelperInfo({MeasValue:l[1],MeasTime:Object(f.r)(l[0]),path:o.Path})}}).catch(function(t){o.data=[],i.UpdataTableData(o.data)})}},i.onAssetChange=function(t){i.chart.Clear(),i.chart.layout.UpdateHelperInfo({path:i.Path||"",CurosrValue:""}),i.chart.selectedXIndex=0,i.GetData(t)},i.EventManage=function(){var t=i;i.addEvent("TempDataRangeChange",function(){t.GetData()})},i.GetDataIndex=function(t){for(var e=0,n=i.data.length;e<n;e++)if(t===Object(f.e)(i.data[e].MeasDate))return e;return-1},i.onChartCursorMove=function(t,e,n){if(n){var a=i.GetDataIndex(n[0]);if(!(a<0)){var r=parseInt(L(i.element).find(".layui-laypage-next").attr("data-page"))-2,o=Math.floor(a/50),s=a%50;r==o||i.table.reload({data:i.data,page:{curr:o+1,layout:["count","prev","page","next"],limits:[20,50,100],groups:1,first:!1,limit:50,last:!1}}),L(i.element).find("tr[data-index='"+s+"']").addClass("layui-table-click").siblings().removeClass("layui-table-click"),L(i.element).find(".layui-table-body").scrollTop(L(i.element).find("tr[data-index='"+s+"']").height()*s)}}},i.chartName="ChannelTemp",i.CreateLayout();var a=new Xt;a.onMainCursorMoved=i.onChartCursorMove,i.chart=new qt(document.getElementById("chart"+i.id),Yt.Last,a),i.chart.chartConfig.xIsTime=!0;var r=i;i.chart.layout._InitHelperInfo({path:i.Path||"",CurosrValue:""}),i.chart.Init();i.chart;return i.layout2=Ji(["#chart"+i.id,"#table"+i.id],{gutterSize:5,sizes:[75,25],onDragEnd:function(){r.Resize()}}),i.EventManage(),i.GetData(),i}return $a(e,t),e.prototype.Dispose=function(){this.event.Dispose(),this.chart&&this.chart.Dispose(),L(this.element).remove(),this.chart=null,this.element=null},e.prototype.CreateTable=function(){var t=this,e=O.table,n=L("#table"+this.id);this.table=e.render({elem:"#table1"+this.id,height:n.height(),data:[],done:function(e,n,i){t.RenderDone(e,n,i)},page:{curr:1,layout:["count","prev","page","next"],groups:1,first:!1,limit:50,last:!1},cols:[[{field:"MeasDate",minWidth:160,title:M.$t("datatable.title.measdate"),templet:function(t){return""+Object(f.r)(t.MeasDate)}},{field:"MeasValue",minWidth:60,title:M.$t("datatable.title.temperature")+"(℃)",templet:function(t){return""+t.MeasValue.toFixed(3)}}]]}),e.on("row("+this.id+")",function(e){var n=e.data;return e.tr.addClass("layui-table-click").siblings().removeClass("layui-table-click"),t.DataIndexChange(n),!1})},e.prototype.DataIndexChange=function(t){if(this.chart){var e=this.chart,n=e.getSelectedText(!1);e.layout.UpdateHelperInfo({CurosrValue:n})}var i=rt.GetMostNearIndex(Object(f.e)(t.MeasDate),this.chart.data[0],0);this.chart.selectedXIndex=i,this.chart.MoveMainCursor(!0,!0,!0,!1,!1)},e.prototype.UpdataTableData=function(t){this.table.reload({data:t,page:{curr:1,layout:["count","prev","page","next"],limits:[20,50,100],groups:1,first:!1,limit:50,last:!1}})},e.prototype.UpdataTableLayout=function(){this.table.resize(L(this.element).height())},e}(J),er=function(){return(er=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},nr=function(){return function(t,e,n,i,a){var r=this;void 0===e&&(e=0),void 0===n&&(n=6),void 0===i&&(i=function(){}),void 0===a&&(a={}),this.Dispose=function(){var t=document.getElementById(r.ele);t&&(t.innerHTML=""),r.laypage=null,L(r.ele).unbind(),L(r.ele).remove(),r.ele=null},this.InitLayout=function(t){void 0===t&&(t={});var e=r,n=O.laypage;n.render(er({layout:["prev","next","page"],prev:"<em>←</em>",next:"<em>→</em>",groups:5,elem:e.ele,limit:e.limit,count:e.total,jump:e.callback},t)),r.laypage=n},this.ele=t,this.total=e,this.limit=n,this.callback=i,this.InitLayout(a)}}(),ir=function(){function t(t,e,n,i){var a=this;this.Clear=function(){a.chartList&&a.chartList.map(function(t){return t.Dispose()}),a.chartList=[],a.chartListLayout&&a.chartListLayout.Dispose()},this.onPagination=function(t,e){var n,i=e.curr,r=e.count,o=e.pages,s=e.limit;n=i<o?t.slice((i-1)*s,i*s):t.slice((i-1)*s,r),a.drawChart(n)},this.RenderPagination=function(t){if(a.isOpenPage){var e=Object(f.v)(a.parentOnlyKey+"_maxgraphcount")||6;a.pagination&&a.pagination.Dispose();var n=new nr("pagination"+a.id,t.length,e,function(e){a.onPagination(t,e)});a.pagination=n}else a.drawChart(t)},this.Resize=function(){a.chartList&&a.chartList.map(function(t){return t.Resize()})},this.drawChart=function(t){a.CreateChartLayout(t),t&&t.map(function(t){a.CreateIndexChart(t)})},this.ShowAlarmLineFunc=function(){var t=a;t.chartList.map(function(e){e.HideOrShowAlarmLine(!e.showAlarmLine),L("#AddAlarmLine"+e.GetChartId()).find("span").html(e.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),t.ShowAlarmLine=e.showAlarmLine})},this.id=Object(f.y)(),this.eleId=t,this.props=i,this.parentOnlyKey=n,this.isOpenPage=e,this.InitLayout(e)}return t.prototype.Dispose=function(){this.layout&&this.layout.Dispose(),this.layout=null,this.pagination&&this.pagination.Dispose(),this.pagination=null,this.chartListLayout&&this.chartListLayout.Dispose(),this.chartListLayout=null,this.chartList&&this.chartList.map(function(t){return t.Dispose}),this.id=null,this.onPagination=null},t.prototype.InitLayout=function(t){if(t){var e=new ga;e.items=[{id:"graphList",otherStyle:"height:calc(100% - 30px);overflow-y:auto;"},{id:"pagination",otherStyle:"height:30px"}];var n=new va(e,this.id);this.layout=n,n.render(L("#"+this.eleId))}},t.prototype.render=function(t,e){var n=this;this.Clear(),this.dataPrimaryKey=e,this.onPageSizeChange=function(){var e=[];try{e=t||[]}catch(t){}n.pagination&&n.pagination.Dispose();var i=Object(f.v)(n.parentOnlyKey+"_maxgraphcount")||6,a=new nr("pagination"+n.id,e.length,i,function(e){n.onPagination(t,e)});n.pagination=a},this.RenderPagination(t)},t.prototype.CreateChartLayout=function(t){var e=this;if(!t||0!=t.length){var n=L("#"+this.eleId);this.isOpenPage&&(n=L("#"+this.eleId+" #graphList"+this.id)),n.html("<div style='height:100%;'></div>");var i=[],a=[],r=[],o=n.height();o<120*t.length-5&&(o=120*t.length-5),t.length>6&&n.children("div").css({height:o});for(var s=0,l=t.length;s<l;s++)i.push({id:"TrendList"+t[s][this.dataPrimaryKey]}),a.push("TrendList"+t[s][this.dataPrimaryKey]),r.push(120);var c=new ga;c.items=i,c.splitConfig=[{ids:a,callBack:function(){e.Resize()},isVertical:!0}],this.chartListLayout&&this.chartListLayout.Dispose(),this.chartListLayout=new va(c,"");var u=n.children("div")[0];this.chartListLayout.render(u)}},t.prototype.CreateIndexChart=function(t){var e=this,n="TrendList"+t[this.dataPrimaryKey],i=new qt(n,Yt.Last,{onMainCursorMoved:function(t,n,i,a){if("first"!=a){var r=i[0];e.LastSelectX=r,e.chartList&&e.chartList.map(function(t){if(t.verifyData()){var e=t.getMostIndexX(r);t.selectedXIndex=e[0],t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}})}},onSetExtremes:function(t,n){e.LastSetExtremes={min:t,max:n},e.chartList&&e.chartList.map(function(e){try{e.hchartInstance&&e.hchartInstance.xAxis&&e.hchartInstance.xAxis[0].setExtremes(t,n,!0,!1,"NotDispatch")}catch(t){}})},onRenderEnd:function(){if(e.LastSelectX){var t=i.getMostIndexX(e.LastSelectX);i.selectedXIndex=t[0],i.MoveMainCursor(!0,!0,!0,!1,!0,"first")}e.LastSetExtremes&&i.hchartInstance.xAxis[0].setExtremes(e.LastSetExtremes.min,e.LastSetExtremes.max,!0,!1,"NotDispatch")},onMaxBtnClick:function(t){},onBaseMeunBtnClick:function(t,n,i){switch(t){case"enableDynamicCursor":e.chartList&&e.chartList.map(function(t){n!=t.GetChartId()&&(i?t.openDynamicCursorEnable():t.closeDynamicCursorEnable(),L("#enableDynamicCursor"+t.GetChartId()+" .menu-item-name").html(t.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open")))}),e.LastDynamicCursorState=i;break;case"toolbar":e.chartList&&e.chartList.map(function(t){if(n!=t.GetChartId()){var e=i;t.layout.UpdateToolBoxVisible(e),L("#toolbar"+t.GetChartId()+" .menu-item-name").html(t.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),t.Resize()}}),e.LastToolbar=!i;break;case"helpInfo":e.chartList&&e.chartList.map(function(t){if(n!=t.GetChartId()){var e=i;t.layout.UpdateHelperInfoVisible(e),L("#helpInfo"+t.GetChartId()+" .menu-item-name").html(t.layout.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide")),t.Resize()}}),e.LastHelperInfo=!i}}});i.ChartKeys=["x","y","marker"],i.chartConfig.xIsTime=!0,i.menuInstance.RemoveMenuItem("LockChart"),i.chartConfig.isAllowMaxBtn=!0,i.menuInstance.AddMenuItem("maxgraphcount"+i.GetChartId(),M.$t("menu.maxgraphcount"),function(){var t=Object(f.v)(e.parentOnlyKey+"_maxgraphcount")||6,n="<div class='Cursorsetting"+i.GetChartId()+"'><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" max="10" step="1" id="Cursorsetting_graph'+i.GetChartId()+'" name="maxgraphcount" class="layui-layer-input" value=\''+t+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:n,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(t,n){if(!(t<=0)){var a=L("#Cursorsetting_graph"+i.GetChartId()).val()||6;parseInt(a)>300?U.msg(M.$t("meun.config.maxgraph.count.error",{count:30})):parseInt(a)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(Object(f.E)(e.parentOnlyKey+"_maxgraphcount",a),e.onPageSizeChange&&e.onPageSizeChange(),U.close(n))}}),L("#Cursorsetting_graph"+i.GetChartId()).val(t)}),i.menuInstance.AddMenuItem("AddAlarmLine"+i.GetChartId(),i.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"),function(){e.ShowAlarmLineFunc&&e.ShowAlarmLineFunc()}),i.OpenMeunCallBack=function(){L("#AddAlarmLine"+i.GetChartId()).find("span").html(i.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"))},this.props&&this.props.onChartInitBefore&&(i=this.props.onChartInitBefore(i,t)),i.Init(),i.layout.UpdateToolBoxVisible(!(null==e.LastToolbar||e.LastToolbar)),i.layout.UpdateHelperInfoVisible(!(null==e.LastHelperInfo||e.LastHelperInfo)),i.dynamicCursorEnable=null==e.LastDynamicCursorState||e.LastDynamicCursorState,this.chartList.push(i),i.showAlarmLine=e.ShowAlarmLine,this.props&&this.props.onChartGetData&&this.props.onChartGetData(i,t)},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],t.prototype,"Dispose",null),t}(),ar=function(){function t(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.CreateContextMeun=function(t,e){var i=n;if(R.unbind(L(n._elem)[0]),t&&Object.keys(t).length>0){var a=[];a.push({id:"expends",name:M.$t("menu.right.showAll"),callback:function(){i.expandAll(!0)}}),a.push({id:"expendsFalse",name:M.$t("menu.right.overAll"),callback:function(){i.expandAll(!1)}});Object(f.y)();var r=function(t){var n="mk"+Object(f.o)(t).replace("(","").replace(")","");a.push({id:n,name:t,callback:function(){e&&e(t,n)}})};for(var o in t)r(o);R.bind(L(n._elem)[0],a,!1,function(){var e={},n=i.getCheckedData();if(n&&n.map(function(t){e[t.data.NodeName]?e[t.data.NodeName]++:e[t.data.NodeName]=1}),t&&Object.keys(t).length>0)for(var a in t){var r="mk"+Object(f.o)(a).replace("(","").replace(")","");e[a]&&e[a]===t[a].length?(L("#"+r).css("color","red"),L("#"+r).attr("data-checked","1")):(L("#"+r).css("color",""),L("#"+r).attr("data-checked","0"))}})}},this.lastCheckedData=null,this.lastDeviceId=null,this.setCheckedItemsById=function(t,e){void 0===e&&(e=!0);for(var i=n,a=i._atree.nodes,r=[],o=null,s=function(e){for(var n=t[e],i=function(t){if(o=a[t],n===o.id)return r.push(o),"break";if(o.children){var e=!1;if(o.children.map(function(t){n===t.id&&(e=!0,r.push(t))}),e)return"break"}},s=0;s<a.length;s++){if("break"===i(s))break}},l=0;l<t.length;l++)s(l);i._atree.checkItems(r,e)},this.getLastChecked=function(t){var e=n,i=n.lastCheckedData||[],a=[];i&&t&&t.map(function(t){for(var e=0===t.level?t.name:t.name+t.pdata.name,n=0;n<i.length;n++){var r=i[n],o=0===r.level?r.name:r.name+r.pdata.name;if(e&&o&&e===o){a.push(t);break}}}),a&&a.length>0&&e._atree.checkItems(a,!0),e.lastCheckedData=a},this.setCheckedItems=function(t,e){for(var i=n,a=i._atree.nodes,r=[],o=null,s=0;s<a.length;s++)o=a[s],t===o.name&&r.push(o),o.children&&o.children.map(function(e){t===e.name&&r.push(e)});i._atree.checkItems(r,e)},this._onChange=t,this._onClick=e}return t.prototype.Dispose=function(){this.Clear(!0),R.unbind(L(this._elem)[0]),this._onChange=null,this.lastCheckedData=null,this._onClick=null,this._atree=null,L(this._elem).html(""),this._elem=null},t.prototype.Clear=function(t){void 0===t&&(t=!1),this.lastDeviceId=null,t&&(this.lastCheckedData=null),L(this._elem).html("")},t.prototype.LoadData=function(t){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var e,n,i,a,r,o;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(s){switch(s.label){case 0:return t==this.lastDeviceId?[2]:(this.Clear(),e=this,this.lastDeviceId=t,[4,Si.FetchDynamicPoints(t)]);case 1:return(n=s.sent()).data&&(i=[],a={},n.data.map(function(t){var e={};e.title=" <div><div style=\"padding-left:0;height:16px;width:16px;float:left;margin-top:5px;\" class='DeviceTree DeviceTree_3_0'></div><span style='padding-left:3px;height:16px;'>"+t.NodeName+"</span></div>",e.level=0,e.parentId=null,e.id=t.ID,e.name=t.NodeName,e.iconClass="DeviceTree_3_0",e.data=t,e.children=[],t.MeasDefs&&t.MeasDefs.map(function(n){var i=""+n.NodeName;a[i]?a[i].push(n):a[i]=[n];var r={};r.title=" <div><div style=\"padding-left:0;height:16px;width:16px;float:left;margin-top:5px;\" class='DeviceTree DeviceTree_10_0'></div><span style='padding-left:3px;height:16px;'>"+n.NodeName+"</span></div>",r.level=1,r.name=n.NodeName,r.parentId=t.ID,r.id=n.ID,r.iconClass="DeviceTree_10_0",r.data=n,r.pdata=t,r.children=null,r.customBtn=[{name:"ALL",id:"linkname"}],e.children.push(r)}),i.push(e)}),e.CreateContextMeun(a,function(t,n){"1"===L("#"+n).attr("data-checked")?(L("#"+n).css("color",""),L("#"+n).attr("data-checked","0"),e.setCheckedItems(t,!1)):(L("#"+n).css("color","red"),L("#"+n).attr("data-checked","1"),e.setCheckedItems(t,!0))}),r=O.atree,o=r({props:{name:"title",id:"id",children:"children",checkbox:"checkbox",spread:"spread"},initLevel:-1,elem:L(this._elem),check:"checkbox",nodes:i,onCustomBtnClick:function(t,n,i){switch(n){case"linkname":e.setCheckedItems(t.name,!i)}},change:function(t){e.lastCheckedData=t,e._onChange&&e._onChange(t)},click:function(t,n){O.$(n).parents(".layui-atree").find(".layui-atree-node").removeClass("layui-atree-item-checked"),O.$(n).parents(".layui-atree-node").eq(0).addClass("layui-atree-item-checked"),e._onClick&&e._onClick(t,n)}}),this._atree=o,this.getLastChecked(i)),[2]}})})},t.prototype.checkAll=function(){this._atree&&this._atree.checkAll(!0)},t.prototype.expandAll=function(t){this._atree&&this._atree.expandAll(t)},t.prototype.getCheckedData=function(){return this._atree?this._atree.getCheckData():null},t.prototype.unCheckAll=function(){this._atree&&this._atree.checkAll(!1)},t.prototype.render=function(t){this._elem=t},t}(),rr=function(){function t(t){var e=this;this.lastData={},this.getCheckedData=function(){var t=[],n=e;return O.$("#"+n.eleId+" input[type='checkbox']:checked").each(function(e,n){var i=O.$(n),a=i.attr("data-componentid");if(a){var r=i.attr("data-code"),o=i.attr("data-name");t.push({name:o,code:r,id:a})}}),t},this.id=Object(f.y)(),this.eleId=t}return t.prototype.Dispose=function(){L("#"+this.eleId).html(""),this.eleId=null,this.lastData=null},t.prototype.Clear=function(){L("#"+this.eleId).html(""),this.lastData={}},t.prototype.LoadData=function(t){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h,d,p=this;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(f){switch(f.label){case 0:return e=this.eleId,t&&this.lastData&&this.lastData.deviceId===t?[2]:(L("#"+e).html(""),this.lastData.deviceId=t,t?[4,Si.FetchTableAllData(t)]:(L("#"+e).html(""),[2]));case 1:if(n=f.sent(),null===(i=n.data))return[2];if(i){for(a=[],r=0;r<i.length;r++)for(o=i[r].CHFreqs,a.push({pid:0,id:i[r].ComponentID,title:i[r].Name,ChFreq:""}),s=0;s<o.length;s++)a.push({pid:i[r].ComponentID,id:o[s].ID,title:o[s].Desc,ChFreq:o[s].ChFreq,SideFreCode:o[s].SideFreCompID+o[s].SideFreCode,ComponentID:o[s].ComponentID,Code:o[s].Code,MultiCode:o[s].MultiCode});l=O.$,c=O.form,u=O.treeTable,h=function(t,e){var n;return void 0===e&&(e=1),t.pid?"<input data-componentid='"+t.ComponentID+"' data-code='"+((null===(n=t.MultiCode)||void 0===n?void 0:n.length)>e?t.MultiCode[e-1]:"")+"' data-SideFreCode=\""+t.SideFreCode+'" data-name="'+(t.title+e)+"X\" lay-filter='ckFrequency"+p.id+"' class=\""+t.pid+'" lay type="checkbox" lay-skin="primary" ChFreq="'+t.ChFreq+'" data-index="'+e+'" pid="'+t.pid+'">':""},d=this,u.render({elem:"#"+e,data:a,icon_key:"title",is_checkbox:!1,top_value:0,primary_key:"id",parent_key:"pid",hide_class:"layui-hide",is_click_icon:!0,end:function(t){c.render()},cols:[{key:"title",title:M.$t("FrequencyRecogCursor.CharacteristicFrequency"),align:"left",template:function(t){return"<input lay-filter='ckFrequency"+d.id+"'  class=\""+t.pid+'" type="checkbox" types="firstChildNode" lay-skin="primary" pid="'+t.pid+'" data-id="'+t.id+'">'+t.title}},{key:"pid",title:"1X",width:"30px",align:"center",template:function(t){return t.pid?h(t,1):""}},{title:"2X",width:"30px",align:"center",template:function(t){return t.pid?h(t,2):""}},{title:"3X",width:"30px",align:"center",template:function(t){return t.pid?h(t,3):""}},{title:"4X",width:"30px",align:"center",template:function(t){return t.pid?h(t,4):""}},{title:"5X",width:"30px",align:"center",template:function(t){return t.pid?h(t,5):""}}]}),l("#"+e).delegate(".layui-form-checkbox","click",function(t){var e=l(t.currentTarget).prev(),n=e.attr("pid"),i=l(t.currentTarget).hasClass("layui-form-checked");if("0"===n){var a=e.attr("data-id");l("."+a).map(function(t,e){i?(l(e).next().addClass("layui-form-checked"),l(e).prop("checked",!0)):(l(e).next().removeClass("layui-form-checked"),l(e).prop("checked",!1))})}else if("firstChildNode"===e.attr("types")){l(e.parents()[1]).find("input").map(function(t,e){i?t&&(l(e).prop("checked",!0),l(e).next().addClass("layui-form-checked")):t&&(l(e).prop("checked",!1),l(e).next().removeClass("layui-form-checked"))})}})}return[2]}})})},t}(),or=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sr=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},lr=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},cr=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Resize=function(){i.trendListInstance&&i.trendListInstance.Resize()},i.TrendListProps={onChartGetData:function(t,e){return sr(i,void 0,void 0,function(){var n,i,a,r,o,s,l,c,u;return lr(this,function(h){switch(h.label){case 0:return n=this.lastQueryArgs.etime,i=this.lastQueryArgs.stime,a=this.lastQueryArgs.maxSpeed,r=this.lastQueryArgs.minSpeed,o=[],s=null,0!==e.Type?[3,2]:[4,Si.FetchVibDatasByArgs(e.Id,{maxSpeed:a,minSpeed:r,mindate:i,maxdate:n})];case 1:return s=h.sent(),[3,4];case 2:return[4,Si.FetchSpecialFreqsTrend(e.Id,e.Code,{maxSpeed:a,minSpeed:r,mindate:i,maxdate:n})];case 3:s=h.sent(),h.label=4;case 4:if((l=s?s.data:null)&&l.Datas){for(c=l.Datas.length-1;c>=0;c--)u=l.Datas[c],o.push([Object(f.e)(u.MeasDate),u.MeasValue]);t.render([o],"",l&&l.Unit||"",null,null,{customXAxisMax:Object(f.e)(n)>Object(f.e)(new Date)?Object(f.e)(new Date):Object(f.e)(n),customXAxisMin:Object(f.e)(i)},l&&l.AlarmLimits||[])}return[2]}})})},onChartInitBefore:function(t,e){return t.layout._InitHelperInfo({path:e.Name,CurosrValue:""}),t}},i.lastDeviceId=null,i.onAssetChange=function(t){if(i.lastDeviceId!==i.deviceId&&(i.Clear(),i.lastDeviceId=i.deviceId,i.deviceId)){i.trendListInstance.Clear();i.DyTreeHelper.LoadData(i.deviceId);i.FreqTreeTableHelper.LoadData(i.deviceId)}},i.InitLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"left"},{id:"right"}],t.splitConfig=[{ids:["left","right"],size:[70,30],gutterAlign:"end",callBack:i.Resize,collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None}];var e=new va(t,i.id);i.layout=e,e.render(i.element)},i.InitQueryCard=function(){L("#right"+i.id).append('<div  class="layui-form" id=\'Query'+i.id+'\' action="" style="overflow-y:auto;overflow-x:hidden;height:calc( 100% - 50px )"></div>');var t=new Aa(Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),i.id);L("#right"+i.id+" .layui-form").append("<div class=\"TimeRange\" style='height:130px;width:100%;'></div>");var e=(new fa).getHtml(M.$t("leftbar.form.selecttime"),t.getHtml());L("#right"+i.id+" .TimeRange").append(e),t.Init(),L("#right"+i.id+" .layui-form").append("<div class=\"fwhtml\" style='height:130px;width:100%;'></div>");var n=new fa,a='<div id="speedRange'+i.id+'" style=\'\'>\n      <div class="layui-form-item" style="padding-left:5px;padding-right:5px;">\n\t   <div class="layui-form-customline" style="width: 28px;padding: 0;float:left;">'+M.$t("datatable.filter.time.from")+'</div> \n\t\t<div class="layui-form-customline" style="width: calc(100% - 38px);margin-right: 0;padding-right: 0;"> \n      <input type="number" id="minSpeed'+i.id+'" name="minSpeed" autocomplete="off" min=\'0\' class="layui-input" value=\'0\' onkeyup="this.value=this.value.replace(/[^.-d]/g,\'\');"\n        style="height:28px;">\n\t   </div>\n    </div>\n     <div class="layui-form-item" style="padding-left:5px;padding-right:5px;">\n\t   <div class="layui-form-customline" style="width: 28px;padding: 0;float:left;">'+M.$t("datatable.filter.time.to")+'</div> \n\t\t<div class="layui-form-customline" style="width: calc(100% - 38px);margin-right: 0;padding-right: 0;"> \n<input type="number" id="maxSpeed'+i.id+'" name="maxSpeed" autocomplete="off" min=\'0\' class="layui-input" value=\'0\' \n      onkeyup="this.value=this.value.replace(/[^.-d]/g,\'\');" style="height:28px;">\n\t   </div>\n    </div>\n</div>',r=n.getHtml(M.$t("leftbar.form.fwcard"),a);L("#right"+i.id+" .fwhtml").append(r);var o='<div class="layui-tab layui-tab-brief"  lay-filter="point'+i.id+'" style="height:calc((100% - 280px))">\n  <div class="layui-tab layui-tab-brief"  lay-filter="pointType'+i.id+'" style="height:100%;">\n  <ul class="layui-tab-title">\n      <li class="layui-this"  data-id="0">\n      '+M.$t("menu.characteristicfrequency1")+'\n      </li>\n        <li data-id="1">\n      '+M.$t("menu.characteristicfrequency")+'\n      </li>\n    </ul>\n      <div class="layui-tab-content" style="height:calc((100% - 51px));">    \n        <div id="dyPoint'+i.id+'" class="layui-tab-item layui-show"  style="height: 100%;"></div>\n        <div id="proPoint'+i.id+'" class="layui-tab-item "  style="height: 100%;margin-left:0;">\n          <table class="layui-table layui-form layui-anim" id="proTableDeviceId" lay-size="sm"></table>\n        </div>\n      </div>\n  </div>\n  </div>';L("#right"+i.id+" .layui-form").append(o),i.DyTreeHelper.render(),i.FreqTreeTableHelper.render(),L("#right"+i.id).append('<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;height:30px\'>\n  <button class="layui-btn layui-btn-sm" lay-filter="demo1" lay-submit="" id="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n</div>");var s=i;L("#btnQuery"+i.id).click(function(t){var e=L("#Stime"+s.id).val(),n=L("#Etime"+s.id).val(),i=L("#minSpeed"+s.id).val(),a=L("#maxSpeed"+s.id).val();if(new Date(e)>new Date(n))return O.layer.msg(M.$t("tip.error.time")),!1;s.onQuerySubmit&&s.onQuerySubmit(i,a,e,n)})},i.lastQueryArgs=null,i.onQuerySubmit=function(t,e,n,a){var r=i.DyTreeHelper.getCheckedData(),o=i.FreqTreeTableHelper.getCheckedData();i.lastQueryArgs={minSpeed:t,maxSpeed:e,stime:n,etime:a};var s=[];r&&r.length>0&&r.map(function(t){null===t.children&&s.push({Id:t.id,Name:t.pdata.NodeName+"\\"+t.name,Type:0,divId:"box"+t.id})}),o&&o.length>0&&o.map(function(t){s.push({Id:t.id,Name:t.name,Type:1,Code:t.code,divId:"box"+t.id+t.code})}),s.length>0&&i.trendListInstance.render(s,"divId")},i.DyTreeHelper={tree:null,getCheckedData:function(){return i.DyTreeHelper.tree.getCheckedData()},onChange:function(t){},render:function(){L("#right"+i.id+" #dyPoint"+i.id).append("<div class=\"dyPointCard\" style='height: calc((100% - 200px));width:100%;min-height:260px;'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAll'+i.id+'" lay-skin="primary" style="display:none;" title="'+M.$t("common.point.dymnic")+"\" value='All'/>","");L("#right"+i.id+" .dyPointCard").append(t);var e=O.form;e.render("checkbox","CheckAll"+i.id,"#right"+i.id+" ");var n=i;e.on("checkbox(CheckAll"+i.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.DyTreeHelper.tree.checkAll():n.DyTreeHelper.tree.unCheckAll(),!0});var a=new ar(i.DyTreeHelper.onChange,null);a.render(L("#right"+i.id+" .dyPointCard").find(".rz-card-body")),i.DyTreeHelper.tree=a},LoadData:function(t){return i.DyTreeHelper.tree.LoadData(t)}},i.FreqTreeTableHelper={treeTable:null,render:function(){var t=new rr("proTableDeviceId");i.FreqTreeTableHelper.treeTable=t},getCheckedData:function(){return i.FreqTreeTableHelper.treeTable.getCheckedData()},LoadData:function(t){return i.FreqTreeTableHelper.treeTable.LoadData(t)}},i.chartName="ComprehensiveAnalysis",i.InitLayout(),i.InitQueryCard(),i.trendListInstance=new ir("left"+i.id,!0,i.chartName,{onChartGetData:i.TrendListProps.onChartGetData.bind(i),onChartInitBefore:i.TrendListProps.onChartInitBefore.bind(i)}),i}return or(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.layout&&this.layout.Dispose(),this.layout=null,this.DyTreeHelper.tree.Dispose(),this.FreqTreeTableHelper.treeTable.Dispose(),this.trendListInstance&&this.trendListInstance.Dispose(),L(this.element).remove(),this.element=null},e.prototype.Clear=function(){this.DyTreeHelper.tree.Clear(),this.trendListInstance.Clear(),this.FreqTreeTableHelper.treeTable.Clear(),this.trendListInstance&&this.trendListInstance.Clear()},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],e.prototype,"Dispose",null),e}(J),ur=function(){function t(){}return t.prototype.Dispose=function(){L(this._elem).html("")},t.prototype.render=function(t,e,n,i){if(this._elem=t,e&&0!=e.length){var a="";e&&e.map(function(t,e){a+='<li class="rz-list-item" data-id=\''+t[n]+"' data-index='"+e+"'>"+t[i]+"</li>"}),a="<div class='rz-list'>\n      "+a+"\n    </div>",L(t).append(a)}},t.prototype.SetItemClick=function(t){L(this._elem).find(".rz-list-item").eq(t).trigger("click")},t.prototype.AddClick=function(t){L(this._elem).find(".rz-list-item").click(function(){var e=L(this);if(!e.hasClass("rz-list-item-click")){e.addClass("rz-list-item-click").siblings().removeClass("rz-list-item-click");var n=e.attr("data-id"),i=e.attr("data-index");t&&t(n,i)}})},t}(),hr=function(){return(hr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},dr=function(){function t(){this.value="",this.RadioSelect=function(t){}}return t.prototype.Dispose=function(){L(this._elem).html("")},t.prototype.render=function(t,e,n,i,a){if(this._elem=t,this.name=n,e&&0!=e.length){var r="";e&&e.map(function(t,e){r+='<input type="radio" lay-filter="Radio'+n.replace(/\s*/g,"")+'" name="'+n.replace(/\s*/g,"")+'" value="'+t[i]+'" title="'+t[a]+'" >'}),r="<div action='' class=\"layui-form\">\n      "+r+"\n    </div>",L(t).append(r);var o=O.form;o.render();var s=this;o.on("radio(Radio"+n.replace(/\s*/g,"")+")",function(t){s.value=t.value;var e=s.name;s.RadioSelect(hr(hr({},t),{RadioName:e})),o.render()})}},t}(),pr=function(){return(pr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},fr=function(){function t(){var t=this;this.GroupList={},this.GroupValue={},this.GetStateCount=function(){var e=0,n=t;return Object.keys(t.GroupList).map(function(t){""!=n.GroupList[t].value&&(e++,n.GroupValue[n.GroupList[t].name]=n.GroupList[t].value)}),e},this.RadioGroupSelect=function(e){var n=t.GetStateCount();t.RadioGroupSelectDo(pr(pr({},e),{Count:n,GroupValue:t.GroupValue}))},this.RadioGroupSelectDo=function(t){}}return t.prototype.Dispose=function(){L(this._elem).html("")},t.prototype.render=function(t,e,n,i){this._elem=t,!e||e.length;var a="";e&&e.map(function(t,e){a+='<fieldset class="layui-elem-field">\n                    <legend>'+t.name+'</legend>\n                    <div id="Item'+t.id+'"></div>\n                </fieldset>\n                '});var r=this;L(t).append(a),e&&e.map(function(t,e){var a=new dr;a.render("#Item"+t.id,t.list||[],t.name,n,i),a.RadioSelect=r.RadioGroupSelect,r.GroupList[t.name]=a})},t}(),Ar=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mr=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="CrossPhaseChart",i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()})},i.GetPoints=function(t){var e=i;Si.FetchDynamicPoints(t).then(function(t){var n=t.data,a={},r=[{id:"XPoint"+e.id,name:M.$t("CrossPhase.panel.stationX"),list:[]},{id:"YPoint"+e.id,name:M.$t("CrossPhase.panel.stationY"),list:[]}];n.map(function(t){a[t.ID]={Data:t.MeasDefs,PointName:t.NodeName},r[0].list.push({key:t.ID,name:t.NodeName}),r[1].list.push({key:t.ID,name:t.NodeName})}),e.MeaseCache=a,i.SelectGroupList.render("#crad2"+i.id,r,"key","name")})},i.onAssetTypeNotSupport=function(t){},i.BefDeviceId="",i.DevicePath="",i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.onAssetTypeNotSupport(t)}catch(t){}else i.DevicePath!=t.devicePath&&(Object.keys(i.chartList).map(function(e){i.chartList[e].layout.UpdateHelperInfo({RotatingSpeed:"",MeasTime:"",path:t.devicePath})}),i.DevicePath=t.devicePath),i.BefDeviceId!=t.deviceId&&(Object.keys(i.chartList).map(function(t){i.chartList[t].Clear()}),i.SelectGroupList.Dispose(),i.SelectList.Dispose(),i.GetPoints(i.deviceId),i.BefDeviceId=t.deviceId)},i.UpdateTrend=function(t,e){var n=i;Si.FetchVibMultipleTrend(t,function(t){var a=[];t&&t.map(function(t){if(t.data&&t.data.Datas){for(var e=[],n=t.data.Datas.length-1;n>=0;n--){var i=t.data.Datas[n];e.push([Object(f.e)(i.MeasDate),i.MeasValue,i.WaveKey])}a.push(e)}}),i.TrendData=t,i.chartList.crossPowerTrend.render(a,"",t&&t.length>0?t[0].data.Unit:"",null,e),i.chartList.crossPowerTrend.layout.UpdateHelperInfo({path:n.DevicePath})},function(t){n.Clear()},201,null)},i.TmpListCache={},i.TmpNameList=[],i.GetDataIndex=function(t,e){return rt.GetMostNearIndex(Object(f.e)(t),e)},i.FetchCrossPhase=function(t,e){var n,a,r=i;try{n=i.chartList.crossPowerTrend.data[0][t],a=i.chartList.crossPowerTrend.data[1][e]}catch(t){}if(n&&a&&n.length>0&&a.length>0){var o=n[2],s=a[2];Si.FetchCrossPhase(s,o).then(function(t){var e=t.data;if(e.length>=2){for(var n=e[0],i=e[1],a=[],o=[],s=0;s<n.YData.length;s++)a.push([s*n.XInterval,n.YData[s]]);for(s=0;s<i.YData.length;s++)o.push([s*i.XInterval,i.YData[s]]);r.chartList.crossPowerSpec.render([a],n.XUnit||"",n.YUnit||""),r.chartList.crossPhaseSpec.render([o],i.XUnit||"",i.YUnit||""),r.chartList.crossPowerSpec.layout.UpdateHelperInfo({RotatingSpeed:n.RunSpeed,MeasTime:Object(f.r)(n.MeasDate),path:r.DevicePath}),r.chartList.crossPhaseSpec.layout.UpdateHelperInfo({RotatingSpeed:i.RunSpeed,MeasTime:Object(f.r)(i.MeasDate),path:r.DevicePath})}})}},i.chartList={},i.CreatLayout(),i.InitChart(),i}return Ar(e,t),e.prototype.Dispose=function(){var t=this;this.BaseDispose(),Object.keys(this.chartList).map(function(e){t.chartList[e].Dispose()}),this.SelectGroupList.Dispose(),this.SelectList.Dispose()},e.prototype.Clear=function(){var t=this;try{Object.keys(this.chartList).map(function(e){t.chartList[e].Clear()})}catch(t){}},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"left1"},{id:"left2"},{id:"left3"}]},{id:"right",children:[{id:"right1"},{id:"right2"}]}],e.splitConfig=[{ids:["left","right"],size:[85,15],callBack:function(){t.Resize()}},{ids:["left1","left2","left3"],callBack:function(){t.Resize()},isVertical:!0},{ids:["right1","right2"],size:[20,80],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element);var n=new fa;n.render("#right2"+this.id,M.$t("CrossPhase.panel.station"),'<div id="crad2'+this.id+'" ></div>'),this.SelectListCard=n,(new fa).render("#right1"+this.id,M.$t("CrossPhase.panel.datalist"),'<div id="datacard'+this.id+'" style="overflow:hidden;"></div>');var i=new fr;this.SelectList=new ur,this.SelectGroupList=i;var a=this;this.SelectGroupList.RadioGroupSelectDo=function(e){a.Clear();var n=e.RadioName==M.$t("CrossPhase.panel.stationX")?M.$t("CrossPhase.panel.stationY"):M.$t("CrossPhase.panel.stationX");L("#crad2"+a.id).find(":radio[name='"+n.replace(/\s*/g,"")+"']:disabled").attr("disabled",!1);var i=e.value;if(L(":radio[name='"+n.replace(/\s*/g,"")+"'][value='"+i+"']").attr("disabled",!0),a.SelectList.Dispose(),e.Count>=2&&e.GroupValue[M.$t("CrossPhase.panel.stationX")]!=e.GroupValue[M.$t("CrossPhase.panel.stationY")]){var r=a.MeaseCache[e.GroupValue[M.$t("CrossPhase.panel.stationX")]],o=a.MeaseCache[e.GroupValue[M.$t("CrossPhase.panel.stationY")]],s=[],l=0;a.TmpListCache={},a.TmpNameList=[],a.TmpNameList.indexOf(r.PointName)<0&&a.TmpNameList.indexOf(o.PointName)<0&&(a.TmpNameList=[r.PointName||"",o.PointName||""]);for(var c=0;c<r.Data.length;c++)for(var u=0;u<o.Data.length;u++)if(r.Data[c].DataLen==o.Data[u].DataLen&&r.Data[c].UpperFreq==o.Data[u].UpperFreq&&r.Data[c].NodeName==o.Data[u].NodeName){var h={key:a.id+l,name:r.Data[c].NodeName};a.TmpListCache[a.id+l]=[r.Data[c].ID,o.Data[u].ID],l++,s.push(h)}a.SelectList.render("#datacard"+t.id,s,"key","name"),a.SelectList.AddClick(function(t,e){var n=a.TmpListCache[t];n.length>=2&&a.UpdateTrend(n,a.TmpNameList)})}}},e.prototype.InitChart=function(){var t=this,e=this;this.chartList={};var n=new la("left1"+this.id,Yt.Last,{onMainCursorMoved:function(n,i,a,r){var o=t.GetDataIndex(Object(f.r)(a[0]),t.chartList.crossPowerTrend.data[0]),s=t.GetDataIndex(Object(f.r)(a[0]),t.chartList.crossPowerTrend.data[1]);e.FetchCrossPhase(o,s)},onMainCursorMoving:null,onRenderEnd:null,onWillRender:null,onSetExtremes:null});n.chartName="CrossPowerTrend",n.layout._InitHelperInfo({chartName:M.$t("CrossPhase.chart.trend"),path:this.DevicePath,RotatingSpeed:"",MeasTime:"",CurosrValue:""}),n.chartConfig.xIsTime=!0,n.chartConfig.isAllowMaxBtn=!0,this.chartList.crossPowerTrend=n,n.Init();var i=new qt("left2"+this.id,Yt.First,{onMainCursorMoved:function(t,n,i){W.fireEvent("CrossPhaseChart__MainCursorMoved",{id:e.id,selectIndex:t,chart:"crossPowerSpec"})},onMainCursorMoving:function(t,n,i){W.fireEvent("CrossPhaseChart__MainCursorMoved",{id:e.id,selectIndex:t,chart:"crossPowerSpec"})},onRenderEnd:null,onSetExtremes:function(t,n){W.fireEvent("CrossPhaseChart_Extremes",{id:e.id,chart:"crossPowerSpec",min:t,max:n})}});i.chartName="CrossPhaseChart_Extremes",i.layout._InitHelperInfo({chartName:M.$t("CrossPhase.chart.crossphase"),path:this.DevicePath,MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),i.chartConfig.isAllowMaxBtn=!0,this.chartList.crossPowerSpec=i,i.Init();var a=new qt("left3"+this.id,Yt.First,{onMainCursorMoved:function(t,n,i){W.fireEvent("CrossPhaseChart__MainCursorMoved",{id:e.id,chart:"phaseSpec",selectIndex:t})},onMainCursorMoving:function(t,n,i){W.fireEvent("CrossPhaseChart__MainCursorMoved",{id:e.id,chart:"phaseSpec",selectIndex:t})},onRenderEnd:null,onSetExtremes:function(t,n){W.fireEvent("CrossPhaseChart_Extremes",{id:e.id,chart:"phaseSpec",min:t,max:n})}});a.chartConfig.isAllowMaxBtn=!0,a.layout._InitHelperInfo({chartName:M.$t("CrossPhase.chart.phasespec"),path:this.DevicePath,MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),this.chartList.crossPhaseSpec=a,W.addEvent("CrossPhaseChart__MainCursorMoved",function(t){var n=t.data,i=n.chart,a=n.selectIndex;"phaseSpec"==i?e.chartList.crossPowerSpec.verifyData()&&(e.chartList.crossPowerSpec.selectedXIndex=a,e.chartList.crossPowerSpec.MoveMainCursor(!0,!0,!0,!1,!1)):"crossPowerSpec"==i&&e.chartList.crossPhaseSpec.verifyData()&&(e.chartList.crossPhaseSpec.selectedXIndex=a,e.chartList.crossPhaseSpec.MoveMainCursor(!0,!0,!0,!1,!1))}),W.addEvent("CrossPhaseChart_Extremes",function(t){var n=t.data,i=n.chart,a=n.min,r=n.max;e.chartList.crossPhaseSpec.triggerSetExtremes=!1,e.chartList.crossPowerSpec.triggerSetExtremes=!1;try{"phaseSpec"==i?e.chartList.crossPowerSpec.verifyData()&&e.chartList.crossPowerSpec.hchartInstance.xAxis[0].setExtremes(a,r,!0,!1,"NotDispatch"):"crossPowerSpec"==i&&e.chartList.crossPhaseSpec.verifyData()&&e.chartList.crossPhaseSpec.hchartInstance.xAxis[0].setExtremes(a,r,!0,!1,"NotDispatch")}catch(t){}e.chartList.crossPhaseSpec.triggerSetExtremes=!0,e.chartList.crossPowerSpec.triggerSetExtremes=!0}),a.Init()},e}(J),yr=function(){return(yr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},gr=function(){return function(t,e,n,i){var a=this;void 0===e&&(e=null),void 0===n&&(n=null),this.chartName="SingleMultiCommonChart",this.Dispose=function(){a.chart&&a.chart.Dispose(),a.chart=null,a.ele=null,a.element=null,a.data=null,a.AlarmLimits=null},this.Resize=function(){a.chart&&a.chart.Resize()},this.Clear=function(){a.chart&&a.chart.Clear()},this.GetData=function(){return a.chart,a.props.service&&a.props.service(a.assetId).then(function(t){t.data.IndexDatas=t.data.Datas;var e=rt.FormatInitData(t),n=e.data,i=(e.option,{data:n,YUnit:t.data.Unit});return a.data=i,a.AlarmLimits=t.data.AlarmLimits,i}).catch(function(t){})},this.setExtremes=function(t,e){if(a.chart&&a.chart.hchartInstance&&a.chart.verifyData())try{setTimeout(function(){a.chart.hchartInstance&&a.chart.hchartInstance.xAxis&&a.chart.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")},0)}catch(t){}},this.RenderWithMinAndMaxDate=function(t,e,n){void 0===n&&(n=null),a.UpdateChart({min:t,max:e},n)},this.UpdateChart=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=a.chart;if(n){var i=a.data.data,r=a.data.YUnit;if(e){var o=rt.GetMostNearIndex(Object(f.e)(e),i);n.selectedXIndex=o}if(n.render([i],"",r,null,yr({},t),null,a.AlarmLimits||[]),i&&i.length>0){var s=n.GetSelectedXY();n.layout.UpdateHelperInfo({MeasValue:s[1],MeasUnit:r,MeasTime:Object(f.r)(s[0])})}}},this.InitChart=function(){var t=a,e=new qt(a.element,Yt.Last,{onMainCursorMoved:function(e,n,i,a){t.props.cursorMoveCallback&&t.props.cursorMoveCallback(e,i,!0,a),t.chart&&t.chart.layout.UpdateHelperInfo({MeasValue:i[1],MeasTime:Object(f.r)(i[0])})},onSetExtremes:function(e,n){t.props.onSetExtremes&&t.props.onSetExtremes(e,n)}});return e.chartConfig.isAllowMaxBtn=!0,e.chartConfig.xIsTime=!0,e.layout._InitHelperInfo({path:a.path,MeasTime:null,MeasValue:null,MeasUnit:null}),e.menuInstance.AddMenuItem("AddAlarmLine"+e.GetChartId(),e.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"),function(){t.ShowAlarmLineFunc&&t.ShowAlarmLineFunc()}),a.chart=e,e.Init(),e},this.ShowAlarmLine=!1,this.ShowAlarmLineFunc=function(){var t=a;t.props.parent.chartList.map(function(e){var n=e.chart.chart;n.HideOrShowAlarmLine(!n.showAlarmLine),L("#AddAlarmLine"+n.GetChartId()).find("span").html(n.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),t.ShowAlarmLine=n.showAlarmLine})},this.UpdateHelperInfo=function(){var t=a.chart,e=t.GetSelectedXY();t.layout.UpdateHelperInfo({MeasTime:Object(f.r)(e[0]),MeasValue:e[1]})},this.ele=t,this.element=document.getElementById(t),this.path=e,this.id=Object(f.y)(),this.chart=null,this.assetId=n,this.props=i,this.InitChart()}}(),vr=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},br=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Cr=function(){return function(t,e,n,i){var a=this;void 0===n&&(n={}),void 0===i&&(i=!0),this.Dispose=function(){a.dataTableInstance&&a.dataTableInstance.Dispose(),a.dataTableInstance=null,a.dataTableCard&&a.dataTableCard.Dispose(),a.dataTableCard=null,a.ele=null,a.element=null},this.Clear=function(){a.dataTableInstance&&a.dataTableInstance.Update({data:[]})},this.Resize=function(){a.dataTableInstance&&a.dataTableInstance.Resize()},this.CreateLayout=function(t){void 0===t&&(t=!0);var e=new fa;e.render(a.element,M.$t("pointTable.stationSelcetion"),"<div id='pointTable"+a.id+"' style='overflow:hidden;height:100%;'></div>"),a.dataTableCard=e,a.dataTableInstance=new Ta;var n=a.cols;a.dataTableInstance.Create("pointTable"+a.id,function(t){},n,{page:!1,limit:Number.MAX_SAFE_INTEGER}),a.dataTableInstance.OnClick(a.DataTableHelper.OnClick),a.dataTableInstance.OnCheck(a.DataTableHelper.OnCheck)},this.DataTableHelper={OnClick:function(t){a.props.DataTableOnClick&&a.props.DataTableOnClick(t)},OnCheck:function(t){a.props.DataTableOnCheck&&a.props.DataTableOnCheck(t)}},this.Updata=function(t){t&&t.length>0&&null!=t[0].LAY_CHECKED&&null!=t[0].LAY_CHECKED&&(a.cols[0][0].LAY_CHECKED=null),a.dataTableInstance.Update({data:t,cols:a.cols,done:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object(ba.a)("PointTable_OnRenderEnd",t)}})},this.LoadData=function(t){return vr(a,void 0,void 0,function(){var e,n;return br(this,function(i){switch(i.label){case 0:if(!t)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Si.FetchDynamicPoints(t)];case 2:return e=i.sent(),n=e.data,this.dataTableInstance.Update({data:n,done:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object(ba.a)("PointTable_OnRenderEnd",t)}}),[2,n];case 3:return i.sent(),[2,[]];case 4:return[2]}})})},this.ele=t,this.element=document.getElementById(t),this.id=Object(f.y)(),this.deviceId=e,this.props=n,this.cols=[[{field:"IDs",type:"checkbox",LAY_CHECKED:i},{field:"NodeName",title:M.$t("pointTable.stationName")}]],this.CreateLayout(i),this.LoadData(e)}}(),xr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wr=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Dr=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName=null,i.defaultChecked=!0,i.AfterConstructor=function(t){void 0===t&&(t=!0),i.CreateLayout(),i.InitDataTable(t),i.defaultChecked=t,t&&(i.LoadData(),i.RenderPagination())},i.Resize=function(){i.pointTable&&i.pointTable.Resize(),i.chartList.forEach(function(t){t.chart.Resize()})},i.Clear=function(){i.ClearChart(),i.ClearTable()},i.ClearChart=function(){i.chartList.forEach(function(t){t.chart.Clear()})},i.ClearTable=function(){i.pointTable&&i.pointTable.Clear()},i.Dispose=function(){i.DisposeTable(),i.DisposeChart(!0),i.layout&&i.layout.Dispose(!0),i.chartLayout&&i.chartLayout.Dispose(!0),i.layout=null,L(i.element).unbind(),L(i.element).remove(),i.element=null},i.DisposeTable=function(){i.pointTable&&i.pointTable.Dispose(),i.pointTable=null},i.onAssetTypeNotSupport=function(){},i.CreateLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"left",children:[{id:"graphList",otherStyle:"height:calc(100% - 30px)"},{id:"pagination",otherStyle:"height:30px"}]},{id:"pointListTable"}],t.splitConfig=[{ids:["left","pointListTable"],size:[80,20],callBack:i.Resize}];var e=new va(t,i.id);i.layout=e,e.render(i.element)},i.LoadData=function(){var t={deviceId:i.deviceId};i.onAssetChange(t)},i.onAssetChange=function(t){if(!t.deviceId)return i.DisposeChart(!0),i.ClearTable(),void(i.lastDeviceId=null);i.lastDeviceId&&t.deviceId===i.lastDeviceId||i.pointTable&&i.pointTable.LoadData&&(i.pointTable.LoadData(t.deviceId).then(function(t){if(t.length>0){if(i.pointList=t,!1===i.defaultChecked)return void(i.defaultChecked=!0);i.selectedPoints=t,i.RenderPagination()}else i.ClearTable(),i.DisposeChart()}),i.lastDeviceId=i.deviceId)},i.InitDataTable=function(t){void 0===t&&(t=!0);var e={DataTableOnCheck:i.DataTableHelper.OnCheck},n=new Cr("pointListTable"+i.id,i.deviceId,e,t);i.pointTable=n},i.setSelectedTime=null,i.SetPointSelected=function(t,e){if(void 0===e&&(e=null),i.pointList&&i.pointList.length>0){var n=wr([],i.pointList);n.map(function(e){t.filter(function(t){return t===e.ID}).length>0?e.LAY_CHECKED=!0:e.LAY_CHECKED=!1}),i.setSelectedTime=e,i.pointTable.Updata(n);var a=n.filter(function(t){return 1==t.LAY_CHECKED});i.showPoints=a.length>6?a.slice(0,6):a,i.selectedPoints=a,i.RenderPagination()}},i.DataTableHelper={OnCheck:function(t){i.lastShowPoints=i.showPoints.concat();var e=i.selectedPoints.concat();if(t.checked&&("all"===t.type?i.selectedPoints=i.pointList.concat():i.selectedPoints.push(t.data)),!t.checked)if("all"===t.type)i.selectedPoints=[];else{i.selectedPoints=[];var n=e.filter(function(e){return e.ID===t.data.ID}),a=e.indexOf(n[0]);e.splice(a,1),i.selectedPoints=e}i.selectedPoints.length>0?("all"==t.type&&(i.lastShowPoints=[]),i.showPoints=e.length>6?e.slice(0,6):e,i.RenderPagination()):(i.lastShowPoints=[],i.DisposeChart(!1))}},i.ChartHelper={cursorMoveCallback:function(t,e,n,a){n&&i.chartList.map(function(t){if(t.chart.chart){var n=e[0];if(t.chart.chart.verifyData()){var i=t.chart.chart.getMostIndexX(n);t.chart.chart.selectedXIndex=i[0],t.chart.chart.MoveMainCursor(!0,!0,!0,!1,!1),t.chart.UpdateHelperInfo()}}})},onSetExtremes:function(t,e){i.chartList.map(function(n){n.chart.setExtremes(t,e)})},onPagination:function(t,e){var n=i,a=n.selectedPoints;e||(n.lastShowPoints=n.showPoints);var r,o=t.curr,s=t.count,l=t.pages,c=t.limit;r=o<l?a.slice((o-1)*c,o*c):a.slice((o-1)*c,s),n.showPoints=r,n.RenderChart()},isSame:function(t,e){if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n].ID!=e[n].ID)return!1;return!0}},i.RenderChart=function(t){if(void 0===t&&(t=!1),!(!t&&i.lastShowPoints.length>0&&i.ChartHelper.isSame(i.lastShowPoints,i.showPoints))&&i.pointList&&i.pointList.length>0&&i.selectedPoints.length>0){for(var e=i.showPoints,n=[],a=[],r=0,o=e.length;r<o;r++)n.push({id:"SingleMultiCommonChart"+e[r].ID}),a.push("SingleMultiCommonChart"+e[r].ID);var s=new ga;s.items=n,s.splitConfig=[{ids:a,callBack:i.Resize,isVertical:!0}];var l=new va(s,i.id);i.chartLayout&&(i.chartLayout.Dispose(),i.chartLayout=null),i.chartLayout=l;var c=document.getElementById("graphList"+i.id);l.render(c),i.chartList=[];r=0;for(var u=e.length;r<u;r++){var h={cursorMoveCallback:i.ChartHelper.cursorMoveCallback,onSetExtremes:i.ChartHelper.onSetExtremes,service:i.service,parent:i},d=new gr("SingleMultiCommonChart"+e[r].ID+i.id,i.devicePath+"\\"+e[r].NodeName,e[r].ID,h);i.chartList.push({key:e[r].ID,chart:d,promise:d.GetData})}var p=[];i.chartList.forEach(function(t){p.push(new Promise(function(e,n){e(t.promise())}))}),Promise.all(p).then(function(t){var e=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;t.forEach(function(t){if(t&&t.data&&0!==t.data.length){var i=t.data.sort(function(t,e){return t[0]-e[0]}),a=i[0][0],r=i[i.length-1][0];e=a<=e?a:e,n=r>=n?r:n}}),i.chartList.forEach(function(t){t.chart.RenderWithMinAndMaxDate(e,n,i.setSelectedTime)}),i.setSelectedTime=null})}},i.RenderPagination=function(){var t=new nr("pagination"+i.id,i.selectedPoints.length,6,i.ChartHelper.onPagination);i.pagination=t},i.chartList=[],i.pointTable=null,i.pointList=[],i.selectedPoints=[],i.lastDeviceId="",i.lastShowPoints=[],i.showPoints=[],i}return xr(e,t),e.prototype.DisposeChart=function(t){void 0===t&&(t=!0),this.chartList.forEach(function(t){t.chart.Dispose()}),this.pagination&&this.pagination.Dispose(),this.chartLayout&&this.chartLayout.Dispose(),t&&(this.chartList=[])},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],e.prototype,"DisposeChart",null),e}(J),Ir=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Br=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="DCBiasVoltage",i.service=Si.FetchBiasVoltages,i.AfterConstructor(),i}return Ir(e,t),e}(Dr),Tr=function(){return(Tr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Sr=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Mr=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Er=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},kr=function(){function t(t,e,n,i,a,r,o,s){var l=this;if(this.Resize=function(){l.table.resize(L(l.element).height())},this.name="DataTable",this._firstRender=!0,this.element=null,this.id="",this.selectedData=null,this.table=null,this.deviceId="",this.devicePath="",this.deviceType="",this.path="",this.selectDataKeysPage={},this.currentPage=1,this.SelectCheckData=[],this.PageData=[],this.TableColConfig=[{assets:[4,5,6,7,8,9],templet:[{field:"AlarmLevel",width:30,title:"",templet:function(t){return 0===t.AlarmLevel||void 0===t.AlarmLevel||null===t.AlarmLevel?"":'<div style="width:15px;height:15px;background:'+Object(f.i)(t.AlarmLevel)+';top: 2.5px;position: relative;right: 7px;"></div>'}},{field:"MeasDate",minWidth:160,textContent:function(t,e){return Object(f.r)(t)},title:M.$t("datatable.title.measdate"),templet:function(t){return"<span data-key='"+(t.WaveKey||"")+"'>"+Object(f.r)(t.MeasDate)+"</span>"}},{field:"MeasValue",width:f.B?120:80,textContent:function(t,e){return e.TextValue?e.TextValue:""+e.MeasValue.toFixed(3)},title:M.$t("datatable.title.measvalue"),templet:function(t){return t.TextValue?t.TextValue:""+t.MeasValue.toFixed(3)}}]},{assets:Er(Er([],tn.d),tn.i),templet:[{checkbox:!0,width:30},{field:"AlarmLevel",width:30,title:"",templet:function(t){return""}},{field:"MeasDate",minWidth:160,title:M.$t("datatable.title.measdate"),textContent:function(t,e){return Object(f.r)(t)},templet:function(t){return"<span data-key='"+(t.WaveKey||"")+"'>"+Object(f.r)(t.MeasDate)+"</span>"}},{field:"Description",title:M.$t("datatable.title.desc"),width:120,templet:function(t){return 9==t.DataType||5==t.DataType?"<div DblClickable='true' data-key='"+t.WaveKey+"' id="+t.WaveKey+">"+(t.Description||"")+"</div>":t.Description||""}},{field:"InstrCode",title:M.$t("datatable.title.instrcode"),width:f.B?180:120}]},{assets:Er([],tn.g),templet:[{checkbox:!0,width:30},{field:"AlarmLevel",width:30,title:"",templet:function(t){return 1===t.IsError?"<div class='rzErrorTag'></div>":0===t.AlarmLevel?"":'<div style="width:15px;height:15px;background:'+Object(f.i)(t.AlarmLevel)+';top: 2.5px;position: relative;right: 7px;"></div>'}},{field:"MeasDate",minWidth:160,textContent:function(t,e){return Object(f.r)(t)},title:M.$t("datatable.title.measdate"),templet:function(t){return"<span data-key='"+(t.WaveKey||"")+"'>"+Object(f.r)(t.MeasDate)+"</span>"}},{field:"MeasValue",width:f.B?120:80,title:M.$t("datatable.title.measvalue"),textContent:function(t,e){return e.TextValue?e.TextValue:""+e.MeasValue.toFixed(3)},templet:function(t){return t.TextValue?t.TextValue:""+t.MeasValue.toFixed(3)}},{field:"Description",title:M.$t("datatable.title.desc"),width:120,templet:function(t){return t.Description||""}},{field:"InstrCode",title:M.$t("datatable.title.instrcode"),width:f.B?180:120}]},{assets:[9999],templet:[{checkbox:!0,width:30},{field:"MeasDate",minWidth:160,textContent:function(t,e){return Object(f.r)(t)},title:M.$t("datatable.title.measdate"),templet:function(t){return"<div data-key='"+(t.WaveKey||"")+"' DBClickGoBack=true>"+Object(f.r)(t.MeasDate)+"</div>"}},{field:"MeasValue",width:f.B?120:80,textContent:function(t,e){return e.TextValue?e.TextValue:""+e.MeasValue.toFixed(3)},title:M.$t("datatable.title.measvalue"),templet:function(t){return"<div DBClickGoBack=true>"+(t.TextValue?t.TextValue:""+t.MeasValue.toFixed(3))+"</div>"}},{field:"RunSpeed",width:f.B?120:80,title:M.$t("datatable.value.runspeed"),templet:function(t){return"<div DBClickGoBack=true>"+t.RunSpeed+"</div>"}}]}],this.CustomTableColConfig=[],this.filteredFlag=!1,this.blackBoxWaveKey=null,this.GetTableCols=function(t){void 0===t&&(t=null),t=t||l.assetType;var e=[];return l.CustomTableColConfig&&l.CustomTableColConfig.map(function(n){if(n&&n.assets&&n.assets.length>0&&n.assets.indexOf(t)>=0)return e=n.templet}),0==e.length&&l.TableColConfig&&l.TableColConfig.map(function(n){if(n&&n.assets&&n.assets.length>0&&n.assets.indexOf(t)>=0)return e=n.templet}),e.length>0?[e]:[[{field:"AlarmLevel",width:30,title:"",templet:function(t){return 1===t.IsError?"<div class='rzErrorTag'></div>":'<div style="width:15px;height:15px;background:'+Object(f.i)(t.AlarmLevel)+';top: 2.5px;position: relative;right: 7px;"></div>'}},{field:"MeasDate",minWidth:160,title:M.$t("datatable.title.measdate"),templet:function(t){return"<span data-key='"+(t.WaveKey||"")+"'>"+Object(f.r)(t.MeasDate)+"</span>"}},{field:"MeasValue",width:f.B?120:80,title:M.$t("datatable.title.measvalue"),templet:function(t){var e=t.TextValue?t.TextValue:""+t.MeasValue.toFixed(3);return"<span title='"+e+"'>"+e+"</span>"}},{field:"Description",title:M.$t("datatable.title.desc"),width:120,templet:function(t){return t.Description||""}},{field:"InstrCode",title:M.$t("datatable.title.instrcode"),width:f.B?180:120}]]},this.GetSelectDataKeys=function(){var t=[];for(var e in l.selectDataKeysPage)for(var n in l.selectDataKeysPage[e])t.push(l.selectDataKeysPage[e][n]);return t},this.AddBaseContextmenu=function(){var t=l;Object(f.v)("RZ_Compatibility_Mode");R.bind(l.element,function(){return[{name:M.$t("menu.datatable.export"),id:"export"+l.id,callback:function(){O.table;Object(f.h)(t.data,t.GetTableCols()[0],"data")}},{name:M.$t("menu.datatable.range"),id:"datarange"+l.id,callback:function(){ie.DataRangInit(t.id,function(){t.Refresh()})}},{name:M.$t("settingModal.title"),id:"settings"+l.id,callback:function(){ie.OpenSettingModal(t.id)}}]},!0)},this.renderDateTime=function(t,e){void 0===e&&(e=null),O.laydate.render({elem:"#"+t+l.id,type:"datetime",value:e,format:"yyyy/MM/dd HH:mm"})},this.GetTimeIndexData=function(t,e){return void 0===e&&(e=!0),Sr(l,void 0,void 0,function(){var n,i,a;return Mr(this,function(r){switch(r.label){case 0:if(q.a.IndexConfig=[],!t||!this.devicePath)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Si.FetchIndexTrendName(t)];case 2:return(n=r.sent())&&(i=n.data,a=[],i&&i.map(function(t){var n={name:t.IndexName,value:t.IndexCode,key:"",LAY_CHECKED:e,points:t.points};a.push(n)}),q.a.IndexConfig=a),[3,4];case 3:return r.sent(),[3,4];case 4:return[3,6];case 5:q.a.IndexConfig=[],r.label=6;case 6:return[2]}})})},this.GetData=function(t,e){return Sr(l,void 0,void 0,function(){return Mr(this,function(e){this;try{Si.FetchTrendData(this.assetid,this.assetType,null).then(function(e){ie.GetDataRange().isShowError||e&&e.data&&e.data.IndexDatas&&e.data.IndexDatas.length>0&&void 0!==e.data.IndexDatas[0].IsError&&(e.data.IndexDatas=e.data.IndexDatas.filter(function(t){return 0===t.IsError&&void 0!==t.IsError})),t(e)}).catch(function(e){t({data:{IndexDatas:[]}})})}catch(t){}return[2]})})},this.RemoveEvent=function(){W.removeEvent("TrendChange",null,l.id),xa.DeleteEvent(l.id)},this.setSelectRow=function(t){var e=l;try{var n=l.GetDataIndex(t);n<0&&(n=0);var i=parseInt(L(l.element).find(".layui-laypage-limits select").val()),a=parseInt(L(l.element).find(".layui-laypage-next").attr("data-page"))-2,r=Math.floor(n/i),o=n%i;a==r||l.table.reload({data:l.data,cols:e.GetTableCols(e.filteredFlag?9999:null),done:function(t,n,i){if(e.RenderDone.bind(e)(t,n,i,!1,!0),e.filteredFlag){if(L("#ResetBlackBoxFilter")[0])return;L("div[lay-id="+e.id+']>.layui-table-box>.layui-table-header>table>thead>tr>th[data-field="MeasDate"]>div').prepend("<a title="+M.$t("common.goBack")+" id='ResetBlackBoxFilter'> ⬅ </a>&nbsp;&nbsp;"),L("a#ResetBlackBoxFilter").css("cursor","pointer").on("click",function(){e.ResetFilter.bind(e)()})}},page:{curr:r+1,layout:["limit","count","prev","page","next"],limits:[10,20,50,100],groups:1,first:!1,limit:i,last:!1}}),l.SetSelectedData(l.data[n]),L("#"+l.id).siblings().find("tr[data-index='"+o+"']").addClass("layui-table-click").siblings().removeClass("layui-table-click"),L(l.element).find(".layui-table-body").scrollTop(L(l.element).find("tr[data-index='"+o+"']").height()*o)}catch(t){}},this.AddEvent=function(){ba.b.addListener("onTotalSpecConfigChange",function(t){var e=Object(f.v)("TotalSpecConfig");W.fireEvent("onTotalSpecConfigChange",e)}),xa.AddEvent(l.id,l.CheckedChange);var t=l;W.addEvent("TrendChange",function(e){var n=e.data;if(!n||"datatable"!==n.source){if(!t.filteredFlag){if(n&&("datatable"==n.source||"startdown"===n.source&&!t.filteredFlag))return;if(tn.d.indexOf(t.assetType)>=0)return}t.setSelectRow(n.MeasDate)}},l.id)},this.Refresh=function(){if(W.fireEvent("TempDataRangeChange"),q.a.AllowChartConfig[l.name].indexOf(l.assetType)<0)return l.sourceData=null,l.selectedData=null,l.UpdateTable([]),void l.DispatchAssetChange();var t=l;l.GetData(function(e){t.sourceData=e,l.DispatchAssetChange();try{var n=e.data.IndexDatas||[];t.data=n,t.orgData=n.concat()}catch(e){t.data=[],t.orgData=[]}t.data.length>0&&(t.selectedData=t.data[0]),l.DispatchAssetChange(),t.UpdateTable(t.data)},function(e){l.sourceData=null,l.DispatchAssetChange(),l.selectedData=null,t.UpdateTable([])})},this.Reload=function(t){var e=t.assetid,n=t.asssetType,i=t.assetPath,a=t.deviceId,r=t.devicePath,o=t.force,s=void 0!==o&&o,c=t.callBack,u=void 0===c?null:c,h=t.deviceType,d=void 0===h?null:h,p=t.entId,f=void 0===p?"":p,A=t.industryType,m=void 0===A?"":A,y=t.deviceRPM,g=void 0===y?0:y,v=t.properties;return Sr(l,void 0,void 0,function(){var t,o=this;return Mr(this,function(l){switch(l.label){case 0:if(!s&&this.assetid===e)return[2];if(Object(ba.a)("DataTable_OnLoad_Before",!0),this.assetProperties=v,this.entId=f,this.industryType=m,this.deviceRPM=g,this.assetid=e,this.assetType=n,this.path=i,this.deviceId=a,this.devicePath=r,this.deviceType=d,this._firstRender=!0,this.sourceData=null,this.selectedData=null,this.data=[],this.orgData=[],this.filteredFlag=!1,G.Clear(),this.UpdateTable([]),!this.table)throw"DataTable Init error";return q.a.AllowChartConfig[this.name].indexOf(this.assetType)<0?(this.DispatchAssetChange(),[2]):(t=this,[4,this.GetTimeIndexData(this.deviceId,!0)]);case 1:return l.sent(),this.GetData(function(e){t.sourceData=e,t.DispatchAssetChange();var n=e.data&&e.data.IndexDatas?e.data.IndexDatas:[];t.data=n,t.orgData=n.concat(),t.UpdateTable(n);try{Object(ba.a)("DataTable_OnLoad_After",!0),u&&u()}catch(t){}},function(e){o.sourceData=null,t.DispatchAssetChange(),o.selectedData=null,t.UpdateTable([]),u&&u(),Object(ba.a)("DataTable_OnLoad_After",!1)}),[2]}})})},this.DispatchAssetChange=function(){l.assetid&&W.fireEvent("onAssetChange",{assetType:l.filteredFlag?9999:l.assetType,assetid:l.assetid,deviceId:l.deviceId,deviceType:l.deviceType,devicePath:l.devicePath,data:l.sourceData&&l.sourceData.data?l.sourceData.data:{},path:l.path,industryType:l.industryType})},this.DispatchEvent=function(){if(l.assetid&&l.data&&l.data.length>0&&W.fireEvent("onDataIndexChange",Tr(Tr({},l.selectedData),{MeasDate:Object(f.r)(l.selectedData.MeasDate),assetid:l.assetid,assetType:l.filteredFlag?9999:l.assetType,deviceId:l.deviceId,devicePath:l.devicePath,source:"datatable"})),l.selectedData){if(tn.d.indexOf(l.assetType)<0||l.filteredFlag){Tr(Tr({},l.selectedData),{MeasDate:l.selectedData&&l.selectedData.MeasDate?Object(f.r)(l.selectedData.MeasDate):"",path:l.path,assetType:l.filteredFlag?9999:l.assetType,assetid:l.assetid,deviceId:l.deviceId,devicePath:l.devicePath,MeasValue:l.selectedData&&l.selectedData.MeasValue?l.selectedData.MeasValue.toFixed(3):"",source:"datatable",blackBoxWaveKey:l.blackBoxWaveKey});W.fireEvent("TrendChange",Tr(Tr({},l.selectedData),{MeasDate:l.selectedData&&l.selectedData.MeasDate?Object(f.r)(l.selectedData.MeasDate):"",path:l.path,assetType:l.filteredFlag?9999:l.assetType,assetid:l.assetid,deviceId:l.deviceId,devicePath:l.devicePath,MeasValue:l.selectedData&&l.selectedData.MeasValue?l.selectedData.MeasValue.toFixed(3):"",source:"datatable",blackBoxWaveKey:l.blackBoxWaveKey}))}Object(ba.a)("TrendChange",Tr(Tr({},l.selectedData||{}),{MeasDate:l.selectedData&&l.selectedData.MeasDate?Object(f.r)(l.selectedData.MeasDate):"",path:l.path,assetType:l.filteredFlag?9999:l.assetType,assetid:l.assetid,deviceId:l.deviceId,devicePath:l.devicePath,MeasValue:l.selectedData&&l.selectedData.MeasValue?l.selectedData.MeasValue.toFixed(3):"",source:"datatable",blackBoxWaveKey:l.blackBoxWaveKey}))}},this.GetDataIndex=function(t){return rt.GetMostNearIndexData(t,l.data,"MeasDate",function(t){return Object(f.e)(t)},!0)},this.SetSelectedRowByTime=function(t,e){void 0===e&&(e=!0);var n=l;l.sourceData&&(n.setSelectRow(t),e&&n.DispatchEvent())},this.RenderDone=function(t,e,n,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1);var r=l;if(l.CheckedChange(xa.GetData()),l.currentPage=e,r&&tn.d.indexOf(r.assetType)>-1&&r.ShowDetail(r),1!==e||!a)return 1===e?(L("#"+l.id).siblings().find("[data-index='0']").addClass("layui-table-click").siblings().removeClass("layui-table-click"),l.data&&l.data.length&&l.data.length>0?l.SetSelectedData(l.data&&l.data.length>0?l.data[0]:{}):l.selectedData={},void l.DispatchEvent()):void L("#"+l.id).siblings().find("[data-index='0']").addClass("layui-table-click").trigger("click").siblings().removeClass("layui-table-click")},this.SetSelectedData=function(t){l.selectedData=t},this.CheckAction=function(t){for(var e=O.table.checkStatus(l.id).data||[],n=0,i=e.length;n<i;n++)if(e[n].WaveKey==t)return!0;return!1},this.UpdateTableData=function(t){l.UpdateTable(t),l.DispatchAssetChange()},this.UpdateTable=function(t){var e=l;e.table.reload({data:t,cols:e.GetTableCols(),done:e.RenderDone.bind(e),page:{curr:1,layout:["limit","count","prev","page","next"],limits:[10,20,50,100],groups:1,first:!1,limit:50,last:!1}})},this.GetDataByDataKey=function(t){var e=l,n=O.table;e.table=n.render({elem:"#"+e.id,height:L(t).height(),size:"sm",data:[],done:function(t,n,i){e.RenderDone.bind(e)(t,n,i,!0)},page:{curr:1,layout:["limit","count","prev","page","next"],limits:[10,20,50,100],groups:1,first:!1,limit:50,last:!1},cols:e.GetTableCols()}),n.on("row("+e.id+")",function(t){var n=t.data;JSON.stringify(n)!=JSON.stringify(e.selectedData)&&(e.SetSelectedData(n),t.tr.addClass("layui-table-click").siblings().removeClass("layui-table-click"),e.DispatchEvent())}),n.on("checkbox("+e.id+")",function(t){var n=O.table;if(!(tn.d.indexOf(e.assetType)>=0)||e.filteredFlag){var i=n.checkStatus(e.id);if(t.checked){var a=[];if(i.isAll)for(var r=i.data.length-1;r>=0;r--){var o=i.data[r];a.push({DataKey:o.WaveKey,AssetId:e.assetid,Path:e.path,otherData:o,MeasDate:o.MeasDate,MeasValue:o.MeasValue,maxX:0,maxY:0,Unit:o.Unit})}else if(1==t.checked){o=t.data;a.push({DataKey:o.WaveKey,AssetId:e.assetid,Path:e.path,otherData:o,MeasDate:o.MeasDate,MeasValue:o.MeasValue,maxX:0,maxY:0,Unit:o.Unit,properties:e.assetProperties})}else{o=t.data;xa.DeleteData(o.WaveKey)}xa.AddDatas(a)}else xa.DeleteData(t.data.WaveKey)}}),l.GetData(function(t){e.sourceData=t;var n=t.data&&t.data.IndexDatas?t.data.IndexDatas:[];e.data=n,e.orgData=n.concat(),e.UpdateTable(n)},function(t){l.sourceData=null,l.selectedData=null,e.UpdateTable([])})},this.CheckedChange=function(t){var e=l,n=t.filter(function(t){return e.assetid===t.AssetId}),i=O.table.cache[e.id];i.map(function(t){t.LAY_CHECKED=!1});var a=L("#"+e.id).siblings();a.find("input[name='layTableCheckbox']").each(function(t,e){L(e).prop("checked",!1)}),n.map(function(t){var e=i.filter(function(e){return e.WaveKey===t.DataKey});e&&e.length>0&&(e[0].LAY_CHECKED=!0);var n=t.DataKey;a.find("[data-key='"+n+"']").parents("tr").find("input[name='layTableCheckbox']").prop("checked",!0)}),O.form.render("checkbox")},this.ShowDetail=function(t){if(t.filteredFlag)L("div[DBClickGoBack=true]").parents("tbody").on("dblclick",function(){t.ResetFilter.bind(t)()});else{var e=L("div[DblClickable='true']").parents("tbody");e&&e.length>0&&e.on("dblclick",function(e){var n=L(e.target).parents("tr").find("div[DblClickable='true']");n&&0!=n.length&&(t.FilterBlackBox.bind(t)(n.attr("data-key")),Object(ba.a)("datatable-dbclick",{data:n.attr("data-key")}))})}},this.ResetFilter=function(){var t=l;t.filteredFlag=!1,t.blackBoxWaveKey=null,l.Reload({assetid:l.assetid,asssetType:l.assetType,assetPath:l.path,deviceId:l.deviceId,devicePath:l.devicePath,force:!0,deviceType:l.deviceType,deviceRPM:l.deviceRPM,properties:l.assetProperties})},this.FilterBlackBox=function(t){var e=l;e.filteredFlag=!0,e.blackBoxWaveKey=t,Si.FetchVibDataDetails(t).then(function(t){var n=t.data.Datas;e.orgData=e.data.concat(),n.forEach(function(t){t.force=!0}),e.data=n,e.sourceData=t;try{e.table.reload({data:n,cols:e.GetTableCols(9999),done:function(t,n,i){e.RenderDone.bind(e)(t,n,i,!1,!1),L("#ResetBlackBoxFilter")[0]||(L("div[lay-id="+e.id+']>.layui-table-box>.layui-table-header>table>thead>tr>th[data-field="MeasDate"]>div').prepend("<a title="+M.$t("common.goBack")+" id='ResetBlackBoxFilter'> ⬅ </a>&nbsp;&nbsp;"),L("a#ResetBlackBoxFilter").css("cursor","pointer").on("click",function(){e.ResetFilter.bind(e)()}))},page:{curr:1,layout:["limit","count","prev","page","next"],limits:[10,20,50,100],groups:1,first:!1,limit:50,last:!1}})}catch(t){}}).catch(function(t){e.data=[],e.sourceData={data:{}}})},this.ClickOnFirstRow=function(){L("#"+l.id).siblings().find("[data-index='0']").addClass("layui-table-click").trigger("click").siblings().removeClass("layui-table-click")},this.LoadBlackBox=function(t){l.filteredFlag&&null!=l.blackBoxWaveKey&&(t.onAssetTypeNotSupport(null),Si.FetchVibDataDetails(l.blackBoxWaveKey).then(function(e){var n=t.chart,i=rt.FormatInitData(e,t.InitOriginData,"MeasValue","Datas"),a=i.data,r=i.option;if(a&&a.length>0){var o=e.data.Unit?e.data.Unit:"";n.render([a],"",o,r),n.selectedXIndex=a.length-1,t.ClearMenu(n),n.layout.UpdateHelperInfo({path:t.Path}),n.MenuAfterAction=t.HiddenTimeDomainCriteria()}}).catch(function(t){}))},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}this.id=Object(f.y)(),L(this.element).append("<div id='"+this.id+"' lay-filter='"+this.id+"' style='width:"+L(this.element).width()+"px;height:"+L(this.element).height()+"px'></div>"),this.CustomTableColConfig=o,this.assetid=e,this.path=i,this.entId=s,this.assetType=n,this.deviceId=a,this.devicePath=r,G.TableData=this,L("#"+this.id).addClass("layui-hide"),this.GetDataByDataKey(this.element),this.AddEvent(),k.RZGraphCache.datatable=this,this.AddBaseContextmenu(),Si.FetchConfigs().then(function(t){Object(f.E)("GraphConfig",t.data||!1)}).catch(function(){Object(f.E)("GraphConfig",!1)})}return t.prototype.Dispose=function(){this.RemoveEvent(),R.unbind(this.element),L(this.element).html(""),this.table=null,G.Dispose(),this.sourceData=null,this.selectedData=null,this.element=null},t}(),Fr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Or=function(t){function e(e,n,i,a,r,o){void 0===n&&(n=""),void 0===i&&(i=""),void 0===a&&(a=900),void 0===r&&(r=null),void 0===o&&(o=[[]]);var s=t.call(this,e,r)||this;return s.onAssetTypeNotSupport=function(t){},s.InitChart=function(t){s.chart=new qt(s.element,Yt.Last,null),s.chart.chartConfig.xIsTime=!0,s.chart.menuInstance.RemoveMenuItem("LockChart"),s.chart.layout._InitHelperInfo({path:s.Path||"",RealTimeValue:"",CurosrValue:""}),s.chart.menuInstance.RemoveMenuItem("enableDynamicCursor"),s.chart.dynamicCursorEnable=!1,s.chart.menuInstance.RemoveMenuItem("remark"),s.chart.menuInstance.RemoveMenuItem("removePoint"),s.chart.Init(),s.chart.ChartClick=function(){},s.chart.enableMouseTracking=!0;var e=s.chart;s.chart.render(t,s.xutils,s.yutils,{tooltip:{enabled:!0,formatter:function(){try{return Object(f.r)(this.x)+","+this.y.toFixed(3)+e.yUtils}catch(t){return""}}}},null,null,null,null,{type:"scatter"})},s.AddPoints=function(t){if(t&&0!==t.length){try{var e=s.chart.hchartInstance.xAxis[0].dataMax;if(e&&e>t[t.length-1][0])return}catch(t){}if(s.chart){var n=t[t.length-1][0],i=t[t.length-1][1],a=s.chart.hchartInstance.series;t.length>s.limit&&t.splice(0,t.length-s.limit),s.pointCount+=t.length,a[0].setData(t,!0,!1);try{s.chart.layout.UpdateHelperInfo({RealTimeValue:Object(f.r)(n)+","+i.toFixed(3)+s.yutils})}catch(t){}}}},s.AddPoint=function(t,e){try{var n=s.chart.hchartInstance.xAxis[0].dataMax;if(n&&n>t)return}catch(t){}if(s.chart){s.pointCount++;var i=s.chart.hchartInstance.series,a=s.pointCount>=s.limit;i[0].addPoint([t,e],!0,a,!0);try{s.chart.layout.UpdateHelperInfo({RealTimeValue:Object(f.r)(t)+","+e.toFixed(3)+s.yutils}),a&&s.pointCount--}catch(t){}}},s.Resize=function(){s.chart,s.chart.Resize()},s.chartName="DynamicChart",s.xutils=n||"",s.yutils=i||"",s.limit=a,s.pointCount=0,s.InitChart(o),s}return Fr(e,t),e.prototype.Dispose=function(){this.event.Dispose(),this.chart&&this.chart.Dispose(),this.chart=null,this.element=null},e}(J),Lr=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ur=function(){function t(t,e,n,i,a,r,o){var s=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===a&&(a=!0),void 0===r&&(r=!0),void 0===o&&(o=!1),this.shouldAddMeun=!0,this.shouldAddToolBox=!0,this.showF=!1,this.onSideFrequencyCursorClose=function(){s.isOpen=!1,s.chart.hchartHelper.RemoveSideFrequency(),s.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint")},this.onSideFrequencyCursorOpen=function(){if(s.chart.hchartInstance||s.chart.verifyData(s.chart.data)){s.isOpen||(s.isOpen=!0);var t=s.chart.GetSelectedXY(),e=s.chart.data[s.chart.selectedYIndex][s.chart.data[s.chart.selectedYIndex].length-1][0];0==s.SideFrequencyCursorValue&&(s.SideFrequencyCursorValue=Math.round(e/5)),s.chart.hchartHelper.AddSideFrequencyCursor(t[0],s.SideFrequencyCursorValue,s.SideFrequencyCursorCount,e,s),s.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint"),s.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint2");try{var n=s.chart.getMostIndexX(t[0]+s.SideFrequencyCursorValue,0,!1,s.chart.data[0]);s.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint",n[1][0],n[1][1])}catch(t){}try{n=s.chart.getMostIndexX(t[0]-s.SideFrequencyCursorValue,0,!1,s.chart.data[0]);s.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint2",n[1][0],n[1][1])}catch(t){}if(s.onMovend){var i=s.chart.GetSelectedXY()[0];s.onMovend(i,s.SideFrequencyCursorValue)}}},this.chart=t,this.isOpen=!1,this.SideFrequencyCursorCount=1,this.SideFrequencyCursorValue=0,this.onMovend=n,this.onMoving=e,this.isOpen=i,this.shouldAddMeun=a,this.showF=o,this.shouldAddToolBox=r}return t.prototype.onInit=function(){this.AddMeun(),this.AddToolBox()},t.prototype.Dispose=function(){this.chart=null,this.SideFrequencyCursorValue=null,this.SideFrequencyCursorCount=null},t.prototype.OpenCursor=function(){if(this.isOpen||(this.isOpen=!0),this.chart.hchartInstance||this.chart.verifyData(this.chart.data)){var t=this.chart.GetSelectedXY(),e=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];if(0==this.SideFrequencyCursorValue)try{var n=this.chart.hchartInstance.xAxis[0].min,i=this.chart.getMostIndexX(n,0,!0,this.chart.data[0]);this.SideFrequencyCursorValue=Math.abs(this.chart.data[this.chart.selectedYIndex][this.chart.selectedXIndex][0]-i[1][0])}catch(n){this.SideFrequencyCursorValue=Math.round(e/6);var a=this.chart.getMostIndexX(t[0]+this.SideFrequencyCursorValue,0,!1,this.chart.data[0]);this.SideFrequencyCursorValue=Math.abs(this.chart.data[this.chart.selectedYIndex][a[0]][0]-t[0])}var r=this.SideFrequencyCursorValue;(t[0]-this.SideFrequencyCursorValue<0||t[0]+this.SideFrequencyCursorValue>e)&&(r=t[0]>e-t[0]?e-t[0]:t[0]),this.chart.hchartHelper.AddSideFrequencyCursor(t[0],r,this.SideFrequencyCursorCount,e,this),this.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint"),this.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint2");try{var o=this.chart.getMostIndexX(t[0]+r,0,!1,this.chart.data[0]);this.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint",o[1][0],o[1][1])}catch(t){}try{o=this.chart.getMostIndexX(t[0]-r,0,!1,this.chart.data[0]);this.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint2",o[1][0],o[1][1])}catch(t){}if(this.onMovend){var s=this.chart.GetSelectedXY()[0];this.onMovend(s,r)}this.chart.updateHelperInfo(),this.chart.MoveMainCursor(!1,!0,!1,!1,!1)}},t.prototype.CloseCursor=function(){this.isOpen=!1,this.SideFrequencyCursorValue=0,this.chart.hchartHelper.RemoveSideFrequency(),this.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint"),this.chart.updateHelperInfo(),this.chart.MoveMainCursor(!1,!0,!1,!1,!1)},t.prototype.AddMeun=function(){},t.prototype.AddToolBox=function(){},t.prototype.onMainCursorMove=function(){},t.prototype.onMainCursorMoved=function(){this.isOpen&&this.OpenCursor()},t.prototype.GetSelectText=function(t){if(this.isOpen&&this.showF){try{if(0==this.SideFrequencyCursorValue){var e=this.chart.GetSelectedXY(),n=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];this.SideFrequencyCursorValue=Math.round(n/6);var i=this.chart.getMostIndexX(e[0]+this.SideFrequencyCursorValue,0,!1,this.chart.data[0]);this.SideFrequencyCursorValue=this.chart.data[this.chart.selectedYIndex][i[0]][0]-e[0]}}catch(t){}var a=this.chart.data[this.chart.selectedYIndex][this.chart.selectedXIndex],r=(a[0],a[1],this.chart.GetSelectedXY()),o=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0],s=this.SideFrequencyCursorValue;(r[0]-this.SideFrequencyCursorValue<0||r[0]+this.SideFrequencyCursorValue>o)&&(s=r[0]>o-r[0]?o-r[0]:r[0]);var l={rate:1,unit:this.chart.xUtils};this.chart.chartConfig.convertUnit&&(l=Object(f.b)(this.chart.xUtils));var c="f";return"X"===this.chart.xUtils&&(c="x"),t?"<br />△"+c+"="+((s*l.rate).toFixed(3)+this.chart.xUtils):",△"+c+"="+((s*l.rate).toFixed(3)+this.chart.xUtils)}return""},t.prototype.onCursorMove=function(t,e){var n=this.chart.getMostIndexX(t,0,!1,this.chart.data[0]);try{this.chart.hchartHelper.RemovePoint(e?"SideFrequencyCursorPoint2":"SideFrequencyCursorPoint"),this.chart.hchartHelper.AddPoint(e?"SideFrequencyCursorPoint2":"SideFrequencyCursorPoint",n[1][0],n[1][1]);var i=this.chart.GetSelectedXY()[0];this.SideFrequencyCursorValue=Math.abs(i-n[1][0]),i-this.SideFrequencyCursorValue<0&&(this.SideFrequencyCursorValue=i);var a=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];i+this.SideFrequencyCursorValue>a&&(this.SideFrequencyCursorValue=a-i),this.onMoving&&this.onMoving&&this.onMoving(i,this.SideFrequencyCursorValue),this.chart.updateHelperInfo(),this.chart.MoveMainCursor(!1,!0,!1,!1,!1)}catch(t){}},t.prototype.onCursorMoveEnd=function(t,e){var n=this.chart.getMostIndexX(t,0,!1,this.chart.data[0]),i=this.chart.GetSelectedXY()[0];this.SideFrequencyCursorValue=Math.abs(i-n[1][0]),i-this.SideFrequencyCursorValue<0&&(this.SideFrequencyCursorValue=i);var a=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];i+this.SideFrequencyCursorValue>a&&(this.SideFrequencyCursorValue=a-i),this.OpenCursor()},t.prototype.onClear=function(){},Lr([Object(f.a)()],t.prototype,"OpenCursor",null),Lr([Object(f.a)()],t.prototype,"CloseCursor",null),t}(),Pr=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Rr=function(){function t(t,e,n,i,a){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===a&&(a=!1),this.shouldAddMeun=!0,this.shouldAddToolBox=!0,this.onMultiplierCursorClose=function(){r.isOpen=!1,r.chart.hchartHelper.RemoveMultiplierCursor()},this.onMultiplierCursorOpen=function(){try{if(!r.chart.hchartInstance&&!r.chart.verifyData(r.chart.data))return;r.isOpen||(r.isOpen=!0);var t=r.chart.GetSelectedXY();r.chart.hchartHelper.AddMultiplierCursor(t[0],r.chart.data[r.chart.selectedYIndex][r.chart.data[r.chart.selectedYIndex].length-1][0],r.MultiplierCursorCount)}catch(t){}};var o=Object(f.v)("rz_CursorConfig")||{SideFrequencyCount:7,MultiplierCursorCount:7};this.shouldDisplayFrequency=a,this.chart=t,this.isOpen=e,this.shouldAddMeun=n,this.shouldAddToolBox=i,this.MultiplierCursorCount=o.MultiplierCursorCount;var s=this;this.chart.AddEvent("MultiplierCursorCountChange",function(t){s.MultiplierCursorCount=t.data,s.isOpen&&s.onMultiplierCursorOpen()})}return t.prototype.onInit=function(){this.AddMeun(),this.AddToolBox()},t.prototype.Dispose=function(){this.chart=null,this.MultiplierCursorCount=null,this.isOpen=null,this.shouldAddMeun=null,this.shouldAddToolBox=null},t.prototype.AddSpeedFrequency=function(){if(Object(f.v)("RZ_DisplayFrequency")&&this.shouldDisplayFrequency){var t=L(this.chart.element).find("li[id^='RotatingSpeed']").html();if(t&&(t=parseInt(t.replace("RPM","")))&&0!=t){var e=t/60,n=this.chart,i=this.chart.getMostIndexX(e,0,!0,this.chart.data[this.chart.selectedYIndex]);if(i){var a={value:i[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"1X",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};n.hchartHelper.AddLine("speedFrequency",a)}}}},t.prototype.RemoveSpeedFrequency=function(){this.chart.hchartHelper.RemoveLine("speedFrequency")},t.prototype.OpenCursor=function(){try{if(this.isOpen||(this.isOpen=!0),!this.chart.hchartInstance&&!this.chart.verifyData(this.chart.data))return;var t=this.chart.GetSelectedXY();this.chart.hchartHelper.AddMultiplierCursor(t[0],this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0],this.MultiplierCursorCount)}catch(t){}},t.prototype.CloseCursor=function(){try{this.isOpen=!1,this.chart.hchartHelper.RemoveMultiplierCursor()}catch(t){}},t.prototype.AddMeun=function(){var t=this;try{this.chart.menuInstance.AddMenuItem("Cursorsetting"+this.chart.id,M.$t("menu.graphicargs.setting"),function(){var e=Object(f.v)("rz_CursorConfig")||{SideFrequencyCount:7,MultiplierCursorCount:7},n="<div class='Cursorsetting"+t.chart.id+"'><div><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("prompt.graphicargs.frequencycursor.multi.count")+':</span><input type="number" min="1" step="1" class="layui-layer-input" value=\''+t.MultiplierCursorCount+"' /></div>";n+="<div style=\"margin-top:10px;\"><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("prompt.graphicargs.frequencycursor.side.count")+':</span><input type="number" min="1" step="1" class="layui-layer-input" value=\''+e.SideFrequencyCursorCount+"' /></div></div>",U.prompt({type:1,title:M.$t("menu.graphicargs.setting"),content:n,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(n,i){var a=parseInt(L(".Cursorsetting"+t.chart.id).find("input").eq(0).val()),r=parseInt(L(".Cursorsetting"+t.chart.id).find("input").eq(1).val());a!=t.MultiplierCursorCount&&(t.MultiplierCursorCount=a,t.isOpen&&t.onMultiplierCursorOpen()),r!=e.SideFrequencyCursorCount&&t.chart.DispatchEvent("SideFrequencyCountChange",r),Object(f.E)("rz_CursorConfig",{SideFrequencyCount:r,MultiplierCursorCount:a}),U.close(i)}),L(".Cursorsetting"+t.chart.id).find("input").eq(0).val(e.MultiplierCursorCount),L(".Cursorsetting"+t.chart.id).find("input").eq(1).val(e.SideFrequencyCount)})}catch(t){}},t.prototype.AddToolBox=function(){var t=this;this.shouldAddToolBox&&this.chart.layout.AddToolBoxItem(n(178),n(178),M.$t("toolbar.btn.frequencycursor.multi"),function(){t.OpenCursor()},function(){t.CloseCursor()})},t.prototype.onMainCursorMove=function(){},t.prototype.onMainCursorMoved=function(){this.isOpen&&this.OpenCursor()},t.prototype.GetSelectText=function(t){return""},t.prototype.onClear=function(){},Pr([Object(f.a)()],t.prototype,"AddSpeedFrequency",null),Pr([Object(f.a)()],t.prototype,"OpenCursor",null),Pr([Object(f.a)()],t.prototype,"CloseCursor",null),t}(),Hr=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Qr=function(){function t(t,e,n,i,a,r,o){var s=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===a&&(a=!0),void 0===r&&(r=!0),void 0===o&&(o=!0),this.shouldAddMeun=!0,this.shouldAddToolBox=!0,this.showF=!1,this.onSideFrequencyCursorClose=function(){s.isOpen=!1,s.chart.hchartHelper.RemoveSideFrequency(),s.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint")},this.onSideFrequencyCursorOpen=function(){if(s.chart.hchartInstance||s.chart.verifyData(s.chart.data)){s.isOpen||(s.isOpen=!0);var t=s.chart.GetSelectedXY(),e=s.chart.data[s.chart.selectedYIndex][s.chart.data[s.chart.selectedYIndex].length-1][0];0==s.SideFrequencyCursorValue&&(s.SideFrequencyCursorValue=Math.round(e/5)),s.chart.hchartHelper.AddSideFrequencyCursor(t[0],s.SideFrequencyCursorValue,s.SideFrequencyCursorCount,e,s),s.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint"),s.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint2");try{var n=s.chart.getMostIndexX(t[0]+s.SideFrequencyCursorValue,0,!1,s.chart.data[s.chart.selectedYIndex]);s.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint",n[1][0],n[1][1])}catch(t){}try{n=s.chart.getMostIndexX(t[0]-s.SideFrequencyCursorValue,0,!1,s.chart.data[s.chart.selectedYIndex]);s.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint2",n[1][0],n[1][1])}catch(t){}if(s.onMovend){var i=s.chart.GetSelectedXY()[0];s.onMovend(i,s.SideFrequencyCursorValue)}}},this.chart=t,this.isOpen=!1;var l=Object(f.v)("rz_CursorConfig")||{SideFrequencyCount:7,MultiplierCursorCount:7};this.SideFrequencyCursorCount=l.SideFrequencyCount,this.SideFrequencyCursorValue=0,this.onMovend=n,this.onMoving=e,this.isOpen=i,this.shouldAddMeun=a,this.showF=o,this.shouldAddToolBox=r;var c=this;this.chart.AddEvent("SideFrequencyCountChange",function(t){c.SideFrequencyCursorCount=t.data,c.isOpen&&c.OpenCursor()})}return t.prototype.onInit=function(){this.AddMeun(),this.AddToolBox()},t.prototype.Dispose=function(){this.chart=null,this.isOpen=null,this.SideFrequencyCursorCount=null,this.SideFrequencyCursorValue=null,this.shouldAddMeun=null,this.shouldAddToolBox=null},t.prototype.OpenCursor=function(){if(this.isOpen||(this.isOpen=!0),this.chart.hchartInstance||this.chart.verifyData(this.chart.data)){var t=this.chart.GetSelectedXY(),e=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];if(0==this.SideFrequencyCursorValue)try{var n=this.chart.hchartInstance.xAxis[0].min,i=this.chart.getMostIndexX(n,0,!0,this.chart.data[this.chart.selectedYIndex]);this.SideFrequencyCursorValue=Math.abs(this.chart.data[this.chart.selectedYIndex][this.chart.selectedXIndex][0]-i[1][0])}catch(n){this.SideFrequencyCursorValue=Math.round(e/6);var a=this.chart.getMostIndexX(t[0]+this.SideFrequencyCursorValue,0,!0,this.chart.data[this.chart.selectedYIndex]);this.SideFrequencyCursorValue=Math.abs(this.chart.data[this.chart.selectedYIndex][a[0]][0]-t[0])}var r=this.SideFrequencyCursorValue;(t[0]-this.SideFrequencyCursorValue<0||t[0]+this.SideFrequencyCursorValue>e)&&(r=t[0]>e-t[0]?e-t[0]:t[0]),this.chart.hchartHelper.AddSideFrequencyCursor(t[0],r,this.SideFrequencyCursorCount,e,this),this.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint"),this.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint2");try{var o=this.chart.getMostIndexX(t[0]+r,0,!0,this.chart.data[this.chart.selectedYIndex]);this.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint",o[1][0],o[1][1])}catch(t){}try{o=this.chart.getMostIndexX(t[0]-r,0,!0,this.chart.data[this.chart.selectedYIndex]);this.chart.hchartHelper.AddPoint("SideFrequencyCursorPoint2",o[1][0],o[1][1])}catch(t){}if(this.onMovend){var s=this.chart.GetSelectedXY()[0];this.onMovend(s,r)}this.chart.updateHelperInfo(),this.chart.MoveMainCursor(!1,!0,!1,!1,!1)}},t.prototype.CloseCursor=function(){this.isOpen=!1,this.SideFrequencyCursorValue=0,this.chart.hchartHelper.RemoveSideFrequency(),this.chart.hchartHelper.RemovePoint("SideFrequencyCursorPoint"),this.chart.updateHelperInfo(),this.chart.MoveMainCursor(!1,!0,!1,!1,!1)},t.prototype.AddMeun=function(){if(this.shouldAddMeun){var t=this;this.chart.menuInstance.AddMenuItem("Cursorsetting"+this.chart.id,M.$t("menu.graphicargs.setting"),function(){var e=Object(f.v)("rz_CursorConfig")||{SideFrequencyCount:7,MultiplierCursorCount:7},n="<div class='Cursorsetting"+t.chart.id+"'><div><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("prompt.graphicargs.frequencycursor.multi.count")+':</span><input type="number" min="1" step="1" class="layui-layer-input" value=\''+e.MultiplierCursorCount+"' /></div>";n+="<div style=\"margin-top:10px;\"><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("prompt.graphicargs.frequencycursor.side.count")+':</span><input type="number" min="1" step="1" class="layui-layer-input" value=\''+t.SideFrequencyCursorCount+"' /></div></div>",U.prompt({type:1,title:M.$t("menu.graphicargs.setting"),content:n,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(n,i){var a=parseInt(L(".Cursorsetting"+t.chart.id).find("input").eq(0).val()),r=parseInt(L(".Cursorsetting"+t.chart.id).find("input").eq(1).val());e.MultiplierCursorCount!=a&&t.chart.DispatchEvent("MultiplierCursorCountChange",a),r!=t.SideFrequencyCursorCount&&(t.SideFrequencyCursorCount=r,t.isOpen&&t.onSideFrequencyCursorOpen()),Object(f.E)("rz_CursorConfig",{SideFrequencyCount:r,MultiplierCursorCount:a}),U.close(i)}),L(".Cursorsetting"+t.chart.id).find("input").eq(0).val(e.MultiplierCursorCount),L(".Cursorsetting"+t.chart.id).find("input").eq(1).val(e.SideFrequencyCount)})}},t.prototype.AddToolBox=function(){var t=this;this.shouldAddToolBox&&this.chart.layout.AddToolBoxItem(n(179),n(179),M.$t("toolbar.btn.frequencycursor.side"),function(){t.OpenCursor()},function(){t.CloseCursor()})},t.prototype.onMainCursorMove=function(){},t.prototype.onMainCursorMoved=function(){this.isOpen&&this.OpenCursor()},t.prototype.getF=function(){try{var t=this.chart.GetSelectedXY(),e=this.SideFrequencyCursorValue,n=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];return(t[0]-this.SideFrequencyCursorValue<0||t[0]+this.SideFrequencyCursorValue>n)&&(e=t[0]>n-t[0]?n-t[0]:t[0]),Math.round(1e3*e)/1e3}catch(t){return 0}},t.prototype.GetSelectText=function(t){if(this.isOpen&&this.showF){try{if(0==this.SideFrequencyCursorValue){var e=this.chart.GetSelectedXY(),n=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];this.SideFrequencyCursorValue=Math.round(n/6);var i=this.chart.getMostIndexX(e[0]+this.SideFrequencyCursorValue,0,!1,this.chart.data[this.chart.selectedYIndex]);this.SideFrequencyCursorValue=this.chart.data[this.chart.selectedYIndex][i[0]][0]-e[0]}}catch(t){}var a=this.chart.data[this.chart.selectedYIndex][this.chart.selectedXIndex],r=(a[0],a[1],this.chart.GetSelectedXY()),o=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0],s=this.SideFrequencyCursorValue;(r[0]-this.SideFrequencyCursorValue<0||r[0]+this.SideFrequencyCursorValue>o)&&(s=r[0]>o-r[0]?o-r[0]:r[0]);var l={rate:1,unit:this.chart.xUtils};this.chart.chartConfig.convertUnit&&(l=Object(f.b)(this.chart.xUtils));var c="f";return"X"===this.chart.xUtils&&(c="x"),t?"<br />△"+c+"="+((s*l.rate).toFixed(3)+this.chart.xUtils):",△"+c+"="+((s*l.rate).toFixed(3)+this.chart.xUtils)}return""},t.prototype.onCursorMove=function(t,e,n){var i=this.chart.hchartInstance.xAxis[0].toPixels(t,!1),a=this.chart.getIndexByChartPx(i,n,this.chart.selectedYIndex);a=[a[1],a[2]];try{this.chart.hchartHelper.RemovePoint(e?"SideFrequencyCursorPoint2":"SideFrequencyCursorPoint"),this.chart.hchartHelper.AddPoint(e?"SideFrequencyCursorPoint2":"SideFrequencyCursorPoint",a[1][0],a[1][1]);var r=this.chart.GetSelectedXY()[0];this.SideFrequencyCursorValue=Math.abs(r-a[1][0]),r-this.SideFrequencyCursorValue<0&&(this.SideFrequencyCursorValue=r);var o=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];r+this.SideFrequencyCursorValue>o&&(this.SideFrequencyCursorValue=o-r),this.onMoving&&this.onMoving&&this.onMoving(r,this.SideFrequencyCursorValue),this.chart.updateHelperInfo(),this.chart.MoveMainCursor(!0,!0,!0,!1,!1)}catch(t){}},t.prototype.onCursorMoveEnd=function(t,e,n){var i=this.chart.hchartInstance.xAxis[0].toPixels(t,!1),a=this.chart.getIndexByChartPx(i,n,this.chart.selectedYIndex),r=[a[1],a[2]],o=this.chart.GetSelectedXY()[0];this.SideFrequencyCursorValue=Math.abs(o-r[1][0]),o-this.SideFrequencyCursorValue<0&&(this.SideFrequencyCursorValue=o);var s=this.chart.data[this.chart.selectedYIndex][this.chart.data[this.chart.selectedYIndex].length-1][0];o+this.SideFrequencyCursorValue>s&&(this.SideFrequencyCursorValue=s-o),this.OpenCursor()},t.prototype.onClear=function(){},Hr([Object(f.a)()],t.prototype,"OpenCursor",null),Hr([Object(f.a)()],t.prototype,"CloseCursor",null),t}(),_r=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Nr=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},jr=function(){function t(t,e){var n=this;void 0===e&&(e=""),this.onCheckedBoxChange=function(){var t=n,e=[],i=[],a=(Object(f.k)(),n.getSpeedFrequency());0!==a&&(O.$("#SpecChartTable"+t.chart.id+" input[type='checkbox']:checked").each(function(n,r){var o=O.$(r),s=o.attr("ChFreq");if(s){var l=parseInt(o.attr("data-index")),c=o.attr("data-SideFreCode");if(c){if(t.cacheData[c]){var u=t.cacheData[c].ChFreq*a;if(u){var h=o.attr("data-name");i.push({x:Number(s)*a-u*l,title:h}),i.push({x:Number(s)*a+u*l,title:h});var d=h.split("+")[0];e&&e.length>=0&&0===e.filter(function(t){return"SideFre"===t.type&&t.title===d}).length&&e.push({x:Number(s)*a,title:d,type:"SideFre"})}}}else e.push({x:Number(s)*l*a,title:o.attr("data-name")})}}),n.drawLine(e,i))},this.getValueText=function(t,e,i){var a=n,r=n.getSpeedFrequency();if(!i)return(Number(t)*e*r).toFixed(3);if(a.cacheData[i]){var o=a.cacheData[i].ChFreq*r;return o?"±"+(o*e).toFixed(3):"±0.000"}return""},this.getSpeedFrequency=function(){return Number(L("#Speed"+n.chart.id).val())/60},this.removeLines=function(){try{for(var t=n.chart.hchartInstance.xAxis[0].plotLinesAndBands.length-1;t>=0;t--)n.chart.hchartInstance.xAxis&&n.chart.hchartInstance.xAxis[0].plotLinesAndBands[t]&&n.chart.hchartInstance.xAxis[0].plotLinesAndBands[t].id&&n.chart.hchartInstance.xAxis[0].plotLinesAndBands[t].id.indexOf("line_Frequency_")>=0&&n.chart.hchartInstance.xAxis[0].removePlotLine(n.chart.hchartInstance.xAxis[0].plotLinesAndBands[t].id)}catch(t){}},this.drawLine=function(t,e){n.removeLines();for(var i=Object(f.v)("RZGraphDarkTheme"),a=0,r=t.length;a<r;a++){var o=t[a];n.chart.hchartInstance.xAxis[0].addPlotLine({color:"#FF0000",width:1,value:o.x,id:"line_Frequency_"+o.title,zIndex:999999,label:{text:o.title,verticalAlign:"top",textAlign:"left",rotation:90,y:10,x:8,dashStyle:"Dash",style:{color:!1!==i?"#FFF":"#000"}}})}a=0;for(var s=e.length;a<s;a++){(o=e[a])&&o.x&&n.chart.hchartInstance.xAxis[0].addPlotLine({color:"blue",width:1,value:o.x,id:"line_Frequency_"+o.title+a,zIndex:999999,label:{text:o.title,verticalAlign:"top",textAlign:"left",rotation:90,y:10,x:8,dashStyle:"Dash",style:{color:!1!==i?"#FFF":"#000"}}})}},this.modalIsShow=!1,this.lastData=null,this.cacheData={},this.shouldAddMeun=!0,this.shouldAddToolBox=!0,this.Init=function(){var t='<div style="display:none;" id=\'tree'+n.chart.id+'\' ><div id="right" style="width:100%;"></div></div>';L("body").append(t),L("#tree"+n.chart.id+" #right").append('<div class="layui-inline">\n        <div class="layui-form-customline">\n        '+M.$t("FrequencyRecogCursor.RotatingSpeed")+":\n        </div>\n        <div class='layui-form-customline'>\n        <input id=\"Speed"+n.chart.id+"\" type='number' name='RotatingSpeed' min='0'\n        autocomplete='off' class='layui-layer-input' value='"+n.getSpeed()+"'  onkeyup=\"this.value=this.value.replace(/[^\\.\\-\\d]/g,'');\"\n        style='width: 80px;height:28px;' />\n            </div> \n            <div class='layui-form-customline'>RPM</div>\n            </div>"),L("#tree"+n.chart.id+" #right").append("<div class=\"proPointCard\"  style='width:100%;min-height:260px;overflow: auto;margin-top: 10px'>\t\n\t\t\t\t</div> "),L("#tree"+n.chart.id+" .proPointCard").append('<table class="layui-table layui-form layui-anim" id="SpecChartTable'+n.chart.id+'" lay-size="sm"></table>'),L("#Speed"+n.chart.id).change(function(){try{window.rz_lastSpeed=Number(L("#Speed"+n.chart.id).val()),n.updateValueText(),n.onCheckedBoxChange()}catch(t){}})},this.updateValueText=function(){var t=n;L("input[chfreq]").each(function(e,n){try{var i=O.$(n),a=i.attr("ChFreq"),r=parseInt(i.attr("data-index")),o=i.attr("data-SideFreCode"),s=t.getValueText(a,r,o);i.siblings(".layui-form-checkbox").find("span").text(s)}catch(t){}})},this.getSpeed=function(){var t,e,i;if((null===(t=n.chart)||void 0===t?void 0:t.CFRunSpeed)||0===(null===(e=n.chart)||void 0===e?void 0:e.CFRunSpeed))return null===(i=n.chart)||void 0===i?void 0:i.CFRunSpeed;var a=60,r=L(n.chart.element).find("li[id^='RotatingSpeed']").html();try{r=parseInt(r.replace("RPM",""))}catch(t){}return r&&0!=r?a=r:G.TableData.deviceRPM?a=G.TableData.deviceRPM:window.rz_lastSpeed&&(a=window.rz_lastSpeed),a},this.chart=t,this.isOpen=!1,this.name=e,this.Init();var i=this;W.addEvent("updateCurrentChartType",function(t){var e=t.data;if(i.isOpen){if(1==e.all||e.types.indexOf(n.name)>=0)return;L(n.chart.element).find(".toolbar").find("li:first").click()}},this.chart.id+"FrequencyCursorupdateCurrentChartType"),W.addEvent("onAssetChange",function(t){t.data;if(n.isOpen){var e=G.getDeviceId();L("#Speed"+n.chart.id).val(n.getSpeed()),n.LoadData("SpecChartTable"+n.chart.id,e)}},this.chart.id+"FrequencyCursor")}return t.prototype.onInit=function(){this.AddMeun(),this.AddToolBox()},t.prototype.Dispose=function(){U.close(this.layerIndex),L("#tree"+this.chart.id).remove(),W.removeEvent("onAssetChange",null,this.chart.id+"FrequencyCursor"),W.removeEvent("updateCurrentChartType",null,this.chart.id+"FrequencyCursorupdateCurrentChartType"),this.chart=null,this.FrequencyCursorCount=null,this.isOpen=null,this.shouldAddMeun=null,this.shouldAddToolBox=null,this.cacheData=null,this.lastData=null},t.prototype.hidden=function(){L(this.chart.element).find("[data-id='"+M.$t("toolbar.btn.frequencycursor.Tagging")+"']").hide()},t.prototype.OpenCursor=function(){return _r(this,void 0,void 0,function(){var t,e=this;return Nr(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),this.isOpen){if(1==this.modalIsShow)return[2]}else this.isOpen=!0;return this.chart.hchartInstance||this.chart.verifyData(this.chart.data)?1==this.modalIsShow?[2]:(this.modalIsShow=!0,t=this,this.layerIndex=U.open({resize:!0,type:1,skin:"layui-layer-prompt",shade:0,title:M.$t("toolbar.btn.frequencycursor.Tagging"),content:L("#tree"+this.chart.id),btn:[],moveOut:!0,area:["800px","400px"],cancel:function(){e.modalIsShow=!1},success:function(){L("#Speed"+t.chart.id).val(e.getSpeed())}},function(t,e){}),[4,this.LoadData("SpecChartTable"+this.chart.id,G.getDeviceId())]):[2];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}})})},t.prototype.LoadData=function(t,e,n){var i;return void 0===e&&(e=""),void 0===n&&(n=""),_r(this,void 0,void 0,function(){var a,r,o,s,l,c,u,h,d,p,A,m,y=this;return Nr(this,function(g){switch(g.label){case 0:a=this,this.removeLines(),r=[],g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Si.FetchTableAllData(e,"?IndexCode=1&assetId="+(n||(null===(i=null==G?void 0:G.TableData)||void 0===i?void 0:i.assetid)))];case 2:return o=g.sent(),Object(f.q)(o.data,this.lastData)?(a.updateValueText(),[2]):(this.cacheData={},e?(L("#SpecChartTable"+this.chart.id).html(""),this.lastData=o.data,o&&o.data&&(r=o.data),[3,4]):(L("#"+t).html(""),[2]));case 3:return g.sent(),[3,4];case 4:if(null===r)return[2];if(r){for(s=[],l=0;l<r.length;l++)for(c=r[l].CHFreqs,s.push({pid:0,id:r[l].ComponentID,title:r[l].Name,ChFreq:""}),u=0;u<c.length;u++)s.push({pid:r[l].ComponentID,id:c[u].ID,title:c[u].Desc,ChFreq:c[u].ChFreq,SideFreCode:c[u].SideFreCode?c[u].SideFreCompID+c[u].SideFreCode:"",ComponentID:c[u].ComponentID}),this.cacheData[c[u].ComponentID+c[u].Code]=c[u];h=O.$,d=O.form,p=O.treeTable,A=function(t,e){return void 0===e&&(e=1),t.pid?'<input data-SideFreCode="'+t.SideFreCode+'" data-name="'+t.title+" "+e+"X\" lay-filter='ckFrequency"+y.chart.id+"' class=\""+t.pid+'" lay type="checkbox" class="input-chfreq" lay-skin="primary" ChFreq="'+t.ChFreq+'" data-index="'+e+'" pid="'+t.pid+'" title="'+y.getValueText(t.ChFreq,e,t.SideFreCode)+'">':""},m=this,p.render({elem:"#"+t,data:s,icon_key:"title",is_checkbox:!1,top_value:0,primary_key:"id",parent_key:"pid",hide_class:"layui-hide",is_click_icon:!0,end:function(t){d.render()},cols:[{key:"title",title:M.$t("FrequencyRecogCursor.CharacteristicFrequency"),align:"left",template:function(t){return"<input lay-filter='ckFrequency"+m.chart.id+"'  class=\""+t.pid+'" type="checkbox" types="firstChildNode" lay-skin="primary" pid="'+t.pid+'" data-id="'+t.id+'">'+t.title}},{key:"pid",title:"1X",width:"100px",align:"left",template:function(t){return t.pid?A(t,1):""}},{title:"2X",width:"100px",align:"left",template:function(t){return t.pid?A(t,2):""}},{title:"3X",width:"100px",align:"left",template:function(t){return t.pid?A(t,3):""}},{title:"4X",width:"100px",align:"left",template:function(t){return t.pid?A(t,4):""}},{title:"5X",width:"100px",align:"left",template:function(t){return t.pid?A(t,5):""}}]}),h("#"+t).delegate(".layui-form-checkbox","click",function(t){var e=h(t.currentTarget).prev(),n=e.attr("pid"),i=h(t.currentTarget).hasClass("layui-form-checked");if("0"===n){var a=e.attr("data-id");h("."+a).map(function(t,e){i?(h(e).next().addClass("layui-form-checked"),h(e).prop("checked",!0)):(h(e).next().removeClass("layui-form-checked"),h(e).prop("checked",!1))})}else if("firstChildNode"===e.attr("types")){h(e.parents()[1]).find("input").map(function(t,e){i?t&&(h(e).prop("checked",!0),h(e).next().addClass("layui-form-checked")):t&&(h(e).prop("checked",!1),h(e).next().removeClass("layui-form-checked"))})}m.onCheckedBoxChange()})}return[2]}})})},t.prototype.CloseCursor=function(){try{U.close(this.layerIndex),this.removeLines(),this.lastData={},this.modalIsShow=!1,this.isOpen=!1}catch(t){}},t.prototype.AddMeun=function(){},t.prototype.AddToolBox=function(){var t=this;window.disableCharacteristicFrequency||this.shouldAddToolBox&&this.chart.layout.AddToolBoxItem(n(180),n(180),M.$t("toolbar.btn.frequencycursor.Tagging"),function(){t.OpenCursor()},function(){t.CloseCursor()})},t.prototype.onMainCursorMove=function(){},t.prototype.onMainCursorMoved=function(){},t.prototype.GetSelectText=function(t){return""},t.prototype.onClear=function(){},t.prototype.onRenderEnd=function(){L("#Speed"+this.chart.id).val(this.getSpeed()),this.updateValueText(),this.onCheckedBoxChange()},t}(),Yr=function(){function t(t,e,n,i,a,r,o,s){var l=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===r&&(r=0),void 0===o&&(o=!0),void 0===s&&(s=!0),this.MoveCallback=null,this.isMoveCallback=!1,this.shouldAddMeun=!0,this.shouldAddToolBox=!0,this.onDoubleCursorLock=function(){l.LockDoubleCursor=!l.LockDoubleCursor;var t=l.chart.getDataBySelectedIndex(),e=l.DoubleCursorValue;l.LockDoubleCursorValue=t[0]-e},this.chart=t,this.isOpen=i,this.DoubleCursorValue=0,this.LockDoubleCursor=a,this.LockDoubleCursorValue=r,this.onDoubleCursorMove=e,this.onDoubleCursorMoved=n,this.shouldAddMeun=o,this.shouldAddToolBox=s}return t.prototype.onInit=function(){this.AddMeun(),this.AddToolBox()},t.prototype.Dispose=function(){this.chart=null,this.LockDoubleCursorValue=null,this.DoubleCursorValue=null},t.prototype.getT=function(){try{var t=this.chart.data[this.chart.selectedYIndex][this.chart.selectedXIndex][0];return Math.round(1e3*Math.abs(t-this.DoubleCursorValue))/1e3}catch(t){return 0}},t.prototype.GetSelectText=function(t){if(!this.isOpen)return"";var e=this.chart.data[this.chart.selectedYIndex][this.chart.selectedXIndex],n=e[0],i=e[1];this.MoveCallback&&this.MoveCallback(Math.abs(n-this.DoubleCursorValue).toFixed(3),this.isMoveCallback);var a="";if("ms"===this.chart.xUtils||"s"===this.chart.xUtils){var r=Math.abs(n-this.DoubleCursorValue);return"ms"===this.chart.xUtils&&(r/=1e3),a="△F="+(0===r?0:Math.abs(1/r*(Object(f.z)()?60:1))).toFixed(3)+(Object(f.z)()?"CPM":"Hz")+" △Amp="+((i-this.chart.getMostIndexX(this.DoubleCursorValue,0,!1,this.chart.data[this.chart.selectedYIndex])[1][1]).toFixed(3)+this.chart.yUtils)+";",t?"<br />"+a:","+a}return"°"===this.chart.xUtils?(a="△X="+(r=Math.round(Math.abs(n-this.DoubleCursorValue)/360*1e3)/1e3)+"X △Amp="+((i-this.chart.getMostIndexX(this.DoubleCursorValue,0,!1,this.chart.data[this.chart.selectedYIndex])[1][1]).toFixed(3)+this.chart.yUtils)+";",t?"<br />"+a:","+a):void 0},t.prototype.OpenCursor=function(t){if(void 0===t&&(t=!0),this.isOpen||(this.isOpen=!0),this.chart.hchartInstance||this.chart.verifyData(this.chart.data)){if(!this.LockDoubleCursor&&t)try{var e=this.chart.hchartInstance.xAxis[0].min;if(e){var n=this.chart.getMostIndexX(e,0,!0,this.chart.data[this.chart.selectedYIndex]);this.DoubleCursorValue=n[1][0]}else this.DoubleCursorValue=0}catch(t){this.DoubleCursorValue=0}var i=this.DoubleCursorValue<0?0:this.DoubleCursorValue;i>this.chart.hchartInstance.xAxis[0].dataMax&&(i=this.chart.hchartInstance.xAxis[0].dataMax),this.chart.hchartHelper.AddDoubleCursor(i,0,this);var a=this.chart.getMostIndexX(this.DoubleCursorValue,0,!1,this.chart.data[this.chart.selectedYIndex]);a&&(this.DoubleCursorValue=a[1][0],this.chart.hchartHelper.AddPoint("DoubleCursorPoint",a[1][0],a[1][1]),this.chart.MoveMainCursor(!1,!0,!1,!1,!1))}},t.prototype.CloseCursor=function(){this.isOpen=!1,this.chart.hchartHelper.RemoveDoubleCursor(),this.chart.hchartHelper.RemovePoint("DoubleCursorPoint"),this.chart.MoveMainCursor(!1,!0,!1,!1,!1)},t.prototype.AddMeun=function(){if(this.shouldAddMeun){var t=this;this.chart.menuInstance.AddMenuItem("doubleCursor"+this.chart.id,M.$t("menu.vernier.lockdouble"),function(){t.isOpen&&(t.onDoubleCursorLock(),L("#doubleCursor"+t.chart.id+" .menu-item-name").html(t.LockDoubleCursor?M.$t("menu.vernier.canclelockdouble"):M.$t("menu.vernier.lockdouble")))})}},t.prototype.AddToolBox=function(){var t=this;this.shouldAddToolBox&&this.chart.layout.AddToolBoxItem(n(85),n(85),M.$t("toolbar.btn.vernier.double"),function(){t.isMoveCallback=!1,t.OpenCursor()},function(){t.CloseCursor()})},t.prototype.onMainCursorMove=function(t){t&&"DoubleCursor"==t.source||this.isOpen&&this.LockDoubleCursor&&(this.DoubleCursorValue=this.chart.GetSelectedXY()[0]-this.LockDoubleCursorValue,this.OpenCursor())},t.prototype.onMainCursorMoved=function(){if(this.isOpen&&this.LockDoubleCursor&&(this.DoubleCursorValue=this.chart.GetSelectedXY()[0]-this.LockDoubleCursorValue,this.OpenCursor()),this.isOpen&&0!==this.chart.DilutionCount){var t=this.chart.getDataBySelectedIndex();if(t){var e=this.DoubleCursorValue,n=t[0]-e;this.DoubleCursorValue=this.chart.GetSelectedXY()[0]-n,this.OpenCursor(!1)}}},t.prototype.onCursorMove=function(t,e){var n=this.chart.hchartInstance.xAxis[0].toPixels(t,!1),i=this.chart.getIndexByChartPx(n,e,this.chart.selectedYIndex);if(this.DoubleCursorValue=i[2][0],this.chart.hchartHelper.AddPoint("DoubleCursorPoint",i[2][0],i[2][1]),this.LockDoubleCursor){var a=this.chart.getMostIndexX(t+this.LockDoubleCursorValue,0,!1,this.chart.data[this.chart.selectedYIndex]);this.chart.selectedXIndex=a[0],this.chart.MoveMainCursor(!0,!0,!0,!0,!0,{source:"DoubleCursor"})}else this.chart.UpdateMainCursorLabel();this.onDoubleCursorMove&&this.onDoubleCursorMove(t),this.chart.updateHelperInfo()},t.prototype.onCursorMoveEnd=function(t,e){this.chart.hchartHelper.AddDoubleCursor(this.DoubleCursorValue,0,this),this.onDoubleCursorMoved&&this.onDoubleCursorMoved(t)},t.prototype.onClear=function(){},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],t.prototype,"OpenCursor",null),t}(),zr=function(){return(zr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Gr=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Vr=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Kr=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Wr=2;!function(t){t[t.Single=0]="Single",t[t.Double=1]="Double",t[t.SideFreq=2]="SideFreq"}(Ya||(Ya={}));var Xr=function(){function t(t,e,n){var i=this;void 0===e&&(e=Ya.Single),void 0===n&&(n=""),this.modalIsShow=!1,this.discernType=Ya.Single,this.getMostXValue=function(t){if(i.discernType===Ya.Double)return[0,[t,0]];var e=i.chart.data[0][1][0]-i.chart.data[0][0][0],n=Math.floor(t/e);if(n>=i.chart.data[0].length)return[i.chart.data[0].length-1,i.chart.data[0][i.chart.data[0].length-1]];try{var a=i.chart.data[0][n],r=i.chart.data[0][n+1];return t-a[0]>r[0]-t?[n+1,r]:[n,a]}catch(t){}},this.getLastData=function(){var t=i.getRecognitionRange(),e=i.chart.GetSelectedXY(),n=i.getSpeedFrequency(),a=[];if(0!=n&&e){var r=0;if(i.discernType==Ya.Single)r=e[0];else if(i.discernType==Ya.Double){var o=i.currDoubleCursor.getT();0!==o&&(r=1e3/o)}else i.discernType==Ya.SideFreq&&(r=i.currSideFreqCursor.getF());0===r&&i._table.Update({data:[]});for(var s=0;s<i.sourceData.length;s++){var l=i.sourceData[s],c=l.CHFreqs*n;if((c=l.sideFreValue?c:c*l.index)>0&&c>=r-t&&c<=r+t){var u=i.getMostXValue(c)[1],h=u[0];h>=r-t&&h<=r+t&&(l.sideFreValue?a.push(zr(zr({},l),{CHFreqs:Math.round(1e3*h)/1e3,Source:Math.round(1e3*l.CHFreqs)/1e3,value:Math.round(1e3*u[1])/1e3+i.chart.yUtils||""})):a.push(zr(zr({},l),{CHFreqs:Math.round(1e3*h)/1e3,Source:Math.round(l.CHFreqs*l.index*1e3)/1e3,value:Math.round(1e3*u[1])/1e3+i.chart.yUtils||""})))}}}var d=Object(f.b)("Hz");a&&a.map(function(t){return t.CHFreqs=t.CHFreqs*d.rate,t.Source=t.Source*d.rate,t}),i._table.Update({data:a})},this.getSpeedFrequency=function(){return Number(L("#RotatingSpeed"+i.id).val())/60},this.id="",this.name="",this.chart=null,this.getRecognitionRange=function(){var t=Object(f.b)("Hz");return Number(L("#RecognitionRange"+i.id).val())/t.rate},this.lastData={},this.Init=function(t){var e=i,n='<div id="FrequencyCursorContent'+i.id+'" style="display:none;width:100%">\n        <div class="layui-form" lay-filter="rdMethodBox"  style="">\n          <div class="layui-form-item" style="display:flex;">\n          '+(t===Ya.Double?"":'<div class="layui-inline" style="flex:1;">\n                    <label class="layui-form-label" style="width: unset;overflow-x: hidden">'+M.$t("FrequencyRecogCursor.RecognitionMode")+':</label>\n                    <div class="layui-input-block">\n                        <input lay-filter="rdMethod'+i.id+'" type="radio" name="rdMethod" value="0" title="'+M.$t("FrequencyRecogCursor.SingleCursor")+'" checked="">\n                        <input lay-filter="rdMethod'+i.id+'" type="radio" name="rdMethod" value="1" title="'+M.$t("FrequencyRecogCursor.VernierCursor")+'">\n                    </div>\n                 </div>')+'\n                  <div class="layui-inline">\n                      <div class="layui-form-customline">\n                        '+M.$t("FrequencyRecogCursor.RecognitionRange")+":\n                        </div>\n                    <div class='layui-form-customline'>\n                        <input id=\"RecognitionRange"+i.id+"\" type='number' name='RecognitionRange' min='0' \n                        autocomplete='off' class='layui-layer-input' value='"+Wr+"'  onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" \n                        style='width: 80px;height:28px;' />\n                    </div> \n                    <div class='layui-form-customline'>"+Object(f.k)()+'</div>\n                   </div>  \n                   <div class="layui-inline">\n                      <div class="layui-form-customline">\n                        '+M.$t("FrequencyRecogCursor.RotatingSpeed")+":\n                        </div>\n                    <div class='layui-form-customline'>\n                        <input id=\"RotatingSpeed"+i.id+"\" type='number' name='RotatingSpeed' min='0' \n                        autocomplete='off' class='layui-layer-input' value='"+i.getSpeed()+"'  onkeyup=\"this.value=this.value.replace(/[^\\.\\-\\d]/g,'');\" \n                        style='width: 80px;height:28px;' />\n                    </div> \n                    <div class='layui-form-customline'>RPM</div>\n                   </div>\n            </div>\n        </div>\n                </br>\n        <div id='FrequencyCursorTable"+i.id+"' lay-filter=\"FrequencyCursorTable"+i.id+'" style="width:100%;height:200px;"> </div></div>';L("body").append(n),L("#RecognitionRange"+i.id).change(function(){try{Wr=Number(L("#RecognitionRange"+i.id).val())}catch(t){}e.onMainCursorMoved()}),L("#RotatingSpeed"+i.id).change(function(){try{window.rz_lastSpeed=Number(L("#RotatingSpeed"+i.id).val())}catch(t){}e.onMainCursorMoved()}),O.form.render("radio","rdMethodBox"),O.form.on("radio(rdMethod"+i.id+")",function(t){var n=t.value;return e.removeOthenCursor(),e.discernType="0"===n?Ya.Single:Ya.SideFreq,e.drawCursor(e.discernType),"1"===n&&e.currSideFreqCursor.OpenCursor(),e.getLastData(),!0});var a=new Ta(!1),r=[];t===Ya.Single&&r.push({field:"value",width:110,title:M.$t("FrequencyRecogCursor.Amplitude")});var o=[Kr(Kr([{field:"Name",title:M.$t("FrequencyRecogCursor.CharacteristicFrequency")},{field:"CHFreqs",width:100,title:M.$t("FrequencyRecogCursor.FrequencyValue"),template:function(t){return"number"==typeof(null==t?void 0:t.CHFreqs)?Math.round(1e3*t.CHFreqs)/1e3:t.CHFreqs}}],r),[{field:"Source",width:100,title:M.$t("FrequencyRecogCursor.OriginalValue"),template:function(t){return"number"==typeof(null==t?void 0:t.Source)?Math.round(1e3*t.Source)/1e3:t.Source}}])];a.Create("FrequencyCursorTable"+i.id,null,o,{page:!1}),i._table=a,W.addEvent("updateCurrentChartType",function(t){var n=t.data;if(e.isOpen){if(1==n.all||n.types.indexOf(i.name)>=0)return;L(i.chart.element).find(".toolbar").find("li:first").click()}},i.id+"updateCurrentChartType"),W.addEvent("onAssetChange",function(t){t.data;if(i.isOpen){var e=G.getDeviceId();i.LoadData(e)}},i.id+"FrequencyRecognitionCursor"),i.drawCursor(t)},this.sourceData=[],this.onOtherCursorMoved=function(t){i.getLastData()},this.getSpeed=function(){var t,e,n;if((null===(t=i.chart)||void 0===t?void 0:t.CFRunSpeed)||0===(null===(e=i.chart)||void 0===e?void 0:e.CFRunSpeed))return null===(n=i.chart)||void 0===n?void 0:n.CFRunSpeed;var a=60,r=L(i.chart.element).find("li[id^='RotatingSpeed']").html();try{r=parseInt(r.replace("RPM",""))}catch(t){}return r&&0!=r?a=r:G.TableData.deviceRPM?a=G.TableData.deviceRPM:window.rz_lastSpeed&&(a=window.rz_lastSpeed),a},this.id=Object(f.y)(),this.chart=t,this.isOpen=!1,this.name="",this.shouldAddToolBox=!0,this.Init(e),this.discernType=e}return t.prototype.onInit=function(){this.AddMeun(),this.AddToolBox()},t.prototype.AddMeun=function(){},t.prototype.hidden=function(){L(this.chart.element).find("[data-id='"+M.$t("FrequencyRecogCursor.featureRecog")+"']").hide()},t.prototype.AddToolBox=function(){var t=this;window.disableCharacteristicFrequency||this.shouldAddToolBox&&this.chart.layout.AddToolBoxItem(n(181),n(181),M.$t("FrequencyRecogCursor.featureRecog"),function(){t.OpenCursor()},function(){t.CloseCursor()})},t.prototype.onMainCursorMove=function(t){},t.prototype.onMainCursorMoved=function(t){this.isOpen&&(this.discernType===Ya.Double&&this.currDoubleCursor&&this.currDoubleCursor.onMainCursorMoved(),this.discernType===Ya.SideFreq&&this.currSideFreqCursor&&this.currSideFreqCursor.onMainCursorMoved(),this.getLastData())},t.prototype.GetSelectText=function(t){return this.currSideFreqCursor?this.currSideFreqCursor.GetSelectText(t):this.currDoubleCursor?this.currDoubleCursor.GetSelectText(t):""},t.prototype.Dispose=function(){L("#FrequencyCursorContent"+this.id).remove(),W.removeEvent("onAssetChange",null,this.id+"FrequencyRecognitionCursor"),W.removeEvent("updateCurrentChartType",null,this.id+"updateCurrentChartType"),U.close(this.layerIndex),this._table.Dispose(),this._table=null,this.lastData=null,this.sourceData=null,this.removeOthenCursor(),this.currDoubleCursor&&this.currDoubleCursor.Dispose(),this.currDoubleCursor=null,this.currSideFreqCursor&&this.currSideFreqCursor.Dispose(),this.currSideFreqCursor=null},t.prototype.OpenCursor=function(){return Gr(this,void 0,void 0,function(){var t,e=this;return Vr(this,function(n){switch(n.label){case 0:if(this.isOpen){if(1==this.modalIsShow)return[2]}else this.isOpen=!0;return this.chart.hchartInstance||this.chart.verifyData(this.chart.data)?1==this.modalIsShow?[2]:(this.modalIsShow=!0,t=this,this.isOpen=!0,this.layerIndex&&U.close(this.layerIndex),this.layerIndex=U.prompt({skin:"layui-layer-prompt",moveOut:!0,shade:0,title:M.$t("FrequencyRecogCursor.featureRecog"),resize:!1,type:1,content:L("#FrequencyCursorContent"+this.id),btn:[],cancel:function(){e.modalIsShow=!1},success:function(){L("#RecognitionRange"+t.id).val(Wr),L("#RotatingSpeed"+t.id).val(e.getSpeed()),t.currSideFreqCursor&&t.currSideFreqCursor.OpenCursor(),t.currDoubleCursor&&t.currDoubleCursor.OpenCursor()}},function(t,e){}),[4,this.LoadData(G.getDeviceId())]):[2];case 1:return n.sent(),this.onMainCursorMoved(),[2]}})})},t.prototype.CloseCursor=function(){try{this.modalIsShow=!1,this.layerIndex&&U.close(this.layerIndex),this.isOpen=!1,this.removeOthenCursor()}catch(t){}},t.prototype.onClear=function(){},t.prototype.LoadData=function(t,e){var n,i,a,r;return void 0===t&&(t=""),void 0===e&&(e=""),Gr(this,void 0,void 0,function(){var o,s,l,c,u,h,d,p,f,A,m,y,g;return Vr(this,function(v){switch(v.label){case 0:return o={},t?(s=this,this._table.Update({data:[]}),s.sourceData=[],[4,Si.FetchTableAllData(t,"?IndexCode=1&assetId="+(e||G.TableData.assetid))]):[2];case 1:if(l=v.sent(),null===(c=null==l?void 0:l.data)||void 0===c)return[2];if(c){for(u=[],h=0;h<c.length;h++)for(d=c[h].CHFreqs,p=0;p<d.length;p++)o[d[p].ComponentID+d[p].Code]=d[p];for(h=0;h<c.length;h++)for(d=c[h].CHFreqs,p=0;p<d.length;p++)if(f=d[p].MultiCode,0!==d[p].SideFreCode){if((A=d[p].SideFreCompID+d[p].SideFreCode)&&o[A]&&(m=o[A].ChFreq))for(y=d[p].ChFreq,g=0;g<(null!==(a=null===(i=null===(n=d[p])||void 0===n?void 0:n.MultiCode)||void 0===i?void 0:i.length)&&void 0!==a?a:5);g++)u.push(zr(zr({},d[p]),{Name:d[p].Desc+(g+1+"X")+M.$t("FrequencyRecogCursor.Left"),CHFreqs:y-m*(g+1),index:g+1,sideFreValue:m})),u.push(zr(zr({},d[p]),{Name:d[p].Desc+(g+1+"X")+M.$t("FrequencyRecogCursor.Right"),CHFreqs:y+m*(g+1),index:g+1,sideFreValue:m}))}else for(g=0;g<(null!==(r=null==f?void 0:f.length)&&void 0!==r?r:5);g++)0!==d[p].ChFreq&&u.push(zr(zr({},d[p]),{Name:d[p].Desc+" "+(g+1)+"X",CHFreqs:d[p].ChFreq,index:g+1}));s.sourceData=u,s.onMainCursorMoved()}return[2]}})})},t.prototype.onRenderEnd=function(){L("#RotatingSpeed"+this.id).val(this.getSpeed())},t.prototype.drawCursor=function(t){this.removeOthenCursor(),t!==Ya.Single&&(t===Ya.Double&&null==this.currDoubleCursor&&(this.currDoubleCursor=new Yr(this.chart,null,this.onOtherCursorMoved,!0,!1,null,!1,!1)),t===Ya.SideFreq&&null==this.currSideFreqCursor&&(this.currSideFreqCursor=new Qr(this.chart,null,this.onOtherCursorMoved,!0,!1,null,!0)))},t.prototype.removeOthenCursor=function(){this.currSideFreqCursor&&this.currSideFreqCursor.CloseCursor(),this.currDoubleCursor&&this.currDoubleCursor.CloseCursor()},t}(),qr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jr=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.Resize=function(){i.chart1&&i.chart1.Resize(),i.chart2&&i.chart2.Resize()},i.onTemporaryDataClick=function(t){var e=t.WaveKey,n=void 0===e?void 0:e;t.DataType;i.onAssetTypeNotSupport(null),i.chart1&&i.chart1.layout.UpdateHelperInfo({path:""}),i.chart2&&i.chart2.layout.UpdateHelperInfo({path:""}),n&&(i.lastDataKey=n,L(i.element).find(".rzgraph_helperinfo>li").eq(0).text(t.MeasDate?t.MeasDate:""),i.LoadData(n))},i.onAssetTypeNotSupport=function(t){if(!i.chart1.isLockChart)try{L(i.element).find(".rzgraph_helperinfo>li").eq(0).text(""),i.chart1.layout.UpdateHelperInfo({CurosrValue:""}),i.chart2.layout.UpdateHelperInfo({CurosrValue:"",MeasValue:""}),i.chart1.hchartInstance&&i.chart1.hchartInstance.destroy&&i.chart1.hchartInstance.destroy(),i.chart2.hchartInstance&&i.chart2.hchartInstance.destroy&&i.chart2.hchartInstance.destroy()}catch(t){}},i.helperInfoVisibility=!1,i.CreateLayout=function(){var t=i.element;L(t).addClass("rzgraph"),L(t).addClass(i.id);L(i.element).width();L(t).append("<div id='head1"+i.id+"' style='border-bottom:1px solid #ccc;overflow:hidden;height:30px;' class='rzgraph_helperinfo'><li style='margin-left:10px;'>"+i.Path+"</li><li></li></div>");var e=L("<div id='head2"+i.id+"' class='' style='position:relative;height:calc(100% - 30px);'></div>");L(e).append("<div  class='' style='height:100%;'><div id='env1"+i.id+"' style='height:50%;' data-group='"+i.id+"'></div><div id='env2"+i.id+"' style='height:50%;' data-group='"+i.id+"'></div></div>"),L(i.element).append(e)},i.onAssetChange=function(t){L(i.element).find(".rzgraph_helperinfo>li").eq(0).text(i.Path)},i.lastDataKey=null,i.LoadData=function(t){var e=i;Si.FetchDataSpec({WaveKey:t,successCallBack:function(t){var n=t.data;i.lastData=n;for(var a=[],r=0,o=n.YData.length;r<o;r++)a.push([r*n.XInterval,n.YData[r]]);e.chart1.CFRunSpeed=t.data.CFRunSpeed,i.chart1.render([a],n.XUnit,n.YUnit),i.chart1.layout.UpdateHelperInfo({RotatingSpeed:n.RunSpeed}),i.chart2.RemarkContent=n.Description||"",n&&n.length>0&&(i.chart1.selectedXIndex=n.length/2,i.chart1.RemarkContent=n.Description)},errorCallback:function(){e.onAssetTypeNotSupport(null)}})},i.onTrendChange=function(t,e){if(void 0===e&&(e=!1),!i.chart1.isLockChart)if(t.WaveKey){var n=t.WaveKey;i.lastDataKey=n,L(i.element).find(".rzgraph_helperinfo>li").eq(0).text(i.Path+"  "+(t.MeasDate?t.MeasDate:"")),i.LoadData(n)}else i.onAssetTypeNotSupport(null)},i.onSideCursorMove=function(t,e){i.chart1.MoveMainCursor(!1,!0,!1,!1,!1),i.chart1.layout.UpdateHelperInfo({CurosrValue:i.chart1.getSelectedText(!1)})},i.onSideCursorMoved=function(t,e){i.lastMainVale=t,i.lastF=e;var n=Object(f.v)("rz_widthRate")||3;Si.FetchEnvelope(i.lastData.WaveKey,i.lastData.SamplingRate,t,2*e,n).then(function(t){var e=[],n=t.data;i.chart2.CFRunSpeed=t.data.CFRunSpeed,i.chart2.layout.UpdateHelperInfo({RotatingSpeed:n.RunSpeed,MeasValue:n.MeasValue?n.MeasValue.toFixed(3)+(n.YUnit?n.YUnit:""):""});for(var a=0,r=n.YData.length;a<r;a++)e.push([a*n.XInterval,n.YData[a]]);i.chart2.render([e],n.XUnit,n.YUnit)}).catch(function(t){i.chart2.Clear()})},i.chartName="EnvelopeChart",i.CreateLayout(),i.chart1=new qt(document.getElementById("env1"+i.id),Yt.Center),i.chart1.registeredCursor([new Ur(i.chart1,i.onSideCursorMove,i.onSideCursorMoved,!0,!0,!1,!0),new jr(i.chart1,i.chartName),new Xr(i.chart1,Ya.Single,i.chartName)]),i.chart1.chartConfig.isAllowMaxBtn=!0,i.chart2=new qt(document.getElementById("env2"+i.id),Yt.First),i.chart2.chartConfig.isAllowMaxBtn=!0,i.chart2.registeredCursor([new Rr(i.chart2),new Qr(i.chart2),new jr(i.chart2,i.chartName),new Xr(i.chart2,Ya.Single,i.chartName)]);var a=new et(i.chart1),r=new et(i.chart2),o=i,s=(O.table,function(t){return[{name:M.$t("menu.bandwidth.multiple"),id:"widthRate"+t.id,callback:function(){var e=Object(f.v)("rz_widthRate")||3,n="<div class='widthRate"+t.id+"'><div><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.bandwidth.multiple")+':</span><input type="number" min="1" step="1" class="layui-layer-input" value=\''+e+"' /></div></div>";U.prompt({type:1,title:M.$t("menu.bandwidth.multiple"),content:n,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(n,i){var a=parseInt(L(".widthRate"+t.id).find("input").eq(0).val());e!==a&&(Object(f.E)("rz_widthRate",a),o.onSideCursorMoved(o.lastMainVale,o.lastF),U.close(i))}),L(".widthRate"+t.id).find("input").eq(0).val(e)}},{name:M.$t("meun.setting"),id:"Setting"+t.id},{name:o.chart1.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide"),id:"toolbar"+t.id,parent:"Setting"+t.id,callback:function(){o.chart1.layout.UpdateToolBoxVisible(!o.chart1.layout.toolBoxVisibility),o.chart2.layout.UpdateToolBoxVisible(!o.chart2.layout.toolBoxVisibility),o.chart1.Resize(),o.chart2.Resize(),L("#toolbar"+t.id+" .menu-item-name").html(o.chart1.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide"))}},{name:o.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide"),id:"helpInfo"+t.id,parent:"Setting"+t.id,callback:function(){o.helperInfoVisibility=!o.helperInfoVisibility,o.helperInfoVisibility?(L("#head1"+o.id).height(0),L("#head2"+o.id).css("height","100%")):(L("#head1"+o.id).height("30px"),L("#head2"+o.id).css("height","calc(100% - 30px)")),L("#head2"+t.id).find(".gutter-vertical").trigger("mouseup"),o.chart1.Resize(),o.chart2.Resize(),L("#helpInfo"+t.id+" .menu-item-name").html(o.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide"))}}]});return a.AddMenuItems(s(i.chart1)),r.AddMenuItems(s(i.chart2)),i.chart1.menuInstance.RemoveMenuItem("LockChart"),i.chart2.menuInstance.RemoveMenuItem("LockChart"),i.chart1.menuInstance=a,i.chart2.menuInstance=r,i.chart1.layout._InitHelperInfo({name:M.$t("chart.name.spectrum.amp"),RotatingSpeed:"",CurosrValue:""}),i.chart1.Init(),i.chart2.layout._InitHelperInfo({name:M.$t("chart.name.spectrum.envelope"),MeasValue:"",RotatingSpeed:"",CurosrValue:""}),i.chart2.Init(),L(i.chart2.element).find(".toolbar li").eq(1).click(),i.layout2=Ji(["#env1"+i.id,"#env2"+i.id],{gutterSize:5,direction:"vertical",sizes:[50,50],onDragEnd:function(){i.chart1.Resize(),i.chart2.Resize()}}),i}return qr(e,t),e.prototype.Dispose=function(){this.event.Dispose(),this.chart1&&this.chart1.Dispose(),this.chart2&&this.chart2.Dispose(),L(this.element).remove(),this.chart1=null,this.chart2=null,this.element=null},e}(J),Zr=function(){return(Zr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},$r={freqTrend:0,envelopeFreqTrend:1};function to(t,e,n){if(window.rzgrapheOpenLoading=!1,!(t&&t.length>0))return io.bind(n)(),void(window.rzgrapheOpenLoading=!0);Si.GetFreqTrend(t[n.freqIndex].toString(),e).then(function(i){ao(i,n,t,e,to)}).catch(function(i){if(n.freqIndex++,n.freqIndex>=t.length)return io.bind(n)(),void(window.rzgrapheOpenLoading=!0);to(t,e,n)})}function eo(t,e,n){window.rzgrapheOpenLoading=!1;var i=Object(f.v)("rz_widthRate")||3,a=n.envelopeData,r=a.centerRate,o=a.bindwidth;if(!t||!t.length)return io.bind(n)(),void(window.rzgrapheOpenLoading=!0);Si.GetEnvolopeFreqTrend(t[n.freqIndex].toString(),e,r,o,i).then(function(i){ao(i,n,t,e,eo)}).catch(function(i){if(n.freqIndex++,n.freqIndex>=t.length)return io.bind(n)(),void(window.rzgrapheOpenLoading=!0);eo(t,e,n)})}function no(){var t=function(){var t=this.freqBandData.concat();t.length>1&&(t=t.splice(0,t.length-1));var e=function(t){var e="";return t.map(function(t){e+=t.SFreq+"-"+t.EFreq+","}),e.substring(0,e.length-1)}(t);return"-"==e?(io.bind(this)(),!1):e}.bind(this)();if(!t)return io.bind(this)(),void(window.rzgrapheOpenLoading=!0);var e=function(){var t=[];if(tn.d.indexOf(this.assetType)>=0)t=(t=this.filteredWaveKeys.concat()).sort(function(t,e){return Object(f.e)(t.MeasDate)-Object(f.e)(e.MeasDate)});else{var e=G.TableData.data.concat();(e=e.sort(function(t,e){return Object(f.e)(t.MeasDate)-Object(f.e)(e.MeasDate)})).map(function(e){t.push(e.WaveKey)})}return Object(f.G)(t,10)}.bind(this)();if(!e||0===e.length)return io.bind(this)(),void(window.rzgrapheOpenLoading=!0);this.mode==$r.freqTrend?to(e,t,this):eo(e,t,this)}function io(){try{this.cancelFlag=!0,U.close(this.modalIndex)}catch(t){}}function ao(t,e,n,i,a){var r=t.data,o=e.chartData,s=e.chartData.concat();if(r.map(function(t){var e=o.filter(function(e){return e.TrendName===t.TrendName})[0];if(e){var n=e.Datas.concat(t.Datas);o[o.indexOf(e)].Datas=n}else o.push(Zr(Zr({},t),{Datas:t.Datas}))}),s&&0!=s.length||e.InitChartSeries(r),e.freqIndex++,e.chartData=o,!(e.freqIndex<n.length)||e.cancelFlag)return e.AddDymnicPoint(r),e.SetData(),io.bind(e)(),void(window.rzgrapheOpenLoading=!0);a&&a(n,i,e),function(t,e){e<=0||O.element.progress("process",t/e*100+"%")}(e.freqIndex,n.length),e.AddDymnicPoint(r)}var ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oo=function(){return(oo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},so=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.freqBandData=[{SFreq:0,EFreq:0,id:Object(f.y)()},{SFreq:"",EFreq:"",id:Object(f.y)()}],i.cancelFlag=!1,i.freqIndex=0,i.chartData=[],i.filteredWaveKeys=[],i.Resize=function(){i.freqBandTable.Resize(),i.chart.Resize()},i.ClearChart=function(){i.chart&&i.chart.Clear(),i.freqIndex=0,i.chartData=[],i.cancelFlag=!1},i.Dispose=function(){try{i.freqBandTable.Dispose(),i.chart.Dispose(),i.chart=null,i.freqBandTable=null,i.element=null}catch(t){}},i.onAssetChange=function(t){i.ClearChart(),i.InitFilterList(tn.d.indexOf(t.assetType)>=0),tn.d.indexOf(t.assetType)>=0&&i.TableHelper.InitMesPointData(t.data),i.chart.layout.UpdateHelperInfo({Path:t.path})},i.InitChartSeries=function(t){for(var e=i.chart,n=[],a=0,r=t.length;a<r;a++)n.push({turboThreshold:0,animation:!1,keys:["x","y"],allowPointSelect:!1,enableMouseTracking:!1,name:t[a].TrendName,lineWidth:1});e.render([[]],"",t[0].Unit,{series:n,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}}),e.getSelectedText=function(n){try{var i=e.data[e.selectedYIndex][e.selectedXIndex],a={rate:1,unit:e.xUtils};e.chartConfig.convertUnit&&(a=Object(f.b)(e.xUtils)),e.xUtils=a.unit,i=i.concat([]),e.chartConfig.xIsTime?i[0]=Object(f.r)(i[0]):i[0]=(i[0]*a.rate).toFixed(3);var r="";if(r=t[e.selectedYIndex].TrendName+"   "+i[0]+e.xUtils+"，"+i[1].toFixed(3)+e.yUtils,e.ChartKeys.length<i.length)for(var o=e.ChartKeys.length;o<i.length;o++)""!==i[o]&&(r+="，"+i[o]);return n&&(r=""+r),e.cursorList&&e.cursorList.length>0&&e.cursorList.forEach(function(t){t.GetSelectText&&(r+=t.GetSelectText(n))}),r}catch(t){return""}}},i.SetData=function(){var t=i,e=[];t.chartData.map(function(t){var n={data:oo({},t)};n.data.IndexDatas=t.Datas;var i=rt.FormatInitData(n).data;i=i.sort(function(t,e){return t[0]-e[0]}),t.Datas=i,e.push(i)}),t.chart.data=e},i.AddDymnicPoint=function(t){for(var e=i.chart.hchartInstance.series,n=0;n<e.length;n++)for(var a=t[n].Datas,r=0;r<a.length;r++){var o=[Object(f.e)(a[r].MeasDate),a[r].MeasValue];e[n].addPoint(o,!0,!1)}},i.CreateLayout=function(){var t=i;L(t.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"chart"},{id:"settings",otherStyle:"display:flex;flex-direction:column;",children:[{id:"setting_left",otherStyle:"flex:1;overflow:auto",children:[{id:"filterList",height:100},{id:"option",height:130},{id:"freqBand",height:"calc(100% - 130px)",otherStyle:"overflow:auto"}]},{id:"submit",height:34,otherStyle:";text-align:center;margin-top:10px;margin-bottom:10px"}]}],e.splitConfig=[{ids:["chart","settings"],size:[78,22],callBack:t.Resize}];var n=new va(e,t.id);n.render(t.element);var a=new fa,r="\n            <div id='freqBandTableDiv"+t.id+"' style='overflow:hidden;height:calc(100% );'>\n                <div id=\"freqBandTable"+t.id+'" lay-filter="freqBandTable" style=\'height:100%;width:100%\'></div>\n            </div>\n        ',o='<button class="layui-btn" id=\'btnSubmit'+t.id+"'>"+M.$t("btn.ok")+"</button>";a.render("#freqBand"+t.id,M.$t("FreqTrend.table.title"),r),L("#submit"+t.id).html(o),L("#btnSubmit"+t.id).on("click",t.TableHelper.Submit.bind(t)),t.layout=n},i.InitOption=function(){var t=i,e=[{title:M.$t("FreqTrend.common.centerRate"),name:"centerRate",defaultValue:1},{title:M.$t("FreqTrend.common.bindwidth"),name:"bindwidth",defaultValue:1}],n="";e.map(function(t,e){n+='\n                <div class="layui-form-item">\n                    <label class="layui-form-label">'+t.title+"</label>\n                    <div class=\"layui-input-block\">\n                        <input \n                            type='number' \n                            name='"+t.name+"' \n                            min='1' \n                            autocomplete='off' \n                            class='layui-input' \n                            value='"+t.defaultValue+"' \n                            onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" \n                            style='width: 80px;height:28px;' \n                            />\n                     \n                    </div>\n                </div>\n            "});var a='\n        <div class="layui-form fluencyOption" action="">\n            <div id=\'optionDiv'+t.id+'\' style=\'\'>\n                <div class="layui-form-item " style=\'\'>\n                    <input type="radio" name="modeOption" value="'+$r.freqTrend+"\" title='"+M.$t("FreqTrend.common.freqTrend")+'\' checked="" lay-filter="modeOption">\n        \n                    <input type="radio" name="modeOption" value="'+$r.envelopeFreqTrend+"\" title='"+M.$t("FreqTrend.common.envelopeFreqTrend")+"' lay-filter=\"modeOption\">\n                </div>\n                <div id='extraOptionForEnvelopeFreqTrend"+t.id+"' style='height:80px;display:none;'>\n                   "+n+"\n                </div>\n            </div>\n        </div>\n        ",r=O.form,o=new fa;L("#option"+t.id).html(""),o.render("#option"+t.id,M.$t("FreqTrend.common.setting"),a),r.render(),r.on("radio(modeOption)",function(e){t.lastCheckedRadio!==e.value&&(t.lastCheckedRadio=e.value,t.TableHelper.ToggleMode.bind(t)(e.value))}),e.map(function(e){L("input[type=number][name="+e.name+"]").on("change",t.TableHelper.ChangeExtraOptionValue.bind(t))})},i.lastCheckedRadio="0",i.InitTable=function(){var t=i,e=new Ta,n=[[{field:"SFreq",minWidth:80,title:M.$t("FreqTrend.table.SFreq"),edit:"text"},{field:"EFreq",minWidth:80,title:M.$t("FreqTrend.table.EFreq"),edit:"text"},{field:"Oper",width:48,templet:function(e){var n=t.freqBandData;return n.length>2&&e.id!=n[n.length-1].id?"\n                        <button id="+e.id+" class='deleteFreqBand layui-btn layui-btn-xs' style=\"height: 16px;line-height: 20px;margin-top: -2px;font-size: 8px;\">X</button>\n                        ":""}}]];e.Create("freqBandTable"+t.id,function(){L("button.deleteFreqBand").on("click",function(e){return t.TableHelper.DeleteFreqBandData(e,t)})},n,oo(oo({},t.TableHelper.extraConfig),{data:t.freqBandData})),i.freqBandTable=e;var a=e.getTableId();O.table.on("edit("+a+")",function(t){i.TableHelper.EditFreqBandData(t,i)}),setTimeout(function(){t.TableHelper.UpdataFreqBandTable(t)},100)},i.InitChart=function(){var t=new qt("chart"+i.id,Yt.Last,null);t.chartConfig.isAllowMaxBtn=!0,t.chartConfig.xIsTime=!0,t.layout._InitHelperInfo({Path:i.Path,MesValue:"",MesTime:"",CurosrValue:""}),t.Init(),t.render([[]],"",""),i.chart=t},i.InitFilterList=function(t){var e=i;t?(L("#filterList"+e.id).css("display","block"),L("#freqBand"+e.id).css("height","calc(100% - 180px)")):(L("#filterList"+e.id).css("display","none").html(""),L("#freqBand"+e.id).css("height","calc(100% - 130px)")),e.TableHelper.UpdataFreqBandTable(e)},i.TableHelper={extraConfig:{page:!1,limit:Number.MAX_SAFE_INTEGER},AddFreqBandData:function(t){t.freqBandData.push({SFreq:"",EFreq:"",id:Object(f.y)()})},DeleteFreqBandData:function(t,e){var n=t.target.id,i=e.freqBandData,a=i.filter(function(t){return t.id===n})[0];e.freqBandData.splice(i.indexOf(a),1),e.TableHelper.UpdataFreqBandTable(e)},EditFreqBandData:function(t,e){var n=new RegExp(/[1-9]\d*.\d+|0\.\d*[1-9]\d*|[1-9]\d+|[0-9]/),i=n.exec(t.value)?n.exec(t.value)[0]:"0",a=e.freqBandData,r=a.filter(function(e){return e.id===t.data.id})[0];r&&(r[t.field]=i,""===r.SFreq&&(r.SFreq=i),""===r.EFreq&&(r.EFreq=i)),t.data.id===a[a.length-1].id&&e.TableHelper.AddFreqBandData(e),e.TableHelper.UpdataFreqBandTable(e)},ToggleMode:function(t){var e=L("#freqBand"+this.id),n=L("#setting_left"+this.id).height();t==$r.freqTrend?(L("#option"+this.id).css("height","130px"),e.css("height",n-130),L("#extraOptionForEnvelopeFreqTrend"+this.id).css("display","none")):(L("#option"+this.id).css("height","180px"),e.css("height",n-180),L("#extraOptionForEnvelopeFreqTrend"+this.id).css("display","block")),this.mode=t,this.InitTable()},ChangeExtraOptionValue:function(t){this.envelopeData[t.target.name]=t.target.value},UpdataFreqBandTable:function(t){t.freqBandTable.Update(oo(oo({},t.TableHelper.extraConfig),{data:t.freqBandData}))},Submit:function(){if(!(q.a.AllowChartConfig[this.chartName].indexOf(this.assetType)<0)){var t='\n                <div style="padding:20px;">\n                    <div id=\'process\' class="layui-progress layui-progress-big" lay-showpercent="true" lay-filter="process">\n                        <div class="layui-progress-bar layui-bg-red" lay-percent="0"></div>\n                    </div>\n                    <div style=\'text-align:center;margin-top:20px\'>\n                        <button class="layui-btn" id=\'closeModal\'>'+M.$t("FreqTrend.loading.terminate")+"</button>\n                    </div>\n                </div>\n            ";this.modalIndex=U.open({title:M.$t("FreqTrend.loading.loading"),type:1,area:"500px",closeBtn:0,shadeClose:!1,content:t}),L("button#closeModal").on("click",io.bind(this)),this.ClearChart(),no.bind(this)()}},InitMesPointData:function(t){var e=i;if(t&&0!=Object.keys(t).length&&t.Datas&&0!=t.Datas.length){e.filteredWaveKeys=[];var n=new fa;L("#filterList"+e.id).html(""),n.render("#filterList"+e.id,M.$t("card.title.datatable"),"");for(var a=t.Datas,r={},o=[],s=0,l=a.length;s<l;s++){var c=a[s];if(2===c.DataType){var u=c.DataLen+"|"+c.SampleRate+"|"+c.Unit;r[u]?r[u].push(c):(r[u]=[c],o.push({key:u,DataLen:c.DataLen,SampleRate:c.SampleRate,title:c.DataLen/1024+"K"+(c.Unit?M.$t(q.a.SignalType[q.a.Units[c.Unit]]):"")+"("+c.SampleRate/2.56+"Hz)"}))}}var h=new ur;L("#filterList"+e.id+" .rz-card-body").html(""),h.render("#filterList"+e.id+" .rz-card-body",o,"key","title"),h.AddClick(function(t,n){for(var i=r[t],a=[],o=i.length-1;o>=0;o--)a.push(i[o].WaveKey);e.filteredWaveKeys=a}),h.SetItemClick(0)}}},i.chartName="FreqTrend",i.CreateLayout(),i.InitOption(),i.InitTable(),i.InitChart(),i.envelopeData={centerRate:1,bindwidth:1},i.mode=$r.freqTrend,i}return ro(e,t),e}(J),lo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),co=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DilutionCount=8192,e.getMostIndexX=function(t,n,i,a){void 0===n&&(n=0),void 0===i&&(i=!1),void 0===a&&(a=null);try{e.convertYToIndex(t,n);var r=rt.GetMostNearIndex(t,a||e.sourceData[0],0,i);return a?[r,a[r]]:[r,e.sourceData[e.selectedYIndex][r]]}catch(t){return null}},e.getXMax=function(){var t=0;try{for(var n=0;n<e.sourceData.length;n++){var i=e.sourceData[n];i&&i.length>0&&i[i.length-1][0]>t&&(t=i[i.length-1][0])}}catch(t){}return t},e.resetZoom=function(){if(this.sourceData[0].length<=this.DilutionCount)this.hchartHelper.ResetZoom();else{var t=this.data[0][this.selectedXIndex],e=Object(f.f)(this.sourceData[0],this.DilutionCount);this.data=[e],this.lastOption.series[0].data=e;this.hchartHelper.Render(this.chartElement,this.lastOption);this.hchartInstance=this.hchartHelper.hchartInstance;try{this.selectedXIndex=this.getMostIndexX(t[0],0,!1,e)[0],this.MoveMainCursor(!0,!0,!0,!1,!0,"first")}catch(t){}}},e.lastOption={},e.GetOptions=function(t,n,i,a,r){var o=e;e.sourceData=e.data;var s=!0,l=e.GetBaseOptions(t,n,i,a,r);if(e.data[0].length<=o.DilutionCount)return e.lastOption=l,l;var c=Object(f.f)(o.sourceData[0],o.DilutionCount);return l.series[0].data=c,e.data=[c],l.chart.events.resetZoom=function(){o.resetZoom()},l.xAxis.events.afterSetExtremes=function(){if(s){s=!1;var t,e=o.data[0][this.selectedXIndex],n=this.getExtremes(),i=n.min,a=n.max,r=o.getMostIndexX(i,0),l=o.getMostIndexX(a,0,!0),c=o.sourceData[0].slice(r[0],l[0]);t=l[0]-r[0]<o.DilutionCount?o.sourceData[0].slice(r[0]-o.DilutionCount/2<0?0:r[0]-o.DilutionCount/2,l[0]+o.DilutionCount/2>=o.sourceData[0].length-1?o.sourceData[0].length-1:l[0]+o.DilutionCount/2):Object(f.f)(c,o.DilutionCount),o.data=[t];try{o.hchartInstance.series[0].setData(t,!0,!1);var u=o.getMostIndexX(e[0],0,!0,t);u&&(o.selectedXIndex=u[0],o.MoveMainCursor(!0,!0,!0,!1,!0,"first"))}catch(e){}return s=!0,!1}},e.lastOption=l,l},e}return lo(e,t),e.prototype.Dispose=function(){this.lastOption=null,this.DilutionCount=null,this.ChartKeys=null,this.sourceData=null,t.prototype.Dispose.call(this)},e}(qt),uo=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},ho=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},po=function(){function t(){var t=this;this.isOpen=!1,this.chartList=[],this.lastArgs=null,this.onSideCursorMove=function(e,n){t.chartList[0].MoveMainCursor(!1,!0,!1,!1,!1),t.chartList[0].layout.UpdateHelperInfo({CurosrValue:t.chartList[0].getSelectedText(!1)})},this.onSideCursorMoved=function(e,n){var i=Object(f.v)("rz_widthRate")||3;t.chartList[1].Clear(),Si.FetchEnvelope(t.lastArgs.dataKey,null,e,2*n,i,t.lastArgs.start,t.lastArgs.end).then(function(e){var n=[],i=e.data;t.chartList[1].CFRunSpeed=i.CFRunSpeed,t.chartList[1].layout.UpdateHelperInfo({MeasValue:i.MeasValue?i.MeasValue.toFixed(3)+(i.YUnit?i.YUnit:""):"",RotatingSpeed:i.RunSpeed});for(var a=0,r=i.YData.length;a<r;a++)n.push([a*i.XInterval,i.YData[a]]);t.chartList[1].render([n],i.XUnit,i.YUnit)}).catch(function(t){})},this.id=Object(f.y)()}return t.prototype.Resize=function(){this.chartList&&this.chartList.map(function(t){t.Resize()})},t.prototype.Dispose=function(){this.Close(),this.layout&&this.layout.Dispose(),this.layout=null,this.chartList&&this.chartList.map(function(t){t.Dispose()}),this.lastArgs=null,this.chartList=null,L("#OrderEnvelope"+this.id).remove(),this.id=null},t.prototype.Clear=function(){this.lastArgs=null,this.chartList&&this.chartList.map(function(t){t.Clear(!0)})},t.prototype.LoadData=function(t,e,n,i){return uo(this,void 0,void 0,function(){var a,r,o,s,l,c;return ho(this,function(u){if(L("#OrderEnvelope"+this.id).show(),this.lastArgs&&this.lastArgs.dataKey===t&&this.lastArgs.start===n&&this.lastArgs.end===i)return[2];if(this.Clear(),this.lastArgs={dataKey:t,start:n,end:i},(a=e)&&a.data&&a.data.YData.length>0){for(r=this.chartList[0],o=a.data,r.CFRunSpeed=o.CFRunSpeed,r.layout.UpdateHelperInfo({MeasValue:(o.MeasValue?o.MeasValue.toFixed(3):"")+(o.YUnit?o.YUnit:""),RotatingSpeed:o.RunSpeed,MeasTime:Object(f.d)(o.MeasDate,"YYYY/MM/DD HH:mm:ss")}),s=[],l=0,c=o.YData.length;l<c;l++)s.push([l*o.XInterval,o.YData[l]]);r.render([s],o.XUnit,o.YUnit,null,null,null,null,null)}return[2]})})},t.prototype.InitLayout=function(){var t=this,e=new ga;e.items=[{id:"top",otherStyle:"width:100%;"},{id:"bottom",otherStyle:"width:100%;"}],e.splitConfig=[{ids:["top","bottom"],callBack:function(){t.Resize()},isVertical:!0}],this.layout=new va(e,this.id),this.layout.render(L("#OrderEnvelope"+this.id))},t.prototype.InitChart=function(){this.chartList=[];var t=new qt("top"+this.id,Yt.Center);t.chartConfig.isAllowMaxBtn=!0,t.registeredCursor([new Ur(t,this.onSideCursorMove,this.onSideCursorMoved,!0,!0,!1,!0),new jr(t,"LongWaveform"),new Xr(t,Ya.Single,"LongWaveform")]),this.chartList.push(t),t.chartName="orderSpec",t.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),t.Init();var e=new qt("bottom"+this.id,Yt.First);e.chartConfig.isAllowMaxBtn=!0,e.registeredCursor([new Rr(e),new Qr(e),new jr(e,"LongWaveform"),new Xr(e,Ya.Single,"LongWaveform")]),this.chartList.push(e),e.chartName="orderSpec",e.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),e.Init()},t.prototype.Open=function(t,e,n,i){var a=this;if(0==L("#OrderEnvelope"+this.id).length){var r="<div id='OrderEnvelope"+this.id+"' class='rzAxisPanelParent' style=\"width:800px;height:557px;\"> </div>";L("body").append(r),L("#OrderEnvelope"+this.id).addClass("RZGraphChartCard");var o=Object(f.v)("RZGraphDarkTheme"),s=Object(f.v)("rzgraphlang");!1!==o&&L("#OrderEnvelope"+this.id).addClass("RZGraph-Dark-Theme"),"en"===s&&L("#OrderEnvelope"+this.id).addClass("RZGraph-Locale-En"),this.InitLayout(),this.InitChart()}0==this.isOpen?this.layerIndex=U.open({type:1,id:"d"+this.id,title:""+M.$t("longwave.envelop.long"),area:["800px","600px"],shade:0,maxmin:!1,resize:!1,restore:function(){a.Resize()},full:function(){a.Resize()},min:function(){a.Resize()},success:function(){return uo(a,void 0,void 0,function(){return ho(this,function(a){switch(a.label){case 0:return[4,this.LoadData(t,e,n,i)];case 1:return a.sent(),[2]}})})},cancel:function(){a.isOpen=!1,L("#OrderEnvelope"+a.id).hide()},end:function(){a.isOpen=!1,L("#OrderEnvelope"+a.id).hide()},content:L("#OrderEnvelope"+this.id)}):this.LoadData(t,e,n,i),this.isOpen=!0},t.prototype.Close=function(){L("#OrderEnvelope"+this.id).hide(),this.isOpen=!1,U.close(this.layerIndex)},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],t.prototype,"LoadData",null),t}(),fo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ao=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},mo=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="LongWaveform",i.onDisplayChange=function(t){0==t&&(i.envelope.Close(),i.ConditionFilterHelper.Close())},i.Dispose=function(){try{i.event&&i.event.Dispose(),Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.chartList=null,i.chartName=null,i.DataTableInstance.Dispose(),i.lastEnvelopeArgs=null,i.envelope.Dispose(),i.lastAssetChangeData=null,i.Path=null,i.dataTableCard.Dispose(),i.ConditionFilterHelper.Dispose(),i.DataTableInstance=null,i.dataTableCard=null,i.envelope=null,i.ConditionFilterHelper=null,i.element=null}catch(t){}},i.Resize=function(){i.DataTableInstance&&i.DataTableInstance.Resize(),i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()})},i.BindChartData=function(t,e){var n=e.data;t.RemarkContent=n.Description,t.CFRunSpeed=n.CFRunSpeed,t.layout.UpdateHelperInfo({MeasValue:(n.MeasValue?n.MeasValue.toFixed(3):"")+(n.YUnit?n.YUnit:""),RotatingSpeed:n.RunSpeed,MeasTime:Object(f.r)(n.MeasDate)});for(var i=[],a=0,r=n.YData.length;a<r;a++)i.push([a*n.XInterval,n.YData[a]]);t.render([i],n.XUnit,n.YUnit)},i.TrendHelper={onMainCursorMoved:function(t,e,n,a,r){i.SourceWaveHelper.change(r.WaveKey),i.DataTableInstance.SetSelectedIndex(i.chartList.trend.data[0].length-t-1)},loadData:function(t){if(t&&0!=Object.keys(t).length&&t.Datas&&0!=t.Datas.length){for(var e=t.Datas,n={},a=[],r=0,o=e.length;r<o;r++){var s=e[r];if(2===s.DataType){var l=s.DataLen+"|"+s.SampleRate+"|"+s.Unit;n[l]?n[l].push(s):(n[l]=[s],a.push({key:l,DataLen:s.DataLen,SampleRate:s.SampleRate,title:s.DataLen/1024+"K"+(s.Unit?M.$t(q.a.SignalType[q.a.Units[s.Unit]]):"")+"("+s.SampleRate/2.56+"Hz)"}))}}var c=new ur;c.render("#top21"+i.id+" .rz-card-body",a,"key","title"),c.AddClick(function(t,e){var a=n[t],r="";try{r=t.split("|")[2]}catch(t){}i.DataTableInstance.Update({data:a});for(var o=[],s=a.length-1;s>=0;s--){var l=a[s];o.push([Object(f.e)(l.MeasDate),l.MeasValue])}var c=i;i.chartList.trend.sourceData=[Ao([],a).reverse()],i.chartList.trend.menuInstance.AddMenuItem("ConditionFilterHelper"+c.chartList.trend.GetChartId(),M.$t("ConditionFilter.title"),function(){c.ConditionFilterHelper.SetFilterFunc(c.FilterCondition.bind(c)),c.ConditionFilterHelper.SetReset(c.ResetFilterCondition.bind(c)),c.ConditionFilterHelper.Open()}),c.orgTrendData={data:a,utils:r},i.chartList.trend.render([o],"",r)}),c.SetItemClick(0)}}},i.SourceWaveHelper={lastWaveKey:"",onMainCursorMoved:function(t,e,n,a,r){if(!["1","2"].includes(Object(q.b)())){i.SourceWaveHelper.AddDuanChang();var o=i.chartList.allwaveform,s=parseInt(Object(f.v)("duanchang")||Math.pow(2,15));i.WaveformHelper.LoadData(i.SourceWaveHelper.lastWaveKey,o.selectedXIndex*i.CompressFactor,s),i.SpecHelper.LoadData(i.SourceWaveHelper.lastWaveKey,o.selectedXIndex*i.CompressFactor,s)}},AddDuanChang:function(){var t=i.chartList.allwaveform,e=parseInt(Object(f.v)("duanchang")||Math.pow(2,15)),n=q.a.DuanChange.filter(function(t){return t.value===e})[0].name;e/=i.CompressFactor;var a={value:Math.abs((t.data[0][0][0]-t.data[0][1][0])*(t.selectedXIndex+e)),color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:n,style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:30}};t.hchartHelper.AddLine("DuanChang",a)},AddMeun:function(t){q.a.DuanChange;var e="DuanChangParent"+i.id,n=[{id:e,name:M.$t("menu.duanchang")}];q.a.DuanChange&&q.a.DuanChange.map(function(t){n.push({id:"duanItems"+t.name+i.id,name:t.name,parent:e,callback:function(){L("#duanItems"+t.name+i.id).siblings().css("color",""),L("#duanItems"+t.name+i.id).css("color","red"),function(t){Object(f.E)("duanchang",t),i.SourceWaveHelper.onMainCursorMoved(null,null,null)}(t.value)}})}),t.menuInstance.AddMenuItems(n)},change:function(t){i.SourceWaveHelper.lastWaveKey=t;var e=i.chartList.allwaveform;i.ClearChart(e),i.ClearChart(i.chartList.waveform),i.ClearChart(i.chartList.spectrum),Si.FetchOriginalVibWave(t).then(function(t){i.CompressFactor=(t.data.CompressFactor||1)<1?1:t.data.CompressFactor,i.BindChartData(e,t)}).catch(function(t){}),["1","2"].includes(Object(q.b)())&&(i.WaveformHelper.LoadData(i.SourceWaveHelper.lastWaveKey,0,0),i.SpecHelper.LoadData(i.SourceWaveHelper.lastWaveKey,0,0))}},i.DataTableHelper={OnClick:function(t){var e=i.chartList.trend,n=e.getMostIndexX(Object(f.e)(t.MeasDate),0);e.selectedXIndex=n[0],e.MoveMainCursor(!0,!0,!0,!1,!0)}},i.WaveformHelper={LoadData:function(t,e,n){var a=i.chartList.waveform;i.ClearChart(a),Si.FetchOriginalVibWave(t,e,n).then(function(t){i.BindChartData(a,t)})}},i.SpecHelper={LoadData:function(t,e,n){var a=i.chartList.spectrum;i.ClearChart(a),i.lastEnvelopeArgs=null,i.envelope.Clear(),Si.FetchSpectrum(t,e,n).then(function(r){i.BindChartData(a,r),i.lastEnvelopeArgs={dataKey:t,start:e,dataLength:n,chartData:r},i.envelope.isOpen&&i.envelope.Open(i.lastEnvelopeArgs.dataKey,i.lastEnvelopeArgs.chartData,i.lastEnvelopeArgs.start,i.lastEnvelopeArgs.dataLength)}).catch(function(t){})}},i.onAssetTypeNotSupport=function(t){i.dataTableCard&&i.dataTableCard.clearBody(),i.DataTableInstance.Update({data:[]}),Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.ClearChart(i.chartList[t])}),i.chartList&&i.chartList.trend&&i.chartList.trend.layout.UpdateHelperInfo({path:i.Path})},i.onAssetChange=function(t){t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0||(i.ConditionFilterHelper.GetData(t.deviceId),i.TrendHelper.loadData(t.data))},i.lastEnvelopeArgs=null,i.ConditionFilterHelper={table:null,Init:function(){var t=new Sa(null);i.ConditionFilterHelper.table=t},GetData:function(t,e){void 0===e&&(e=null),i.ConditionFilterHelper.table.GetData([t],e)},Open:function(){i.ConditionFilterHelper.table.Open()},SetFilterFunc:function(t){i.ConditionFilterHelper.table.SetFilterFunc(t)},GetCheckedData:function(){return i.ConditionFilterHelper.table.GetCheckedData()},Close:function(){i.ConditionFilterHelper.table.Close()},Dispose:function(){i.ConditionFilterHelper.table.Dispose()},SetReset:function(t){i.ConditionFilterHelper.table.onReset=t}},i.FilterCondition=function(t){var e=i,n=JSON.parse(JSON.stringify(e.orgTrendData.data)),a=[];if(t&&t.length>0){for(var r=0,o=n.length;r<o;r++)t.includes(n[r].Condition)&&a.push(n[r]);e.UpdateFilterChart(a)}},i.ResetFilterCondition=function(){var t=i,e=t.orgTrendData.data;t.UpdateFilterChart(e)},i.UpdateFilterChart=function(t){for(var e=[],n=[],a=t.length-1;a>=0;a--){var r=t[a];e.push([Object(f.e)(r.MeasDate),r.MeasValue]),n.push(r)}n=n.reverse(),i.chartList.trend.render([e],"",i.orgTrendData.utils),i.DataTableInstance.Update({data:n})},i.chartList={},i.CreatLayout(),i.InitChart(),i.onBaseTrendChange=function(){},i.ConditionFilterHelper.Init(),i}return fo(e,t),e.prototype.ClearChart=function(t){t.Clear(),t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"top",children:[{id:"top1"},{id:"top2",children:[{id:"top21",otherStyle:"overflow:hidden;"},{id:"top22",otherStyle:"overflow:hidden;"}]}]},{id:"middle"},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}],e.splitConfig=[{ids:["top","middle","bottom"],callBack:function(){t.Resize()},isVertical:!0},{ids:["bottom1","bottom2"],callBack:function(){t.Resize()}},{ids:["top1","top2"],size:[80,20],callBack:function(){t.Resize()}},{ids:["top21","top22"],size:[40,60],isVertical:!0,callBack:function(){t.Resize()}}],new va(e,this.id).render(this.element);var n=new fa;n.render("#top21"+this.id,M.$t("card.title.datatable"),""),this.dataTableCard=n,this.DataTableInstance=new Ta;var i=[[{field:"MeasDate",minWidth:160,title:M.$t("datatable.title.measdate"),templet:function(t){return""+Object(f.r)(t.MeasDate)}},{field:"MeasValue",width:80,title:M.$t("datatable.title.measvalue"),templet:function(t){return t.TextValue?t.TextValue:""+t.MeasValue.toFixed(3)}},{field:"Description",title:M.$t("datatable.title.desc"),width:120},{field:"InstrCode",title:M.$t("datatable.title.instrcode"),width:120}]];this.DataTableInstance.Create("top22"+this.id,function(){},i),this.DataTableInstance.OnClick(this.DataTableHelper.OnClick)},e.prototype.InitChart=function(){var t=this;this.chartList={};var e=new qt("top1"+this.id,Yt.Last,{onMainCursorMoved:this.TrendHelper.onMainCursorMoved});e.chartName="LongWaveform",e.menuInstance.RemoveMenuItem("LockChart"),e.layout._InitHelperInfo({chartName:M.$t("chart.name.longwaveformtrend"),path:this.Path,CurosrValue:""}),e.chartConfig.xIsTime=!0,e.chartConfig.isAllowMaxBtn=!0,this.chartList.trend=e,e.Init();var i=new qt("middle"+this.id,Yt.First,{onMainCursorMoved:this.SourceWaveHelper.onMainCursorMoved});i.registeredCursor([new Yr(i),new Xr(i,Ya.Double,this.chartName)]),i.layout._InitHelperInfo({chartName:M.$t("chart.name.longwaveform"),MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),this.chartList.allwaveform=i,i.chartConfig.isAllowMaxBtn=!0,["1","2"].includes(Object(q.b)())||this.SourceWaveHelper.AddMeun(i),i.Init();var a=new co("bottom1"+this.id,Yt.First);a.registeredCursor([new Yr(a),new Xr(a,Ya.Double,this.chartName)]),a.layout._InitHelperInfo({chartName:M.$t("chart.name.segmentedwaveform"),MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),this.chartList.waveform=a,a.chartConfig.isAllowMaxBtn=!0,a.Init();var r=new co("bottom2"+this.id,Yt.First);r.registeredCursor([new Rr(r),new Qr(r,null,null,!1,!0,!0,!0),new jr(r,this.chartName),new Xr(r,Ya.Single,this.chartName)]),r.layout._InitHelperInfo({chartName:M.$t("chart.name.segmentedspectrum"),MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),this.chartList.spectrum=r,r.chartConfig.isAllowMaxBtn=!0,r.Init(),L("#bottom2"+this.id+">div").append('<li id="btnEnvelope'+this.id+'"\n\t\t\t title='+M.$t("longwave.btn.envelope")+' \n\t\t\t class="" style="top: 30px;z-index: 999;padding: 0px;width: 20px;height: 20px;position: absolute;right: 0;cursor: pointer;">\n\t\t\t <img src="'+n(289)+'" style="width:20px;height:20px;">\n\t\t\t </li>'),this.envelope=new po,L("#btnEnvelope"+this.id).click(function(){t.lastEnvelopeArgs&&t.envelope.Open(t.lastEnvelopeArgs.dataKey,t.lastEnvelopeArgs.chartData,t.lastEnvelopeArgs.start,t.lastEnvelopeArgs.dataLength)})},e}(J),yo=function(){function t(t,e,n){var i=this;this.chart=null,this.originalData=[],this.XInteral=[],this.tmpFormatData=[],this.AppendSeriesData=[],this.AppendYValueAxis=[],this.AppendYLabelAxis=[],this.StepDistance=10,this.DistanceMax=0,this.DistanceMin=0,this.YAxisValue=[],this.YAxisLabel=[],this.YAxisLabelValue=[[],[],[]],this.ymax=0,this.ymin=0,this.fatherObject={},this.public=[],this.SelectDataKeys=[],this.GraphicsModel=1,this.ModelSeectDataKeys=[],this.CountIndex=10,this.Option={},this.XindexData=[],this.diffValue={},this.XUnit="",this.YUnit="",this.YUnits=[],this.formatData=function(t){var e=[],n=0,a=i,r=i.DistanceMax-i.DistanceMin;return t.forEach(function(t){e.push([]),t.forEach(function(t){e[n].push([t[0],t[1]+n*(r+a.StepDistance)])}),n++}),e},this.GetYUnit=function(t){return""},this.keys=["x","y"],this.GetMutiTemporalOption=function(t,e){void 0===e&&(e={});var n=[],a=i,r=0;return t.forEach(function(t){n.push({keys:a.keys,allowPointSelect:!1,enableMouseTracking:!1,id:"Series"+r,data:t,marker:{enabled:!1},color:F.getOptions().colors[0],lineWidth:1,animation:!1}),r++}),{boost:{useGPUTranslations:!1,allowForce:!1},series:n,yAxis:[{gridLineWidth:1,minorTickInterval:"auto",title:{text:a.GetYUnit(e.yutils),x:-10},labels:{formatter:function(){return a.CalcYAxisValue(this.value)}},showFirstLabel:!0,showLastLabel:!0},{title:{text:null},linkedTo:0,opposite:!0,gridLineWidth:0,lineWidth:0,tickLength:0,showFirstLabel:!0,showLastLabel:!0,tickPositioner:function(){return a.YAxisLabel},labels:{formatter:function(){return a.CalcYAxisLabel(this.value)}}}]}},this.GetYUnitSide=function(t){return i.YUnits[t]||""},this.InitDataBefFormat=function(t,e,n){var a=t[0]&&t[0].data.XUnit,r=t[0]&&t[0].data.YUnit;i.XUnit=a,i.YUnit=r;var o=[];i.YAxisLabelValue=[[],[],[]],i.XInteral=[];var s=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER;for(var c in i.YUnits=[],t){var u=t[c].data;i.YUnits.push(u.YUnit);var h=[];i.YAxisLabelValue[0].push(Object(f.d)(new Date(u.MeasDate),"YY/MM/DD HH:mm:ss")),i.YAxisLabelValue[1].push(u.RunSpeed),i.YAxisLabelValue[2].push((u.MeasValue?u.MeasValue.toFixed(3):0)+(u.YUnit||"")),i.XInteral.push(u.XInterval);for(var d=0,p=u.YData.length;d<p;d++)u.YData[d]>s&&(s=u.YData[d]),u.YData[d]<l&&(l=u.YData[d]),h.push([d*u.XInterval,u.YData[d]]);o.push(h)}s===Number.MIN_SAFE_INTEGER&&l===Number.MAX_SAFE_INTEGER&&(s=l=0);var A=o;i.originalData=A,i.BeforeFormat(A,l,s);var m=i.formatData(A);i.newChartLength=m.length;var y=i.GetMutiTemporalOption(m,{yutils:r});return n&&n(i.YAxisLabelValue[0],i.YAxisLabelValue[1]),e&&e(a,r),i.XindexData=m,i.Option=y,{xindex:m,option:y}},this.newChartLength=0,this.BeforeFormat=function(t,e,n){i.DistanceMax=n+.1*Math.abs(n-e),i.DistanceMin=e,i.StepDistance=(i.DistanceMax-i.DistanceMin)/4;for(var a=[],r=i.DistanceMax-i.DistanceMin,o=0;i.CompareCounShow(o,t.length);o++)if(0==a.length)a.push(i.DistanceMin),a.push(i.DistanceMax);else{var s=a[2*o-1];a.push(s+i.StepDistance),a.push(s+i.StepDistance+r)}i.YAxisValue=a;for(var l=[],c=0,u=i.YAxisValue.length;c<u;c+=2)l.push(Math.round((3*i.YAxisValue[c]+i.YAxisValue[c+1])/4*1e3)/1e3),l.push(Math.round((i.YAxisValue[c]+i.YAxisValue[c+1])/2*1e3)/1e3),l.push(Math.round((i.YAxisValue[c]+3*i.YAxisValue[c+1])/4*1e3)/1e3);i.YAxisLabel=l},this.CalcYAxisLabel=function(t){for(var e="",n=1,a=i.YAxisLabel.length;n<=a;n++)if(i.YAxisLabel[n-1]==t){e=(n-1)%3==0?i.YAxisLabelValue[0][Math.round((n-1)/3)]:(n-1)%3==1?i.YAxisLabelValue[1][Math.round((n-1)/3)]+" RPM":i.YAxisLabelValue[2][Math.round((n-1)/3)];break}return e},this.CalcYAxisValue=function(t){for(var e=0,n=i,a=0,r=i.YAxisValue.length;a<r;a++){if(a,0==a&&i.YAxisValue[a]>=t){e=n.YAxisValue[0];break}if(a==n.YAxisValue.length-1&&t>=i.YAxisValue[a]){e=n.YAxisValue[1];break}if(i.YAxisValue[a]<=t&&i.YAxisValue[a+1]>=t){e=t-Math.round(a/2)*(i.StepDistance+(i.DistanceMax-i.DistanceMin));break}}return n.YAxisLabel[0],parseFloat(e.toFixed(2))},this.ClearChart=function(t){i.XInteral=[],i.originalData=[],i.tmpFormatData=[],i.AppendSeriesData=[],i.AppendYValueAxis=[],i.AppendYLabelAxis=[],i.DistanceMax=0,i.DistanceMin=0,i.YAxisValue=[],i.YAxisLabel=[],i.YAxisLabelValue=[[],[],[]],i.ymax=0,i.ymin=0,t&&t()},this.GetInRangeIndex=function(t,e){for(var n=0;n<t.length;n+=2){if(t[n]<=e&&t[n+1]>=e)return n/2;if(t[n-1]<=e&&t[n]>=e)return e-t[n-1]>=t[n]-e?n/2:n/2-1}return 0},this.CompareCounShow=function(t,e){return void 0===e&&(e=0),i.SelectDataKeys&&i.SelectDataKeys.length>0?t<i.SelectDataKeys.length:t<e},this.ChangeCountIndex=function(t,e){t!=i.CountIndex&&(i.CountIndex=t,e&&e(i.CountIndex))},this.CalcSelectYValue=function(t,e){return i.originalData[e][t][1]},this.CalcSelectXYValue=function(t,e,n){return void 0===n&&(n=null),n?n[e][t]:i.originalData[e][t]},this.ClearBaseChart=function(){return i.ClearChart(),i.ModelSeectDataKeys=[],i.SelectDataKeys=[],xa.Clear(),{xindex:[],option:{}}},this.chart=t,this.element=e,this.fatherObject=n}return t.prototype.Dispose=function(){var t=this;Object.keys(this).map(function(e){t[e]&&t[e].Dispose&&t[e].Dispose(),t[e]=null}),this.element=null},t}(),go=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vo=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="ModalAnalysis",i.Path="ModalAnalysis",i.LastSelectX=null,i.LastSetExtremes=null,i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),i.charthelper&&i.charthelper.Dispose(),i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.waveformChart&&i.waveformChart.Dispose(),i.specChart&&i.specChart.Dispose(),i.chartList=null,i.chartName=null,i.Path=null,i.element=null}catch(t){}},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()}),i.waveformChart&&i.waveformChart.Resize(),i.specChart&&i.specChart.Resize()},i.onAssetTypeNotSupport=function(t){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.ClearChart(i.chartList[t]),i.chartList[t].layout.UpdateHelperInfo({path:i.Path})})},i.onAssetChange=function(t){t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0||(i.GetMaindata(),i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].layout.UpdateHelperInfo({path:i.Path})}))},i.TrendHelper={onMainCursorMoved:function(t,e,n,a,r){var o=i,s=n[2];if(n&&s){var l=[{WaveKey:s,start:Object(f.e)(o.CheckedTime[0])||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00")}];Si.BatchFetchOriginalVibWave(l).then(function(t){try{var e=t[0].data.XUnit,n=t[0].data.YUnit,a=i.charthelper.InitDataBefFormat(t),r=a.xindex,o=a.option;o=i.chartList.trend.GetBaseOptions(o),i.chartList.trend9.render(r,e,n)}catch(t){i.chartList.trend9.render([],"","")}}),Si.BatchFetchSpectrum(l).then(function(t){try{var e=o.charthelper.InitDataBefFormat(t),n=e.xindex,a=e.option,r=t[0].data.XUnit,s=t[0].data.YUnit;a=i.chartList.trend.GetBaseOptions(a),i.chartList.trend10.render(n,r,s)}catch(t){i.chartList.trend10.render([],"","")}});var c=n[0];o.LastSelectX=c;for(var u=["trend","trend2","trend3","trend4","trend5","trend6","trend7","trend8"],h=0;h<u.length;h++){var d=o.chartList[u[h]];if(d.verifyData()){var p=d.getMostIndexX(c);d.selectedXIndex=p[0];var A=p[1],m=Object(f.d)(A[0],"YYYY/MM/DD HH:mm:ss");d.layout.UpdateHelperInfo({CurosrValue:m+", "+A[1].toFixed("3")+d.yUtils}),d.MoveMainCursor(!0,!0,!0,!1,!1)}}}},onSetExtremes:function(t,e){var n=i,a=["trend","trend2","trend3","trend4","trend5","trend6","trend7","trend8"];n.LastSetExtremes={min:t,max:e};for(var r=0;r<a.length;r++){var o=n.chartList[a[r]];try{o.hchartInstance&&o.hchartInstance.xAxis&&o.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}}},loadData:function(t,e,n){i.chartList[t].render([e],"",n)}},i.InitQuery=function(){var t='\n\t\t\t<div class="layui-form" id=\'Query'+i.id+'\' action="" style="text-align:center;overflow:auto;height:100%">\n\t\t\t\t<div id=\'timeCard'+i.id+"' style='height:180px'></div>\n\t\t\t\t<div id='evCard"+i.id+"' style='height:calc(100% - 230px)'></div>\n\t\t\t\t<div id='buttonDiv"+i.id+"' style='height:30px'></div>\n\t\t\t</div>\n\t\t",e='\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Stime' id='Stime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t\t\t</div>\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Etime' id='Etime"+i.id+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n\t\t\t</div>\n\t\t",n='\n\t\t\t<div class="layui-form-item" style=\'margin-top:10px\'>\n\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t</div>\n\t\t";L("#right"+i.id).append(t),(new fa).render("#timeCard"+i.id,M.$t("leftbar.form.selecttime"),e),L("#buttonDiv"+i.id).append(n);var a=O.form;a.render(),ie.renderDateTime("Stime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("Etime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var r=i;a.on("submit(btnQuery"+i.id+")",function(t){try{if(new Date(t.field.Stime)>new Date(t.field.Etime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),r.CheckedTime=e,r.GetMaindata()}catch(t){}return!1})},i.Path=n,i.chartList={},i.CheckedTime=[],i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return go(e,t),e.prototype.ClearChart=function(t){t.Clear(),this.LastSelectX=null,this.LastSetExtremes=null,t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.GetMaindata=function(){var t=this,e=[],n=[],i=[],a=[],r=this.deviceId,o=this.assetId,s=this.devicePath,l=Object(f.d)(this.CheckedTime[0],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00"),c=Object(f.d)(this.CheckedTime[1],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59");r&&s&&Si.FetchModalAnalysis(r,o,l,c).then(function(r){if(r.data){for(var o=0;o<r.data.length;o++){var s=r.data[o],l=[],c=[],u=[];s.Unit&&(u=s.Unit.split(","),i.push(u[0]),a.push(u[1]));for(var h=0;h<s.Datas.length;h++){var d=s.Datas[h];l.push([Object(f.e)(d.MeasDate),d.MeasValue,d.WaveKey]),c.push([Object(f.e)(d.MeasDate),d.SampleRate,d.WaveKey])}e.push(l),n.push(c)}for(var p=["trend","trend2","trend3","trend4"],A=0;A<p.length;A++)0!=e[A].length&&0!=n[A].length||(t.chartList.trend9.render([],"",""),t.chartList.trend10.render([],"","")),t.TrendHelper.loadData(p[A],e[A],i[A]);var m=["trend5","trend6","trend7","trend8"];for(h=0;h<m.length;h++)t.TrendHelper.loadData(m[h],n[h],a[h])}}).catch(function(t){})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"top",children:[{id:"top1",children:[{id:"top11"},{id:"top21"}]},{id:"top2",children:[{id:"top12"},{id:"top22"}]},{id:"top3",children:[{id:"top13"},{id:"top23"}]},{id:"top4",children:[{id:"top14"},{id:"top24"}]}]},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}]},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[85,15],callBack:function(){t.Resize()}},{ids:["top","bottom"],size:[80,20],callBack:function(){t.Resize()},isVertical:!0},{ids:["top1","top2","top3","top4"],callBack:function(){t.Resize()},isVertical:!0},{ids:["top11","top21"],callBack:function(){t.Resize()}},{ids:["top12","top22"],callBack:function(){t.Resize()}},{ids:["top13","top23"],callBack:function(){t.Resize()}},{ids:["top14","top24"],callBack:function(){t.Resize()}},{ids:["bottom1","bottom2"],callBack:function(){t.Resize()}}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n,i,a,r){var o=this,s=new qt(L("#"+t)[0],Yt.Last,{onMainCursorMoved:this.TrendHelper.onMainCursorMoved,onSetExtremes:i,onMaxBtnClick:function(e){e?(L("#right"+o.id).hide(),t!=="top21"+o.id&&L("#top21"+o.id).hide()):(L("#right"+o.id).show(),t!=="top21"+o.id&&L("#top21"+o.id).show())}});"VibWave"==a&&(this.charthelper=new yo(s,""),this.charthelper.CountIndex=1,s.registeredCursor([new Yr(s)])),"Spectrum"==r&&(this.charthelper=new yo(s,""),this.charthelper.CountIndex=1,s.registeredCursor([new Rr(s,!1,!0,!0,!0),new Qr(s,null,null,!1,!0,!0,!0)])),s.layout._InitHelperInfo({chartName:e,path:this.Path,CurosrValue:""}),s.ChartKeys=["x","y","w1"],s.chartConfig.xIsTime=!a&&!r,s.chartConfig.isAllowMaxBtn=!0,this.chartList[n]=s,s.Init()},e.prototype.InitChart=function(){var t=this;this.chartList={},[{id:"top11"+this.id,chartName:M.$t("First order natural frequency amplitude"),eachName:"trend",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top12"+this.id,chartName:M.$t("Second order natural frequency amplitude"),eachName:"trend2",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top13"+this.id,chartName:M.$t("Third order natural frequency amplitude"),eachName:"trend3",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top14"+this.id,chartName:M.$t("Fourth order natural frequency amplitude"),eachName:"trend4",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top21"+this.id,chartName:M.$t("First order natural frequency value"),eachName:"trend5",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top22"+this.id,chartName:M.$t("Second order natural frequency value"),eachName:"trend6",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top23"+this.id,chartName:M.$t("Third order natural frequency value"),eachName:"trend7",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top24"+this.id,chartName:M.$t("Fourth order natural frequency value"),eachName:"trend8",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"bottom1"+this.id,chartName:M.$t("Wave Time Form"),eachName:"trend9",isVibWave:"VibWave"},{id:"bottom2"+this.id,chartName:M.$t("Spectrum analysis"),eachName:"trend10",isSpectrum:"Spectrum"}].map(function(e){t.CreatChart(e.id,e.chartName,e.eachName,e.onSetExtremes,e.isVibWave,e.isSpectrum)})},e}(J),bo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Co=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i=!0);var a=t.call(this,e,n)||this;return a.chartName="MultiChannelTempTrend",a.service=Si.FetchCHTemperatures,a.AfterConstructor(i),a}return bo(e,t),e}(Dr),xo=function(){return function(){}}(),wo=new(function(){function t(){var t=this;this.triggerChange=function(){t.event&&Object.keys(t.event).map(function(e){var n=t.event[e];n&&n(t.CheckeData)})},this.CheckeData=[],W.addEvent("AnalysisModelChange",function(e){e.data;t.triggerChange()})}return t.prototype.Clear=function(t){void 0===t&&(t=!0),this.CheckeData=[],t&&this.triggerChange()},t.prototype.GetData=function(){return this.CheckeData},t.prototype.AddData=function(t,e){void 0===e&&(e=!0),this.CheckeData||(this.CheckeData=[]),this.CheckeData.filter(function(e){return e.DataKey===t.DataKey}).length>0&&(this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t.DataKey})),this.CheckeData.push(t),e&&this.triggerChange()},t.prototype.AddDatas=function(t){var e=this;t.map(function(t){e.AddData(t,!1)}),this.triggerChange()},t.prototype.DeleteData=function(t){this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t}),this.triggerChange()},t.prototype.AddEvent=function(t,e){this.event||(this.event={}),this.event[t]=e},t.prototype.DeleteEvent=function(t){delete this.event[t]},t}());window.RZCheckedCache=wo;var Do=wo,Io=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Bo=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},To=function(){function t(){var t=this;this.lastSelectedX=null,this.UpdateHelperInfo=function(e){t.trend.layout.UpdateHelperInfo(e)},this.Dispose=function(){t.trend&&t.trend.Dispose(),t.lastUnits=null,t.selectedChart=null,t.trend=null},this.lastUnits=[],this.selectedChart=[],this.InitChart=function(e,n,i,a){var r=t,o=new qt(e,Yt.Last,{onMainCursorMoved:function(t,e,n,i){if("first"!=i){var o=n[0];r.lastSelectedX=o}a&&a(n[0],r.selectedChart)},onRenderEnd:function(){if(r.lastSelectedX){var t=o.getMostIndexX(r.lastSelectedX,0);o.selectedXIndex=t[0],o.selectedYIndex=o.convertYToIndex(r.lastSelectedX,0),o.MoveMainCursor(!0,!0,!0,!1,!0,"first")}}});return o.chartName=i,o.layout._InitHelperInfo({CurosrValue:""}),o.chartConfig.xIsTime=!0,o.chartConfig.isAllowMaxBtn=!0,o.AddMenuItem([{id:"setProcessTrendTimeRange",name:M.$t("title.Detailed.trend.range"),callback:function(){var t=Object(f.v)("ProcessTrendTimeRange")||2,e="<div class=''> \n                        <div class=\"layui-form-customline\">\n                        "+M.$t("ProcessTrend.DataRang.BA")+":\n                        </div> \n                        <div class='layui-form-customline'> \n                         <input id=\"ProcessTrendTimeRange"+r.id+"\" type='number' name='ProcessTrendTimeRange' min='1' max='240' autocomplete='off' class='layui-layer-input' value='"+t+"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 80px;height:28px;' />\n                        </div> \n                        <div class='layui-form-customline'>\n                         "+M.$t("DateTime.Hour")+"\n                        </div> \n                     </div>";U.prompt({title:M.$t("ProcessTrend.DataRang.title"),content:e,btn:[M.$t("btn.ok")],shadeClose:!0},function(t,e){if(!(t<0)){var n=L("#ProcessTrendTimeRange"+r.id).val()||2;if(parseInt(n)>240)U.msg(M.$t("meun.config.processtrend.maxtime.error",{count:240}));else if(parseInt(n)<1)U.msg(M.$t("meun.config.processtrend.mintime.error",{count:1}));else{try{Object(f.E)("ProcessTrendTimeRange",n);var i=Object(f.r)(o.data[0][o.selectedXIndex][0]);a&&a(i,r.selectedChart)}catch(t){}U.close(e)}}}),L("#ProcessTrendTimeRange"+r.id).val(t)}}]),o.Init(),t.trend=o,o.getSelectedText=function(t){try{var e=o.data[o.selectedYIndex][o.selectedXIndex];e=e.concat([]);var n={rate:1,unit:o.xUtils};o.chartConfig.convertUnit&&(n=Object(f.b)(o.xUtils)),o.xUtils=n.unit,o.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=(e[0]*n.rate).toFixed(3);var i="";return i=r.selectedChart[o.selectedYIndex].name+"  "+e[0]+o.xUtils+"，"+e[1].toFixed(3)+(r.lastUnits[o.selectedYIndex]||""),o.cursorList&&o.cursorList.length>0&&o.cursorList.forEach(function(e){e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},o},this.formatDataCombined=function(e,n){for(var i=Object(f.t)(),a=[],r=[],o=0;o<e.length;o++){for(var s=e[o].data.Datas,l=[],c=0;c<s.length;c++)l.push([Object(f.e)(s[c].MeasDate),s[c].MeasValue]);l.sort(function(t,e){return t[0]-e[0]}),r.push(l),t.lastUnits.push(e[o].data.Unit),a.push({turboThreshold:0,animation:!1,color:o<i.length?i[o]:null,keys:t.trend.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:M.$t(n[o].name),data:l,lineWidth:1})}return{data:r,series:a}},this.LoadData=function(e,n,i){return Io(t,void 0,void 0,function(){var t,a,r;return Bo(this,function(o){switch(o.label){case 0:return this,this.Clear(),this.selectedChart=e,t=[],e&&e.map(function(e){e.indexType===Fo.ProPoint?t.push(Si.FetchTsDatas(e.assetId,0,n,i)):e.indexType===Fo.EigenvalueIndex&&t.push(Si.FetchIndexData(e.assetId,e.indexCode,0,n,i))}),[4,ne.a.all(t)];case 1:return a=o.sent(),r=this.formatDataCombined(a,e),this.trend.render(r.data,"","",{series:r.series,legend:{layout:"horizontal",align:"center",floating:!0,margin:0,verticalAlign:"top",itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[2]}})})},this.Resize=function(){t.trend.Resize()},this.id=Object(f.y)()}return t.prototype.Clear=function(){this.lastUnits=[],this.selectedChart=[],this.trend.Clear(!0)},t}(),So=function(){function t(t,e){void 0===t&&(t=null),this.tableData=[],this.isOpen=!1,this.jumpFunc=t,this.id=Object(f.y)(),this.parentId=e,this.AddShowRecordButton(e);var n="<div id='Remark"+this.id+"' lay-filter=\"Remark"+this.id+'" style="width:430px;height:480px;display:none;"> </div>';L("body").append(n);var i=new Ta,a=[[{field:"MeasDate",width:145,title:M.$t("datatable.title.measdate")},{field:"Description",width:120,edit:"text",title:M.$t("datatable.title.desc")},{title:M.$t("memo.oper.title"),toolbar:'<div>\n          <a class="layui-btn layui-btn-xs" lay-event="jump">'+M.$t("memo.oper.jump")+'</a>\n          <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">'+M.$t("memo.oper.delete")+"</a>\n          </div>",width:150}]],r=this;i.Create("Remark"+this.id,null,a,{page:!1}),this._table=i;var o=i.getTableId();O.table.on("tool("+o+")",function(t){t.data;"del"===t.event?U.confirm(M.$t("memo.oper.deleteConfirm"),{btn:[M.$t("cascade.loadbtn.yes"),M.$t("cascade.loadbtn.no")],title:M.$t("layui.layer.tip.title")},function(e){t.del(),r.tableData=r.tableData.filter(function(e){return e.MeasDate!=t.data.MeasDate}),U.close(e)}):"jump"===t.event&&r.jumpFunc&&r.jumpFunc(t.data.currPage,t.data.AllData,t.data.MeasDate)})}return t.prototype.Dispose=function(){this.tableData=null,L("#Remark"+this.id).remove(),U.close(this.layerIndex),this._table.Dispose(),this._table=null,this.jumpFunc=null},t.prototype.AddData=function(t){this.tableData||(this.tableData=[]),this.tableData.filter(function(e){return e.MeasDate==t.MeasDate}).length>0?U.msg(""+M.$t("memoryindex.table.error")):(this.tableData.push(t),this._table.Update({data:this.tableData,page:!1}),this.Open())},t.prototype.delete=function(){},t.prototype.Clear=function(){this.tableData=[],this._table.Update({data:[]})},t.prototype.Open=function(){this.layerIndex=U.prompt({shade:0,title:M.$t("memo.title"),formType:2,content:L("#Remark"+this.id),btn:[]},function(t,e){})},t.prototype.Close=function(){U.close(this.layerIndex)},t.prototype.AddShowRecordButton=function(t){var e=this;if(t){var i=L("#right"+t);if(i){var a="\n\t\t\t<div id='recordButtonEle"+this.id+"' \n\t\t\t\t style='position: absolute; top:5px; right:5px; background-color:transparent;height:20px;width:20px;z-index:999;'\n\t\t\t>\n\t\t\t\t<img title='"+M.$t("menu.showSelectedData")+"' id='clickableImg"+this.id+"' style='height:20px;width:20px;cursor: pointer;' src=\""+n(86)+'"/>\n\t\t\t</div>\n\t\t';L(i).append(a),L("#clickableImg"+this.id).on("click",function(){e.Open()})}}},t}(),Mo=function(){return(Mo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Eo=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},ko=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Fo={TimeIndex:"TImeIndex",EigenvalueIndex:"EigenvalueIndex",ProPoint:"ProPoint",SamplingIndex:"SamplingIndex"},Oo=function(){return function(){}}(),Lo=function(){function t(t,e,n,i,a){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=null),this.getChartOptions=function(t,e,n,i,a){var r=[],o=[],s=[];if(e&&e.Datas){var l=ko([],e.Datas);!1===ie.GetDataRange().isShowError&&(l=l.filter(function(t){return 99!==t.Alarm})),t.sourceData=l;for(var c=l.length-1;c>=0;c--){var u=l[c];if(a.indexType==Fo.TimeIndex)s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey]);else try{null!==u.MeasValue&&"NaN"!==u.MeasValue&&(void 0!==u.Alarm&&null!=u.Alarm&&99===u.Alarm&&u.WaveKey?(r.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),o.push([Object(f.e)(u.MeasDate),u.MeasValue]),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):void 0!==u.Alarm&&99===u.Alarm?(r.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):u.WaveKey?(o.push([Object(f.e)(u.MeasDate),u.MeasValue]),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},u.WaveKey])):void 0!==u.Alarm&&null!=u.Alarm&&0!==u.Alarm&&1<=u.Alarm&&u.Alarm<=5?s.push([Object(f.e)(u.MeasDate),u.MeasValue,{enabled:!0,fillColor:u.Alarm>=4?Object(f.i)(u.Alarm):Object(f.i)(3),radius:2,symbol:"circle",enabledThreshold:0},u.WaveKey]):s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey]))}catch(t){}}}else t.sourceData=null;(s=s.sort(function(t,e){return t[0]-e[0]}))&&s.length>0&&(t.selectedXIndex=s.length-1),t.setAlarmLimits(e&&e.AlarmLimits||[]),t.render([s],"",e&&e.Unit||"",{annotations:[{draggable:"",id:"MarkPoints",shapes:r,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:t.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:s,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:o,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,{customXAxisMax:Object(f.e)(i)>Object(f.e)(new Date)?Object(f.e)(new Date):Object(f.e)(i),customXAxisMin:Object(f.e)(n)},e&&e.AlarmLimits||[])},this.renderChart=function(t,e,n,i,a){t.showAlarmLine=r.ShowAlarmLine,r.getChartOptions(t,e,i,a,n)},this.onBigTrendCursorMoveCallback=function(t,e){var n=r;try{var i=parseInt(Object(f.v)("ProcessTrendTimeRange"))||2,a=Object(f.r)(t),o=Object(f.r)(Object(f.c)("h",-i,a)),s=Object(f.r)(Object(f.c)("h",i,a));n.LastSetExtremes=null,e.map(function(t){for(var e=t.assetId+t.indexType+t.indexCode,i=n.chartList.filter(function(t){return t.chartName===e})[0],a=0,r=0;r<n.orgChartData.length;r++){var l=n.orgChartData[r].indexData;if(l.assetId===t.assetId&&l.indexType===t.indexType&&l.indexCode===t.indexCode){a=r;break}}t.indexType===Fo.ProPoint?Si.FetchTsDatas(t.assetId,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=Mo(Mo({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}}):t.indexType===Fo.EigenvalueIndex&&Si.FetchIndexData(t.assetId,t.indexCode,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=Mo(Mo({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}})})}catch(t){}},this.LastSelectX=null,this.LastSetExtremes=null,this.LastDynamicCursor=null,this.LastToolbar=null,this.LastHelperInfo=null,this.CheckedList=[],this.ShowAlarmLine=!1,this.ShowAlarmLineFunc=function(){var t=r;t.chartList.map(function(e){e.HideOrShowAlarmLine(!e.showAlarmLine),L("#AddAlarmLine"+e.GetChartId()).find("span").html(e.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),t.ShowAlarmLine=e.showAlarmLine})},this.lastSourceData=null,this.lastQueryData=null,this.FilterCondition=function(t){if(t)for(var e=r,n=0,i=e.chartList.length;n<i;n++)e.UpdateChart(e.orgChartData[n],e.chartList[n],t,0==n)},this.UpdateChart=function(t,e,n,i,a){if(void 0===a&&(a=!1),t&&t.Datas&&0!=t.Datas.length){var o=r,s=[],l=[],c=[];!1===ie.GetDataRange().isShowError&&(t.Datas=t.Datas.filter(function(t){return 99!==t.Alarm}));for(var u=t.Datas.length-1;u>=0;u--){var h=t.Datas[u];if((a||n.length>0&&n.includes(h.Condition))&&null!==h.MeasValue&&"NaN"!==h.MeasValue)try{null!==h.MeasValue&&"NaN"!==h.MeasValue&&(void 0!==h.Alarm&&null!=h.Alarm&&99===h.Alarm&&h.WaveKey?(s.push({point:{x:Object(f.e)(h.MeasDate),y:h.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),l.push([Object(f.e)(h.MeasDate),h.MeasValue]),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey])):void 0!==h.Alarm&&99===h.Alarm?(s.push({point:{x:Object(f.e)(h.MeasDate),y:h.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey])):h.WaveKey?(l.push([Object(f.e)(h.MeasDate),h.MeasValue]),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},h.WaveKey])):c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey]))}catch(t){}}if(e.showAlarmLine=!1,c=c.sort(function(t,e){return t[0]-e[0]}),e.render([c],"",t.Unit,{annotations:[{draggable:"",id:"MarkPoints",shapes:s,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:e.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:c,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:l,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,null,t.AlarmLimits||[]),i){if(!c[0])return;o.LoadWaveForm(Object(f.e)(c[0][0]),c[0])}}},this.ResetFilterCondition=function(){for(var t=r,e=0,n=t.chartList.length;e<n;e++)t.UpdateChart(t.orgChartData[e],t.chartList[e],null,0==e,!0)},this.getMaxAndMinData=function(t,e,n){if(void 0===e&&(e=Number.MAX_SAFE_INTEGER),void 0===n&&(n=0),!t||0===t.length)return{minTime:e,maxTime:n};for(var i=ko([],t),a=0,r=i.length;a<r;a++)i[a].MeasDate=Object(f.e)(i[a].MeasDate);return i.sort(function(t,e){return t.MeasDate-e.MeasDate}),i[0].MeasDate<e&&(e=i[0].MeasDate),i[i.length-1].MeasDate>n&&(n=i[i.length-1].MeasDate),{minTime:e,maxTime:n}},this.onPageSizeChange=e,this.onDisplayCheckedTrendChart=n,this._elem=t,this._parent=a,this._MemoryIndexTable=new So(i,a.id),this.bigTrend=new To,this.bigTrend.InitChart("top"+this._parent.id,"","",this.onBigTrendCursorMoveCallback),W.addEvent("TempDataRangeChange",function(){r.render(r.lastQueryData.objs,r.lastQueryData.stime,r.lastQueryData.etime,r.lastQueryData.currPage,r.lastQueryData.AllData)},this._parent.id)}return t.prototype.SetMemoryTableDisplayNone=function(t){t?this._MemoryIndexTable&&this._MemoryIndexTable.Open():this._MemoryIndexTable&&this._MemoryIndexTable.Close()},t.prototype.ClearMemortTableData=function(){this._MemoryIndexTable.Clear()},t.prototype.Clear=function(){this.ReRenderClear(),Do.Clear(),this.LastSelectX=null,this.CheckedList=[],this.LastSetExtremes=null,this.chartList=null,this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null},t.prototype.Dispose=function(){this.lastQueryData=null,W.removeEvent("TempDataRangeChange",null,this._parent.id),this.ReRenderClear(),this.lastSourceData=null,this._MemoryIndexTable&&this._MemoryIndexTable.Dispose(),this.bigTrend&&this.bigTrend.Dispose(),this._MemoryIndexTable=null,this.bigTrend=null,this._elem=null},t.prototype.ReRenderClear=function(){this.chartList&&this.chartList.length>0&&this.chartList.map(function(t){t.Dispose(),t=null}),this.chartList=null,this.bigTrend&&this.bigTrend.Clear(),this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null,this.layout&&this.layout.Dispose(),L(this._elem).unbind(),L(this._elem).html("")},t.prototype.Resize=function(){this.bigTrend.Resize(),this.chartList&&this.chartList.map(function(t){t.Resize()})},t.prototype.CreateLayout=function(t){var e=this;if(!t||0!=t.length){L(this._elem).html("<div style='height:100%;'></div>");var n=[],i=[],a=[],r=L(this._elem).height();r<120*t.length-5&&(r=120*t.length-5),t.length>6&&L(this._elem).children("div").css({height:r});for(var o=0,s=t.length;o<s;o++)n.push({id:"MultiparametricAnalysisChartTrend"+t[o].assetId+t[o].indexCode+t[o].indexType}),i.push("MultiparametricAnalysisChartTrend"+t[o].assetId+t[o].indexCode+t[o].indexType),a.push(120);var l=new ga;l.items=n,l.splitConfig=[{ids:i,callBack:function(){e.Resize()},isVertical:!0}],this.layout&&this.layout.Dispose(),this.layout=new va(l,"");var c=L(this._elem).children("div")[0];this.layout.render(c)}},t.prototype.LoadWaveForm=function(t,e){var n=this.lastSourceData.data,i=this.lastSourceData.path,a=[];this.chartList&&this.chartList.map(function(e,r){try{if(e.verifyData()){var o=e.getMostIndexX(t)[0],s=e.data[0][o];if(s[3]){var l=new xo;l.AssetId=i[r].assetId,l.Path=i[r].path,l.MeasDate=Object(f.r)(s[0]),l.MeasValue=s[1],l.DataKey=s[3],l.otherData={Unit:n[r].data.Unit||""},l.yUnit=n[r].data.Unit||"",a.push(l)}}}catch(t){}}),a&&a.length>0?(Do.Clear(!1),Do.AddDatas(a.reverse())):Do.Clear()},t.prototype.CreateIndexChart=function(t,e,n,i,a,r){var o=this,s=this,l="MultiparametricAnalysisChartTrend"+e.assetId+e.indexCode+e.indexType,c=new qt(l,Yt.Last,{onMainCursorMoved:function(t,e,n,i){if("first"!=i){s.LoadWaveForm(n[0],n);var a=n[0];s.LastSelectX=a,s.chartList&&s.chartList.map(function(t){if(t.verifyData()){var e=t.getMostIndexX(a);t.selectedXIndex=e[0],t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}})}},onSetExtremes:function(t,e){s.LastSetExtremes={min:t,max:e},s.chartList&&s.chartList.map(function(n){try{n.hchartInstance&&n.hchartInstance.xAxis&&n.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}})},onRenderEnd:function(){if(s.LastSelectX){var t=c.getMostIndexX(s.LastSelectX);t&&(c.selectedXIndex=t[0],c.MoveMainCursor(!0,!0,!0,!1,!0,"first"))}s.LastSetExtremes&&c.hchartInstance.xAxis[0].setExtremes(s.LastSetExtremes.min,s.LastSetExtremes.max,!0,!1,"NotDispatch"),s.ShowAlarmLine&&c.HideOrShowAlarmLineByType(!0,c.getAlarmLimits()||[],o.AlarmLineType)},onMaxBtnClick:function(t){},onBaseMeunBtnClick:function(t,e,n){switch(t){case"enableDynamicCursor":s.chartList&&s.chartList.map(function(t){e!=t.GetChartId()&&(n?t.openDynamicCursorEnable():t.closeDynamicCursorEnable(),L("#enableDynamicCursor"+t.GetChartId()+" .menu-item-name").html(t.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open")))}),s.LastDynamicCursor=n;break;case"toolbar":s.chartList&&s.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateToolBoxVisible(i),L("#toolbar"+t.GetChartId()+" .menu-item-name").html(t.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),t.Resize()}}),s.LastToolbar=!n;break;case"helpInfo":s.chartList&&s.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateHelperInfoVisible(i),L("#helpInfo"+t.GetChartId()+" .menu-item-name").html(t.layout.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide")),t.Resize()}}),s.LastHelperInfo=!n}}});this.chartList.push(c),c.ChartKeys=["x","y","marker","wavekey"],c.chartConfig.xIsTime=!0,c.menuInstance.RemoveMenuItem("LockChart"),c.layout._InitHelperInfo({path:e.path,CurosrValue:""}),c.chartConfig.isAllowMaxBtn=!0,c.menuInstance.AddMenuItem("ConditionFilterHelper"+c.GetChartId(),M.$t("ConditionFilter.title"),function(){s._parent.ConditionFilterHelper.SetFilterFunc(s.FilterCondition.bind(s)),s._parent.ConditionFilterHelper.SetReset(s.ResetFilterCondition.bind(s)),s._parent.ConditionFilterHelper.Open()}),c.menuInstance.AddMenuItem("AddCheckedData"+c.GetChartId(),M.$t("menu.saveSelectedData"),function(){s._MemoryIndexTable.AddData({MeasDate:Object(f.r)(c.data[0][c.selectedXIndex][0]),Description:"",currPage:n,AllData:i})}),c.menuInstance.AddMenuItem("showChecked"+c.GetChartId(),M.$t("menu.displaySelectedTrend"),function(){s.onDisplayCheckedTrendChart&&s.onDisplayCheckedTrendChart(s.CheckedList,!0)}),c.menuInstance.AddMenuItem("UnShowChecked"+c.GetChartId(),M.$t("menu.displayUnelectedTrend"),function(){s.onDisplayCheckedTrendChart&&s.onDisplayCheckedTrendChart(s.CheckedList,!1)}),c.menuInstance.AddMenuItem("maxgraphcount"+c.GetChartId(),M.$t("menu.maxgraphcount"),function(){var t=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||5,e="<div class='Cursorsetting"+c.GetChartId()+"'><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" max="10" step="1" id="Cursorsetting_graph'+c.GetChartId()+'" name="maxgraphcount" class="layui-layer-input" value=\''+t+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:e,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(t,e){if(!(t<=0)){var n=L("#Cursorsetting_graph"+c.GetChartId()).val()||6;parseInt(n)>300?U.msg(M.$t("meun.config.maxgraph.count.error",{count:30})):parseInt(n)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(Object(f.E)("MultiparametricAnalysisChart_maxgraphcount",n),s.onPageSizeChange&&s.onPageSizeChange(),U.close(e))}}),L("#Cursorsetting_graph"+c.GetChartId()).val(t)});var u="AddAlarmLine";c.menuInstance.AddMenuItems([{id:u,name:c.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")},{id:"AlarmLineDynamic",name:"算法",parent:u,callback:function(){s.chartList.map(function(t){t.HideOrShowAlarmLineByType(!0,t.getAlarmLimits(),"Dynamic"),s.ShowAlarmLine=!0,s.AlarmLineType="Dynamic"})}},{id:"AlarmLineFixed",name:"人工",parent:u,callback:function(){s.chartList.map(function(t){t.HideOrShowAlarmLineByType(!0,t.getAlarmLimits(),"Fixed"),s.ShowAlarmLine=!0,s.AlarmLineType="Fixed"})}},{id:"RemoveAlarmLine",name:"删除报警线",parent:u,callback:function(){s.chartList.map(function(t){t.HideOrShowAlarmLineByType(!1,t.getAlarmLimits()),s.ShowAlarmLine=!1,s.AlarmLineType=void 0})}}]),c.OpenMeunCallBack=function(){L("#AddAlarmLine"+c.GetChartId()).find("span").html(c.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"))},c.Init(),c.layout.UpdateToolBoxVisible(!(null==s.LastToolbar||s.LastToolbar)),c.layout.UpdateHelperInfoVisible(!(null==s.LastHelperInfo||s.LastHelperInfo)),c.dynamicCursorEnable=null==s.LastDynamicCursor||s.LastDynamicCursor;var h=!1;s.CheckedList&&(h=s.CheckedList.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType}).length>0),L("#"+l).find(".rzgraph_helperinfo>ul>li:last").after('<li style=\'float:right;padding-right:20px;width:48px;\' data-key="chart-check"><input type="checkbox" name="ckitem" '+(h?"checked=''":"")+' lay-filter="Check'+c.GetChartId()+'" lay-skin="primary" style="display:none;" title="" value=\'All\'/></li>'),c.updateHelperInfo();var d=O.form;d.render("checkbox","Check"+c.GetChartId(),"#"+l),d.on("checkbox(Check"+c.GetChartId()+")",function(t){return s.CheckedList||(s.CheckedList=[]),t.othis.hasClass("layui-form-checked")?s.CheckedList.push(e):s.CheckedList=s.CheckedList.filter(function(t){return t.assetId!=e.assetId&&t.indexCode!==e.indexCode&&t.indexType!==e.indexType&&t.path!==e.path}),!0}),c.chartName=e.assetId+e.indexType+e.indexCode,Mo({},t).indexData=e,this.renderChart(c,t,e,a,r)},t.prototype.render=function(t,e,n,i,a){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,A;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(m){switch(m.label){case 0:return this.ReRenderClear(),this.lastQueryData={objs:t,stime:e,etime:n,AllData:a,currPage:i},this.chartList=[],this.orgChartData=[],r=[],this.lastSourceData=null,L(this._elem).unbind(),L(this._elem).html(""),Do.Clear(),this.CreateLayout(t),t&&t.map(function(t){t.indexType!=Fo.TimeIndex&&t.indexType!=Fo.SamplingIndex||r.push(Si.FetchIndex(t.assetId,e,n,t.indexCode))}),[4,Si.BatchFetch(r)];case 1:for(o=m.sent(),s=[],l=0,p=0;p<t.length;p++)(c=t[p]).indexType==Fo.TimeIndex||c.indexType==Fo.SamplingIndex?(s[p]=o[l],l++):s[p]={};if(this.lastSourceData={data:s,path:t},s&&s.length>0){for(u=Number.MAX_SAFE_INTEGER,h=0,p=0;p<s.length;p++)s[p]&&s[p].data&&s[p].data.Datas&&(d=this.getMaxAndMinData(s[p].data.Datas,u,h),u=d.minTime,h=d.maxTime);for(u===Number.MAX_SAFE_INTEGER&&(u=e),0===h&&(h=n),p=0;p<s.length;p++)t[p].indexType!=Fo.EigenvalueIndex&&t[p].indexType!=Fo.TimeIndex&&t[p].indexType!=Fo.ProPoint&&t[p].indexType!=Fo.SamplingIndex||this.CreateIndexChart(s[p].data||[],t[p],i,a,u,h),this.orgChartData.push(s[p].data?Mo(Mo({},s[p].data),{indexData:t[p]}):{indexData:t[p]});this._parent.ConditionFilterHelper.GetCheckedData();try{this.LoadWaveForm(this.LastSelectX?this.LastSelectX:Object(f.e)(o[0].data.Datas[0].MeasDate),this.LastSelectX?o[0].data.Datas[this.LastSelectX]:o[0].data.Datas[0])}catch(t){}}return(A=t.filter(function(t){return t.indexType===Fo.EigenvalueIndex||t.indexType===Fo.ProPoint})).length>0?(this._parent.SwitchTopDivShow(!0),this.bigTrend.LoadData(A,e,n)):this._parent.SwitchTopDivShow(!1),[2]}})})},Eo([Object(f.a)()],t.prototype,"Dispose",null),Eo([Object(f.a)()],t.prototype,"ReRenderClear",null),Eo([Object(f.a)()],t.prototype,"LoadWaveForm",null),t}(),Uo=function(){return(Uo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Po=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t};function Ro(t,e,n,i,a,r,o,s,l,c,u){var h=a[t[l]];if(h){(h=h.sort(function(t,e){return t[r]-e[r]})).map(function(t){t.pdata=u[t.pid],t.data=t}),t[o]=h;for(var d=0;d<h.length;d++)h[d].id!==t[l]&&Ro(h[d],e,n,i,a,r,o,s,l,c++,u)}}function Ho(t){return void 0===t&&(t=""),"mk"+Object(f.o)(t).replace("(","").replace(")","").replace(".","")}var Qo=function(){function t(t,e,n){var i=this;void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),this.CreateContextMeun=function(t,e){var n=i;if(R.unbind(L(i._elem)[0]),t&&Object.keys(t).length>0){var a=[];a.push({id:"expends",name:M.$t("menu.right.showAll"),callback:function(){n.expandAll(!0)}}),a.push({id:"expendsFalse",name:M.$t("menu.right.overAll"),callback:function(){n.expandAll(!1)}});Object(f.y)();var r=function(t){var n=Ho(t);a.push({id:n,name:t,callback:function(){e&&e(t,n)}})};for(var o in t)r(o);R.bind(L(i._elem)[0],a,!1,function(){var e={},i=n.getCheckedData();if(i&&i.map(function(t){e[t.name]?e[t.name]++:e[t.name]=1}),t&&Object.keys(t).length>0)for(var a in t){var r=Ho(a);e[a]&&e[a]===t[a].length?(L("#"+r).css("color","red"),L("#"+r).attr("data-checked","1")):(L("#"+r).css("color",""),L("#"+r).attr("data-checked","0"))}})}},this.lastCheckedData=null,this.lastDeviceId=null,this.setCheckedItemsById=function(t,e){void 0===e&&(e=!0);for(var n=i,a=n._atree.nodes,r=[],o=null,s=function(e){for(var n=t[e],i=function(t){if(o=a[t],n===o.id)return r.push(o),"break";if(o.children){var e=!1;if(o.children.map(function(t){n===t.id&&(e=!0,r.push(t))}),e)return"break"}},s=0;s<a.length;s++){if("break"===i(s))break}},l=0;l<t.length;l++)s(l);n._atree.checkItems(r,e)},this.getLastChecked=function(t){var e=i,n=i.lastCheckedData||[],a=[];n&&t&&t.map(function(t){for(var e=t.signaltype&&0!==t.signaltype&&t.pdata?t.name+t.pdata.name:t.name,i=0;i<n.length;i++){var r=n[i],o=r.signaltype&&0!==r.signaltype&&r.pdata?r.name+r.pdata.name:r.name;if(e&&o&&e===o){a.push(t);break}}}),a&&a.length>0&&e._atree.checkItems(a,!0),e.lastCheckedData=e._atree.getCheckData()},this.setCheckedItems=function(t,e){for(var n=i,a=n._atree.nodes,r=[],o=null,s=function(t,e,n){if(null!==t&&t.children)for(var i=0;i<t.children.length;i++)s(t.children[i],e,n);else n===t.name&&e.push(t)},l=0;l<a.length;l++)o=a[l],s(o,r,t);n._atree.checkItems(r,e)},this._onChange=t,this._onClick=e,this._onLoadData=n}return t.prototype.Dispose=function(){this.Clear(!0),R.unbind(L(this._elem)[0]),this._onChange=null,this.lastCheckedData=null,this._onClick=null,this._atree=null,L(this._elem).html(""),this._elem=null,this._AllTreeData=null},t.prototype.Clear=function(t){void 0===t&&(t=!1),this.lastDeviceId=null,t&&(this.lastCheckedData=null),L(this._elem).html("")},t.prototype.LoadData=function(t,e){return void 0===e&&(e=1),function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var n,i,a,r,o,s,l,c,u;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(h){switch(h.label){case 0:return t==this.lastDeviceId?[2]:(this.Clear(),n=this,this.lastDeviceId=t,[4,Si.FetchNewDynamicPoints(t,e)]);case 1:if((i=h.sent()).data){for(n._AllTreeData=i.data,a={},r=function(t,e,n,i,a){void 0===e&&(e="id"),void 0===n&&(n="pid"),void 0===i&&(i="children"),void 0===a&&(a="seq");for(var r=Po([],t),o=[],s={},l=[],c={},u=0,h=r.length;u<h;u++)c[r[u].id]=r[u],r[u][n]!==r[u][e]&&(s[r[u][n]]?s[r[u][n]].push(Uo(Uo({},r[u]),{title:' <div><div style="padding-left:0;height:16px;width:16px;float:left;margin-top:5px;" class=\'DeviceTree DeviceTree_'+r[u].type+"_0'></div><span style='padding-left:3px;height:16px;'>"+r[u].name+"</span></div>"})):s[r[u][n]]=[Uo(Uo({},r[u]),{title:' <div><div style="padding-left:0;height:16px;width:16px;float:left;margin-top:5px;" class=\'DeviceTree DeviceTree_'+r[u].type+"_0'></div><span style='padding-left:3px;height:16px;'>"+r[u].name+"</span></div>",level:1})]);u=0;for(var d=r.length;u<d;u++)c[r[u].pid]||l.push(Uo(Uo({},r[u]),{title:' <div><div style="padding-left:0;height:16px;width:16px;float:left;margin-top:5px;" class=\'DeviceTree DeviceTree_'+r[u].type+"_0'></div><span style='padding-left:3px;height:16px;'>"+r[u].name+"</span></div>",level:1,pdata:null,data:r[u]}));for(var p=0,f=(l=l.sort(function(t,e){return t[a]-e[a]})).length;p<f;p++)Ro(l[p],"","","",s,a,i,n,e,0,c),o.push(l[p]);return o}(i.data),o=0;o<i.data.length;o++)s=i.data[o],[10,11,12,371859488,1453088,1452832].indexOf(s.type)>=0&&(l=""+s.name,a[l]?a[l].push(s):a[l]=[s]);n.CreateContextMeun(a,function(t,e){"1"===L("#"+e).attr("data-checked")?(L("#"+e).css("color",""),L("#"+e).attr("data-checked","0"),n.setCheckedItems(t,!1)):(L("#"+e).css("color","red"),L("#"+e).attr("data-checked","1"),n.setCheckedItems(t,!0))}),c=O.atree,u=c({props:{name:"title",id:"id",children:"children",checkbox:"checkbox",spread:"spread"},initLevel:-1,elem:L(this._elem),check:"checkbox",nodes:r,onCustomBtnClick:function(t,e,i){switch(e){case"linkname":n.setCheckedItems(t.name,!i)}},change:function(t){n.lastCheckedData=t,n._onChange&&n._onChange(t)},click:function(t,e){O.$(e).parents(".layui-atree").find(".layui-atree-node").removeClass("layui-atree-item-checked"),O.$(e).parents(".layui-atree-node").eq(0).addClass("layui-atree-item-checked"),n._onClick&&n._onClick(t,e)}}),this._atree=u,this.getLastChecked(r),this._onLoadData&&this._onLoadData(r)}return[2]}})})},t.prototype.checkAll=function(){this._atree&&this._atree.checkAll(!0)},t.prototype.expandAll=function(t){this._atree&&this._atree.expandAll(t)},t.prototype.getCheckedData=function(){return this._atree?this.lastCheckedData:null},t.prototype.getAllTreeData=function(){return this._atree?this._AllTreeData:null},t.prototype.checkbox=function(t){this._atree&&this._atree.checkItems(t)},t.prototype.unCheckAll=function(){this._atree&&this._atree.checkAll(!1)},t.prototype.render=function(t){this._elem=t},t}(),_o=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},No=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},jo=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Yo=(O.table,function(){function t(){var t=this;this.LastCheckedData=[],this.isFirst=!0,this.renderData=function(e){return _o(t,void 0,void 0,function(){var t,n,i,a,r;return No(this,function(o){switch(o.label){case 0:return t=this,e&&e.length>0?[4,Si.BatchFetchIndexCfgs(e,2)]:[3,2];case 1:if((n=o.sent())&&n.length>0)return i=[],a=[],r=[],n.map(function(e){e.data&&e.data.map(function(e,n){var o=!1;e.Group&&0===a.filter(function(t){return t.IndexName===e.Group}).length&&a.push({pid:0,id:e.Group,IndexCode:"",IndexName:e.Group}),t.LastCheckedData&&t.LastCheckedData.length&&(o=t.LastCheckedData.filter(function(t){return t.IndexCode===e.IndexCode}).length>0),o&&r.push(e.IndexCode),i.push({id:e.IndexCode,IndexName:e.IndexName,IndexCode:e.IndexCode,points:e.points,LAY_CHECKED:o,pid:e.Group?e.Group:0,Group:e.Group})})}),i=jo(jo([],a),i),this.data=i,this._dt&&this._dt.Update({data:i}),this._dt.setChecked(r),this.isFirst&&(a&&a.length>0&&this._dt.setOpen([a[0].id]),this.isFirst=!1),0!==i.length&&(this.LastCheckedData=this.GetCheckedData()),[2];o.label=2;case 2:return this.Clear(!1),[2]}})})},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]}),e&&(t.LastCheckedData=null)},this.SetIndexSelected=function(e){var n;if(t.data&&t.data.length>0){var i=[],a={};jo([],t.data).map(function(t){e.filter(function(e){return e.toString()===t.IndexCode.toString()}).length>0&&(i.push(t.IndexCode),t.Group&&(a[t.Group]=1))}),t._dt&&t._dt.setChecked(e),null===(n=t._dt)||void 0===n||n.setOpen(Object.keys(a))}},this.GetCheckedData=function(){if(!t._dt)return null;var e=t._dt.GetCheckedData()||[];return(e=e.filter(function(t){return t.IndexCode})).length?Object(f.g)(e,"IndexCode"):e},this.GetIndexData=function(){return t.data},this.AddOnChecked=function(e){var n=t;t._dt&&t._dt&&t._dt.OnCheck(function(t){var i=n.GetCheckedData();n.LastCheckedData=i,e&&e(i)})},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.Resize=function(){this._dt&&this._dt.Resize()},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new Ea;r.Create(n,[{key:"IndexName",title:M.$t("datatable.title.indexname"),minWidth:150}],{icon_key:"IndexName",primary_key:"id"}),this._dt=r,this.AddOnChecked(function(){})},t.prototype.onGotoIndex=function(t){void 0===t&&(t=[]),this._dt.onGotoIndex(this._elem,t)},t}()),zo=function(t,e,n,i,a){void 0===t&&(t=[]),void 0===e&&(e="id"),void 0===n&&(n="parentId"),void 0===i&&(i="children"),void 0===a&&(a="seq");for(var r=t.concat([]),o=[],s={},l=[],c=0,u=r.length;c<u;c++)void 0!==r[c][n]&&null!==r[c][n]&&r[c][e]!==r[c][n]&&0!==r[c].depth||l.push(r[c]),s[r[c][n]]?s[r[c][n]].push(r[c]):s[r[c][n]]=[r[c]];for(var h=0,d=(l=l.sort(function(t,e){return t[a]-e[a]})).length;h<d;h++)Go(l[h],"","","",s,a,i,n,e),o.push(l[h]);return o};function Go(t,e,n,i,a,r,o,s,l){var c=a[t[l]];if(c){c=c.sort(function(t,e){return t[r]-e[r]}),t[o]=c;for(var u=0;u<c.length;u++)Go(c[u],e,n,i,a,r,o,s,l)}else t.isLast=!0}var Vo=function(){function t(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.lastCheckedData=null,this.lastDeviceId=null,this.setCheckedItemsById=function(t,e){void 0===e&&(e=!0);for(var i=n,a=i._atree.nodes,r=[],o=null,s=function(e){for(var n=t[e],i=function(t){if(o=a[t],n===o.id)return r.push(o),"break";if(o.children){var e=!1;if(o.children.map(function(t){n===t.id&&(e=!0,r.push(t))}),e)return"break"}},s=0;s<a.length;s++){if("break"===i(s))break}},l=0;l<t.length;l++)s(l);i._atree.checkItems(r,e)},this._onChange=t,this._onClick=e}return t.prototype.Dispose=function(){this.Clear(),this._onChange=null,this._atree=null,this.lastCheckedData=null,this._onClick=null,this._elem=null},t.prototype.Clear=function(){this.lastDeviceId=null,this.lastCheckedData=null,L(this._elem).html("")},t.prototype.LoadData=function(t){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var e,n,i,a,r,o,s;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(l){switch(l.label){case 0:return t==this.lastDeviceId?[2]:(this.Clear(),this.lastDeviceId=t,e=this,this._atree=null,[4,Si.FetchProcessPointGroups(t)]);case 1:return n=l.sent(),i=[],a=function(t,e,n){var r;i.push({title:t.NodeName,id:t.ID,data:t,customBtn:[],iconClass:"",name:t.NodeName,parentId:e,children:null,level:n}),(null===(r=t.ChildNode)||void 0===r?void 0:r.length)&&t.ChildNode.forEach(function(e){a(e,t.ID,n+1)})},n.data&&({},n.data.map(function(t){var e={};e.title=""+t.GroupName,e.level=0,e.parentId=null,e.id=t.GroupName,e.name=t.GroupName,e.iconClass="",e.data=t,e.children=[],e.customBtn=[],t.Points&&t.Points.forEach(function(e){a(e,t.GroupName,1)}),i.push(e)}),r=function(t,n){for(var i=e._atree.nodes,a=[],r=null,o=0;o<i.length;o++)r=i[o],t===r.name&&a.push(r),r.children&&r.children.map(function(e){t===e.name&&a.push(e)});e._atree.checkItems(a,n)},o=O.atree,s=o({props:{name:"title",id:"id",children:"children",checkbox:"checkbox",spread:"spread"},initLevel:1,elem:L(this._elem),check:"checkbox",nodes:zo(i),onCustomBtnClick:function(t,e,n){switch(e){case"linkname":r(t.name,!n)}},change:function(t){e.lastCheckedData=t,e._onChange&&e._onChange(t)},click:function(t,n){O.$(n).parents(".layui-atree").find(".layui-atree-node").removeClass("layui-atree-item-checked"),O.$(n).parents(".layui-atree-node").eq(0).addClass("layui-atree-item-checked");e._onClick&&e._onClick(t,n)}}),this._atree=s),[2]}})})},t.prototype.checkAll=function(){this._atree&&this._atree.checkAll(!0)},t.prototype.getCheckedData=function(){return this._atree?this._atree.getCheckData():null},t.prototype.unCheckAll=function(){this._atree&&this._atree.checkAll(!1)},t.prototype.render=function(t){this._elem=t},t}(),Ko=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Wo=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Xo=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},qo=function(){function t(){var t=this;this.LastCheckedData=[],this.isFirst=!0,this.renderData=function(e){return Ko(t,void 0,void 0,function(){var t,n,i,a,r;return Wo(this,function(o){switch(o.label){case 0:return t=this,e&&e.length>0?[4,Si.BatchFetchIndexCfgs(e,1)]:[3,2];case 1:if((n=o.sent())&&n.length>0)return i=[],a=[],r=[],n.map(function(e){e.data&&e.data.map(function(e,n){var o=!1;e.Group&&0===a.filter(function(t){return t.IndexName===e.Group}).length&&a.push({pid:0,id:e.Group,IndexCode:"",IndexName:e.Group}),t.LastCheckedData&&t.LastCheckedData.length&&(o=t.LastCheckedData.filter(function(t){return t.IndexCode===e.IndexCode}).length>0),o&&r.push(e.IndexCode),i.push({id:e.IndexCode,IndexName:e.IndexName,IndexCode:e.IndexCode,points:e.points,LAY_CHECKED:o,pid:e.Group?e.Group:0,Group:e.Group})})}),i=Xo(Xo([],a),i),this.data=i,this._dt&&this._dt.Update({data:i}),this._dt.setChecked(r),this.isFirst&&(this._dt.openAll(),this.isFirst=!1),0!==i.length&&(this.LastCheckedData=this.GetCheckedData()),[2];o.label=2;case 2:return this.Clear(!1),[2]}})})},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]}),e&&(t.LastCheckedData=null)},this.GetCheckedData=function(){if(!t._dt)return null;var e=t._dt.GetCheckedData()||[];return(e=e.filter(function(t){return t.IndexCode})).length?Object(f.g)(e,"IndexCode"):e},this.SetIndexSelected=function(e){var n,i;if(t.data&&t.data.length>0){var a=[],r={};Xo([],t.data).map(function(t){e.filter(function(e){return e.toString()===t.IndexCode.toString()}).length>0&&(a.push(t.IndexCode),t.Group&&(r[t.Group]=1))}),null===(n=t._dt)||void 0===n||n.setChecked(a),null===(i=t._dt)||void 0===i||i.setOpen(Object.keys(r))}},this.GetIndexData=function(){return t.data},this.AddOnChecked=function(e){var n=t;t._dt&&t._dt&&t._dt.OnCheck(function(t){var i=n.GetCheckedData();n.LastCheckedData=i,e&&e(i)})},this.Resize=function(){t._dt&&t._dt.Resize()},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new Ea;r.Create(n,[{minWidth:150,key:"IndexName",title:M.$t("datatable.title.indexname")}],{icon_key:"IndexName",primary_key:"id"}),this._dt=r,this.AddOnChecked(function(){})},t.prototype.onGotoIndex=function(t){void 0===t&&(t=[]),this._dt.onGotoIndex(this._elem,t)},t}(),Jo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zo=function(t){function e(e,n,i){void 0===n&&(n=Yt.First),void 0===i&&(i=null);var a=t.call(this,e,n,i)||this;return a.AddOrDecYOnStep=function(t){void 0===t&&(t=!0);var e=t?1:-1,n=a.selectedYIndex,i=a.data[a.selectedYIndex][a.selectedXIndex][0];n+=e;for(var r=a.selectedYIndex;n>=0&&n<=a.data.length-1;){if(a.data[n][a.data[n].length-1][0]>i){r=n;break}n+=e}return[r,rt.GetMostNearIndex(i,a.data[r],0)]},a}return Jo(e,t),e.prototype.onHotKeyDown=function(t){if(this.verifyData(this.data))try{switch(t){case 37:this.selectedXIndex>0&&(this.selectedXIndex=this.selectedXIndex-1,this.MoveMainCursor(!0,!0,!0,!0));break;case 39:this.selectedXIndex<this.data[this.selectedYIndex].length-1&&(this.selectedXIndex=this.selectedXIndex+1,this.MoveMainCursor(!0,!0,!0,!0));break;case 38:if(this.selectedYIndex<this.data.length-1){var e=this.AddOrDecYOnStep(!0);this.selectedXIndex=e[1],this.selectedYIndex=e[0],this.MoveMainCursor(!0,!0,!0,!0)}break;case 40:if(this.selectedYIndex>0){e=this.AddOrDecYOnStep(!1);this.selectedXIndex=e[1],this.selectedYIndex=e[0],this.MoveMainCursor(!0,!0,!0,!0)}}}catch(t){}},e}(qt),$o=function(){return function(t,e){var n=this;if(this.getData=function(){return n.transData?n.transData(n.ResData):n.ResData},this.FormSubmitDo=function(t){},this.FormBackDo=function(t){},this.Init=function(){window.rzDataCache.Clear();var t=n.getHtml();L(n.element).append(t);var e=n;O.use("form",function(){var t=O.form;t.render(),t.on("select(AddSpeedTotal"+e.id+")",function(n){var i=n.value;e.state.addspeed.total=i,t.render()}),t.on("select(AddSpeed"+e.id+")",function(n){var i=n.value;e.state.addspeed.spec=i,t.render()}),t.on("select(SpeedTotal"+e.id+")",function(n){var i=n.value;e.state.speed.total=i,t.render()}),t.on("select(Speed"+e.id+")",function(n){var i=n.value;e.state.speed.spec=i,t.render()}),t.on("select(AxisTotal"+e.id+")",function(n){var i=n.value;e.state.xaxis.total=i,t.render()}),t.on("select(Axis"+e.id+")",function(n){var i=n.value;e.state.xaxis.spec=i,t.render()}),t.on("select(voltage"+e.id+")",function(n){var i=n.value;e.state.voltage.spec=i,t.render()}),t.on("select(current"+e.id+")",function(n){var i=n.value;e.state.current.spec=i,t.render()}),t.on("submit(sure"+e.id+")",function(t){var n=Object(f.v)("TotalSpecConfig");n=e.CheckState(n),Object(f.E)("TotalSpecConfig",n),W.fireEvent("onTotalSpecConfigChange",n),e.FormSubmit(n),L(e.element).parent().parent().find(".layui-layer-setwin a").click()}),t.on("submit(cancel"+e.id+")",function(n){var i=Object(f.v)("TotalSpecConfig");e.state=i,t.render(),e.FormBack(e.getState()),L(e.element).parent().parent().find(".layui-layer-setwin a").click()})}),O.form.render(),n.InitCheck()},this.InitCheck=function(){var t=Object(f.v)("TotalSpecConfig");null!=t&&null!=t&&t!={}&&(n.state=t);var e="dd[lay-value="+n.state.addspeed.total+"]";L("#AddSpeedTotal"+n.id).siblings("div.layui-form-select").find("dl").find(e).click();var i="dd[lay-value="+n.state.addspeed.spec+"]";L("#AddSpeed"+n.id).siblings("div.layui-form-select").find("dl").find(i).click();var a="dd[lay-value="+n.state.speed.total+"]";L("#SpeedTotal"+n.id).siblings("div.layui-form-select").find("dl").find(a).click();var r="dd[lay-value="+n.state.speed.spec+"]";L("#Speed"+n.id).siblings("div.layui-form-select").find("dl").find(r).click();var o="dd[lay-value="+n.state.voltage.spec+"]";L("#voltage"+n.id).siblings("div.layui-form-select").find("dl").find(o).click();var s="dd[lay-value="+n.state.current.spec+"]";L("#current"+n.id).siblings("div.layui-form-select").find("dl").find(s).click();var l="dd[lay-value="+n.state.xaxis.total+"]";L("#AxisTotal"+n.id).siblings("div.layui-form-select").find("dl").find(l).click();var c="dd[lay-value="+n.state.xaxis.spec+"]";L("#Axis"+n.id).siblings("div.layui-form-select").find("dl").find(c).click()},this.state={addspeed:{total:1,spec:1,index:0},speed:{total:1,spec:1,index:1},xaxis:{total:1,spec:1,index:2},voltage:{total:1,spec:3,index:3},current:{total:1,spec:3,index:4},flage:{addspeed:{total:!1,spec:!1},speed:{total:!1,spec:!1},xaxis:{total:!1,spec:!1},voltage:{total:!1,spec:!1},current:{total:!1,spec:!1}}},this.CheckState=function(t){var e=n.state,i=["addspeed","speed","xaxis","voltage","current"],a=["total","spec"];if(null==t||null==t||t=={}||null==e.flage||null==e.flage){for(var r in e.flage={addspeed:{total:!1,spec:!1},speed:{total:!1,spec:!1},xaxis:{total:!1,spec:!1},voltage:{total:!1,spec:!1},current:{total:!1,spec:!1}},i)for(var o in a)e.flage[i[r]][a[o]]=!0;return e}for(var s in i)for(var l in a)e[i[s]][a[l]]!=t[i[s]][a[l]]?e.flage[i[s]][a[l]]=!0:e.flage[i[s]][a[l]]=!1;return e},this.getState=function(){return n.state},this.getHtml=function(){var t='style="height: 25px; padding-top:4px; width:'+(f.B?"80px":"60px")+'"',e='style="width: '+(f.B?"55% !important;":"50% !important;")+'"';return'<div class="layui-form" action=\'\' onclick="return false" style="text-align:center;">\n        <fieldset class="layui-elem-field" style="padding:10px;">\n                <div class="layui-form-item" >\n                    <div class="layui-inline">\n                        <label class="layui-form-label" '+t+">"+M.$t("config.SignalType.0")+':</label> \n                        <div class="layui-input-block" '+e+'> \n                            \x3c!--<div style="float:left;width:50%">\n                            <select name="AddSpeedTotal" id="AddSpeedTotal'+n.id+'"  lay-filter="AddSpeedTotal'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1" >'+M.$t("TotalSpecType.total.1")+'</option>\n                                <option value="2">'+M.$t("menu.timedomaincriteria.peakpeakvalue")+'</option>\n                                <option value="3">'+M.$t("menu.timedomaincriteria.peakvalue")+'</option>\n                            </select>\n                            </div>\n                            --\x3e\n                            <div style="float:right">\n                             <select name="AddSpeed" id="AddSpeed'+n.id+'"  lay-filter="AddSpeed'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1">'+M.$t("TotalSpecType.spec.1")+'</option>\n                                <option value="2">'+M.$t("TotalSpecType.spec.2")+'</option>\n                                \n                            </select>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="layui-form-item" >\n                    <div class="layui-inline">\n                        <label class="layui-form-label" '+t+" >"+M.$t("config.SignalType.1")+':</label> \n                        <div class="layui-input-block" '+e+'> \n                        \x3c!-- <div style="float:left;width:50%">\n                            \n                            <select name="SpeedTotal" id="SpeedTotal'+n.id+'"  lay-filter="SpeedTotal'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1">'+M.$t("TotalSpecType.total.1")+'</option>\n                                <option value="2">'+M.$t("menu.timedomaincriteria.peakpeakvalue")+'</option>\n                                <option value="3">'+M.$t("menu.timedomaincriteria.peakvalue")+'</option>\n                            </select>\n                             </div>\n                        --\x3e\n                            <div style="float:right;">\n                            <select name="Speed" id="Speed'+n.id+'"  lay-filter="Speed'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1">'+M.$t("TotalSpecType.spec.1")+'</option>\n                                <option value="2">'+M.$t("TotalSpecType.spec.2")+'</option>\n                            </select>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n                 \n                 <div class="layui-form-item" >\n                    <div class="layui-inline">\n                        <label class="layui-form-label" '+t+">"+M.$t("config.SignalType.2")+':</label> \n                        <div class="layui-input-block" '+e+'> \n                        \x3c!--  <div style="float:left;width:50%">\n                            <select name="AxisTotal" id="AxisTotal'+n.id+'"  lay-filter="AxisTotal'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1">'+M.$t("TotalSpecType.total.1")+'</option>\n                                <option value="2">'+M.$t("menu.timedomaincriteria.peakpeakvalue")+'</option>\n                                <option value="3">'+M.$t("menu.timedomaincriteria.peakvalue")+'</option>\n                            </select>\n                             </div>\n                        --\x3e\n                             <div style="float:right;">\n                            <select name="Axis" id="Axis'+n.id+'"  lay-filter="Axis'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1">'+M.$t("TotalSpecType.spec.1")+'</option>\n                                <option value="2">'+M.$t("TotalSpecType.spec.2")+'</option>\n                            </select>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="layui-form-item" >\n                    <div class="layui-inline">\n                        <label class="layui-form-label" '+t+">"+M.$t("config.SignalType.3")+':</label> \n                        <div class="layui-input-block" '+e+'> \n                             <div style="float:right;">\n                            <select name="voltage" id="voltage'+n.id+'"  lay-filter="voltage'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1">'+M.$t("TotalSpecType.spec.1")+'</option>\n                                <option value="2">'+M.$t("TotalSpecType.spec.2")+'</option>\n                                <option value="3">'+M.$t("TotalSpecType.spec.3")+'</option>\n                            </select>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="layui-form-item" >\n                    <div class="layui-inline">\n                        <label class="layui-form-label" '+t+">"+M.$t("config.SignalType.4")+':</label> \n                        <div class="layui-input-block" '+e+'> \n                             <div style="float:right;">\n                            <select name="current" id="current'+n.id+'"  lay-filter="current'+n.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                                <option value="1">'+M.$t("TotalSpecType.spec.1")+'</option>\n                                <option value="2">'+M.$t("TotalSpecType.spec.2")+'</option>\n                                <option value="3">'+M.$t("TotalSpecType.spec.3")+'</option>\n                            </select>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n        </fieldset>\n        <div class="layui-form-item" style="padding-left: '+(f.B?"60%":"50%")+';margin-top: 15px;">\n       \n        <button lay-submit  class="layui-btn  layui-btn-sm layui-btn-cancel" id="cancel'+n.id+'" lay-filter="cancel'+n.id+'" style="margin:center;">'+M.$t("btn.cancel")+'</button>\n\t\t\t\t <button  lay-submit  class="layui-btn  layui-btn-sm" id="sure'+n.id+'" lay-filter="sure'+n.id+'" style="margin:center;">'+M.$t("btn.ok")+"</button>\n       \n    </div>\n        </div>"},this.FormBack=function(t){n.FormBackDo(t)},this.FormSubmit=function(t){n.FormSubmitDo(t)},this.GetSourceData=function(){},this.Reload=function(t){},this.id=e,Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}}}(),ts=function(){return(ts=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},es=function(){function t(t,e){var n=this;if(void 0===e&&(e=null),this.Resize=function(){n.chart&&n.chart.Resize()},this.onAssetTypeNotSupport=function(t){},this.onAssetChange=function(){n.Path=G.TableData.path,n.chart.layout.UpdateHelperInfo({path:n.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.RenderChart=function(){var t=n,e=[],i=Do.GetData().map(function(t){return{waveKey:t.DataKey,Unit:t.yUnit}}),a=Object(f.v)("TotalSpecConfig");i.map(function(t){var n=q.a.Units[t.Unit],i=Object(f.l)(n);a?i&&a&&3==a[i].spec?e.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0)):e.push(Si.FetchSpectrum(t.waveKey,0,0)):"voltage"===i||"current"===i?e.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0)):e.push(Si.FetchSpectrum(t.waveKey,0,0))}),n.Clear(),Si.BatchFetchSpectrumByType(e).then(function(e){for(var n=e,i=[],a=[],r=0;r<n.length;r++)i.push(n[r].data.YData),a.push(n[r].data.YUnit);i=Object(f.n)(i,a),t.charthelper.render(n.map(function(t,e){return ts(ts({},t.data),{YData:i[e]})}),Do.GetData())})},this.RenderBack=function(){n.RenderChart()},this.FilterOrigin=null,this.RenderFilter=function(t,e,i){var a=n.SelectDataKeys.map(function(t){return{WaveKey:t,start:0,dataLen:0}});Si.BatchFetchSpectrum(a).then(function(a){var r=(a||[]).map(function(t){return t.data}).concat([]),o=JSON.parse(JSON.stringify(r));if("-1"!=t){for(var s=0;s<o.length;s++)for(var l=0,c=o[s].YData.length;l<c;l++){var u=o[s].XInterval*l,h=o[s].YData[l];u<=e?"0"!=t&&"2"!=t||(h=0):u>e&&u<i?"1"!=t&&"2"!=t&&"3"!=t||(h=0):"3"!=t&&"0"!=t||(h=0),o[s].YData[l]=h}n.charthelper.render(o,Do.GetData())}else n.charthelper.render(o,Do.GetData())})},this.AddMenuItem=function(t){for(var e in t)n.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){Do.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var i=this,a=new Zo(this.element,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var a=Do.GetData(),r=a[e].Path||"",o=a[e].otherData.Unit||"";i.chart.yUtils=o,i.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,a,r){var o=Do.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";i.chart.yUtils=l,i.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=a,this.charthelper=new Da(a),a.registeredCursor([new Rr(a),new Qr(this.chart,null,null,!1,!0,!0,!0)]),a.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var r=this.getContextmenu(a);this.AddMenuItem(r),a.chartConfig.isAllowMaxBtn=!0,a.menuInstance.AddMenuItem("TotalSpecType"+this.id,M.$t("menu.totalspec.configtitle"),function(){var t="<div class='"+(f.B&&"RZGraph-TotalSpec-Config-En")+" RZGraph-TotalSpec-Config' id='TotalSpecTypeForm"+i.id+"' style=\"width:"+(f.B?"300px":"250px")+';height:300px"></div>';U.prompt({title:M.$t("menu.totalspec.configtitle"),content:t,btn:null}),new $o("TotalSpecTypeForm"+i.id,i.id).Init()}),a.Init(),W.addEvent("onTotalSpecConfigChange",function(t){i.RenderChart()})}return t.prototype.Dispose=function(){try{Do.DeleteEvent("onMultiTemporalSpec"),this.chart.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.charthelper=null,this.chart=null,this.deviceId=null,this.assetId=null,this.id=null,this.FilterOrigin=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),ns=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},is=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},as=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},rs=(O.table,function(){function t(t){var e=this;void 0===t&&(t=!0),this.data=[],this.IndexData=[],this.isFirst=!0,this.LastCheckedData=[],this.onAssetChange=function(t,n){var i;void 0===n&&(n=!0),e.Clear();var a=e,r=[];if(n){if(t==e.assetId)return;e.IndexData=[],e.assetId=t,q.a.IndexConfig.map(function(n){1==n.points.length&&"-1"==n.points[0]?e.IndexData.push(n):n.points.indexOf(t)>-1&&e.IndexData.push(n)})}else e.IndexData=q.a.IndexConfig;if((null===(i=e.IndexData)||void 0===i?void 0:i.length)>0){var o=[],s=[];e.IndexData.map(function(t,e){var n=!1;t.Group&&0===s.filter(function(e){return e.IndexName===t.Group}).length&&s.push({pid:0,id:t.Group,value:"",name:t.Group}),a&&a.LastCheckedData.length&&(n=a.LastCheckedData.filter(function(e){return e.IndexCode===t.IndexCode}).length>0),n&&r.push(t.value),o.push({id:t.value,name:t.name,value:t.value,LAY_CHECKED:n,pid:t.Group?t.Group:0,Group:t.Group})}),e.IndexData=as(as([],s),o)}var l=e.IndexData;e._dt&&e._dt.Update({data:l}),e._dt.setChecked(r),e.data=e.IndexData,e.data&&0!==e.data.length&&(e.LastCheckedData=e.GetCheckedData())},this.renderData=function(t,n,i){return ns(e,void 0,void 0,function(){var e,a,r,o,s,l,c,u=this;return is(this,function(h){switch(h.label){case 0:if(e=this,!t)return[3,7];h.label=1;case 1:return h.trys.push([1,6,,7]),a=void 0,"TowerTube"!=n?[3,3]:[4,Si.FetchTowerTubeIndexTrendName(t)];case 2:return a=h.sent(),[3,5];case 3:return[4,Si.FetchIndexTrendName(t)];case 4:a=h.sent(),h.label=5;case 5:return a&&(r=a.data,o=[],r&&r.map(function(t){var e={name:t.IndexName,value:t.IndexCode,key:"",points:t.points,Group:t.Group};o.push(e)}),q.a.IndexConfig=o,this.IndexData=[],"TowerTube"==n?i&&"0"==i?o.map(function(e){1==e.points.length&&"0"==e.points[0]?u.IndexData.push(e):e.points.indexOf(t)>-1&&u.IndexData.push(e)}):i&&"-1"==i?o.map(function(e){1==e.points.length&&"-1"==e.points[0]?u.IndexData.push(e):e.points.indexOf(t)>-1&&u.IndexData.push(e)}):o.map(function(e){1==e.points.length?u.IndexData.push(e):e.points.indexOf(t)>-1&&u.IndexData.push(e)}):o.map(function(t){u.IndexData.push(t)}),this.data=this.IndexData),[3,7];case 6:return h.sent(),[3,7];case 7:return s=[],l=[],c=[],this.data.map(function(t,n){var i=!1;t.Group&&0===l.filter(function(e){return e.IndexName===t.Group}).length&&l.push({pid:0,id:t.Group,value:"",name:t.Group}),e&&e.LastCheckedData.length&&(i=e.LastCheckedData.filter(function(e){return e.IndexCode===t.IndexCode}).length>0),i&&c.push(t.value),s.push({id:t.value,name:t.name,value:t.value,pid:t.Group?t.Group:0,Group:t.Group,points:t.points})}),s=as(as([],l),s),this.data=s,this._dt&&this._dt.Update({data:this.data}),this._dt.setChecked(c),this.isFirst&&this._dt.openAll(),this.isFirst=!1,this.data&&0!==this.data.length&&(this.LastCheckedData=this.GetCheckedData()),[2]}})})},this.Clear=function(t){void 0===t&&(t=!1),e._dt&&e._dt.Update({data:[]}),t&&(e.LastCheckedData=null)},this.GetCheckedData=function(){if(!e._dt)return null;var t=e._dt.GetCheckedData()||[];return(t=t.filter(function(t){return t.value})).length?Object(f.g)(t,"value"):t},this.setCheckAll=function(){if(!e._dt)return null;var t=[];(e.data||[]).forEach(function(e){t.push(e.value)}),e._dt.setChecked(t),e.data&&0!==e.data.length&&(e.LastCheckedData=e.GetCheckedData())},this.GetIndexData=function(){return e.data},this.AddOnChecked=function(t){var n=e;e._dt&&e._dt&&e._dt.OnCheck(function(e){var i=n.GetCheckedData();n.LastCheckedData=i,t&&t(i)})},this._id=Object(f.y)(),this.data=q.a.IndexConfig,this.data.map(function(e){e.LAY_CHECKED=t})}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.Resize=function(){this._dt&&this._dt.Resize()},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("menu.timedomaincriteria"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new Ea;r.Create(n,[{minWidth:150,key:"name",title:M.$t("datatable.title.indexname")}],{icon_key:"name",primary_key:"id"}),this._dt=r,this.AddOnChecked(function(){})},t}()),os=function(){function t(t,e){var i=this;if(this.isShow=!0,this.state=0,this.DrawerDo=function(t){},this.UpdateBtnBySpeed=function(t){var e=i;if(0==t){i.state=-1;var n=L("#btnSameCir"+e._id).attr("style"),a=L("#btnDifCir"+e._id).attr("style");L("#btnSameCir"+e._id).css("cssText",n+";background-color:gray !important"),L("#btnDifCir"+e._id).css("cssText",a+";background-color:gray !important")}else i.state=0},this.renderWithState=function(){var t=i;0==i.state?(L("#btnMenuImg"+t._id).attr("src",n(87)),L("#btnSameCirImg"+t._id).attr("src",n(88)),L("#btnDifCirImg"+t._id).attr("src",n(89))):1==i.state?(L("#btnMenuImg"+t._id).attr("src",n(290)),L("#btnSameCirImg"+t._id).attr("src",n(88)),L("#btnDifCirImg"+t._id).attr("src",n(89))):2==i.state?(L("#btnMenuImg"+t._id).attr("src",n(87)),L("#btnSameCirImg"+t._id).attr("src",n(88)),L("#btnDifCirImg"+t._id).attr("src",n(291))):(L("#btnMenuImg"+t._id).attr("src",n(87)),L("#btnSameCirImg"+t._id).attr("src",n(292)),L("#btnDifCirImg"+t._id).attr("src",n(89)))},this._id=e,Object(f.A)(t))this._element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this._element=document.getElementById(t)}}return t.prototype.Dispose=function(){L(this._element).remove(),this._element=null},t.prototype.clearBody=function(){L(this._element).find("#Menu"+this._id).html("")},t.prototype.render=function(t){void 0===t&&(t={direction:"right"});var e=this;L(e._element).css("position","relative");var i='\n \n    <li id="btnSameCir'+e._id+'" title="'+M.$t("drawn.tooltip.doublecir")+'" class=" MenuBtn layui-btn layui-btn-normal layui-btn-xs" style="top:115px;z-index:98;padding: 0px;width:20px;height:20px;background-color:transparent !important;">\n        <img id="btnSameCirImg'+e._id+'" style="height:20px;width:20px" src="'+n(88)+'"></img>\n    </li>\n    <li id="btnDifCir'+e._id+'" title="'+M.$t("drawn.tooltip.sigcir")+'" class=" MenuBtn layui-btn layui-btn-normal layui-btn-xs" style="top:75px;z-index:98;padding: 0px;width:20px;height:20px;background-color:transparent !important;">\n        <img id="btnDifCirImg'+e._id+'" style="height:20px;width:20px" src="'+n(89)+'"></img>\n    </li>\n\n    <li id="btnMenu'+e._id+'" title="'+M.$t("drawn.tooltip.filter")+'" class=" MenuBtn layui-btn layui-btn-normal layui-btn-xs" style="top:35px;z-index:98;padding: 0px;width:20px;height:20px;background-color:transparent !important;">\n        <img id="btnMenuImg'+e._id+'" style="height:20px;width:20px" src="'+n(87)+'"></img>\n    <li>\n    <div class="rz-float-menu" style="top:42px;overflow: auto;right: -261px;;max-height: calc(100%*0.75);" id="Menu'+this._id+'">\n    <div class="layui-side layui-side-scroll">\n    <div id="Panel'+this._id+'"></div>\n  </div> \n    </div>\n   ';L(e._element).append(i),L("#btnSameCir"+e._id)[0].onclick=function(){var t={btn:"btnSameCir",type:1,isBack:!1};L("#btnSameCir"+e._id).attr("style");-1!=e.state&&(3==e.state?(e.state=0,t.isBack=!0):e.state=3,e.renderWithState(),e.DrawerDo(t))},L("#btnDifCir"+e._id)[0].onclick=function(){var t={btn:"btnDifCir",type:0,isBack:!1};L("#btnDifCir"+e._id).attr("style");-1!=e.state&&(2==e.state?(e.state=0,t.isBack=!0):e.state=2,e.renderWithState(),e.DrawerDo(t))},L("#btnMenu"+e._id)[0].onclick=function(){var n={},i="#Menu"+e._id,a=parseInt(L(i).css(t.direction),10),r=L(i).outerWidth();isNaN(a),21===a?(n[t.direction]=-r,L(i).animate(n)):(n[t.direction]=21,L(i).animate(n))}},t}(),ss=function(){function t(t,e,n,i,a){var r=this;if(void 0===i&&(i={lowmin:1,lowmax:2558,highmin:1,highmax:2560}),this.getData=function(){return r.transData?r.transData(r.ResData):r.ResData},this.FormSubmitDo=function(t){},this.FormBackDo=function(t){},this.Init=function(){var t=r.getHtml();L(r.element).append(t);var e=r;W.addEvent("onAssetChange",function(t){var n=t.data;e.assetid=n.assetid}),O.use("form",function(){var t=O.form;t.render(),t.on("select(filtertype"+e.id+")",function(n){var i=n.value;"4"==i?(L("#MaxStop"+e.id).attr("disabled",!0),L("#MaxStop"+e.id).addClass("layui-disabled"),L("#MinStop"+e.id).attr("disabled",!1),L("#MinStop"+e.id).removeClass("layui-disabled")):"3"==i?(L("#MinStop"+e.id).attr("disabled",!0),L("#MinStop"+e.id).addClass("layui-disabled"),L("#MaxStop"+e.id).attr("disabled",!1),L("#MaxStop"+e.id).removeClass("layui-disabled")):(L("#MinStop"+e.id).attr("disabled",!1),L("#MinStop"+e.id).removeClass("layui-disabled"),L("#MaxStop"+e.id).attr("disabled",!1),L("#MaxStop"+e.id).removeClass("layui-disabled")),t.render()}),t.on("submit(btnfilter"+e.id+")",function(t){try{if(3!=t.field.filtertype&&4!=t.field.filtertype&&parseFloat(t.field.minstop)>parseFloat(t.field.maxstop))return O.layer.msg(M.$t("FilterPanel.lowthanhigh.msg")),!1;var n={assetid:e.assetid,filterType:t.field.filtertype-1,filterMinStop:t.field.minstop,filterMaxStop:t.field.maxstop};e.CheckArgs(t.field.minstop,t.field.maxstop,t.field.filtertype)&&(W.fireEvent("onControlPanFilter",n),e.FormSubmit(n))}catch(t){}return!1}),t.on("submit(btnBack"+e.id+")",function(n){try{var i={assetid:e.assetid,filterType:n.field.filtertype-1};L("#MinStop"+e.id).val(""),L("#MaxStop"+e.id).val(""),W.fireEvent("onControlPanBack",i),e.FormBack(i),t.render()}catch(t){}return!1})})},this.CheckArgs=function(t,e,n){var i=r.config,a=i.lowmin,o=i.highmin,s=i.lowmax,l=i.highmax,c=Object(f.v)("SpectrumUnit"),u={unit:c,rate:1};return c&&(u=Object(f.b)(c)),a*=u.rate,o*=u.rate,s*=u.rate,l*=u.rate,NaN==parseFloat(t)&&3!=n?(U.msg(M.$t("FilterPanel.low.msg")),!1):NaN==parseFloat(e)&&4!=n?(U.msg(M.$t("FilterPanel.high.msg")),!1):3!=n&&(t<a||t>s)?(U.msg(M.$t("FilterPanel.lowin.msg",{low:a,high:s,unit:u.unit})),!1):4==n||!(e<o||e>l)||(U.msg(M.$t("FilterPanel.highin.msg",{low:o,high:l,unit:u.unit})),!1)},this.getHtml=function(){return'<div class="layui-form" action=\'\' onclick="return false" style="text-align:center;">\n        <fieldset class="layui-elem-field">\n\t\t<legend>'+M.$t("FilterPanel.title")+'</legend>\n            <div id="controlpan'+r.id+'" style="text-align:left;">\n\n                <div class="layui-form-item" >\n                    <label class="layui-form-label" style="height: 25px;padding-top:0px;padding-button:0px;width:auto;">'+M.$t("FilterPanel.filtertype")+':</label> \n                    <div class="layui-input-block"> \n                        <select name="filtertype" id="Filter'+r.id+'"  lay-filter="filtertype'+r.id+'" style="height: 25px;" class="FilterPanel-filtertype" >\n                            <option value="1">'+M.$t("FilterPanel.filtertype.0")+'</option>\n                            <option value="2">'+M.$t("FilterPanel.filtertype.1")+'</option>\n                            <option value="3">'+M.$t("FilterPanel.filtertype.2")+'</option>\n                            <option value="4">'+M.$t("FilterPanel.filtertype.3")+'</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div class="layui-form-item"  style="height: 25px;" >\t\t\t\n                    <label class="layui-form-label" style="height: 25px;padding-top:0px;padding-button:0px;width:auto;">'+M.$t("FilterPanel.filter.lowcut")+':</label>  \n                    <div class="layui-input-block"> \n                        <input type="number" style="height: 25px;width:75%;" min="'+r.config.lowmin+'" max="'+r.config.lowmax+'"   id="MinStop'+r.id+'" name="minstop" class="layui-input" />\n                    </div>\n                </div>\n                <div class="layui-form-item"  style="height: 25px;" >\t\t\t\n                    <label class="layui-form-label" style="height: 25px;padding-top:0px;padding-button:0px;width:auto;">'+M.$t("FilterPanel.filter.highcut")+':</label>  \n                    <div class="layui-input-block"> \n                        <input type="number" style="height: 25px;width:75%;"  min="'+r.config.highmin+'" max="'+r.config.highmax+'"   id="MaxStop'+r.id+'" name="maxstop"   class="layui-input"/>\n                    </div>\n                </div>\n                <div class="layui-form-item" style="padding-left: 40%;">\n                    <button  lay-submit  class="layui-btn  layui-btn-sm" id="btnFilter'+r.id+'" lay-filter="btnfilter'+r.id+'" style="margin:center;">'+M.$t("FilterPanel.filter.submit")+'</button>\n                    <button lay-submit  class="layui-btn  layui-btn-sm" id="btnBack'+r.id+'" lay-filter="btnBack'+r.id+'" style="margin:center;">'+M.$t("btn.restore")+"</button>\n                   \n                </div>\n            </div>\n        </fieldset>\n        </div>"},this.FormBack=function(t){r.FormBackDo(t)},this.FormSubmit=function(t){r.FormSubmitDo(t)},this.UpdateConfig=function(t){r.config=t,L("#MinStop"+r.id).attr("min",t.lowmin),L("#MinStop"+r.id).attr("max",t.lowmax),L("#MaxStop"+r.id).attr("min",t.highmin),L("#MaxStop"+r.id).attr("max",t.highmax)},this.GetSourceData=function(){},this.Reload=function(t){},this.id=e,Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}this.assetid=n,this.FormSubmitDo=a,this.config=i}return t.prototype.Dispose=function(){L(this.element).remove(),this.config=null,this.transData=null,this.element=null,this.assetid=null,this.ResData=null,this.GetSelectValue=null},t}(),ls=function(){function t(t,e){var n=this;this.onMenuClick=function(){var t=n,e=n.getWaveInfo();if(e){var i=Object(f.v)("RZGraphDarkTheme"),a=Object(f.v)("rzgraphlang"),r=(Math.floor(1*e.WaveLength/e.UpperFreq),"<div class='waveTransTools"+n.chart.id+'\' style="padding:5px;">\n    <div class="layui-form" action="" lay-filter="SettingForm'+n.chart.id+'">\n        <div class="layui-inline">\n            <label class="layui-form-label" style="width:auto;">'+M.$t("menu.WaveformConversionTool.signalType")+'</label>\n            <div class="layui-input-inline">\n                \x3c!--  <input type="radio" checked name="signType" value="1" title="加速度" />--\x3e\n\t\t\t\t  <input type="radio" '+(3===e.SignType||2===e.SignType?'disabled=""':"")+' checked name="signType" value="2" title=\''+M.$t("menu.WaveformConversionTool.speed")+'\'/>\n                  <input type="radio" '+(3===e.SignType?'disabled=""':"")+' checked name="signType" value="3" title=\''+M.$t("menu.WaveformConversionTool.displacement")+'\'/>\n            </div>\n        </div>\n       <div class="layui-inline">\n            <label class="layui-form-label" style="width:auto;">'+M.$t("menu.WaveformConversionTool.frequency")+'</label>\n            <div class="layui-input-inline">\n               <input  onkeyup="this.value=this.value.replace(/[^.-d]/g,\'\');" name=\'upperFreq\' type="number" min="1" step="1"  class="layui-input" value=\'\' />\n            </div>\n        </div>\n         <div class="layui-inline">\n            <label class="layui-form-label" style="width:auto;">'+M.$t("menu.WaveformConversionTool.length")+'</label>\n            <div class="layui-input-inline">\n              <input onkeyup="this.value=this.value.replace(/[^\\d]/g,\'\');" \n                 οnblur="value=value.replace(/[^\\d]/g,\'\')"\n              name="waveLength" type="number" min="1" step="1"  class="layui-input" value=\'\' />\n            </div>\n        </div>\n            <div class="layui-inline" style="margin-left:10px;">\n            \t<button class="layui-btn" lay-submit="" lay-filter="SettingForm'+n.chart.id+'">'+M.$t("btn.ok")+'</button>\n              </div>\n          </div>\n          <div style="height:10px;"></div>\n          <div id="waveChart'+n.chart.id+'" class="\n          '+(!1!==i?"RZGraph-Dark-Theme":"")+" \n          "+("en"===a?"RZGraph-Locale-En":"")+'" \n          style = "height:400px;" > </div>\n                </div>\n                    ');O.form.on("submit(SettingForm"+n.chart.id+")",function(e){try{var n=e.field;if(!n.upperFreq||!n.waveLength)return!1;n.waveLength=Math.round(Number(n.waveLength));var i=t.getWaveInfo();t.waveChart&&t.waveChart.Clear(),Si.ConversionWave(i.WaveKey,n.signType,Number(n.upperFreq),n.waveLength).then(function(e){if(e&&e.data){var n=e.data;t.waveChart.layout.UpdateHelperInfo({MeasValue:(n.MeasValue?n.MeasValue.toFixed(3):"")+(n.YUnit?n.YUnit:""),RotatingSpeed:n.RunSpeed,MeasTime:Object(f.d)(n.MeasDate,"YYYY/MM/DD HH:mm:ss")});for(var i=[],a=0,r=n.YData.length;a<r;a++)i.push([a*n.XInterval,n.YData[a]]);t.waveChart.render([i],n.XUnit,n.YUnit)}}).catch(function(t){return!1})}catch(t){}return!1}),n.layerIndex=U.open({id:"WaveTransToolDialog",title:M.$t("menu.WaveformConversionTool"),content:r,btn:0,type:1,area:["1000px","503px"],success:function(e,n){L(".waveTransTools"+t.chart.id+' input[name="upperFreq"]').change(function(){var e=L(".waveTransTools"+t.chart.id+' input[name="upperFreq"]').val();if(e&&"0"!==e){var n=Number(e),i=t.getWaveInfo(),a=Math.floor(i.WaveLength*n/i.UpperFreq);L(".waveTransTools"+t.chart.id+' input[name="waveLength"]').val(a)}}),O.form.render();try{t.waveChart&&t.waveChart.Dispose(),t.waveChart=new qt("waveChart"+t.chart.id,Yt.First),t.waveChart.registeredCursor([new Yr(t.waveChart)]),t.waveChart.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),t.waveChart.Init()}catch(t){}},cancel:function(e,n){return t.waveChart&&t.waveChart.Dispose(),U.close(e),!0}})}else U.msg(M.$t("menu.WaveformConversionTool.fail"))},this.isOpen=!1,this.shouldAddMeun=!0,this.shouldAddToolBox=!1,this.chart=t,this.getWaveInfo=e.getWaveInfo}return t.prototype.onInit=function(){var t=this;this.chart&&this.chart.menuInstance.AddMenuItem("WaveTransTool"+this.chart.id,M.$t("menu.WaveformConversionTool"),function(){t.onMenuClick()})},t.prototype.Dispose=function(){this.waveChart&&this.waveChart.Clear(),this.getWaveInfo=null,this.chart=null,this.layerIndex&&U.close(this.layerIndex)},t.prototype.onClear=function(){},t.prototype.OpenCursor=function(){},t.prototype.CloseCursor=function(){},t.prototype.onMainCursorMove=function(t){},t.prototype.onMainCursorMoved=function(t){},t.prototype.GetSelectText=function(t){return""},t}(),cs=function(){function t(t,e,n){var i=this;if(void 0===e&&(e=null),void 0===n&&(n=null),this.getWaveInfo=function(){try{var t=i.chart.selectedYIndex;return i.lastWaveInfos[t]}catch(t){}return null},this.Resize=function(){i.chart&&i.chart.Resize()},this.onAssetChange=function(){i.Path=G.TableData.path,i.chart.layout.UpdateHelperInfo({path:i.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.onAssetTypeNotSupport=function(t){},this.lastWaveInfos=[],this.DataKeys=[],this.RenderChart=function(t){i.lastWaveInfos=[];var e=i;i.chart;e.SelectDataKeys=t;var n=t.map(function(t){return{WaveKey:t,start:0,dataLen:0}});i.Clear();var a=[];Si.BatchFetchOriginalVibWave(n).then(function(r){r&&r.map(function(t,e){var i={SignType:t.data.Signaltype,UpperFreq:t.data.Upperlimitingfreq,WaveKey:n[e].WaveKey||"",WaveLength:t.data.OldDataLen||0};a.push(i)}),e.lastWaveInfos=a,i.specChart&&i.specChart.RenderChart(t),e.charthelper.render(r.map(function(t){return t.data}),Do.GetData());var o=Do.GetData();r&&r.map(function(t,e){o[e].otherData.Unit=r[e].data.YUnit})})},this.CalcVSelectIndex=function(t,e,n,a){var r=t,o=n?t:t+e;if(n){if(o==i.chart.selectedYIndex&&a<i.chart.data[o][i.chart.data[o].length-1][0])return o}else if(o<0||o>=i.chart.data.length)return i.chart.selectedYIndex;for(var s=i.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,i.chart.data[i.chart.selectedYIndex],0),c=!1;o<i.chart.data.length&&o>=0;){if(!(i.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=i.chart.selectedYIndex),r},this.AddMenuItem=function(t){for(var e in t)i.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){Do.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,this.specChart=n,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var a=this,r=new Zo(this.element,Yt.First,{onMainCursorMoved:function(t,e,n){var i=Do.GetData(),r=i[e].Path||"",o=i[e].otherData.Unit||"";a.chart.yUtils=o,a.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,i,r){var o=Do.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";a.chart.yUtils=l,a.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=r,this.charthelper=new Da(r),r.chartConfig.isAllowMaxBtn=!0,r.registeredCursor([new Yr(r),new ls(r,this)]),r.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var o=this.getContextmenu(r);this.AddMenuItem(o),r.Init(),Do.AddEvent("onMultiTemporalSpec",function(t){var e=t.map(function(t){return t.DataKey});a.DataKeys=e||[],a.RenderChart(e),i.drawer.state=0,i.drawer.renderWithState()});var s=Do.GetData();if(s.length>0){var l=s.map(function(t){return t.DataKey});a.DataKeys=l||[],this.RenderChart(l)}var c=new os(t,this.id);this.drawer=c,c.render(),c.DrawerDo=function(t){if(t.isBack)a.RenderChart(a.DataKeys);else{var e=a.DataKeys;if(e){var n=t.type;Si.FetchMultiAngleWave(e,0,n).then(function(t){r.Clear(),a.charthelper.render(t.map(function(t){return t.data}),Do.GetData())})}}};var u=new ss("Panel"+this.id,this.id,this.assetId);u.Init(),this.filter=u,u.FormSubmitDo=function(t){i.chart;var e=i;c.state=1,c.renderWithState();t.assetid;var n=t.filterType,a=t.filterMinStop,r=t.filterMaxStop;if(e.DataKeys){var o=Object(f.v)("SpectrumUnit"),s={unit:o,rate:1};o&&(s=Object(f.b)(o)),a=(1*a/s.rate).toFixed(4),r=(1*r/s.rate).toFixed(4),Si.FetchFilterMultiWave(e.DataKeys,n,a,r).then(function(t){e.charthelper.render(t.map(function(t){return t.data}),Do.GetData())})}},u.FormBackDo=function(t){a.RenderChart(a.DataKeys)}}return t.prototype.Dispose=function(){try{this.chart&&this.chart.Dispose(),Do.DeleteEvent("onMultiTemporalSpec"),this.filter&&this.filter.Dispose(),this.drawer&&this.drawer.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.specChart=null,this.charthelper=null,this.deviceId=null,this.assetId=null,this.id=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear(),this.specChart&&this.specChart.Clear()},t}(),us=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hs=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},ds=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},ps=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},fs=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i=Fo.TimeIndex);var a=t.call(this,e,n)||this;return a.onDisplayChange=function(t){0==t&&(a.trendChartManage&&a.trendChartManage.SetMemoryTableDisplayNone(!1),a.ConditionFilterHelper.Close())},a.onAssetChange=function(t){if(a.lastDeviceId!==a.deviceId&&(a.Clear(),a.lastDeviceId=a.deviceId,a.CreateTabs(Fo.TimeIndex,{EigenvalueIndex:t.deviceType===tn.a.RotatingEquipment||t.deviceType===tn.a.ReciprocatingMachine,SamplingIndex:t.deviceType!==tn.a.ReciprocatingMachine}),a.waveformChart.onAssetChange(),a.specChart.onAssetChange(),a.deviceId)){var e=a.DyTreeHelper.LoadData(a.deviceId),n=a.ProPointTreeHelper.LoadData(a.deviceId);a.ConditionFilterHelper.GetData(a.deviceId);var i,r=L(".IndexTab").find(".layui-this").attr("data-id");i=r===Fo.SamplingIndex?a.SamplingIndexTableHelper.renderData(null):r===Fo.EigenvalueIndex?a.EigenvaluesHelper.renderData(null):a.TimeIndexTableHelper.renderData(),Promise.all([e,i,n]).then(function(){Object(ba.a)(a.chartName+"_OnRender_After",{QueryData:a.setQueryData}),a.onClick(!1)})}},a.setQueryData=function(t,e,n,i,r){return ds(a,void 0,void 0,function(){var a,o;return ps(this,function(s){switch(s.label){case 0:return a=this,o=Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.e)(o)>Object(f.e)(t)&&L("#Stime"+this.id).val(Object(f.d)(t,"YYYY/MM/DD 00:00")),n&&this.DyTreeHelper.tree.setCheckedItemsById(n),r&&this.ProPointTreeHelper.tree.setCheckedItemsById(r),e?(e=Array.isArray(e)?e:[e],L(this.element).find(".IndexTab .layui-tab-title li").removeClass("layui-this"),L(this.element).find('.IndexTab li[data-id="'+i+'"]').addClass("layui-this"),L(this.element).find(".IndexTab .layui-tab-content>div").removeClass("layui-show"),L(this.element).find('.IndexTab .layui-tab-content>div[data-id="'+i+'"]').addClass("layui-show"),i!==Fo.SamplingIndex?[3,2]:[4,a.SamplingIndexTableHelper.renderData(null)]):[3,6];case 1:return s.sent(),a.DyTreeHelper.tree.expandAll(!1),this.SamplingIndexTableHelper.table.SetIndexSelected(e),this.SamplingIndexTableHelper.table.onGotoIndex(e),[3,6];case 2:return i!==Fo.EigenvalueIndex?[3,4]:[4,a.EigenvaluesHelper.renderData(null)];case 3:return s.sent(),a.DyTreeHelper.tree.expandAll(!1),this.EigenvaluesHelper.table.SetIndexSelected(e),this.EigenvaluesHelper.table.onGotoIndex(e),[3,6];case 4:return i!==Fo.TimeIndex?[3,6]:[4,a.TimeIndexTableHelper.renderData()];case 5:s.sent(),a.DyTreeHelper.tree.expandAll(!0),this.TimeIndexTableHelper.table.SetIndexSelected(e),s.label=6;case 6:return this.trendChartManage.LastSelectX=Object(f.e)(t),this.trendChartManage.bigTrend.lastSelectedX=Object(f.e)(t),this.onClick(!1),[2]}})})},a.Resize=function(){a.waveformChart&&a.waveformChart.Resize(),a.specChart&&a.specChart.Resize(),a.trendChartManage&&a.trendChartManage.Resize(),a.SamplingIndexTableHelper.table.Resize(),a.EigenvaluesHelper.table.Resize(),a.TimeIndexTableHelper.table.Resize()},a.SwitchTopDivShow=function(t){t?a.layout._splitArr[0].setSizes(a.lastTopSize):a.layout._splitArr[0].setSizes([0,100]),a.trendChartManage&&a.trendChartManage.Resize()},a.lastTopSize=[20,80],a.InitLayout=function(t){void 0===t&&(t=null),L(a.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"Main",children:[{id:"top"},{id:"bottom",children:[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"center",children:[{id:"graphList",otherStyle:"height:calc(100% - 28px) !important;overflow-y:auto;"},{id:"pagination",otherStyle:"height:28px"}]}]}]},{id:"rightPanel",children:[{id:"right_top",otherStyle:"height:130px;border-bottom:1px solid #ccc"},{id:"right_center",otherStyle:"height:calc(100% - 180px);",children:[{id:"right",otherStyle:"overflow:hidden;max-height:364px;"},{id:"right2",otherStyle:"overflow:hidden;min-height:calc(100% - 369px)"}]},{id:"right_bottom",otherStyle:"height:40px;"}]}],e.splitConfig=[{ids:["top","bottom"],size:[0,100],isVertical:!0,callBack:function(t){a.lastTopSize=t[0],a.Resize()}},{ids:["Main","rightPanel"],size:[80,20],collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,callBack:function(){a.Resize()}},{ids:["left","center"],collapseBtnOpen:!0,collapseAlign:yi.Left,defaultCollapseAlign:yi.None,gutterAlign:"end",size:[50,50],callBack:function(){a.Resize()}},{ids:["left1","left2"],isVertical:!0,callBack:function(){a.Resize()}},{ids:["right","right2"],size:[50,50],isVertical:!0,callBack:function(){a.Resize()}}];var n=new va(e,a.id);n.render(a.element);var i=a;a.layout=n,a.trendChartManage=new Lo("#graphList"+a.id,function(){a.onPageSizeChange.call(i)},function(t,e){a.DisplayCheckedTrendChart.call(i,t,e)},function(t,e,n){i.renderList.list=e,i.trendChartManage.LastSelectX=Object(f.e)(n),a.RenderPagination(e,{curr:t})},a),a.specChart=new es("left2"+a.id,a.Path),a.waveformChart=new cs("left1"+a.id,a.Path,a.specChart),a.addEvent("onControlPanFilter",function(t){var e=t.data,n=(e.assetid,e.filterType),a=e.filterMinStop,r=e.filterMaxStop,o=Object(f.v)("SpectrumUnit"),s={unit:o,rate:1};o&&(s=Object(f.b)(o)),a=(1*a/s.rate).toFixed(4),r=(1*r/s.rate).toFixed(4),i.specChart.RenderFilter(n,a,r)}),a.addEvent("onControlPanBack",function(t){t.data;i.specChart.RenderBack()})},a.CreateTabs=function(t,e){void 0===e&&(e={EigenvalueIndex:!1,SamplingIndex:!1}),L("#right2"+a.id).empty(),L("#right2"+a.id+" .IndexTab").empty(),L("#right2"+a.id).append("<div class=\"IndexTab\" style='width:100%;height:100%;'></div>");var n="",i="";[{type:Fo.TimeIndex,title:M.$t("common.index.time"),show:!0},{type:Fo.SamplingIndex,title:M.$t("common.index.sampling"),show:e.SamplingIndex},{type:Fo.EigenvalueIndex,title:M.$t("common.index.eigenvalue"),show:e.EigenvalueIndex}].forEach(function(e){e.show&&(n+='<li class="'+(t&&t==e.type?"layui-this":"")+'"  data-id="'+e.type+'">'+e.title+"</li>",i+='<div id="'+e.type+a.id+'" data-id="'+e.type+'" class="layui-tab-item '+(t&&t==e.type?"layui-show":"")+'"  style="height:100%"></div>')});var r='\n\t\t<div class="layui-tab layui-tab-brief"  lay-filter="IndexType'+a.id+'" style="height:100%;">\n\t\t<ul class="layui-tab-title">\t\t\t\n\t\t'+n+'\n\t\t</ul>\n\t\t<div class="layui-tab-content" style="padding:5px;height:calc(100% - 40px);overflow:hidden">\n\t\t'+i+"\n\t\t</div>\n  </div> ";L("#right2"+a.id+" .IndexTab").append(r),a.EigenvaluesHelper.init(),a.TimeIndexTableHelper.init(),a.SamplingIndexTableHelper.init()},a.onClick=function(t){void 0===t&&(t=!0);var e=a,n=L("#Stime"+e.id).val(),i=L("#Etime"+e.id).val();if(new Date(n)>new Date(i))return O.layer.msg(M.$t("tip.error.time")),!1;i||(i=Object(f.d)(new Date,"YYYY/MM/DD 23:59:59"));var r=e.DyTreeHelper.getCheckedData(),o=e.TimeIndexTableHelper.getCheckedData(),s=e.EigenvaluesHelper.getCheckedData(),l=e.SamplingIndexTableHelper.getCheckedData(),c=e.ProPointTreeHelper.getCheckedData();e.QuerySubmit(n,i,r,o,s,c,l,t)},a.DisplayCheckedTrendChart=function(t,e){if(t){var n=a;if(e)n.renderList.list=t;else{var i=[];n.renderList.list.map(function(e){t.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType&&t.path===e.path}).length>0||i.push(e)}),n.renderList.list=i}a.trendChartManage.Clear(),a.RenderPagination(n.renderList.list)}},a.onPagination=function(t){var e,n=a,i=n.renderList.list,r=t.curr,o=t.count,s=t.pages,l=t.limit;e=r<s?i.slice((r-1)*l,r*l):i.slice((r-1)*l,o),n.trendChartManage.render(e,n.renderList.stime,n.renderList.etime,t.curr,i)},a.RenderPagination=function(t,e){void 0===e&&(e={});var n=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6;a.pagination&&a.pagination.Dispose();var i=new nr("pagination"+a.id,t.length,n,a.onPagination,e);a.pagination=i},a.onPageSizeChange=function(){var t=[];try{t=a.renderList.list||[]}catch(t){}a.pagination&&a.pagination.Dispose();var e=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6,n=new nr("pagination"+a.id,t.length,e,a.onPagination);a.pagination=n},a.TimeIndexTableHelper={table:null,getCheckedData:function(){return a.TimeIndexTableHelper.table.GetCheckedData()},init:function(){var t=new rs(!1);t.render("#"+Fo.TimeIndex+a.id,!1),a.TimeIndexTableHelper.table=t},renderData:function(){a.TimeIndexTableHelper.table.renderData(a.deviceId)}},a.SamplingIndexTableHelper={table:null,getCheckedData:function(){return a.SamplingIndexTableHelper.table.GetCheckedData()},init:function(){var t=new qo;t.render("#"+Fo.SamplingIndex+a.id,!1),a.SamplingIndexTableHelper.table=t},renderData:function(t){return ds(a,void 0,void 0,function(){return ps(this,function(t){switch(t.label){case 0:return[4,this.SamplingIndexTableHelper.table.renderData([this.deviceId])];case 1:return[2,t.sent()]}})})},Resize:function(){}},a.EigenvaluesHelper={table:null,getCheckedData:function(){return a.EigenvaluesHelper.table.GetCheckedData()},init:function(){var t=new Yo;t.render("#"+Fo.EigenvalueIndex+a.id,!1),a.EigenvaluesHelper.table=t},renderData:function(t){return a.EigenvaluesHelper.table.renderData([a.deviceId])}},a.ConditionFilterHelper={table:null,Init:function(){var t=new Sa(null);a.ConditionFilterHelper.table=t},GetData:function(t){a.ConditionFilterHelper.table.GetData([t])},Open:function(){a.ConditionFilterHelper.table.Open()},SetFilterFunc:function(t){a.ConditionFilterHelper.table.SetFilterFunc(t)},GetCheckedData:function(){return a.ConditionFilterHelper.table.GetCheckedData()},Close:function(){a.ConditionFilterHelper.table.Close()},SetReset:function(t){a.ConditionFilterHelper.table.onReset=t}},a.CommonHelper={RegisterOnChange:function(){var t=a;O.element.on("tab(IndexType"+a.id+")",function(e){var n=L("#right2"+t.id+" .IndexTab li").eq(e.index).attr("data-id");t.deviceId&&(n==Fo.SamplingIndex?t.SamplingIndexTableHelper.renderData(null):n===Fo.EigenvalueIndex?t.EigenvaluesHelper.renderData(null):n===Fo.TimeIndex&&t.TimeIndexTableHelper.renderData())})}},a.ProPointTreeHelper={tree:null,getCheckedData:function(){return a.ProPointTreeHelper.tree.getCheckedData()},onChange:function(t){},render:function(){L("#right"+a.id+" #proPoint"+a.id).append("<div class=\"proPointCard\" style='height:100%;width:100%;'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAllPro'+a.id+'" lay-skin="primary" style="display:none;" title='+M.$t("common.point.technics")+" value='All'/>","");L("#right"+a.id+" .proPointCard").append(t);var e=O.form;e.render("checkbox","CheckAllPro"+a.id,"#right"+a.id+" ");var n=a;e.on("checkbox(CheckAllPro"+a.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.ProPointTreeHelper.tree.checkAll():n.ProPointTreeHelper.tree.unCheckAll(),!0});var i=new Vo(a.ProPointTreeHelper.onChange,null);i.render(L("#right"+a.id+" .proPointCard").find(".rz-card-body")),a.ProPointTreeHelper.tree=i},LoadData:function(t){return a.ProPointTreeHelper.tree.LoadData(t)}},a.DyTreeHelper={tree:null,getCheckedData:function(){return a.DyTreeHelper.tree.getCheckedData()},onChange:function(t){},render:function(){L("#right"+a.id+" #dyPoint"+a.id).append("<div class=\"dyPointCard\" style='height: 100%;width:100%;'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAll'+a.id+'" lay-skin="primary" style="display:none;" title="'+M.$t("common.point.dymnic")+"\" value='All'/>","");L("#right"+a.id+" .dyPointCard").append(t);var e=O.form;e.render("checkbox","CheckAll"+a.id,"#right"+a.id+" ");var n=a;e.on("checkbox(CheckAll"+a.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.DyTreeHelper.tree.checkAll():n.DyTreeHelper.tree.unCheckAll(),!0});var i=new Qo(a.DyTreeHelper.onChange,null,a.DyTreeHelper.onLoadData);i.render(L("#right"+a.id+" .dyPointCard").find(".rz-card-body")),a.DyTreeHelper.tree=i},LoadData:function(t){return a.DyTreeHelper.tree.LoadData(t)},onLoadData:function(t){var e=28*((null==t?void 0:t.length)||0)+20+61+5,n=(e=(e=e<365?e:365)<142?142:e)/L("#right_center"+a.id).height();L("#right"+a.id).height("calc("+100*n+"% - 2.5px)"),L("#right2"+a.id).height("calc("+(100-100*n)+"% - 2.5px)"),a.Resize()}},a.chartName="MultiparametricAnalysisChart",a.InitLayout(i),a.InitQuery(i),a}return us(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.layout&&this.layout.Dispose(),this.layout=null,this.waveformChart&&this.waveformChart.Dispose(),this.specChart&&this.specChart.Dispose(),this.trendChartManage.Dispose(),this.EigenvaluesHelper.table.Dispose(),this.SamplingIndexTableHelper.table.Dispose(),this.TimeIndexTableHelper.table.Dispose(),this.ConditionFilterHelper.table.Dispose(),this.DyTreeHelper.tree.Dispose(),this.ProPointTreeHelper.tree.Dispose(),this.specChart=null,this.waveformChart=null,this.trendChartManage=null,this.EigenvaluesHelper=null,this.SamplingIndexTableHelper=null,this.TimeIndexTableHelper=null,this.ConditionFilterHelper=null,this.DyTreeHelper=null,this.ProPointTreeHelper=null,Do.Clear(!1),this.pagination&&this.pagination.Dispose(),this.pagination=null,L(this.element).html(""),L(this.element).unbind(),this.element=null},e.prototype.Clear=function(){var t,e,n,i,a,r,o,s;L(this.element).find("input[name='ckAll']").prop("checked",!1),O.form.render("checkbox","CheckAll"+this.id,"#right"+this.id+" "),this.waveformChart&&this.waveformChart.onAssetTypeNotSupport(null),this.specChart&&this.specChart.onAssetTypeNotSupport(null),this.trendChartManage.Clear(),null===(e=null===(t=this.EigenvaluesHelper)||void 0===t?void 0:t.table)||void 0===e||e.Clear(!1),null===(i=null===(n=this.SamplingIndexTableHelper)||void 0===n?void 0:n.table)||void 0===i||i.Clear(!1),null===(r=null===(a=this.TimeIndexTableHelper)||void 0===a?void 0:a.table)||void 0===r||r.Clear(!1),null===(s=null===(o=this.ConditionFilterHelper)||void 0===o?void 0:o.table)||void 0===s||s.Clear(),this.DyTreeHelper.tree.Clear(),this.trendChartManage.ClearMemortTableData(),this.pagination&&this.pagination.Dispose()},e.prototype.InitQuery=function(t){void 0===t&&(t=null),L("#right_top"+this.id).append('<div  class="layui-form" id=\'Query'+this.id+'\' action="" style=""></div>');var e=new Aa(Object(f.d)(Object(f.c)("m",-1,new Date),"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),this.id);L("#right_top"+this.id+" .layui-form").append("<div class=\"TimeRange\" style='height:130px;width:100%;'></div>");var n=(new fa).getHtml(M.$t("leftbar.form.selecttime"),e.getHtml());L("#right_top"+this.id+" .TimeRange").append(n),e.Init();var i='<div class="layui-tab layui-tab-brief " id="point'+this.id+'"  lay-filter="point'+this.id+'" style="height:100%;overview:hidden">\n\t\t<div class="layui-tab layui-tab-brief"  lay-filter="pointType'+this.id+'" style="height:100%;">\n\t\t<ul class="layui-tab-title">\n\t\t\t\t<li class="layui-this"  data-id="0">\n\t\t\t\t'+M.$t("vibration")+'\n\t\t\t\t</li>\n\t\t\t\t\t<li data-id="1">\n\t\t\t\t'+M.$t("Process")+'\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\t<div class="layui-tab-content" style="height:calc(100% - 31px);padding:0">    \n\t\t\t\t\t<div id="dyPoint'+this.id+'" class="layui-tab-item layui-show"  style="height: calc(100%);overflow:auto;"></div>\n\t\t\t\t\t<div id="proPoint'+this.id+'" class="layui-tab-item "  style="height: 100%;"></div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t</div>';L("#right"+this.id).append(i),this.DyTreeHelper.render(),this.ConditionFilterHelper.Init(),this.ProPointTreeHelper.render(),this.CommonHelper.RegisterOnChange(),L("#right_bottom"+this.id).append('<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;height:30px\'>\n\t\t<button class="layui-btn layui-btn-sm" lay-submit="" id="btnQuery'+this.id+'">'+M.$t("btn.ok")+"</button>\n</div>");var a=this;L("#btnQuery"+this.id).click(function(){a.onClick()})},e.prototype.QuerySubmit=function(t,e,n,i,a,r,o,s){void 0===s&&(s=!0);var l=[],c=L(".IndexTab").find(".layui-this").attr("data-id");c===Fo.TimeIndex&&i&&i.map(function(t){n&&n.map(function(e){var n;if((t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)&&Object(tn.f)(e.data.type)){var i=new Oo;i.assetId=e.data.id,i.indexCode=t.value,i.name=e.data.name,e.pdata?i.path=e.pdata.name+"/"+e.data.name+"/"+t.name:i.path=e.data.name+"/"+t.name,i.indexType=Fo.TimeIndex,l.push(i)}})}),c===Fo.SamplingIndex&&(o&&o.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Oo;i.assetId=e.data.id,i.indexCode=t.IndexCode,i.path=e.data.name+" "+t.IndexName,i.name=e.data.name,i.indexType=Fo.SamplingIndex,l.push(i)}})}),0==l.length&&o&&o.length),c===Fo.EigenvalueIndex&&(a&&a.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Oo;i.assetId=e.data.id,i.name=e.data.name+" "+t.IndexName,i.indexCode=t.IndexCode,i.path=e.data.name+" "+t.IndexName,i.indexType=Fo.EigenvalueIndex,l.push(i)}})}),0==l.length&&a&&a.length),r&&r.length>0&&r.map(function(t){if(t.data.ID&&0!=t.data.NodeType){var e=new Oo;e.assetId=t.data.ID,e.indexCode=t.data.ID,e.path=t.data.NodeName,e.name=t.data.NodeName,e.indexType=Fo.ProPoint,l.push(e)}}),s&&this.trendChartManage.Clear(),this.renderList={stime:t,etime:e,list:l},this.RenderPagination(l)},e.prototype.ReRenderPage=function(){L(this.element).find(".layui-laypage-curr").click()},hs([Object(f.a)()],e.prototype,"Dispose",null),hs([Object(f.a)()],e.prototype,"Clear",null),e}(J),As=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},ms=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},ys=function(){function t(){var t=this;this.UpdateHelperInfo=function(e){t.trend.layout.UpdateHelperInfo(e)},this.Dispose=function(){t.trend&&t.trend.Dispose(),t.lastUnits=null,t.selectedChart=null},this.lastUnits=[],this.selectedChart=[],this.InitChart=function(e,n,i,a){var r=new qt(e,Yt.Last,{});r.chartName=a,r.layout._InitHelperInfo({path:n,CurosrValue:""}),r.chartConfig.xIsTime=!0,r.chartConfig.isAllowMaxBtn=!0,r.Init(),t.trend=r;var o=t;return r.getSelectedText=function(t){try{var e=r.data[r.selectedYIndex][r.selectedXIndex];e=e.concat([]);var n={rate:1,unit:r.xUtils};r.chartConfig.convertUnit&&(n=Object(f.b)(r.xUtils)),r.xUtils=n.unit,r.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=(e[0]*n.rate).toFixed(3);var i="";return i=o.selectedChart[r.selectedYIndex]+"  "+e[0]+r.xUtils+"，"+e[1].toFixed(3)+(o.lastUnits[r.selectedYIndex]||""),r.cursorList&&r.cursorList.length>0&&r.cursorList.forEach(function(e){e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},r},this.formatDataCombined=function(e,n){for(var i=Object(f.t)(),a=[],r=[],o=0;o<e.length;o++){for(var s=e[o].data.Datas,l=[],c=0;c<s.length;c++)l.push([Object(f.e)(s[c].MeasDate),s[c].MeasValue]);l.sort(function(t,e){return t[0]-e[0]}),r.push(l),t.lastUnits.push(e[o].data.Unit),t.selectedChart.push(n[o].name),a.push({id:o,turboThreshold:0,animation:!1,color:i[o],keys:t.trend.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:n[o].name,data:l,lineWidth:1})}return{data:r,series:a}},this.LoadData=function(e,n){return As(t,void 0,void 0,function(){var t,i,a,r;return ms(this,function(o){switch(o.label){case 0:if(t=this,i=[],n.map(function(t){i.push(t.value)}),this.trend.Clear(),!n||0==n.length)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),t.lastUnits=[],t.selectedChart=[],[4,Si.FetchTimeIndexs(e,i)];case 2:return a=o.sent(),r=this.formatDataCombined(a,n),this.trend.render(r.data,"","",{boost:{enabled:!(r.data&&r.data.length>=15),allowForce:!1},series:r.series,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",margin:30,x:30,itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}})})},this.Resize=function(){t.trend.Resize()}}return t.prototype.Clear=function(){this.lastUnits=[],this.selectedChart=[],this.trend.Clear(!0)},t}(),gs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vs=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="MultipleIndexTrends",i.Dispose=function(){try{i.BaseDispose(),i.chartHelper.Dispose(),i.IndexTableHelper.Dispose(),L(i.element).html("")}catch(t){}},i.Resize=function(){i.chartHelper.chart&&i.chartHelper.chart.Resize()},i.onAssetTypeNotSupport=function(){i.IndexTableHelper.Clear(),i.chartHelper.Clear()},i.onAssetChange=function(){i.IndexTableHelper.Clear(),i.chartHelper.Clear(),i.chartHelper.UpdateHelperInfo({path:i.Path}),i.IndexTableHelper.Instance.onAssetChange(i.assetId),i.IndexTableHelper.LoadData()},i.isFirst=!0,i.IndexTableHelper={Instance:null,Init:function(){var t=new rs;t.render("#right"+i.id),i.IndexTableHelper.Instance=t,t.AddOnChecked(i.IndexTableHelper.onChange)},LoadData:function(){i.IndexTableHelper.Instance&&i.IndexTableHelper.Instance.renderData(),i.isFirst?(i.isFirst=!1,i.IndexTableHelper.Instance.setCheckAll(),i.chartHelper.onIndexChange(i.IndexTableHelper.Instance.GetIndexData())):i.chartHelper.onIndexChange(i.IndexTableHelper.Instance.GetCheckedData())},Clear:function(){i.IndexTableHelper.Instance&&i.IndexTableHelper.Instance.Clear()},onChange:function(t){i.chartHelper.onIndexChange(t)},Dispose:function(){i.IndexTableHelper.Instance&&i.IndexTableHelper.Instance.Dispose()}},i.chartHelper={Dispose:function(){i.chartHelper.chart&&i.chartHelper.chart.Dispose()},UpdateHelperInfo:function(t){var e=i.chartHelper.chart;e&&e.UpdateHelperInfo(t)},Init:function(){var t=new ys;t.InitChart("left"+i.id,i.Path,"",i.chartName),i.chartHelper.chart=t},Clear:function(){var t=i.chartHelper.chart;t&&t.Clear()},chart:null,onIndexChange:function(t){i.chartHelper.chart.LoadData(i.assetId,t)}},i.onAssetChangeJudgeType=!0,i.CreatLayout(),i.IndexTableHelper.Init(),i.chartHelper.Init(),i}return gs(e,t),e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left"},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[85,15],isVertical:!1,callBack:function(){t.Resize()}}],new va(e,this.id).render(this.element)},e}(J),bs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cs=function(){return(Cs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},xs=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.Clear=function(){i.chart&&(i.chart.Clear(),i.chart.layout.UpdateHelperInfo({path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}))},i.onDisplayChange=function(t){var e=i;if(t){var n=xa.GetData();if(e.chart.isLockChart)return;e.chartUnit=n&&n.length>0?n[0].Unit:e.chartUnit;var a=[];n.map(function(t){a.push({waveKey:t.DataKey,Unit:t.Unit})}),e.RenderChart(a)}},i.Resize=function(){i.chart&&i.chart.Resize()},i.onAssetTypeNotSupport=function(t){},i.chartUnit="",i.GetMax=function(t){for(var e=0,n=0;e<t.length;e++)t[e]>n&&(n=t[e]);return n},i.RenderChart=function(t,e){void 0===e&&(e=!1);var n=i,a=(i.chart,[]),r=Object(f.v)("TotalSpecConfig");t.map(function(t){var e=q.a.Units[t.Unit],n=Object(f.l)(e);r?n&&r&&3==r[n].spec?a.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0)):a.push(Si.FetchSpectrum(t.waveKey,0,0)):"voltage"===n||"current"===n?a.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0)):a.push(Si.FetchSpectrum(t.waveKey,0,0))}),i.Clear(),Si.BatchFetchSpectrumByType(a).then(function(t){var i=t;if(!e){for(var a=[],r=[],o=0;o<i.length;o++)a.push(i[o].data.YData),r.push(i[o].data.YUnit);return a=Object(f.n)(a,r),void n.charthelper.render(i.map(function(t,e){return Cs(Cs({},t.data),{YData:a[e]})}),xa.GetData())}n.charthelper.render(i.map(function(t){return t.data}),xa.GetData())})},i.CalcVSelectIndex=function(t,e,n,a){var r=t,o=n?t:t+e;if(n){if(o==i.chart.selectedYIndex&&a<i.chart.data[o][i.chart.data[o].length-1][0])return o}else if(o<0||o>=i.chart.data.length)return i.chart.selectedYIndex;for(var s=i.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,i.chart.data[i.chart.selectedYIndex],0),c=!1;o<i.chart.data.length&&o>=0;){if(!(i.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=i.chart.selectedYIndex),r},i.AddMenuItem=function(t){for(var e in t)i.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},i.getContextmenu=function(t){var e=i;return[{name:M.$t("menu.maxgraphcount"),id:"SetMaxGraphCount"+t.GetChartId(),callback:function(){var t="<div><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" step="1" id="Cursorsetting_graph'+e.id+'" class="layui-layer-input" value=\''+xa.maxCount+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:t,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(t,n){var i=L("#Cursorsetting_graph"+e.id).val()||0;parseInt(i)>10?U.msg(M.$t("meun.config.maxgraph.count.error",{count:10})):parseInt(i)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(xa.setMaxCount(parseInt(i)),U.close(n))}),L("#Cursorsetting_graph"+e.id).val(xa.maxCount)}},{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){xa.Clear()}}]};var a=i,r=new Zo(e,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var i=xa.GetData();a.chartUnit=n&&n.length>0?n[0].Unit:a.chartUnit;var r=i[e].Path||"",o=i[e].otherData.Unit||"";a.chart.yUtils=o,a.chart.layout.UpdateHelperInfo({path:r})},onRenderEnd:function(t,e,n,i,r){var o=xa.GetData();if(a.chartUnit=o&&o.length>0?o[0].Unit:a.chartUnit,o&&o.length>e){var s=o[e].Path||"",l=o[e].otherData.Unit||"";a.chart.yUtils=l,a.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});i.chart=r,i.chartName="MutiTemporalSpecChart",i.charthelper=new Da(r),r.registeredCursor([new Rr(r),new Qr(i.chart,null,null,!1,!0,!0,!0)]),r.layout._InitHelperInfo({path:i.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var o=i.getContextmenu(r);i.AddMenuItem(o),xa.AddEvent("onMultiTemporalSpec",function(t){if(i.chart&&!a.chart.isLockChart&&a.isShow){a.chartUnit=t&&t.length>0?t[0].Unit:a.chartUnit;var e=[];t.map(function(t){e.push({waveKey:t.DataKey,Unit:t.Unit})}),a.RenderChart(e)}});var s=xa.GetData();if(s.length>0){a.chartUnit=s&&s.length>0?s[0].Unit:a.chartUnit;var l=[];s.map(function(t){l.push({waveKey:t.DataKey,Unit:t.Unit})}),i.RenderChart(l)}return r.menuInstance.AddMenuItem("TotalSpecType"+i.id,M.$t("menu.totalspec.configtitle"),function(){var t="<div class='"+(f.B&&"RZGraph-TotalSpec-Config-En")+" RZGraph-TotalSpec-Config' id='TotalSpecTypeForm"+a.id+"' style=\"width:"+(f.B?"300px":"250px")+';height:300px"></div>';U.prompt({title:M.$t("menu.totalspec.configtitle"),content:t,btn:null}),new $o("TotalSpecTypeForm"+a.id,a.id).Init()}),r.Init(),i.addEvent("onTotalSpecConfigChange",function(t){var e=xa.GetData().map(function(t){return{waveKey:t.DataKey,Unit:t.Unit}});a.RenderChart(e)}),i}return bs(e,t),e.prototype.Dispose=function(){try{xa.DeleteEvent("onMultiTemporalSpec"),this.event.Dispose(),this.chart.Dispose(),this.BaseDispose(),this.charthelper&&this.charthelper.Dispose(),this.chart=null,this.element=null}catch(t){}},e}(J),ws=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ds=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.Clear=function(){i.chart&&(i.chart.Clear(),i.chart.layout.UpdateHelperInfo({path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}))},i.onDisplayChange=function(t){var e=i;if(t){var n=xa.GetData();if(e.chart.isLockChart)return;var a=n.map(function(t){return t.DataKey});e.RenderChart(a)}},i.Resize=function(){i.chart&&i.chart.Resize()},i.onAssetTypeNotSupport=function(t){},i.RenderChart=function(t){var e=i,n=(i.chart,t.map(function(t){return{WaveKey:t,start:0,dataLen:0}}));Si.BatchFetchOriginalVibWave(n).then(function(t){e.charthelper.render(t.map(function(t){return t.data}),xa.GetData())})},i.CalcVSelectIndex=function(t,e,n,a){var r=t,o=n?t:t+e;if(n){if(o==i.chart.selectedYIndex&&a<i.chart.data[o][i.chart.data[o].length-1][0])return o}else if(o<0||o>=i.chart.data.length)return i.chart.selectedYIndex;for(var s=i.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,i.chart.data[i.chart.selectedYIndex],0),c=!1;o<i.chart.data.length&&o>=0;){if(!(i.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=i.chart.selectedYIndex),r},i.AddMenuItem=function(t){for(var e in t)i.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},i.getContextmenu=function(t){var e=i;return[{name:M.$t("menu.maxgraphcount"),id:"SetMaxGraphCount"+t.GetChartId(),callback:function(){var t="<div class='Cursorsetting"+e.id+"'><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" max="10" step="1" id="Cursorsetting_graph'+e.id+'" name="maxgraphcount" class="layui-layer-input" value=\''+xa.maxCount+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:t,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(t,n){if(!(t<=0)){var i=L("#Cursorsetting_graph"+e.id).val()||0;parseInt(i)>10?U.msg(M.$t("meun.config.maxgraph.count.error",{count:10})):parseInt(i)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(xa.setMaxCount(parseInt(i)),U.close(n))}}),L("#Cursorsetting_graph"+e.id).val(xa.maxCount)}},{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){e.charthelper.ClearBaseChart(),e.chart.selectedYIndex=0,e.chart.selectedXIndex=0,xa.Clear()}}]};var a=i,r=new Zo(e,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var i=xa.GetData(),r=i[e].Path||"",o=i[e].otherData.Unit||"";a.chart.yUtils=o,a.chart.layout.UpdateHelperInfo({path:r})},onRenderEnd:function(t,e,n,i,r){var o=xa.GetData();if(o&&o.length>e){var s=o[e].Path||"",l=o[e].otherData.Unit||"";a.chart.yUtils=l,a.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});i.chart=r,i.chartName="MutiTemporalWaveformChart",i.charthelper=new Da(r),r.registeredCursor([new Yr(r)]),r.layout._InitHelperInfo({path:i.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var o=i.getContextmenu(r);i.AddMenuItem(o),r.Init(),xa.AddEvent("onMultiTemporalWave",function(t){if(a.chart&&!a.chart.isLockChart&&a.isShow){var e=t.map(function(t){return t.DataKey});i.Clear(),a.RenderChart(e)}});var s=xa.GetData();if(s.length>0){var l=s.map(function(t){return t.DataKey});i.RenderChart(l)}return i}return ws(e,t),e.prototype.Dispose=function(){var t,e;try{this.event.Dispose(),null===(t=this.charthelper)||void 0===t||t.Dispose(),null===(e=this.chart)||void 0===e||e.Dispose(),this.BaseDispose()}catch(t){}},e}(J),Is=function(){function t(){var t=this;this.id="",this.value="",this.BtnClick=function(e){t.Click(e.value)},this.Click=function(t){}}return t.prototype.Dispose=function(){L(this._elem).html("")},t.prototype.render=function(t,e,n,i,a){var r=this;if(this._elem=t,this.name=n,e&&0!=e.length){var o="";e&&e.map(function(t,e){o+='\n                <button  class="layui-btn layui-btn-sm" id="btn'+t[i]+"_"+r.id+'" style="margin-left:5px" value="'+t[i]+'">'+t[a]+"</button>\n               "}),o="\n        <center>\n      "+o+"\n    </center>\n";var s=this;L(t).append(o),L(t).find("button").on("click",function(t){var e=L(this).val();s.BtnClick({value:e})})}},t}(),Bs=function(){function t(){var t=this;this.isOpen=!1,this.chartList=[],this.lastDatakey=null,this.lastSpeed=null,this.onSideCursorMove=function(e,n){t.chartList[0].MoveMainCursor(!1,!0,!1,!1,!1),t.chartList[0].layout.UpdateHelperInfo({CurosrValue:t.chartList[0].getSelectedText(!1)})},this.onSideCursorMoved=function(e,n){var i=Object(f.v)("rz_widthRate")||3;t.chartList[1].Clear(),Si.FetchOrderEnvolope(t.lastDatakey,e*t.lastSpeed,2*n*t.lastSpeed,i).then(function(e){var n=[],i=e.data;t.chartList[1].layout.UpdateHelperInfo({MeasValue:i.MeasValue?i.MeasValue.toFixed(3)+(i.YUnit?i.YUnit:""):""});for(var a=Object(f.k)(),r=t.lastSpeed,o=0,s=i.YData.length;o<s;o++)"Hz"===a?n.push([o*i.XInterval/r,i.YData[o]]):n.push([o*i.XInterval/r*60,i.YData[o]]);t.chartList[1].render([n],"X",i.YUnit)}).catch(function(t){})},this.id=Object(f.y)()}return t.prototype.Resize=function(){this.chartList&&this.chartList.map(function(t){t.Resize()})},t.prototype.Dispose=function(){this.Close(),this.chartList&&this.chartList.map(function(t){t.Dispose()}),this.lastDatakey=null,this.lastSpeed=null,this.chartList=null,L("#OrderEnvelope"+this.id).remove(),this.id=null},t.prototype.Clear=function(){this.lastDatakey=null,this.lastSpeed=null,this.chartList&&this.chartList.map(function(t){t.Clear(!0)})},t.prototype.LoadData=function(t,e){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var n,i,a,r,o,s;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(l){switch(l.label){case 0:return L("#OrderEnvelope"+this.id).show(),this.lastDatakey===t?[2]:(this.Clear(),this.lastDatakey=t,e/=60,this.lastSpeed=e,[4,Si.FetchOrderData(t)]);case 1:if((n=l.sent())&&n.data&&n.data.length>0){for(i=this.chartList[0],a=n.data[1],i.layout.UpdateHelperInfo({MeasValue:(a.MeasValue?a.MeasValue.toFixed(3):"")+(a.YUnit?a.YUnit:""),RotatingSpeed:a.RunSpeed,MeasTime:Object(f.d)(a.MeasDate,"YYYY/MM/DD HH:mm:ss")}),Object(f.k)(),r=[],o=0,s=a.YData.length;o<s;o++)r.push([o*a.XInterval/e,a.YData[o]]);setTimeout(function(){i.render([r],"X",a.YUnit)},300)}return[2]}})})},t.prototype.InitLayout=function(){var t=this,e=new ga;e.items=[{id:"top",otherStyle:"width:100%;"},{id:"bottom",otherStyle:"width:100%;"}],e.splitConfig=[{ids:["top","bottom"],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(L("#OrderEnvelope"+this.id))},t.prototype.InitChart=function(){this.chartList=[];var t=new qt("top"+this.id,Yt.Center);t.chartConfig.isAllowMaxBtn=!0,t.registeredCursor([new Ur(t,this.onSideCursorMove,this.onSideCursorMoved,!0,!0,!1,!0),new Rr(t)]),this.chartList.push(t),t.chartName="orderSpec",t.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),t.Init();var e=new qt("bottom"+this.id,Yt.First);e.chartConfig.isAllowMaxBtn=!0,e.registeredCursor([new Rr(e),new Qr(e)]),this.chartList.push(e),e.chartName="orderSpec",e.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),e.Init()},t.prototype.Open=function(t,e){var n=this;if(0==L("#OrderEnvelope"+this.id).length){var i="<div id='OrderEnvelope"+this.id+"' class='rzAxisPanelParent' style=\"width:800px;height:557px;\"> </div>";L("body").append(i),L("#OrderEnvelope"+this.id).addClass("RZGraphChartCard");var a=Object(f.v)("RZGraphDarkTheme"),r=Object(f.v)("rzgraphlang");!1!==a&&L("#OrderEnvelope"+this.id).addClass("RZGraph-Dark-Theme"),"en"===r&&L("#OrderEnvelope"+this.id).addClass("RZGraph-Locale-En"),this.InitLayout()}var o=this;0==this.isOpen?this.layerIndex=U.open({type:1,id:"d"+this.id,title:""+M.$t("ordertrack.form.orderequip"),area:["800px","600px"],shade:0,maxmin:!1,resize:!1,restore:function(){n.Resize()},full:function(){n.Resize()},min:function(){n.Resize()},success:function(i,a){n.chartList&&0!==n.chartList.length||(L("#OrderEnvelope"+n.id).show(),n.InitChart()),setTimeout(function(){n.LoadData(t,e)},0)},cancel:function(){n.isOpen=!1,L("#OrderEnvelope"+o.id).hide()},end:function(){n.isOpen=!1,L("#OrderEnvelope"+o.id).hide()},content:L("#OrderEnvelope"+this.id)}):this.LoadData(t,e),this.isOpen=!0},t.prototype.Close=function(){L("#OrderEnvelope"+this.id).hide(),this.isOpen=!1,U.close(this.layerIndex)},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],t.prototype,"LoadData",null),t}(),Ts=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ss=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Ms=function(){function t(){var t=this;this.isOpen=!1,this.chartList=[],this.lastDatakey=null,this.lastAvgCount=null,this.getAvgCount=function(){return parseInt(L("#avgCount"+t.id).val())},this.maxSpeed=0,this.id=Object(f.y)()}return t.prototype.Resize=function(){this.chartList&&this.chartList.map(function(t){t.Resize()})},t.prototype.Dispose=function(){this.Close(),this.chartList&&this.chartList.map(function(t){t.Dispose()}),this.lastDatakey=null,this.lastAvgCount=null,this.chartList=null,L("#OrderTimeAvg"+this.id).remove(),this.id=null},t.prototype.Clear=function(){this.lastDatakey=null,this.lastAvgCount=null,this.chartList&&this.chartList.map(function(t){t.Clear(!0)})},t.prototype.LoadData=function(t,e){return Ts(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u;return Ss(this,function(h){switch(h.label){case 0:return L("#OrderTimeAvg"+this.id).show(),this,e=this.getAvgCount(),this.lastDatakey===t&&this.lastAvgCount==e?[2]:(this.Clear(),this.lastDatakey=t,this.lastAvgCount=e,[4,Si.FetchOrderTimeAvg(t,e)]);case 1:if((n=h.sent())&&n.data&&n.data.length>0){for(i=n.data[0],(a=this.chartList[0]).layout.UpdateHelperInfo({MeasValue:(i.MeasValue?i.MeasValue.toFixed(3):"")+(i.YUnit?i.YUnit:""),RotatingSpeed:i.RunSpeed,MeasTime:Object(f.d)(i.MeasDate,"YYYY/MM/DD HH:mm:ss")}),r=[],c=0,u=i.YData.length;c<u;c++)r.push([c*i.XInterval,i.YData[c]]);for(setTimeout(function(){a.render([r],i.XUnit,i.YUnit)},200),o=this.chartList[1],s=n.data[1],o.layout.UpdateHelperInfo({MeasValue:(s.MeasValue?s.MeasValue.toFixed(3):"")+(s.YUnit?s.YUnit:""),RotatingSpeed:s.RunSpeed,MeasTime:Object(f.d)(s.MeasDate,"YYYY/MM/DD HH:mm:ss")}),l=[],c=0,u=s.YData.length;c<u;c++)l.push([c*s.XInterval/(this.maxSpeed/60),s.YData[c]]);setTimeout(function(){o.render([l],"X",s.YUnit)},200)}return[2]}})})},t.prototype.InitLayout=function(){var t=this,e=this,n=new ga;n.items=[{id:"left",children:[{id:"top",otherStyle:"width:100%;"},{id:"bottom",otherStyle:"width:100%;"}]},{id:"right",children:[]}],n.splitConfig=[{ids:["top","bottom"],callBack:function(){e.Resize()},isVertical:!0},{ids:["left","right"],callBack:function(){e.Resize()},size:[85,15]}],new va(n,this.id).render(L("#OrderTimeAvg"+this.id)),(new fa).render("#right"+this.id,M.$t("leftbar.form.control"),'<div id="controlcard'+this.id+'" style="overflow:auto">\n      <div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n    <label>'+M.$t("ordertrack.form.avgcount")+'</label>\n    </div>\n    <div class="layui-form-item" style="padding-left:20px;padding-right:20px;"> \n    <input type="number" id="avgCount'+this.id+'" name="avgCount" autocomplete="off" min=\'1\' class="layui-input" value=\'1\' onkeyup="this.value=this.value.replace(/[^.-d]/g,\'\');" style="height:28px;">\n    </div>\n      </div>'),L("#avgCount"+this.id).change(function(){t.LoadData(t.lastDatakey,e.maxSpeed)})},t.prototype.InitChart=function(){this.chartList=[];var t=new co("top"+this.id,Yt.First);t.chartConfig.isAllowMaxBtn=!0,t.registeredCursor([new Yr(t)]),this.chartList.push(t),t.chartName="orderSpec",t.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),t.Init();var e=new co("bottom"+this.id,Yt.First);e.chartConfig.isAllowMaxBtn=!0,e.registeredCursor([new Rr(e),new Qr(e)]),this.chartList.push(e),e.chartName="orderSpec",e.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),e.Init()},t.prototype.Open=function(t,e){var n=this;if(this.maxSpeed=e,0==L("#OrderTimeAvg"+this.id).length){var i="<div id='OrderTimeAvg"+this.id+"' class='rzAxisPanelParent' style=\"width:800px;height:557px;\"> </div>";L("body").append(i),L("#OrderTimeAvg"+this.id).addClass("RZGraphChartCard");var a=Object(f.v)("RZGraphDarkTheme"),r=Object(f.v)("rzgraphlang");!1!==a&&L("#OrderTimeAvg"+this.id).addClass("RZGraph-Dark-Theme"),"en"===r&&L("#OrderTimeAvg"+this.id).addClass("RZGraph-Locale-En"),this.InitLayout(),this.InitChart()}0==this.isOpen?this.layerIndex=U.open({type:1,id:"d"+this.id,title:""+M.$t("ordertrack.form.timeavg"),area:["800px","600px"],shade:0,maxmin:!1,resize:!1,restore:function(){n.Resize()},full:function(){n.Resize()},min:function(){n.Resize()},success:function(){return Ts(n,void 0,void 0,function(){return Ss(this,function(n){switch(n.label){case 0:return[4,this.LoadData(t,e)];case 1:return n.sent(),[2]}})})},cancel:function(){n.isOpen=!1,L("#OrderTimeAvg"+n.id).hide()},end:function(){n.isOpen=!1,L("#OrderTimeAvg"+n.id).hide()},content:L("#OrderTimeAvg"+this.id)}):this.LoadData(t,e),this.isOpen=!0},t.prototype.Close=function(){L("#OrderTimeAvg"+this.id).hide(),this.isOpen=!1,U.close(this.layerIndex)},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],t.prototype,"LoadData",null),t}(),Es=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.lastCheckedData=null,this.lastDeviceId=null,this._onChange=t,this._onClick=e}return t.prototype.Dispose=function(){this.Clear(),this._onChange=null,this.lastCheckedData=null,this._onClick=null},t.prototype.Clear=function(){this.lastDeviceId=null,this.lastCheckedData=null,L(this._elem).html("")},t.prototype.LoadData=function(t,e){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var n,i,a,r,o,s,l;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(c){switch(c.label){case 0:return this.lastDeviceId=e,n=this,L(this._elem).html(""),this._atree=null,[4,Si.FetchAllData(t)];case 1:return i=c.sent(),null===(a=i.data)?[2]:(Object(f.E)(0,a),a.map(function(t,e){t.CHFreqs=[]}),Object(f.v)(0).map(function(t,e){var n=[],i=[];t.CHFreqs.map(function(t,r){0===t.SideFreCode?n.push(t):(i.push(t),a[e].CHFreqs.push(t))}),i.map(function(t){n.map(function(n){if(t.SideFreCode===n.Code){n.flag=1;var i={ID:n.ID+Math.random(),Code:n.Code,Desc:t.Desc+"（左边带）",SideFreCompID:n.SideFreCompID,SideFreCode:n.SideFreCode,SpeedRate:n.SpeedRate,ChFreq:t.ChFreq-n.ChFreq,ComponentID:n.ComponentID,MultiCode:n.MultiCode},r={ID:n.ID+Math.random(),Code:n.Code,Desc:t.Desc+"（右边带）",SideFreCompID:n.SideFreCompID,SideFreCode:n.SideFreCode,SpeedRate:n.SpeedRate,ChFreq:t.ChFreq+n.ChFreq,ComponentID:n.ComponentID,MultiCode:n.MultiCode};a[e].CHFreqs.push(r),a[e].CHFreqs.push(i)}})}),n.map(function(t){1===t.flag||a[e].CHFreqs.push(t)})}),a.map(function(t){t.CHFreqs.map(function(t){})}),a&&(r=[],{},a.map(function(t){var e={};e.title=""+t.Name,e.level=0,e.parentId=null,e.id=t.ID,e.name=t.Name,e.iconClass="",e.data=t,e.children=[],e.customBtn=[],t.CHFreqs&&t.CHFreqs.map(function(n){var i={};i.title=""+n.Desc,i.level=1,i.name=n.Desc,i.id=n.ID,i.data=n,i.pdata=t,i.children=[],(n.MultiCode||Array.from(Array(5),function(){return 1})).map(function(t,e){var a={};a.title=e+1+"X",a.level=1,a.name=e+1+"X",a.num=e+1,a.parentId=n.ID,a.id=n.ID+e,a.data=n,a.pdata=n,a.children=[],i.children.push(a)}),e.children.push(i)}),r.push(e)}),o=function(t,e){for(var i=n._atree.nodes,a=[],r=null,o=0;o<i.length;o++)r=i[o],t===r.name&&a.push(r),r.children&&r.children.map(function(e){t===e.name&&a.push(e)});n._atree.checkItems(a,e)},s=O.atree,l=s({props:{name:"title",id:"id",children:"children",checkbox:"checkbox",spread:"spread"},initLevel:1,elem:L(this._elem),check:"checkbox",nodes:r,onCustomBtnClick:function(t,e,n){switch(e){case"linkname":o(t.name,!n)}},change:function(t){n.lastCheckedData=t,n._onChange&&n._onChange(t)},click:function(t,e){O.$(e).parents(".layui-atree").find(".layui-atree-node").removeClass("layui-atree-item-checked"),O.$(e).parents(".layui-atree-node").eq(0).addClass("layui-atree-item-checked");n._onClick&&n._onClick(t,e)}}),this._atree=l),[2])}})})},t.prototype.checkAll=function(){this._atree&&this._atree.checkAll(!0)},t.prototype.getCheckedData=function(){return this._atree?this._atree.getCheckData():null},t.prototype.unCheckAll=function(){this._atree&&this._atree.checkAll(!1)},t.prototype.render=function(t){this._elem=t},t}(),ks=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fs=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Os=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Ls=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="OrderTrackingChart",i.onDisplayChange=function(t){0==t&&(i.orderEnvelope.Close(),i.orderTimeAvg.Close())},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()})},i.onAssetTypeNotSupport=function(t){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(!0)}),i.lastMaxSpeed=null,i.lastSpecData=null,i.orderEnvelope.Clear(),i.orderTimeAvg.Clear(),L("#content"+i.id+" textarea").text("")},i.onAssetChange=function(t){i.lastDataKey=null,i.lastDataKey=null,i.onAssetTypeNotSupport(null),i.chartList.OrderWaveformChart.layout.UpdateHelperInfo({path:i.Path})},i.onTrendChange=function(t){var e=i,n=t.WaveKey;if(!n)return e.lastDataKey=n,void e.onAssetTypeNotSupport(null);n!==e.lastDataKey&&(e.lastDataKey=n,e.onAssetTypeNotSupport(null),i.chartList.OrderWaveformChart.layout.UpdateHelperInfo({path:i.Path}),i.LoadData(n),e.cz=t)},i.chartList={},i.ProPointTreeHelper={tree:null,getCheckedData:function(){return i.ProPointTreeHelper.tree.getCheckedData()},onChange:function(t){i.orderSpec.hchartHelper.AddToggleCursor(i.speedFrequency1,t)},render:function(){L("#right").append("<div class=\"proPointCard\" style='height:calc((100%));width:100%;min-height:260px'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAllPro'+i.id+'" lay-skin="primary" style="display:none;" title='+M.$t("FreqTrend.common.All")+" value='All'/>","");L("#right .proPointCard").append(t);var e=O.form;e.render("checkbox","CheckAllPro"+i.id,"#right");var n=i;e.on("checkbox(CheckAllPro"+i.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.ProPointTreeHelper.tree.checkAll():n.ProPointTreeHelper.tree.unCheckAll(),!0});var a=new Es(i.ProPointTreeHelper.onChange,null);a.render(L("#right .proPointCard").find(".rz-card-body")),i.ProPointTreeHelper.tree=a},LoadData:function(t){return i.ProPointTreeHelper.tree.LoadData(t)}},i.chartList={},i.CreatLayout(),i.InitChart(),i}return ks(e,t),e.prototype.Dispose=function(){var t=this;try{this.BaseDispose(),Object.keys(this.chartList).map(function(e){t.chartList[e].Dispose()}),this.lastDataKey=null,this.lastMaxSpeed=null,this.lastSpecData=null,this.orderEnvelope.Dispose(),this.orderTimeAvg.Dispose()}catch(t){}},e.prototype.SwitchSourceSpecShow=function(t){return Fs(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u;return Os(this,function(h){switch(h.label){case 0:return e=this.lastDataKey,n=this.chartList.OrderSpecChart,t?this.lastMaxSpeed?[4,Si.FetchSpectrum(e)]:[2]:[3,2];case 1:if((i=h.sent())&&i.data){for(a=[],r=i.data,void 0,Object(f.k)(),o=this.lastMaxSpeed/60,s=0,l=r.YData.length;s<l;s++)a.push([s*r.XInterval/o,r.YData[s]]);c=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t}([],n.data[0]),u=[{turboThreshold:0,animation:!1,keys:n.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:c,lineWidth:1},{turboThreshold:0,animation:!1,keys:n.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:a,lineWidth:1,id:"sourceSpec",color:"red"}],n.render([c,a],n.xUtils,n.yUtils,{boost:{allowForce:!1},series:u})}return[3,3];case 2:u=null;try{n.render(n.data.splice(0,1),n.xUtils,n.yUtils)}catch(t){}h.label=3;case 3:return[2]}})})},e.prototype.LoadData=function(t){return Fs(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h,d,p,A,m;return Os(this,function(y){switch(y.label){case 0:return[4,Si.FetchOrderData(t)];case 1:if(e=y.sent(),this.speedFrequency1=e.data[1].RunSpeed/60,e&&e.data&&e.data.length>0){for(n=e.data[0],(i=this.chartList.OrderWaveformChart).CFRunSpeed=n.CFRunSpeed,i.layout.UpdateHelperInfo({MeasValue:(n.MeasValue?n.MeasValue.toFixed(3):"")+(n.YUnit?n.YUnit:""),RotatingSpeed:n.RunSpeed,MeasTime:Object(f.d)(n.MeasDate,"YYYY/MM/DD HH:mm:ss")}),a=[],A=0,m=n.YData.length;A<m;A++)a.push([A*n.XInterval,n.YData[A]]);for(i.render([a],n.XUnit,n.YUnit),r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,s=0,l=this.chartList.OrderTrendChart,c=e.data[2],l.CFRunSpeed=c.CFRunSpeed,l.layout.UpdateHelperInfo({MeasTime:Object(f.d)(c.MeasDate,"YYYY/MM/DD HH:mm:ss")}),a=[],A=0,m=c.YData.length;A<m;A++)r<c.YData[A]&&(r=c.YData[A]),o>c.YData[A]&&(o=c.YData[A]),s+=c.YData[A],a.push([A*c.XInterval,c.YData[A]]);for(u=Object(f.k)(),c&&c.YData&&c.YData.length>0&&(h=0,this.lastMaxSpeed=r,Object(f.z)()?(r=r/60*60,o=o/60*60,h=s/c.YData.length/60*60,u="CPM"):(r/=60,o/=60,h=s/c.YData.length/60,u="Hz"),L("#content"+this.id+" textarea").text(M.$t("ordertrack.form.speedspec")+"("+M.$t("menu.timedomaincriteria.maximum")+":"+r.toFixed(3)+u+";"+M.$t("menu.timedomaincriteria.minimum")+":"+o.toFixed(3)+u+";"+M.$t("menu.timedomaincriteria.meanvalue")+":"+h.toFixed(3)+u+")")),l.render([a],c.XUnit,c.YUnit),d=this.chartList.OrderSpecChart,p=e.data[1],d.CFRunSpeed=p.CFRunSpeed,d.layout.UpdateHelperInfo({MeasValue:(p.MeasValue?p.MeasValue.toFixed(3):"")+(p.YUnit?p.YUnit:""),RotatingSpeed:p.RunSpeed,MeasTime:Object(f.d)(p.MeasDate,"YYYY/MM/DD HH:mm:ss")}),this.lastSpecData=p,a=[],A=0,m=p.YData.length;A<m;A++)a.push([A*p.XInterval/(this.lastMaxSpeed/60),p.YData[A]]);d.render([a],"X",p.YUnit),L("#ncontnet"+this.id).find(".layui-form-checkbox").hasClass("layui-form-checked")&&this.SwitchSourceSpecShow(!0),this.orderEnvelope.isOpen&&this.orderEnvelope.Open(t,this.lastMaxSpeed),this.orderTimeAvg.isOpen&&this.orderTimeAvg.Open(t,this.lastMaxSpeed)}return[2]}})})},e.prototype.Clear=function(){var t=this;try{Object.keys(this.chartList).map(function(e){t.chartList[e].Clear()})}catch(t){}},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"left1"},{id:"left2"},{id:"left3"}]},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[80,20],callBack:function(){t.Resize()}},{ids:["left1","left2","left3"],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element),(new fa).render("#right"+this.id,M.$t("leftbar.form.control"),'<div id="controlcard'+this.id+'" style="overflow:auto"></div>');var n=new ga;n.items=[{id:"btn"},{id:"content",height:"60px",otherStyle:";margin-top:10px"},{id:"ncontnet",otherStyle:";margin-top:10px"}],new va(n,this.id).render("#controlcard"+this.id);var i=new Is;i.id=this.id;var a=[{name:M.$t("ordertrack.form.orderequip"),key:"jcbl"},{name:M.$t("ordertrack.form.timeavg"),key:"sypj"}];i.render("#btn"+this.id,a,"btn","key","name"),L("#content"+this.id).append('\n        <div class="layui-input-block" style="margin:auto;height:60px">\n      <textarea name="desc" placeholder="" class="layui-textarea" style="resize:none;min-height:60px;" readonly></textarea>\n    </div>\n        '),this.btnList=this.btnList,i.Click=function(e){"jcfx"!=e&&("jcbl"==e?t.orderEnvelope.Open(t.lastDataKey,t.lastMaxSpeed):"sypj"==e&&t.orderTimeAvg.Open(t.lastDataKey,t.lastMaxSpeed))},L("#ncontnet"+this.id).append('<input type=\'checkbox\' lay-skin="primary" lay-filter="CheckShowSourceSpec'+this.id+'" title="'+M.$t("ordertrack.form.showspec")+'" style="display:none;"/>'),O.form.render("checkbox","CheckShowSourceSpec"+this.id,"#ncontnet"+this.id+" "),O.form.on("checkbox(CheckShowSourceSpec"+this.id+")",function(e){return e.othis.hasClass("layui-form-checked")?t.SwitchSourceSpecShow(!0):t.SwitchSourceSpecShow(!1),!0})},e.prototype.InitChart=function(){var t=new co("left1"+this.id,Yt.First);t.chartConfig.isAllowMaxBtn=!0,t.registeredCursor([new Yr(t)]),this.chartList.OrderWaveformChart=t,t.chartName="OrderWaveformChart",t.layout._InitHelperInfo({path:this.Path,MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),t.Init();var e=new qt("left3"+this.id,Yt.First,{onMainCursorMoved:function(t,e,n){},onMainCursorMoving:function(t,e,n){}});this.orderSpec=e,e.registeredCursor([new Rr(e),new Qr(e),new jr(this.orderSpec,this.chartName),new Xr(this.orderSpec,Ya.Single,this.chartName)]),e.chartConfig.isAllowMaxBtn=!0,this.chartList.OrderSpecChart=e,e.chartName="OrderSpecChart",e.layout._InitHelperInfo({chartName:"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),e.Init();var n=new qt("left2"+this.id,Yt.Last);n.chartConfig.isAllowMaxBtn=!0,this.chartList.OrderTrendChart=n,n.chartName="OrderTrendChart",n.layout._InitHelperInfo({chartName:"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),n.Init();var i=new Bs;this.orderEnvelope=i,this.orderTimeAvg=new Ms},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],e.prototype,"LoadData",null),e}(J),Us=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ps=function(){return(Ps=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Rs=function(t){function e(e,n,i){void 0===n&&(n=Yt.None),void 0===i&&(i=null);var a=t.call(this,e)||this;return a.DilutionCount=0,a.AddMenuItem=function(t){for(var e in t)a.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},a.UpdateLayoutHelperInfo=function(){var t=a.getSelectedText(!1);a.layout.UpdateHelperInfo({CurosrValue:t})},a.OpenMeunCallBack=function(){a.MenuAfterAction&&a.MenuAfterAction()},a.MenuAfterAction=null,a.groupInterval=.2,a.GetBaseOptions=function(t,e,n,i,r){var o=a,s=[];if(t&&t.series);else{if(!o.groupInterval||o.groupInterval<=0)throw"groupInterval配置有误";var l={};a.data.map(function(t,e){for(var n=0,i=t.length;n<i;n++){var a=t[n][1],r=Math.floor(a/o.groupInterval);l[r]?l[r]=l[r]+1:l[r]=1}});var c=[];for(var u in l)c.push([(o.groupInterval*parseInt(u)).toFixed(2)+"-"+(o.groupInterval*(parseInt(u)+1)).toFixed(2),l[u],1]);s.push({type:"variwide",name:"",data:c,crisp:!1,dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",verticalAlign:"top",format:"{point.y:.0f}",y:-10},colorByPoint:!1})}n&&(s=s.concat(a.CreateAlarmLine(n)),t&&t.series&&(t.series=t.series.concat(a.CreateAlarmLine(n))));return Ps({title:{text:"",floating:!0},exporting:{scale:1},navigation:{buttonOptions:{enabled:!1}},credits:{enabled:!1},boost:{allowForce:!1,useGPUTranslations:!o.chartConfig.xIsTime},tooltip:{enabled:!1},plotOptions:Ps({},{series:{cursor:"pointer",animation:!1,enableMouseTracking:!1,marker:{enabled:!1,radius:2,states:{hover:{enabled:!1}}}}}),legend:{enabled:!1},chart:Ps({resetZoomButton:{position:{x:0,y:-300}},spacing:[5,5,5,5],reflow:!0,defaultSeriesType:"line",animation:!1,zoomType:"x",panning:!0,events:{load:function(t){try{o.chartIsLoading=!1;var e=o.data;o.hchartInstance=t.target,o.hchartHelper.hchartInstance=t.target,e&&e.length>0&&setTimeout(function(){o.onRenderEnd&&o.onRenderEnd(),o.props&&o.props.onRenderEnd&&o.props.onRenderEnd(o.selectedXIndex,o.selectedYIndex)},0)}catch(t){P.a.error("chartload",t)}},selection:function(t){1!==L(t.target.container).parent().attr("data-isActived")&&(L(".RZcontainer").attr({"data-isActived":"0"}),L(t.target.container).parent().attr({"data-isActived":"1"}))},resetZoom:function(){try{if(null==o.hchartInstance.xAxis[0].userMax&&null==o.hchartInstance.xAxis[0].userMin)return}catch(t){}o.hchartHelper.ResetZoom()},click:function(t){var e=o.data;if(e&&e.length>0){var n=t.xAxis[0].value,i=t.yAxis[0].value;n&&i&&o.ChartClick(n,i)}}}},r),xAxis:Ps({type:"category",minorTickInterval:"auto",gridZIndex:0,allowDecimals:!0,showFirstLabel:!0,showLastLabel:!0,events:{setExtremes:function(t){var e=!(arguments&&arguments.length>0&&"NotDispatch"===arguments[0]);try{return t.target.chart&&t.target.chart.rzisZoomOut?(t.target.chart.rzisZoomOut=!1,o.props&&o.props.onSetExtremes&&e&&o.props.onSetExtremes(void 0,void 0),!1):!(t.max&&this.toPixels(t.max)-this.toPixels(t.min)<=H.xZoomMinSelection||(o.lastExtremes={max:t.max,min:t.min},o.props&&o.props.onSetExtremes&&e&&o.props.onSetExtremes(t.min,t.max),0))}catch(t){return!0}}}},e),yAxis:Ps({minorTickInterval:"auto",min:0,allowDecimals:!0,showFirstLabel:!0,showLastLabel:!1,title:{text:o.GetYUnit(o.yUtils),margin:1},labels:{rotation:-90,padding:0,align:"center",formatter:function(){var t=parseFloat(this.value);return Math.abs(t)>100?t.toFixed(0):Math.abs(t)>10?t.toFixed(2):t.toFixed(3)}}},i),series:s},t)},a.selectedYIndex=0,a.props=Ps(Ps({},a.props),i),a.chartName="VariwideChart",a.defaultCurosrPosition=n,a}return Us(e,t),e.prototype.Dispose=function(){t.prototype.Dispose.call(this),this.cursorList&&this.cursorList.map(function(t){t.Dispose(),t=null}),this.cursorList=null,this.DilutionCount=null,this.defaultCurosrPosition=null,this.MenuAfterAction=null,this.element=null},e.prototype.updateHelperInfo=function(){try{this.layout.UpdateHelperInfo({CurosrValue:this.getSelectedText(!1)})}catch(t){}},e.prototype.Clear=function(t){if(void 0===t&&(t=!1),!this.isLockChart&&this.hchartInstance)try{t&&this.layout.Clear(),this.layout.UpdateHelperInfo({CurosrValue:""}),this.hchartInstance.destroy()}catch(t){}},e.prototype.registeredCursor=function(t){this.cursorList=t},e.prototype.registeredToolBox=function(t,e,n,i,a){this.layout.AddToolBoxItem(t,e,n,i,a)},e.prototype.registeredMenu=function(t,e,n,i){this.menuInstance.AddMenuItem(t,e,n,i)},e.prototype.onSingleCursorMove_After=function(){},e.prototype.ChartClick_After=function(){},e.prototype.render_Before=function(t){try{if(this.verifyData(t)&&0!=t[0].length&&t[0].length>this.selectedXIndex&&this.selectedXIndex>=0)return void this.layout.UpdateHelperInfo({CurosrValue:""});if(this.defaultCurosrPosition){for(var e=0;e<t.length;e++)if(t[e]&&t[e].length>0){if(this.selectedYIndex=e,this.defaultCurosrPosition==Yt.First)return void(this.selectedXIndex=0);if(this.defaultCurosrPosition==Yt.Last)return void(this.selectedXIndex=t[this.selectedYIndex].length-1);if(this.defaultCurosrPosition==Yt.Center)return void(this.selectedXIndex=Math.floor(t[this.selectedYIndex].length/2));this.defaultCurosrPosition==Yt.None&&this.RemoveMainCurosr()}this.selectedXIndex=0}}catch(t){}},e.prototype.Init_Before=function(){this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(t){t.onInit&&t.onInit()})},e.prototype.getSelectedText=function(t){void 0===t&&(t=!0);try{var e=JSON.parse(JSON.stringify(this.data[this.selectedYIndex][this.selectedXIndex]));"°"===this.xUtils&&(e[0]=(e[0]%360).toFixed(3));var n={rate:1,unit:this.xUtils};this.chartConfig.convertUnit&&(n=Object(f.b)(this.xUtils)),this.xUtils=n.unit,e=e.concat([]),this.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=(e[0]*n.rate).toFixed(3);var i="";if(i=e[0]+this.xUtils+"，"+e[1].toFixed(3)+this.yUtils,this.ChartKeys.length<e.length)for(var a=this.ChartKeys.length;a<e.length;a++)""!==e[a]&&(i+="，"+e[a]);return t&&(i=""+i),this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(e){e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},e.prototype.MoveMainCursor=function(t,e,n,i,a){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===a&&(a=!0);for(var r=[],o=5;o<arguments.length;o++)r[o-5]=arguments[o]},e}(qt),Hs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qs=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Resize=function(){i.chart&&i.chart.Resize()},i.onWhenHidden=function(){if(i.chart)try{i.chart.data=[[]],i.chart.hchartInstance.destroy()}catch(t){}},i.loadData=function(){var t=i,e=i.deviceId,n=i.assetId,a=i.devicePath,r=Object(f.d)(t.CheckedTime[0],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00"),o=Object(f.d)(t.CheckedTime[1],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59");e&&a&&Si.FetchModalAnalysis(e,n,r,o).then(function(e){try{var n=[],a=e.data;a&&a.map(function(t){for(var e=0,i=t.Datas.length;e<i;e++)n.push([Object(f.e)(t.Datas[e].MeasDate),Math.abs(t.Datas[e].SampleRate),30*Math.random()])}),i.chart.groupInterval=t.groupInterval||.5,i.chart.render([n],"",M.$t("Number (statistical results)"))}catch(t){i.chart.render([],"","")}})},i.onAssetTypeNotSupport=function(t){void 0===t&&(t=null);try{i.chart.Clear();var e=t&&!1===t.UpdatePath?"":i.Path;i.chart.layout.UpdateHelperInfo({path:e,RotatingSpeed:"",MeasTime:"",MeasValue:"",CurosrValue:""})}catch(t){}},i.onAssetChange=function(t){i.onAssetTypeNotSupport(null),i.chart.layout.UpdateHelperInfo({path:i.Path}),i.loadData()},i.onTrendChange=function(t){i.chart.isLockChart},i.InitQuery=function(){var t='\n\t\t\t<div class="layui-form" id=\'Query'+i.id+'\' action="" style="text-align:center;overflow:auto;height:100%">\n\t\t\t\t<div id=\'timeCard'+i.id+"' style='height:180px'></div>\n\t\t\t\t<div id='evCard"+i.id+"' style='height:calc(100% - 230px)'></div>\n\t\t\t\t<div id='buttonDiv"+i.id+"' style='height:30px'></div>\n\t\t\t</div>\n\t\t",e='\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Stime' id='Stime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t\t\t</div>\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Etime' id='Etime"+i.id+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n\t\t\t</div>\n\t\t",n='\n\t\t\t<div class="layui-form-item" style=\'margin-top:10px\'>\n\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t</div>\n\t\t";L("#right"+i.id).append(t),(new fa).render("#timeCard"+i.id,M.$t("leftbar.form.selecttime"),e),L("#buttonDiv"+i.id).append(n);var a=O.form;a.render(),ie.renderDateTime("Stime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("Etime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var r=i;a.on("submit(btnQuery"+i.id+")",function(t){try{if(new Date(t.field.Stime)>new Date(t.field.Etime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),r.CheckedTime=e,r.loadData()}catch(t){}return!1})},i.chartName="PeakFrequency",i.CheckedTime=[],i.InitChart(),i.InitQuery(),i}return Hs(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chart&&this.chart.Dispose(),this.chart=null}catch(t){}},e.prototype.InitChart=function(t){var e=this;void 0===t&&(t=!1);var n=this;L(this.element).addClass("peakFrequencyChart");var i=new ga;i.items=[{id:"left"},{id:"right"}],i.splitConfig=[{ids:["left","right"],size:[85,15],callBack:function(){e.Resize()}}],new va(i,this.id).render(this.element);var a=new Rs("left"+this.id,Yt.First,{onMaxBtnClick:function(){n.Resize()}});a.layout._InitHelperInfo({path:this.Path||"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),a.chartConfig.isShowDisplayPoint=!1,a.menuInstance.RemoveMenuItem("enableDynamicCursor"),a.menuInstance.RemoveMenuItem("remark"),a.menuInstance.RemoveMenuItem("LockChart"),a.chartConfig.isAllowMaxBtn=t,a.AddMenuItem([{id:"setFrequencyRange",name:"设置频率区间值",callback:function(){var t=Object(f.v)("setFrequencyRange")||1,e="<div class=''> \n                        <div class=\"layui-form-customline\">\n                        设置频率区间范围:\n                        </div> \n                        <div class='layui-form-customline'> \n                         <input id=\"setFrequencyRange"+n.id+"\" type='text' name='setFrequencyRange' min='0' max='240' class='layui-layer-input' value='"+t+"' style='width: 80px;height:28px;' />\n                        </div> \n                     </div>";U.prompt({title:"设置频率区间",content:e,btn:[M.$t("btn.ok")],shadeClose:!0},function(t,e){if(!(t<0)){var i=L("#setFrequencyRange"+n.id).val()||.5;if(parseInt(i)>10)U.msg("设置区间应不大于10");else if(parseFloat(i)<=0)U.msg("设置区间应大于0");else{try{n.groupInterval=i,n.loadData()}catch(t){}U.close(e)}}}),L("#setFrequencyRange"+n.id).val(t)}}]),a.Init(),this.chart=a},e}(J),_s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ns=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="PistonRodTrackChart",i.Resize=function(){i.chartList&&i.chartList.map(function(t){t.Resize()})},i.onAssetChange=function(t){t.data;i.chartList[0].layout.UpdateHelperInfo({path:i.Path})},i.chartList=[],i.InitChart=function(){var t=new qt("top"+i.id,Yt.None,null);t.menuInstance.isOpen=!1,t.layout._InitHelperInfo({path:i.Path}),t.Init(),t.render([],"","",{enabledHotkey:!1,series:[{name:"随机数据",colorByPoint:!0,data:[]}],chart:{margin:[5,5,20,5],type:"scatter",backgroundColor:"#FFF",plotBackgroundColor:"#FFF",plotBorderColor:"#FFF",options3d:{enabled:!0,alpha:14.4,beta:-7.8,depth:200,viewDistance:5,axisLabelPosition:"auto",fitToPlot:!0,frame:{bottom:{size:1,color:"rgba(0,0,0,0.02)"},back:{size:1,color:"rgba(0,0,0,0.04)"},side:{size:1,color:"rgba(0,0,0,0.06)"},front:{size:1,color:"rgba(0,0,0,0.08)"},left:{size:1,color:"rgba(0,0,0,0.06)"},right:{size:1,color:"rgba(0,0,0,0.04)"},top:{size:1,color:"rgba(0,0,0,0.02)"}}}},yAxis:{min:0,max:10,title:null},xAxis:{min:0,max:10,gridLineWidth:1},zAxis:{min:0,max:10}});var e=t.hchartInstance;L(e.container).bind("mousedown.hc touchstart.hc",function(t){var n,i,a=(t=e.pointer.normalize(t)).pageX,r=t.pageY,o=e.options.chart.options3d.alpha,s=e.options.chart.options3d.beta;L(document).bind({"mousemove.hc touchdrag.hc":function(t){i=s+(a-t.pageX)/5,i=Math.min(100,Math.max(-100,i)),e.options.chart.options3d.beta=i,n=o+(t.pageY-r)/5,n=Math.min(100,Math.max(-100,n)),e.options.chart.options3d.alpha=n,e.redraw(!1)},"mouseup touchend":function(){L(document).unbind(".hc")}})});var n=new qt("bottom1"+i.id,Yt.First,null);n.Init(),n.layout.UpdateHelperInfoVisible(!0),n.render([[]],"","");var a=new qt("bottom2"+i.id,Yt.First,null);a.Init(),a.layout.UpdateHelperInfoVisible(!0),a.render([[[1,1],[1,2],[1,3]]],"",""),i.chartList.push(t),i.chartList.push(n),i.chartList.push(a)},i.CreateLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"top"},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}],t.splitConfig=[{ids:["top","bottom"],callBack:function(){i.Resize()},isVertical:!0},{ids:["bottom1","bottom2"],callBack:function(){i.Resize()}}];var e=new va(t,i.id);e.render(i.element),i.chartLayout=e},i.CreateLayout(),i.InitChart(),i}return _s(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.chartList&&this.chartList.map(function(t){t.Dispose()}),this.chartList=null,this.chartLayout&&this.chartLayout.Dispose()},e}(J),js=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ys=function(){return(Ys=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},zs=Object(f.v)("RZ_Compatibility_Mode"),Gs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angInteral=0,e.position=0,e.direction=!0,e.rYAxis=0,e.formatXaxis=function(t){return e.direction?360-t:t},e.CalcWithXaxis=function(t){return e.direction?t:360-t},e.CalcData=function(){var t=e;return e.data[0].map(function(e){return[t.formatXaxis(e[0]),e[1]]})},e.UpdateLayoutHelperInfo=function(){var t=e.getSelectedText(!1);e.layout.UpdateHelperInfo({CurosrValue:t})},e.moveToSelectedX=function(t,n){void 0===n&&(n=!1),e.selectedXIndex=t;var i=e.data[e.selectedYIndex][e.selectedXIndex],a=e.ChartValToData(i[0]),r=e.CalcChartToXYPosition(a,i[1]);e.AddCheckedPointAndLabel(r.x,r.y,i,n)},e.ResizeChecked=function(){var t=e.data[e.selectedYIndex][e.selectedXIndex],n=t[1],i=t[0];if(i=e.ChartValToData(i),t&&t.length>0){var a=e.CalcChartToXYPosition(i,n);e.AddCheckedPointAndLabel(a.x,a.y,t,!1)}var r=e,o=0;e.hchartHelper.customLabels.map(function(t){r.hchartHelper.RemoveCheckedCustomLabel(t.x,t.y,"polar");var e=r.ChartValToData(r.CustomLabel[o].x),n=r.CalcChartToXYPosition(e,r.CustomLabel[o].y),i=n.x,a=n.y;r.hchartHelper.AddCustomLabel(i,a,t.text,"polar"),o++})},e.pointX=0,e.pointY=0,e.orginx=0,e.orginy=0,e.ChartValToData=function(t){var n=t;return e.direction?((n+=e.position)>360&&(n-=360),n=360-n):(n+=e.position)>360&&(n-=360),n},e.DataToChartVal=function(t){var n=0;return e.direction?n=360-t-e.position:(n=t-e.position)<0&&(n+=360),n},e.CustomLabel=[],e.CalcChartToXYPosition=function(t,n){n*=e.rYAxis;var i=(e.hchartInstance.plotSizeX+e.hchartInstance.plotLeft/4)/2,a=(e.hchartInstance.plotSizeY+e.hchartInstance.plotTop/4)/2;return e.orginx=i,e.orginy=a,{x:i+n*Math.sin(t*Math.PI/180),y:a-n*Math.cos(t*Math.PI/180)}},e.AddCheckedPointAndLabel=function(t,n,i,a,r){void 0===a&&(a=!0),void 0===r&&(r=!0),e.hchartHelper.AddCheckedPoint(t,n,"polar"),e.hchartHelper.AddCheckedLabel(t,n,e.getSelectedText(),"polar"),a&&e.props.onMainCursorMoved&&e.props.onMainCursorMoved(e.selectedXIndex,e.selectedYIndex,i,{isclick:r}),e.updateHelperInfo()},e.convertXToIndex=function(t,n){void 0===n&&(n=0);try{for(var i=Number.MAX_SAFE_INTEGER,a=0,r=0,o=e.data[e.selectedYIndex].length;r<o;r++){var s=Math.sqrt(n*n+e.data[e.selectedYIndex][r][1]*e.data[e.selectedYIndex][r][1]-2*e.data[e.selectedYIndex][r][1]*n*Math.cos((t-e.data[e.selectedYIndex][r][0])*Math.PI/180));i>s&&(i=s,a=r)}return e.selectedXIndex=a,[e.selectedXIndex,e.data[e.selectedYIndex][e.selectedXIndex]]}catch(t){}},e.GetSelectedXY=function(){return e.data[e.selectedYIndex][e.selectedXIndex]},e.RemoveGroup=function(t){e.hchartHelper.RemoveGroup(t)},e.AddTurnImage=function(t,n,i,a,r,o){e.hchartHelper.AddTurnImage(t,n,i,a,r,o)},e.AddAngleLabel=function(t,n,i,a){e.hchartHelper.AddAngleLabel(t,n,i,a)},e.ClacPane=function(){return e.direction?{startAngle:360-e.position,endAngle:720-e.position}:{startAngle:e.position,endAngle:e.position+360}},e.isDrawLine=!0,e.GetBaseOptions=function(t){var n=e.ClacPane(),i=e;return Ys({title:{text:""},exporting:{url:"//export.highcharts.com.cn"},navigation:{buttonOptions:{enabled:!1}},annotations:[],credits:{enabled:!1},boost:{enabled:!0!==zs,allowForce:!1,useGPUTranslations:!1},tooltip:{enabled:!1},plotOptions:{series:{pointStart:0,pointInterval:15},column:{pointPadding:0,groupPadding:0}},legend:{enabled:!1},pane:Ys({},n),chart:{polar:!0,type:"line",spacing:[5,5,5,5],margin:null,reflow:!0,events:{load:function(t){try{i.chartIsLoading=!1;var e=i.data;i.hchartInstance=t.target,i.hchartHelper.hchartInstance=t.target,i.rYAxis=t.target.yAxis[0].transA,e&&e.length>0&&(i.onRenderEnd&&i.onRenderEnd(),i.props&&i.props.onRenderEnd&&i.props.onRenderEnd(i.selectedXIndex,i.selectedYIndex))}catch(t){}},click:function(t){var e=i.data;if(e&&e.length>0){var n=t.xAxis[0].value,a=t.yAxis[0].value;t.yAxis[0].axis.len,t.yAxis[0].axis.max,t.yAxis[0].axis.min;i.rYAxis=t.yAxis[0].axis.transA,n&&a&&i.ChartClick(n,a)}}}},xAxis:{tickInterval:45,min:0,max:360,allowDecimals:!0,showFirstLabel:!0,showLastLabel:!0,labels:{step:1,formatter:function(){var t=i.formatXaxis(this.value);return 360==t?"0°":t+"°"}}},yAxis:{title:{},showFirstLabel:!0,showLastLabel:!0,min:0,labels:{format:e.yUtils?"{value}"+e.yUtils:void 0}},series:[{type:"line",animation:!1,turboThreshold:0,keys:["x","y","id"],allowPointSelect:!1,enableMouseTracking:!1,name:"",data:i.CalcData(),marker:{enabled:!0,radius:2},lineWidth:e.isDrawLine?1:0}]},t)},e}return js(e,t),e.prototype.onHotKeyDown=function(t){if(this.verifyData(this.data))switch(t){case 37:if(this.selectedXIndex>0){this.selectedXIndex=this.selectedXIndex-1;var e=this.data[this.selectedYIndex][this.selectedXIndex],n=this.ChartValToData(e[0]),i=this.CalcChartToXYPosition(n,e[1]);this.AddCheckedPointAndLabel(i.x,i.y,e,!0,!1)}break;case 39:if(this.selectedXIndex<this.data[this.selectedYIndex].length-1){this.selectedXIndex=this.selectedXIndex+1;e=this.data[this.selectedYIndex][this.selectedXIndex],n=this.ChartValToData(e[0]),i=this.CalcChartToXYPosition(n,e[1]);this.AddCheckedPointAndLabel(i.x,i.y,e,!0,!1)}}},e.prototype.onRenderEnd=function(){var t=this.data[this.selectedYIndex][this.selectedXIndex],e=this.ChartValToData(t[0]),n=this.CalcChartToXYPosition(e,t[1]);this.AddCheckedPointAndLabel(n.x,n.y,t),this.props.onMainCursorMoved&&this.props.onMainCursorMoved(this.selectedXIndex,this.selectedYIndex,t,"first")},e.prototype.Resize=function(){try{this.hchartInstance&&(this.hchartInstance.reflow(),this.ResizeChecked())}catch(t){}},e.prototype.ChartClick=function(t,e){this.pointX=t,this.pointY=e;var n=this.DataToChartVal(t),i=this.convertXToIndex(n,e);if(e=i[1][1],t=i[1][0],t=this.ChartValToData(t),i&&i.length>0){var a=this.CalcChartToXYPosition(t,e);this.AddCheckedPointAndLabel(a.x,a.y,i)}this.DispatchEvent("ChartClick",{x:t,y:e})},e.prototype.openDynamicCursorEnable=function(){this.dynamicCursorEnable=!0;var t=this.data[this.selectedYIndex][this.selectedXIndex],e=this.ChartValToData(t[0]),n=this.CalcChartToXYPosition(e,t[1]);this.AddCheckedPointAndLabel(n.x,n.y,t)},e.prototype.AddCustomLabel=function(t,e,n){this.CustomLabel.push({x:e,y:n});var i=this.ChartValToData(e),a=this.CalcChartToXYPosition(i,n);this.hchartHelper.AddCustomLabel(a.x,a.y,t,"polar")},e.prototype.RemoveCheckedCustomLabel=function(t,e){this.CustomLabel=this.CustomLabel.filter(function(n){return n.x!==t&&n.y!==e});var n=this.ChartValToData(t),i=this.CalcChartToXYPosition(n,e);this.hchartHelper.RemoveCheckedCustomLabel(i.x,i.y,"polar")},e.prototype.RemoveAllCustomLabel=function(){this.CustomLabel=[],this.hchartHelper.RemoveAllCustomLabel()},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([function(t,e,n){var i=n.value;n.value=function(){this[e+"_Before"]&&"function"==typeof this[e+"_Before"]&&this[e+"_Before"].apply(this,arguments);var t=i.apply(this,arguments);if(this[e+"_After"]&&"function"==typeof this[e+"_After"]){var n=this[e+"_After"].apply(this,t);n&&n.Rewrite&&!0===n.Rewrite&&(t=n.data)}return t}}],e.prototype,"onRenderEnd",null),e}(qt),Vs=function(){function t(t,e,n,i,a,r,o,s,l){var c=this;void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===l&&(l=!0),this.onWhenHidden=function(){if(c.chart)try{c.chart.data=[[]],c.chart.hchartInstance.destroy()}catch(t){}},this.Resize=function(){var t=c,e=t.chart;e.hchartInstance&&e.hchartInstance.reflow(),t.renderGroup&&t.renderGroup.destroy(),e.hchartInstance&&e.hchartInstance.renderer&&(c.renderImg(e),e.ResizeChecked())},this.render=function(t){var e=c.chart;if(e.position=c.xAngle,e.direction=1==c.Rotation,t){t.XData,t.YData;var n=t.chartData,i=t.XUnit,a=t.YUnit;null==n||n.sort(function(t,e){return Object(f.e)(t[3])-Object(f.e)(e[3])}),e.selectedXIndex=0,e.render([n],i,a),c.renderGroup&&c.renderGroup.destroy(),c.renderImg(e)}},this.UpHelperInfo=function(t){c.chart.layout.UpdateHelperInfo(t)},this.moveMainCursor=function(t,e,n,i){try{var a,r;if(c.chart.selectedYIndex=e,2==n.length?null!==(a=rt.GetMostNearIndexData(Object(f.e)(n[1][3]),c.chart.data[0],"3",function(t){return Object(f.e)(t)},!1,!0,t))&&void 0!==a&&(c.chart.selectedXIndex=a):null!==(a=rt.GetMostNearIndexData(Object(f.e)(n[3]),c.chart.data[0],"3",function(t){return Object(f.e)(t)},!1,!0,t))&&void 0!==a&&(c.chart.selectedXIndex=a),c.chart.selectedYIndex=0,r=c.chart.data[c.chart.selectedYIndex][c.chart.selectedXIndex]){c.chart.UpdateLayoutHelperInfo();var o=c.chart.ChartValToData(r[0]),s=c.chart.CalcChartToXYPosition(o,r[1]);c.chart.AddCheckedPointAndLabel(s.x,s.y,r,!1)}}catch(t){}},this.xAngle=n,this.Rotation=a,this.chart=new Gs(t,Yt.Last,{onMainCursorMoved:function(t,e,n,i){o&&o(t,e,n,i)},onMainCursorMoving:function(t,e,n,i){o&&o(t,e,n,i)},onSetExtremes:null,onWillRender:null});var u=this.chart;this.chart.Resize=this.Resize,u.layout.generateToolbox=!1,u.layout._InitHelperInfo({path:r||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),u.chartConfig.isAllowMaxBtn=l,u.Init(),u.menuInstance.RemoveMenuItem("LockChart"),u.menuInstance.RemoveMenuItem("toolbar")}return t.prototype.Dispose=function(){try{this.chart.Dispose()}catch(t){}},t.prototype.renderImg=function(t){if(this.renderGroup)try{this.renderGroup.destroy()}catch(t){}var e=t.hchartInstance.renderer.g().attr({zIndex:5}).add();t.AddTurnImage(e,1==this.Rotation?n(116):n(117),t.hchartInstance.chartWidth-60,t.hchartInstance.plotTop+10,60,60),this.renderGroup=e},t}(),Ks=function(){function t(t,e,n,i,a,r,o,s){var l=this;if(this.FreqTag=1,this.pointData=[],this.ResizeChart=function(){l.chart.Resize()},this.changeChartMeun=function(t){var e=l;t.menuInstance.RemoveMenuItem("toolbar"),t.menuInstance.AddMenuItem("toolbar"+t.menuInstance._id,function(){return t.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")},function(){var n=!t.layout.toolBoxVisibility;L(".toolbar"+e.id+" .menu-item-name").html(n?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),n?(L(l.element).find(".rzToolBox").hide(),L(l.element).find(".rzToolBox").siblings().css("left",0)):(L(l.element).find(".rzToolBox").show(),L(l.element).find(".rzToolBox").siblings().css("left","40px")),e.ResizeChart()},"Setting"+t.menuInstance._id,"toolbar"+l.id)},this.InitChart=function(){var t=l;l.chart=new Vs(l.element,"",l.pointData[0].Angle||0,0,l.pointData[0].Direction,l.name,function(e,n,i,a){t.chart.chart.UpdateLayoutHelperInfo(),t.onChartMove&&t.onChartMove(e,n,i,a)},function(t,e,n){});var e=[],n=[];l.pointData.map(function(t){e.push(t.id),n.push(t.name)})},this.LoadData=function(t,e,n,i){e||(e=l.stime),n||(n=l.etime),t||(t=l.pointData),i||(i=l.FreqTag),l.stime=e,l.etime=n,l.pointData=t,l.FreqTag=i;var a=l.chart,r=l;try{a.chart.hchartInstance.destroy()}catch(t){}var o=l.pointData[0].id||"";null!=o&&null!=o&&""!=o&&l.FreqTag&&Si.FetchAmpPhases(o,0,l.FreqTag,e,n).then(function(t){if(t&&t.data&&t.data.Datas){for(var e=[],n=null,i=0,a=t.data.Datas.length;i<a;i++){n=t.data.Datas[i];var o=(Math.round(1e3*n.RunSpeed)/1e3).toFixed(3)+" RPM";e.push([Math.round(1e3*n.Phase)/1e3,Math.round(1e3*n.Amp)/1e3,o,Object(f.r)(n.MeasDate)])}r.chart.render({chartData:e,XUnit:"°",YUnit:t.data.Unit}),r.chart.chart.UpdateLayoutHelperInfo()}}).catch(function(t){})},this.LoadDataByKey=function(t,e){var n=l;e||(e=l.FreqTag),null!=t&&null!=t&&e&&Si.FetchAmpPhases(t,1,e,null,null,l.sectionId).then(function(t){var e=t.data,i=[];e&&((e.Datas||[]).map(function(t){var e=(Math.round(1e3*t.RunSpeed)/1e3).toFixed(3)+" RPM",n=t.Amp,a=t.Phase,r=Object(f.r)(t.MeasDate);i.push([a,n,e,r])}),n.chart.render({chartData:i,XUnit:"°",YUnit:e.Unit}),n.chart.chart.UpdateLayoutHelperInfo())}).catch(function(t){})},this.MoveChartCursor=function(t,e){try{t.selectedXIndex=e,t.MoveMainCursor(!0,!0,!0,!1,!1)}catch(t){}},!t)throw"ele is null";if(this.pointData=i,this.name=e,this.sectionId=n,this.stime=a,this.etime=r,this.FreqTag=o,this.onChartMove=s,Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}this.id=Object(f.y)(),this.InitChart()}return t.prototype.Dispose=function(){var t=this;try{this.chart.Dispose(),Object.keys(this.chart).map(function(e){t.chart[e].Dispose()})}catch(t){}},t.prototype.Clear=function(){var t=this;try{Object.keys(this.chart).map(function(e){t.chart[e].Clear()})}catch(t){}},t}(),Ws=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xs=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Resize=function(){i.chartList.map(function(t){t.ResizeChart()})},i.onWhenHidden=function(){},i.Reset=function(){L("#left"+i.id).html(""),i.CheckedSection=[],i.chartList.map(function(t){t.Dispose()}),i.chartList=[],i.SectionData=[],i.TabDataList={},i.table.reload({data:[]}),i.UpdateSection()},i.chartList=[],i.ClearChart=function(){for(var t=0;t<i.chartList.length;t++){i.chartList[t].Dispose();var e="#Section"+i.chartList[t].id;L(e).remove()}i.chartList=[]},i.lastDeviceId="",i.onAssetChange=function(){i.lastDeviceId!==i.deviceId&&(i.Reset(),i.lastDeviceId=i.deviceId,i.deviceId&&i.FetchSectionData())},i.layout={},i.layout2={},i.InitLayout=function(){L(i.element).append('<div style="height:100%;"><div id="left'+i.id+"\" class='rzAxisPanelParent'>\n\n\t\t\t\t</div><div id='right"+i.id+'\' style="float:left;height:100%;"></div></div>');L(i.element).height();i.layout=Ji(["#left"+i.id,"#right"+i.id],{gutterSize:5,cursor:"row-resize",sizes:[80,20],onDragEnd:function(){i.chartList.map(function(t){return t.ResizeChart()})}})},i.SectionData=[],i.FetchSectionData=function(){var t=i;Si.FetchSections(i.deviceId).then(function(e){e&&e.data&&e.data.length>0&&(e.data.map(function(e){try{e.XPoint&&e.YPoint&&t.SectionData.push({id:e.ID,BearingBushCoef:e.BearingBushCoef,Direction:e.Direction,name:e.SectionName,xAngle:e.XPoint.Angle,yAngle:e.YPoint.Angle,point:[{id:e.XPoint.ID,name:e.XPoint.NodeName,Angle:e.XPoint.Angle,Direction:e.Direction},{id:e.YPoint.ID,name:e.YPoint.NodeName,Angle:e.YPoint.Angle,Direction:e.Direction}]})}catch(t){}}),t.UpdateSection(),t.InitDefaultSection())}).catch(function(t){})},i.UpdateSection=function(){var t=i;L("#jiemian"+i.id+" .layui-form-item").html("");var e="";i.SectionData&&i.SectionData.length>0?i.SectionData.map(function(n){e+='<input type="checkbox" name="ckSection-'+n.id+'" lay-skin="primary" title="'+n.name+"\" value='"+n.id+"' id=\"Section"+t.id+"_"+n.id+'">'}):e+="<span>"+M.$t("leftbar.title.nosection")+"</span>",L("#jiemian"+i.id+" .layui-form-item").html(e),L("#date"+i.id+" .layui-form-item").html("");var n=O.form,a=O.laydate;["PolarCoordinatesChartSTime","PolarCoordinatesChartETime"].map(function(e){a.render({elem:"#"+e+t.id,type:"datetime"})}),n.render()},i.rightstate=1,i.righttablestate=0,i.LastMeasDate="",i.frequency="",i.TableRowClick=function(t){var e=t.MeasDate;i.LastMeasDate=e,i.UpdateChart(i.LastMeasDate,i.frequency)},i.FormatTable=function(t){var e=t.DataType;return 5==e?t.Description:9==e?M.$t("datatable.value.blackbox"):""},i.RenderDone=function(t,e,n){L("#righttable"+i.id).find("[data-index='0']").addClass("layui-table-click").trigger("click").siblings().removeClass("layui-table-click")},i.InitRight=function(){var t=L(i.element).height(),e=L(i.element).width();L("#right"+i.id).width(),L("#right"+i.id).height();L("#right"+i.id).append('\n\t\t<div class="layui-form" id=\'fromAxis\' action=\'\' onclick="return false" style="text-align:center;">\n\t\t<fieldset class="layui-elem-field">\n  <legend>'+M.$t("leftbar.title.section")+'</legend>\n\t\t<div id="jiemian'+i.id+'" style="max-height:200px;overflow-y:auto;">\n\t\t\t<div class="layui-form-item" style="text-align:left;margin-left:10px;">\t\t\t\n\t\t    </div>\n\t\t</div>\n\t\t</fieldset>\n\t\t<fieldset class="layui-elem-field">\n\t\t<legend>'+M.$t("panel.legend.title")+'</legend>\n\t<div class="layui-form-item" style="text-align:left;margin-left:10px;">\n\n\t<input type="radio" name="frequency" value="1" title="1X"  checked="">\n\t<input type="radio" name="frequency" value="2" title="2X">\n\n</div>\n</fieldset>\n\t<div class="layui-tab" lay-filter="tabform">\n\t\t<ul class="layui-tab-title">\n\t\t<li lay-id="startstop"  class="layui-this"> '+M.$t("panel.leftbar.startdown")+'</li>\n\t\t\t<li lay-id="normal">'+M.$t("panel.leftbar.normal")+'</li>\n\t\t</ul>\n\t\t<div class="layui-tab-content" style="padding:0px;">\n\t\t\t<div class="layui-tab-item  layui-show">\n\t\t\t\t<div id=\'rightpane'+i.id+"' style=\"height:"+(.1*t-2.5)+";width:"+(.2*e-2.5)+';">\n\t\t\t\t\t<div class="layui-form-item" style="margin-top:10px;margin-left:10%;margin-right:10%;text-align:center;">\n\t\t\t\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnAxis'+i.id+'_table" id="btnAxis'+i.id+'_table">'+M.$t("btn.ok")+"</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id='righttable"+i.id+"' style=\"height:"+(.5*t-2.5)+";width:"+(.2*e-2.5)+";\" ><div id='righttable1"+i.id+"' lay-filter='"+i.id+'\'></div></div>\n\t\t\t</div>\n\t\t\t<div class="layui-tab-item">\n\t\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t\t<input type='text' class='layui-input' name='PolarCoordinatesChartSTime' id='PolarCoordinatesChartSTime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="width:100%;height:28px;" maxlength="15" />\n\t\t\t\t</div>\n\t\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t\t<input type='text' class='layui-input' name='PolarCoordinatesChartETime' id='PolarCoordinatesChartETime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="width:100%;height:28px;" />\n\t\t\t\t\t</div>\n\n\t\t\t\t<div class="layui-form-item" style="margin-top:10px;margin-left:10%;margin-right:10%;text-align:center;">\n\t\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnAxis'+i.id+'" id="btnAxis'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\t\n\t</div>\n\t\t</div>"),i.CreateTable();var n=O.form;n.render(),ie.renderDateTime("PolarCoordinatesChartSTime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("PolarCoordinatesChartETime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var a=i;O.element.on("tab(tabform)",function(t){a.rightstate=t.index||0}),n.on("submit(btnAxis"+i.id+")",function(t){var e=[];try{if(new Date(t.field.PolarCoordinatesChartSTime)>new Date(t.field.PolarCoordinatesChartETime))return O.layer.msg(M.$t("panel.startthanend.msg")),!1;Object.keys(t.field).map(function(n){n.indexOf("ckSection")>=0&&e.push(t.field[n])});var n=t.field.frequency;a.frequency=n;var i=a.GetSeqBySelction(e);a.DiffSectionData(i),a.AddPanel(i,t.field.PolarCoordinatesChartSTime,t.field.PolarCoordinatesChartETime,t.field.frequency)}catch(t){}return!1}),n.on("submit(btnAxis"+i.id+"_table)",function(t){var e=[];try{Object.keys(t.field).map(function(n){n.indexOf("ckSection")>=0&&e.push(t.field[n])});var n=t.field.frequency;a.frequency=n,a.InitTableData(e)}catch(t){}return!1})},i.GetPointsDataFromCheckSection=function(t){var e=[];return i.SectionData.map(function(n){t.indexOf(n.id)>=0&&(e.push(n.point[0]),e.push(n.point[1]))}),e},i.InitDefaultSection=function(){},i.GetSeqBySelction=function(t){var e=[];return i.SectionData.map(function(n){t.indexOf(n.id)>=0&&e.push(n.id)}),e},i.DiffSectionData=function(t){if(i.CheckedSection){var e=i;i.CheckedSection.map(function(n){e.SectionData.map(function(a){a.id==n&&(a.point||[]).map(function(a){t.indexOf(n)<0?(e.chartList.filter(function(t){return t.sectionId==a.id})[0].Dispose(),e.chartList=e.chartList.filter(function(t){return t.sectionId!=a.id}),L("#Section"+a.id).remove()):(L("#Section"+a.id).hasClass("rzAxisFullPanel")&&t.length>1?(L("#Section"+a.id).removeClass("rzAxisFullPanel"),L("#Section"+a.id).addClass("rzAxisPanel")):1==t.length&&L("#Section"+a.id).addClass("rzAxisFullPanel"),L("#Section"+a.id).hasClass("rzAxisPanelMax")?(L("#Section"+a.id).removeClass("rzAxisPanelMax"),i.chartList.filter(function(t){return t.sectionId==a.id})[0].ResizeChart()):L("#Section"+a.id).show())})})})}},i.TabDataList={},i.InitTableData=function(t){var e=t,n=i,a=0;0==t.length&&i.ClearChart(),i.SectionData.map(function(i){if(e.indexOf(i.id)>=0){i.point;i.point.map(function(i){Si.FetchVibDatas(i.id,[9,5]).then(function(r){var o=r.data;a++;var s={};if(o.Datas)for(var l=0,c=o.Datas.length;l<c;l++)s[o.Datas[l].MeasDate]=o.Datas[l];s.sourceData=o.Datas,s.falg=!0,n.TabDataList[i.id]=s,a===2*e.length&&(n.ClearChart(),n.AddPanel(t,"","","",!1),n.RenderTable(t))})})}})},i.UpdateSelectSection=function(t,e,n){var a=i;n.map(function(n){n.point.map(function(n){a.chartList.map(function(i){if(i.sectionId==n.id){var r="";try{r=a.TabDataList[i.sectionId][t].WaveKey}catch(t){}i.LoadDataByKey(r,e)}})})})},i.GetSectionById=function(t){var e=[];return i.SectionData.map(function(n){t.indexOf(n.id)>=0&&e.push(n)}),e},i.UpdateChart=function(t,e){var n=i;i.chartList.map(function(i){if(i.Clear(),n.TabDataList[i.sectionId]){var a="";try{a=n.TabDataList[i.sectionId][t].WaveKey}catch(t){}i.LoadDataByKey(a,e)}})},i.AddPanel=function(t,e,n,a,r){void 0===r&&(r=!0),i.CheckedSection=t;var o="rzAxisPanel";t&&1==t.length&&(o="rzAxisFullPanel");var s=i;t.map(function(t){var l=s.SectionData.filter(function(e){return e.id==t})[0]||{};(l.point||[]).map(function(t){if(0==L("#Section"+t.id).length){L("#left"+s.id).append("<div id='Section"+t.id+"' class='"+o+'\' style=""></div>');var c=l.name+"_"+t.name,u=new Ks("Section"+t.id,c,t.id,[t],e,n,a,function(t,e,n,a){s.chartList&&i.chartList.map(function(i){i.chart!=u.chart&&i.chart.moveMainCursor(t,e,n,a)})});u.LoadData([t],e,n,a),s.chartList.push(u)}else{r&&s.chartList.filter(function(e){return e.sectionId==t.id})[0].LoadData([t],e,n,a)}})})},i.InitLayout(),i.InitRight(),i.UpdateSection(),i.chartName="PolarCoordinatesChart",i.layout2=Ji(["#rightpane"+i.id,"#righttable"+i.id],{gutterSize:5,direction:"vertical",sizes:[20,80],onDragEnd:function(){i.chartList&&i.chartList.map(function(t){return t.ResizeChart()})}}),i}return Ws(e,t),e.prototype.Dispose=function(){try{this.event.Dispose(),this.chartList.map(function(t){t.Dispose()}),this.table.Dispose(),this.BaseDispose()}catch(t){}},e.prototype.CreateTable=function(){var t=this,e=O.table,n=L(this.element).height();L(this.element).width();this.table=e.render({elem:"#righttable1"+this.id,height:.5*n,data:[],done:function(e,n,i){t.RenderDone(e,n,i)},page:{curr:1,layout:["count","prev","page","next"],limits:[20,50,100],groups:1,first:!1,limit:50,last:!1},cols:[[{field:"MeasDate",minWidth:50,title:M.$t("datatable.title.measdate"),templet:function(t){return""+Object(f.r)(t.MeasDate)}},{field:"DataType",minWidth:50,title:M.$t("datatable.title.datatype"),templet:function(e){return""+t.FormatTable(e)}}]]}),e.on("row("+this.id+")",function(e){var n=e.data;e.tr.addClass("layui-table-click").siblings().removeClass("layui-table-click"),t.TableRowClick(n)})},e.prototype.RenderTable=function(t){var e=-1,n=this,i="";Object.keys(this.TabDataList).map(function(t){var a=Object.keys(n.TabDataList[t]).length;a>e&&(e=a,i=t)}),n.data=this.TabDataList[i].sourceData;var a=L("#righttable"+this.id);if(this.table.reload({height:a.height(),data:this.data,done:function(t,e,i){n.RenderDone(t,e,i)}}),this.RenderDone(0,0,0),this.LastMaxKey!=i&&(this.LastMaxKey=i,n.data&&n.data[0])){var r=n.data[0].MeasDate;if(this.LastMeasDate!=r)this.LastMeasDate=r,this.UpdateChart(this.LastMeasDate,this.frequency);else{var o=this.GetSectionById(t);this.UpdateSelectSection(this.LastMeasDate,this.frequency,o)}}},e}(J),qs=Object(f.v)("RZ_Compatibility_Mode"),Js=function(){function t(t,e,n,i,a,r,o,s){var l=this;void 0===e&&(e=null),void 0===n&&(n=!0),void 0===i&&(i=null),void 0===a&&(a=null),void 0===o&&(o=""),void 0===s&&(s=""),this.Resize=function(){l.chart&&l.chart.Resize()},this.onWhenHidden=function(){if(l.chart)try{l.chart.data=[[]],l.chart.hchartInstance.destroy()}catch(t){}},this.destroy=function(){try{l.chart.data=[[]],l.chart.hchartInstance.destroy()}catch(t){}},this.onAssetTypeNotSupport=function(t){},this.render=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=""),l.chart.render([t],e,n,!0===qs?{boost:!1}:null,null,null,null,null)},this.CursorMoveEvent=function(t){if((t=t.data).id!=l.chart.id){var e=t.selectIndex;l.chart.selectedXIndex=e,l.chart.MoveMainCursor(!0,!0,!0,!1,!1),l.chart.updateHelperInfo()}},this.ExtremesEvent=function(t){if(t=t.data,l.chart.triggerSetExtremes=!1,t.id!=l.privateId){var e=t.min,n=t.max;try{l.chart.verifyData()&&l.chart.hchartInstance.xAxis[0].setExtremes(e,n,!0,!1,"NotDispatch")}catch(t){}}l.chart.triggerSetExtremes=!0},this.id=r,this.privateId=Object(f.y)(),this.Path=o;var c=this;this.cursorMoveCallback=i,this.onSetExtremes=a;var u=new qt(t,Yt.First,{onMainCursorMoved:function(t,e,n){W.fireEvent("PotierChart_MainCursorMoved",{id:c.id,selectIndex:t,privateId:c.privateId,chartPointData:n})},onMainCursorMoving:function(t,e,n){W.fireEvent("PotierChart_MainCursorMoved",{id:c.id,selectIndex:t,privateId:c.privateId,chartPointData:n})},onRenderEnd:null,onSetExtremes:function(t,e){W.fireEvent("PotierChart_Extremes",{id:c.privateId,min:t,max:e})},onWillRender:null});u.chartConfig.xIsSort=!1,W.addEvent("PotierChart_MainCursorMoved",function(t){var e=t.data;if(e.id!=c.id||e.id==c.id&&e.privateId!=c.privateId){var n=e.chartPointData,i=rt.GetMostNearIndex(Object(f.e)(n[2]),c.chart.data[0].map(function(t){return[Object(f.e)(t[2]),0]}))||e.selectIndex;c.chart.selectedXIndex=i,c.chart.MoveMainCursor(!0,!0,!0,!1,!1),c.chart.updateHelperInfo()}}),W.addEvent("PotierChart_Extremes",function(t){var e=t.data;if(c.chart.triggerSetExtremes=!1,e.id!=c.id){var n=e.min,i=e.max;try{c.chart.verifyData()&&c.chart.hchartInstance.xAxis[0].setExtremes(n,i,!0,!1,"NotDispatch")}catch(t){}}c.chart.triggerSetExtremes=!0}),u.layout._InitHelperInfo({chartName:s,path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),u.chartConfig.isAllowMaxBtn=n,u.Init(),this.chart=u,u.convertXToIndex=function(t,e){void 0===e&&(e=0);try{t=u.hchartInstance.xAxis[0].toValue(t),e=u.hchartInstance.yAxis[0].toValue(e);var n=rt.GetMostNearLoop2D(t,e,l.chart.data[0],0);return[n,l.chart.data[l.chart.selectedYIndex][n]]}catch(t){}},u.getSelectedText=function(t){void 0===t&&(t=!0);try{var e=JSON.parse(JSON.stringify(c.chart.data[c.chart.selectedYIndex][c.chart.selectedXIndex]));"°"===u.xUtils&&(e[0]=(e[0]%360).toFixed(3));var n="",i={rate:1,unit:u.xUtils};if(u.chartConfig.convertUnit&&(i=Object(f.b)(u.xUtils)),u.xUtils=i.unit,n=(e[0]*i.rate).toFixed(0)+c.chart.xUtils+"，"+e[1].toFixed(3)+c.chart.yUtils,c.chart.ChartKeys.length<e.length)for(var a=c.chart.ChartKeys.length;a<e.length;a++)n+="，"+e[a];return t&&(n=n),c.chart.cursorList&&c.chart.cursorList.length>0&&c.chart.cursorList.forEach(function(e){e.GetSelectText&&(n+=e.GetSelectText(t))}),n}catch(t){return""}},u.menuInstance.RemoveMenuItem("LockChart")}return t.prototype.Dispose=function(){try{this.chart&&this.chart.Dispose()}catch(t){}},t}(),Zs=function(){function t(t,e,n,i,a,r,o,s,l){var c=this;if(void 0===a&&(a={}),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===l&&(l=!0),this.pointData=[],this.ResizeChart=function(){var t=c;try{Object.keys(t.chartsBox).map(function(e){t.chartsBox[e].Resize()})}catch(t){}},this.Init=function(){var t=c;L(c.element).append("\n\t\t\t<div id='Amp"+c.id+"' style='width:100%;'></div>\n\t\t\t<div id='Phar"+c.id+"' style='width:100%;'></div>"),Ji(["#Amp"+c.id,"#Phar"+c.id],{gutterSize:5,direction:"vertical",sizes:[50,50],onDragEnd:function(){t.ResizeChart()}})},this.SwitchCursorLabel=function(t){var e=c;Object.keys(c.chartsBox).map(function(n){var i=null;i=e.chartsBox[n],t?i.chart.openDynamicCursorEnable():i.chart.closeDynamicCursorEnable(),L("#enableDynamicCursor"+i.chart.GetChartId()+" .menu-item-name").html(t?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open"))})},this.InitChart=function(){var t=c,e=new Js("Amp"+c.id,c.name+M.$t("chart.help.amp"),!1,c.cursorMoveCallback,c.onSetExtremes,c.id,c.name,M.$t("chart.help.amp"));e.chart.dynamicCursorEnable=null==t.LastDynamicCursor||t.LastDynamicCursor,e.chart.props.onBaseMeunBtnClick=function(e,n,i){switch(e){case"enableDynamicCursor":t.SwitchDynamicCursor&&t.SwitchDynamicCursor(i)}};var n=new Js("Phar"+c.id,c.name+M.$t("chart.help.phar"),!1,c.cursorMoveCallback,c.onSetExtremes,c.id,c.name,M.$t("chart.help.phar"));n.chart.dynamicCursorEnable=null==t.LastDynamicCursor||t.LastDynamicCursor,n.chart.props.onBaseMeunBtnClick=function(e,n,i){switch(e){case"enableDynamicCursor":t.SwitchDynamicCursor&&t.SwitchDynamicCursor(i)}},c.chartsBox.AmpChart=e,c.chartsBox.PharChart=n;var i=L(c.element).hasClass("rzAxisPanelMax")?M.$t("headbar.title.resize"):M.$t("headbar.title.maxsize");L("#Amp"+c.id).find(".rzgraph_helperinfo").append("<li style='float:right;position: absolute;right:0;'><div id='btnZoomPanel"+c.id+"' title='"+i+"' style='' class='rzBtnMaxSize'></div></li>"),L("#btnZoomPanel"+c.id).click(function(){L(this).attr("title")==M.$t("headbar.title.maxsize")?(L(this).attr("title",M.$t("headbar.title.resize")),L(this).addClass("rzBtnMinSize"),L(t.element).addClass("rzAxisPanelMax"),L(t.element).siblings().hide()):(L(this).attr("title",M.$t("headbar.title.maxsize")),L(this).removeClass("rzBtnMinSize"),L(t.element).removeClass("rzAxisPanelMax"),L(t.element).siblings().show()),t.ResizeChart()})},this.UpdateCharts=function(t,e){var n=c.chartsBox.AmpChart,i=c.chartsBox.PharChart;n.destroy(),i.destroy();t&&Si.FetchAmpPhases(t,1,e,null,null,c.sectionId).then(function(t){var e=t.data,a=[],r=[];if(e&&e.Datas){for(var o=e.Datas.length-1;o>=0;o--){var s=e.Datas[o],l=s.RunSpeed,c=s.Amp,u=s.Phase,h=Object(f.r)(s.MeasDate);a.push([l,c,h]),r.push([l,u,h])}n.render(a,"RPM",e.Unit||""),i.render(r,"RPM","°")}}).catch(function(t){})},this.stime="",this.etime="",this.FreqTag="",this.LoadData=function(t,e,n){c.pointData;t||(t=c.stime),e||(e=c.etime),n||(n=c.FreqTag),c.stime=t,c.etime=e,c.FreqTag=n;var i=c.chartsBox.AmpChart,a=c.chartsBox.PharChart;i.destroy(),a.destroy();var r=c.pointData[0].id||"";null!=r&&null!=r&&Si.FetchAmpPhases(r,0,c.FreqTag,t,e).then(function(t){var e=t.data,n=[],r=[];if(e&&e.Datas){for(var o=e.Datas.length-1;o>=0;o--){var s=e.Datas[o],l=s.RunSpeed,c=s.Amp,u=s.Phase,h=Object(f.r)(s.MeasDate);n.push([l,c,h]),r.push([l,u,h])}i.render(n,"RPM",e.Unit||""),a.render(r,"RPM","°")}}).catch(function(t){})},this.OnPotierTableChange=function(t){c.WaveKey&&c.WaveKey==t.WaveKey&&c.Frequency==t.Frequency||(c.WaveKey=t.WaveKey,c.Frequency=t.Frequency,c.UpdateCharts(c.WaveKey,c.Frequency))},this.WaveKey="",this.GetSimpleDataKey=function(t,e,n){var i=[];return t.map(function(t){var a=[];a.push(t[e]),a.push(t[n]),i.push(a)}),i},this.MoveChartCursor=function(t,e){try{t.selectedXIndex=e,t.MoveMainCursor(!0,!0,!0,!1,!1)}catch(t){}},!t)throw"ele is null";if(this.arg=a,this.chartsBox={},this.cursorMoveCallback=r,this.onSetExtremes=o,this.pointData=i,this.LastDynamicCursor=l,this.SwitchDynamicCursor=s,this.name=e,this.sectionId=n,Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}this.id=Object(f.y)(),this.Init(),this.InitChart()}return t.prototype.Dispose=function(){try{var t=this;Object.keys(t.chartsBox).map(function(e){t.chartsBox[e].Dispose()})}catch(t){}},t}(),$s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tl=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.Resize=function(){i.chartList.map(function(t){t.ResizeChart()})},i.onWhenHidden=function(){},i.chartList=[],i.lastDeviceId="",i.Reset=function(){L("#left"+i.id).html(""),i.CheckedSection=[],i.chartList.map(function(t){t.Dispose()}),i.chartList=[],i.SectionData=[],i.TabDataList={};L("#righttable"+i.id);i.table.reload({data:[]}),i.UpdateSection()},i.data=[],i.layout={},i.layout2={},i.onAssetChange=function(){i.lastDeviceId!==i.deviceId&&(i.Reset(),i.lastDeviceId=i.deviceId,i.deviceId&&i.FetchSectionData())},i.RenderDone=function(t,e,n){L("#righttable"+i.id).find("[data-index='0']").addClass("layui-table-click").trigger("click").siblings().removeClass("layui-table-click")},i.FormatTable=function(t){var e=t.DataType;return 5==e?t.Description:9==e?M.$t("datatable.value.blackbox"):""},i.frequency=1,i.TableRowClick=function(t){var e=t.MeasDate;i.LastMeasDate!=e&&(i.LastMeasDate=e,i.UpdateChart(i.LastMeasDate,i.frequency))},i.InitLayout=function(){L(i.element).addClass("rzgraph"),L(i.element).addClass(i.id);var t=L(i.element).height(),e=L(i.element).width();L(i.element).append('<div style="height:100%;width:100%;">\n\t\t\t<div id="left'+i.id+"\" class='rzAxisPanelParent' style=\"float:left;height:"+t+";width:"+(.8*e-2.5)+"\">\n\t\t\t\t</div>\n\t\t\t\t<div id='right"+i.id+"' style=\"float:left;height:100%;width:"+(.2*e-2.5)+'">\n\t\t\t\t\n\t\t\n\t\t\t</div>'),i.layout=Ji(["#left"+i.id,"#right"+i.id],{gutterSize:5,sizes:[80,20],onDragEnd:function(){i.chartList.map(function(t){return t.ResizeChart()})}})},i.SectionData=[],i.FetchSectionData=function(){var t=i;Si.FetchSections(i.deviceId).then(function(e){e&&e.data&&e.data.length>0&&(e.data.map(function(e){try{e.XPoint&&e.YPoint&&t.SectionData.push({id:""+e.ID,BearingBushCoef:e.BearingBushCoef,Direction:e.Direction,name:e.SectionName,xAngle:e.XPoint.Angle,yAngle:e.YPoint.Angle,point:[{id:e.XPoint.ID,name:e.XPoint.NodeName},{id:e.YPoint.ID,name:e.YPoint.NodeName}]})}catch(t){}}),t.UpdateSection())}).catch(function(t){})},i.UpdateSection=function(){var t=i;L("#jiemian"+i.id+" .layui-form-item").html("");var e="";i.SectionData&&i.SectionData.length>0?i.SectionData.map(function(t){e+='<input type="checkbox" name="ckSection-'+t.id+'" lay-skin="primary" title="'+t.name+"\" value='"+t.id+"'>"}):e+="<span>"+M.$t("leftbar.title.nosection")+"</span>",L("#jiemian"+i.id+" .layui-form-item").html(e),L("#date"+i.id+" .layui-form-item").html("");var n=O.form,a=O.laydate;["PolarCoordinatesChartSTime","PolarCoordinatesChartETime"].map(function(e){a.render({elem:"#"+e+t.id,type:"datetime",format:"yyyy/MM/dd HH:mm",lang:M.getLocale()})}),n.render()},i.rightstate=0,i.InitRight=function(){var t=L(i.element).height(),e=L(i.element).width();L("#right"+i.id).append('\n\t\t<div class="layui-form" id=\'fromAxis\' action=\'\' onclick="return false" style="text-align:center;">\n\t\t<fieldset class="layui-elem-field">\n  <legend>'+M.$t("leftbar.title.section")+'</legend>\n\t\t<div id="jiemian'+i.id+'" style="max-height:200px;overflow-y:auto;">\n\t\t\t<div class="layui-form-item" style="text-align:left;margin-left:10px;">\t\t\t\n\t\t    </div>\n\t\t</div>\n\t\t</fieldset>\n\t<fieldset class="layui-elem-field">\n\t\t<legend>'+M.$t("panel.legend.title")+'</legend>\n\t\t<div class="layui-form-item" style="text-align:left;margin-left:10px;">\n\t\t\t<input type="radio" name="frequency" value="1" title="1X" checked="" lay-filter="radiofrequency'+i.id+'">\n\t\t\t<input type="radio" name="frequency" value="2" title="2X" lay-filter="radiofrequency'+i.id+'">\n\t\t</div>\n\t</fieldset>\n\t<div class="layui-tab" lay-filter="tabform">\n\t\t<ul class="layui-tab-title">\n\t\t\t<li lay-id="startstop"  class="layui-this"> '+M.$t("panel.leftbar.startdown")+'</li>\n\t\t\t<li lay-id="normal">'+M.$t("panel.leftbar.normal")+'</li>\n\t\t</ul>\n\t\t<div class="layui-tab-content" style="padding:0px;">\n\t\t\t<div class="layui-tab-item layui-show">\n\t\t\t\t<div id=\'rightpane'+i.id+"_tb' style=\"height:"+(.1*t-2.5)+";width:"+(.2*e-2.5)+';">\n\t\t\t\t\t<div class="layui-form-item" style="margin-top:10px;margin-left:10%;margin-right:10%;text-align:center;" id=\'rightpane'+i.id+'_tb\'>\n\t\t\t\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnAxis'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t<div id='righttable"+i.id+"' style=\"height:"+(.5*t-2.5)+";width:100%;\"><div id='righttable1"+i.id+"' lay-filter='"+i.id+'\'></div></div>\n\t\t\t</div>\n\t\t\t<div class="layui-tab-item">\n\t\t\t\t<div class="layui-form-item" style="padding-left:10px;padding-right:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;text-align:center;padding-right:20px;\"> \n\t\t\t\t\t<input type='text' class='layui-input' name='PotierChartSTime' id='PotierChartSTime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t\t\t\t</div>\n\t\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;text-align:center;padding-right:20px;\"> \n\t\t\t\t\t<input type='text' class='layui-input' name='PotierChartETime' id='PotierChartETime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;"  />\n\t\t\t\t</div>\n\n\t\t\t\t<div class="layui-form-item" style="margin-top:10px;margin-left:10%;margin-right:10%;text-align:center;">\n\t\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnAxis'+i.id+'_normal" id="btnAxis'+i.id+'_normal">'+M.$t("btn.ok")+"</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\t</div>");var n=O.form;n.render(),ie.renderDateTime("PotierChartSTime"+i.id,Object(f.d)(Object(f.c)("d",-1,new Date),"YYYY/MM/DD 00:00"),""),ie.renderDateTime("PotierChartETime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var a=i;O.element.on("tab(tabform)",function(t){a.rightstate=t.index||0}),n.on("submit(btnAxis"+i.id+"_normal)",function(t){var e=[];try{if(new Date(t.field.PotierChartSTime)>new Date(t.field.PotierChartETime))return O.layer.msg(M.$t("panel.startthanend.msg")),!1;Object.keys(t.field).map(function(n){n.indexOf("ckSection")>=0&&e.push(t.field[n])});var n=t.field.frequency;a.frequency=n,a.DiffSectionData(e),a.AddPanel(e),a.UpdateChartListNormal(t.field.PotierChartSTime,t.field.PotierChartETime,n)}catch(t){}return!1}),n.on("submit(btnAxis"+i.id+")",function(t){var e=[];Object.keys(t.field).map(function(n){n.indexOf("ckSection")>=0&&e.push(t.field[n])});var n=t.field.frequency;return a.frequency=n,a.InitTableData(e),a.DiffSectionData(e),a.AddPanel(e),!1}),i.CreateTable()},i.UpdateChartListNormal=function(t,e,n){(i.chartList||[]).map(function(i){i.LoadData(t,e,n)})},i.DiffSection=function(t){var e=[],n=i;return t.map(function(t){n.CheckedSection.indexOf(t)<0&&e.push(t)}),e},i.InitTableData=function(t){var e=t,n=i,a=0;i.SectionData.map(function(i){if(e.indexOf(i.id)>=0){i.point;i.point.map(function(i){Si.FetchVibDatas(i.id,[9,5]).then(function(r){var o=r.data;a++;var s={};if(o.Datas)for(var l=0,c=o.Datas.length;l<c;l++)s[o.Datas[l].MeasDate]=o.Datas[l];s.sourceData=o.Datas,s.falg=!0,n.TabDataList[i.id]=s,a===2*e.length&&n.RenderTable(t)})})}})},i.GetSectionById=function(t){var e=[];return i.SectionData.map(function(n){t.indexOf(n.id)>=0&&e.push(n)}),e},i.LastMeasDate="",i.UpdateSelectSection=function(t,e,n){var a=i;n.map(function(n){n.point.map(function(n){a.chartList.map(function(i){if(i.sectionId==n.id){var r="";try{r=a.TabDataList[i.sectionId][t].WaveKey}catch(t){}var o={WaveKey:r,Frequency:e};i.OnPotierTableChange(o)}})})})},i.UpdateChart=function(t,e){var n=i;i.chartList.map(function(i){if(n.TabDataList[i.sectionId]){var a="";try{a=n.TabDataList[i.sectionId][t].WaveKey}catch(t){}var r={WaveKey:a,Frequency:e};i.OnPotierTableChange(r)}})},i.TabDataList={},i.DiffSectionData=function(t){if(i.CheckedSection){var e=i;i.CheckedSection.map(function(n){e.SectionData.map(function(a){a.id==n&&(a.point||[]).map(function(a){t.indexOf(n)<0?(e.chartList.filter(function(t){return t.sectionId==a.id})[0].Dispose(),e.chartList=e.chartList.filter(function(t){return t.sectionId!=a.id}),L("#Section_Potie"+a.id).remove()):(L("#Section_Potie"+a.id).hasClass("rzAxisFullPanel")&&t.length>1?(L("#Section_Potie"+a.id).removeClass("rzAxisFullPanel"),L("#Section_Potie"+a.id).addClass("rzAxisPanel")):1==t.length&&L("#Section_Potie"+a.id).addClass("rzAxisFullPanel"),L("#Section_Potie"+a.id).hasClass("rzAxisPanelMax")?L("#Section_Potie"+a.id).removeClass("rzAxisPanelMax"):L("#Section_Potie"+a.id).show(),i.chartList.filter(function(t){return t.sectionId==a.id})[0].ResizeChart())})})})}},i.AddPanel=function(t,e){void 0===e&&(e={}),i.CheckedSection=t;var n="rzAxisPanel";t&&1==t.length&&(n="rzAxisFullPanel");var a=i;t.map(function(t){var r=a.SectionData.filter(function(e){return e.id==t})[0]||{};(r.point||[]).map(function(t){if(0==L("#Section_Potie"+t.id).length){L("#left"+a.id).append("<div id='Section_Potie"+t.id+"' class='"+n+'\' style=""></div>');var o=r.name+"_"+t.name,s=new Zs("Section_Potie"+t.id,o,t.id,[t],e,null,null,function(t){a.chartList.map(function(e){e.SwitchCursorLabel(t)}),a.LastDynamicCursor=t},i.LastDynamicCursor);a.chartList.push(s)}})}),i.CheckedSection=t},i.LastDynamicCursor=!0,i.InitLayout(),i.InitRight(),i.UpdateSection(),i.chartName="PotierChart";return i.layout2=Ji(["#rightpane"+i.id+"_tb","#righttable"+i.id],{gutterSize:5,direction:"vertical",sizes:[50,50],onDragEnd:function(){}}),i}return $s(e,t),e.prototype.Dispose=function(){try{this.table.Dispose(),this.BaseDispose(),this.event.Dispose(),this.chartList.map(function(t){t.Dispose()})}catch(t){}},e.prototype.CreateTable=function(){var t=this,e=O.table,n=L(this.element).height();L(this.element).width();this.table=e.render({elem:"#righttable1"+this.id,height:.5*n,data:[],done:function(e,n,i){t.RenderDone(e,n,i)},page:{curr:1,layout:["count","prev","page","next"],limits:[20,50,100],groups:1,first:!1,limit:50,last:!1},cols:[[{field:"MeasDate",minWidth:160,title:M.$t("datatable.title.measdate"),templet:function(t){return""+Object(f.r)(t.MeasDate)}},{field:"DataType",minWidth:50,title:M.$t("datatable.title.datatype"),templet:function(e){return""+t.FormatTable(e)}}]]}),e.on("row("+this.id+")",function(e){var n=e.data;e.tr.addClass("layui-table-click").siblings().removeClass("layui-table-click"),t.TableRowClick(n)})},e.prototype.RenderTable=function(t){var e=-1,n=this,i="";Object.keys(this.TabDataList).map(function(t){var a=Object.keys(n.TabDataList[t]).length;a>e&&(e=a,i=t)}),n.data=this.TabDataList[i].sourceData;var a=L("#righttable"+this.id);if(this.table.reload({height:a.height(),data:this.data,done:function(t,e,i){n.RenderDone(t,e,i)}}),this.LastMaxKey=i,n.data[0]){var r=n.data[0].MeasDate;if(this.LastMeasDate!=r)this.LastMeasDate=r,this.UpdateChart(this.LastMeasDate,this.frequency);else{var o=this.GetSectionById(t);this.UpdateSelectSection(this.LastMeasDate,this.frequency,o)}}},e}(J),el=function(){return function(t,e,n,i,a){var r=this;if(void 0===i&&(i={lowmin:1,lowmax:2558,highmin:1,highmax:2560}),this.getData=function(){return r.transData?r.transData(r.ResData):r.ResData},this.FormSubmitDo=function(t){},this.Init=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=r.getHtml();L(r.element).append(n);var i=r;ie.renderDateTime("SpeedBegTime"+r.id,t||Object(f.d)(Object(f.c)("d",-1,new Date),"YYYY/MM/DD 00:00"),""),ie.renderDateTime("SpeedEndTime"+r.id,e||Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var a=O.form;a.render(),a.on("submit(btnSubmit"+r.id+")",function(t){try{if(parseFloat(t.field.SpeedBegTime)>parseFloat(t.field.SpeedEndTime))return O.layer.msg(M.$t("panel.startthanend.msg")),!1;var e={id:i.id,SpeedEndTime:t.field.SpeedEndTime,SpeedBegTime:t.field.SpeedBegTime};i.FormSubmit(e)}catch(t){}return!1}),O.use("form",function(){})},this.getHtml=function(){return'<div class="layui-form" action=\'\' onclick="return false" style="text-align:center;height:100%;">\n        \x3c!--\n            <div class="layui-form-item" >\n                <label class="layui-form-label" style="height: 25px;padding-top:0px;padding-button:0px;">'+M.$t("SpeedForm.speedpoint")+':</label> \n                <div class="layui-input-block"> \n                    <select name="filtertype" id="Filter'+r.id+'"  lay-filter="filtertype'+r.id+'" style="height: 25px;" >\n\n                    </select>\n                </div>\n            </div>\n        --\x3e\n        \x3c!-- <fieldset class="layui-elem-field"> --\x3e\n            <div id="controlpan'+r.id+'" style="text-align:left;height:100%;">\n\n\t\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;text-align:center;\"> \n\t\t\t\t\t<input type='text' class='layui-input' name='SpeedBegTime' id='SpeedBegTime"+r.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="width: calc(100% - 20px);height: 28px;" />\n                </div>\n                \n                <div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;text-align:center;\"> \n\t\t\t\t\t<input type='text' class='layui-input' name='SpeedEndTime' id='SpeedEndTime"+r.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="width: calc(100% - 20px);height: 28px;" />\n\t\t\t\t</div>\n                \n                <div class="layui-form-item" style="padding-left: 40%;padding-top: 20px;">\n                    <button  lay-submit  class="layui-btn  layui-btn-sm" id="btnSubmit'+r.id+'" lay-filter="btnSubmit'+r.id+'" style="margin:center;">'+M.$t("btn.search")+"</button>\n                </div>\n            </div>\n        \x3c!-- </fieldset> --\x3e\n        </div>"},this.FormSubmit=function(t){r.FormSubmitDo(t)},this.UpdateConfig=function(t){},this.GetSourceData=function(){},this.Reload=function(t){},this.id=e,Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}this.assetid=n}}(),nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),il=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},al=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},rl=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="ProcessTrend",i.Resize=function(){try{Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()})}catch(t){}},i.setQueryTime=function(t,e){t&&L("#SpeedBegTime"+i.id).val(Object(f.d)(t,"YYYY/MM/DD HH:mm")),e&&L("#SpeedEndTime"+i.id).val(Object(f.d)(e,"YYYY/MM/DD HH:mm"))},i.getQueryTime=function(){return{SpeedBegTime:Object(f.r)(L("#SpeedBegTime"+i.id).val()),SpeedEndTime:Object(f.r)(L("#SpeedEndTime"+i.id).val())}},i.onAssetTypeNotSupport=function(t){Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(!0)})},i.onAssetChange=function(t){i.lastAssetId!==i.assetId&&(i.lastAssetId=i.assetId,Object.keys(i.chartList).map(function(t){i.chartList[t].layout.UpdateHelperInfo({path:i.Path})}),L("#btnSubmit"+i.id).click())},i.chartList={},i.renderDetails=function(t){return il(i,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u;return al(this,function(h){switch(h.label){case 0:e=this,n=parseInt(Object(f.v)("ProcessTrendTimeRange"))||2,h.label=1;case 1:return h.trys.push([1,3,,4]),i=Object(f.r)(t),a=Object(f.r)(Object(f.c)("h",-n,i)),r=Object(f.r)(Object(f.c)("h",n,i)),[4,Si.FetchTsDatas(e.assetId,1,a,r)];case 2:if(o=h.sent(),(s=o.data)&&s.Datas){for(l=[],c=s.Datas.length-1;c>=0;c--)u=s.Datas[c],l.push([Object(f.e)(u.MeasDate),u.MeasValue]);this.chartList.TmpSpeedChart.render([l],"",s&&s.Unit||"",{},null,null,s.AlarmLimits)}return[3,4];case 3:return h.sent(),[3,4];case 4:return[2]}})})},i.SpeedChartShowAlarmLine=!1,i.TmpSpeedChartShowAlarmLine=!1,i.onAssetChangeJudgeType=!0,i.chartList={},i.CreatLayout(),i.InitChart(),Object(ba.a)("ProcessTrend_OnInit",{setQueryTime:i.setQueryTime,sender:i}),i}return nl(e,t),e.prototype.Dispose=function(){var t=this;try{this.BaseDispose(),Object.keys(this.chartList).map(function(e){t.chartList[e].Dispose()})}catch(t){}},e.prototype.Clear=function(){var t=this;try{Object.keys(this.chartList).map(function(e){t.chartList[e].Clear()})}catch(t){}},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga,n=this;e.items=[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"right",children:[{id:"right1",height:220}]}],e.splitConfig=[{ids:["left","right"],size:[80,20],gutterAlign:"end",callBack:function(){n.Resize()}},{ids:["left1","left2"],size:[25,75],callBack:function(t){n.Resize()},isVertical:!0}],new va(e,this.id).render(this.element),(new fa).render("#right1"+this.id,M.$t("leftbar.form.selecttime"),'<div id="controlcard'+this.id+'" style="overflow:hidden;height:100%;"></div>');var i=new el("controlcard"+this.id,this.id,"");i.Init(Object(f.d)(Object(f.c)("d",-30,new Date),"YYYY/MM/DD 00:00")),i.FormSubmitDo=function(e){return il(t,void 0,void 0,function(){var t,e,i,a,r,o,s,l;return al(this,function(c){switch(c.label){case 0:Object(ba.a)("ProcessTrend_OnQueryData",{setQueryTime:this.setQueryTime,sender:this}),t=n.getQueryTime(),e=t.SpeedBegTime,i=t.SpeedEndTime,c.label=1;case 1:return c.trys.push([1,3,,4]),n.Clear(),[4,Si.FetchTsDatas(n.assetId,0,e,i)];case 2:if(a=c.sent(),(r=a.data)&&r.Datas){for(o=[],s=r.Datas.length-1;s>=0;s--)l=r.Datas[s],o.push([Object(f.e)(l.MeasDate),l.MeasValue]);this.chartList.SpeedChart.render([o],"",r&&r.Unit||"",{},null,null,r.AlarmLimits)}return[3,4];case 3:return c.sent(),[3,4];case 4:return[2]}})})}},e.prototype.InitChart=function(){var t=this,e=this,n=new qt("left1"+this.id,Yt.Last,{onMainCursorMoved:function(n,i,a){return il(t,void 0,void 0,function(){var t;return al(this,function(n){try{t=Object(f.r)(a[0]),e.renderDetails(t)}catch(t){}return[2]})})},onRenderEnd:function(){Object(ba.a)(t.chartName+"_BigTrend_OnRenderEnd",{chart:n})}});n.chartConfig.xIsTime=!0,this.chartList.SpeedChart=n,n.chartName="SpeedChart",n.layout._InitHelperInfo({path:e.Path,CurosrValue:""});var i=Object(f.v)("ProcessTrendTimeRange")||2;n.menuInstance.AddMenuItem("AddAlarmLine"+n.GetChartId(),n.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"),function(){n.HideOrShowAlarmLine(!n.showAlarmLine),L("#AddAlarmLine"+n.GetChartId()).find("span").html(n.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),e.SpeedChartShowAlarmLine=n.showAlarmLine}),n.Init();var a=new qt("left2"+this.id,Yt.Last,{onRenderEnd:function(){Object(ba.a)(t.chartName+"_DetailsTrend_OnRenderEnd",{chart:n})}});a.chartConfig.xIsTime=!0,this.chartList.TmpSpeedChart=a,a.chartName="TmpSpeedChart",a.layout._InitHelperInfo({path:this.Path,CurosrValue:""}),a.AddMenuItem([{id:"setProcessTrendTimeRange",name:M.$t("title.Detailed.trend.range"),callback:function(){var t="<div class=''> \n\t\t\t\t<div class=\"layui-form-customline\">\n\t\t\t\t"+M.$t("ProcessTrend.DataRang.BA")+":\n\t\t\t\t</div> \n\t\t\t\t<div class='layui-form-customline'> \n\t\t\t\t <input id=\"ProcessTrendTimeRange"+e.id+"\" type='number' name='ProcessTrendTimeRange' min='1' max='24' autocomplete='off' class='layui-layer-input' value='"+i+"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 80px;height:28px;' />\n\t\t\t\t</div> \n\t\t\t\t<div class='layui-form-customline'>\n\t\t\t\t "+M.$t("DateTime.Hour")+"\n\t\t\t\t</div> \n\t\t\t </div>";U.prompt({title:M.$t("ProcessTrend.DataRang.title"),content:t,btn:[M.$t("btn.ok")],shadeClose:!0},function(t,n){if(!(t<0)){var i=L("#ProcessTrendTimeRange"+e.id).val()||2;if(parseInt(i)>24)U.msg(M.$t("meun.config.processtrend.maxtime.error",{count:24}));else if(parseInt(i)<1)U.msg(M.$t("meun.config.processtrend.mintime.error",{count:1}));else{try{Object(f.E)("ProcessTrendTimeRange",i);var a=Object(f.r)(e.chartList.SpeedChart.data[0][e.chartList.SpeedChart.selectedXIndex][0]);e.renderDetails(a)}catch(t){}U.close(n)}}}),L("#ProcessTrendTimeRange"+e.id).val(i)}}]),a.menuInstance.AddMenuItem("AddAlarmLine"+a.GetChartId(),a.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"),function(){a.HideOrShowAlarmLine(!a.showAlarmLine),L("#AddAlarmLine"+a.GetChartId()).find("span").html(a.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),e.TmpSpeedChartShowAlarmLine=a.showAlarmLine}),a.Init()},e}(J),ol=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},sl=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},ll=function(){function t(t,e,n){var i=this;this.UpdateChartHelper=function(t){i.chart.chartName=t.name},this.onAssetChange=function(t){i.chart.layout.UpdateHelperInfo({chartName:t.chartName,path:t.path,CurosrValue:""})},this.RenderChart=function(t){return ol(i,void 0,void 0,function(){var e,n,i,a,r,o,s;return sl(this,function(l){switch(l.label){case 0:return e=this,n=this.chart,e.charthelper.SelectDataKeys=t,i=t.map(function(t){return{WaveKey:t,start:0,dataLen:0}}),this.getDataAction?[4,this.getDataAction(i)]:[3,2];case 1:a=l.sent(),r=e.charthelper.InitDataBefFormat(a),o=r.xindex,s=r.option,s=n.GetBaseOptions(s),n.render(o,e.charthelper.XUnit,e.charthelper.YUnit,s),l.label=2;case 2:return[2]}})})},this.Resize=function(){i.chart&&i.chart.Resize()},this.CalcVSelectIndex=function(t,e,n,a){var r=t,o=n?t:t+e;if(n){if(o==i.chart.selectedYIndex&&a<i.chart.data[o][i.chart.data[o].length-1][0])return o}else if(o<0||o>=i.chart.data.length)return i.chart.selectedYIndex;for(var s=i.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,i.chart.data[i.chart.selectedYIndex],0),c=!1;o<i.chart.data.length&&o>=0;){if(!(i.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=i.chart.selectedYIndex),r};var a=this;this.getDataAction=e,this.onChartInitBefore=n;var r=new Zo(L("#"+t)[0],Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){},onRenderEnd:function(t,e,n,i,a){},onWillRender:null,onSetExtremes:null});this.chart=r,this.charthelper=new yo(r,""),r.layout._InitHelperInfo({chartName:"",path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),this.onChartInitBefore&&(r=this.onChartInitBefore(r)),r.chartConfig.isAllowMaxBtn=!0,r.Init(),r.convertYToIndex=function(t,e){void 0===e&&(e=0);var n=e?a.charthelper.GetInRangeIndex(a.charthelper.YAxisValue,e):a.chart.selectedYIndex;return a.chart.selectedYIndex=a.CalcVSelectIndex(n,0,!0,e),a.chart.selectedYIndex},r.getSelectedText=function(t){void 0===t&&(t=!0);var e=i.charthelper.CalcSelectXYValue(r.selectedXIndex,r.selectedYIndex);"°"===r.xUtils&&(e[0]=(e[0]%360).toFixed(3));var n="",o={rate:1,unit:r.xUtils};r.chartConfig.convertUnit&&(o=Object(f.b)(r.xUtils)),r.xUtils=o.unit;var s=a.charthelper.GetYUnitSide(r.selectedYIndex);return n=(e[0]*o.rate).toFixed(3)+r.xUtils+"，"+e[1].toFixed(3)+s,r.GetCursorList()&&r.GetCursorList().length>0&&r.GetCursorList().forEach(function(e){e.GetSelectText&&(n+=e.GetSelectText(t))}),n},a.charthelper.CountIndex=2}return t.prototype.Dispose=function(){this.chart&&this.chart.Dispose(),this.chart=null,this.charthelper&&this.charthelper.Dispose(),this.charthelper=null},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),cl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ul=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},hl=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="SimilarAnalysis",i.Path="SimilarAnalysis",i.LastSelectX=null,i.LastSetExtremes=null,i.trendList=["trend3","trend4","trend5","trend6","trend7","trend8","trend9","trend10","trend11","trend12","trend13","trend14"],i.childrenIdList=[{id:"middle1"},{id:"middle2"},{id:"middle3"},{id:"middle4"},{id:"middle5"},{id:"middle6"},{id:"middle7"},{id:"middle8"},{id:"middle9"},{id:"middle10"},{id:"middle11"},{id:"middle12"}],i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.waveformChart&&i.waveformChart.Dispose(),i.specChart&&i.specChart.Dispose(),i.chartList=null,i.chartName=null,i.lastAssetChangeData=null,i.Path=null,i.element=null,i.alldata=null}catch(t){}},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()}),i.waveformChart&&i.waveformChart.Resize(),i.specChart&&i.specChart.Resize()},i.onAssetTypeNotSupport=function(t){Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.ClearChart(i.chartList[t])}),i.waveformChart&&i.waveformChart.Clear(),i.specChart&&i.specChart.Clear()},i.onAssetChange=function(t,e){e&&e.setChartTitle?i.updateChartsTitle():t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0||(i.GetMaindata(),i.updateChartsTitle())},i.TrendHelper={onMainCursorMoved:function(t,e,n){var a,r,o=i;n[0],n[1],o.alldata;if(a=n[2],r=n[3],n&&a&&r){o.waveformChart.RenderChart([r,a]),o.specChart.RenderChart([r,a]);var s=n[0];o.LastSelectX=s;for(var l=i.trendList,c=0;c<l.length;c++){var u=o.chartList[l[c]];if(u.verifyData()){var h=u.getMostIndexX(s);u.selectedXIndex=h[0];var d=h[1],p=Object(f.d)(d[0],"YYYY/MM/DD HH:mm:ss");u.layout.UpdateHelperInfo({CurosrValue:p+", "+d[1].toFixed("3")+u.yUtils}),u.MoveMainCursor(!0,!0,!0,!1,!1)}}}else i.chartList.trend.Clear(),i.chartList.trend2.Clear()},onSetExtremes:function(t,e){var n=i;n.LastSetExtremes={min:t,max:e};for(var a=i.trendList,r=0;r<a.length;r++){var o=n.chartList[a[r]];try{o.hchartInstance&&o.hchartInstance.xAxis&&o.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}}},loadData:function(t,e){i.chartList[t].render([e],"","",null,null,null,null,{min:0,max:2})}},i.InitQuery=function(){var t='\n\t\t\t<div class="layui-form" id=\'Query'+i.id+'\' action="" style="text-align:center;overflow:auto;height:100%">\n\t\t\t\t<div id=\'timeCard'+i.id+"' style='height:180px'></div>\n\t\t\t\t<div id='evCard"+i.id+"' style='height:calc(100% - 230px)'></div>\n\t\t\t\t<div id='buttonDiv"+i.id+"' style='height:30px'></div>\n\t\t\t</div>\n\t\t",e='\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Stime' id='Stime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t\t\t</div>\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Etime' id='Etime"+i.id+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n\t\t\t</div>\n\t\t",n='\n\t\t\t<div class="layui-form-item" style=\'margin-top:10px\'>\n\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t</div>\n\t\t";L("#right"+i.id).append(t),(new fa).render("#timeCard"+i.id,M.$t("leftbar.form.selecttime"),e),L("#buttonDiv"+i.id).append(n);var a=O.form;a.render(),ie.renderDateTime("Stime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("Etime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var r=i;a.on("submit(btnQuery"+i.id+")",function(t){try{if(new Date(t.field.Stime)>new Date(t.field.Etime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),r.CheckedTime=e,r.GetMaindata()}catch(t){}return!1})},i.onlyDeviceChange=!0,i.Path=n,i.chartList={},i.alldata=[],i.CheckedTime=[],i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return cl(e,t),e.prototype.ClearChart=function(t){this.LastSelectX=null,this.LastSetExtremes=null,t.Clear(),t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.updateChartsTitle=function(){var t=this;this.waveformChart.onAssetChange({chartName:M.$t("Multi.waveform"),path:this.Path}),this.specChart.onAssetChange({chartName:M.$t("Multi.spectral"),path:this.Path}),Object.keys(this.chartList).map(function(e){t.chartList[e].layout.UpdateHelperInfo({path:t.Path})})},e.prototype.GetMaindata=function(){var t=this,e=this.deviceId,n=this.devicePath,i=this,a=Object(f.d)(i.CheckedTime[0],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00"),r=Object(f.d)(i.CheckedTime[1],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59"),o=[{deviceId:e,indexcode:1,MinDate:a,MaxDate:r},{deviceId:e,indexcode:2,MinDate:a,MaxDate:r},{deviceId:e,indexcode:3,MinDate:a,MaxDate:r},{deviceId:e,indexcode:4,MinDate:a,MaxDate:r},{deviceId:e,indexcode:5,MinDate:a,MaxDate:r},{deviceId:e,indexcode:6,MinDate:a,MaxDate:r},{deviceId:e,indexcode:7,MinDate:a,MaxDate:r},{deviceId:e,indexcode:8,MinDate:a,MaxDate:r},{deviceId:e,indexcode:9,MinDate:a,MaxDate:r},{deviceId:e,indexcode:10,MinDate:a,MaxDate:r},{deviceId:e,indexcode:11,MinDate:a,MaxDate:r},{deviceId:e,indexcode:12,MinDate:a,MaxDate:r}];if(e&&n){var s=this.trendList;Si.BatchFetchSimilarAnalysis(o).then(function(e){if(e)for(var n=0;n<e.length;n++){for(var a=e[n].data,r=[],o=0;o<a.Datas.length;o++){var l=a.Datas[o];r.push([Object(f.e)(l.MeasDate),l.MeasValue,l.WaveKey1,l.WaveKey2]),i.alldata.push([Object(f.e)(l.MeasDate),l.MeasValue,l.WaveKey1,l.WaveKey2])}t.TrendHelper.loadData(s[n],r)}}).catch(function(t){})}},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"middle",children:ul(ul([],this.childrenIdList),[{id:"pagination"}])},{id:"right"}],e.splitConfig=[{ids:["left","middle","right"],size:[30,55,15],callBack:function(){t.Resize()}},{ids:["left1","left2"],callBack:function(){t.Resize()},isVertical:!0},{ids:ul(ul([],this.childrenIdList.map(function(t){return t.id})),["pagination"]),size:[16.15,16.15,16.15,16.15,16.15,16.15,16.15,16.15,16.15,16.15,16.15,16.15,2.2],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n){var i=this,a=new qt(L("#"+t)[0],Yt.Last,{onMainCursorMoved:this.TrendHelper.onMainCursorMoved,onSetExtremes:this.TrendHelper.onSetExtremes,onMaxBtnClick:function(t){t?L("#right"+i.id).hide():L("#right"+i.id).show()}});a.layout._InitHelperInfo({chartName:e,path:this.Path,CurosrValue:""}),a.ChartKeys=["x","y","w1","w2"],a.chartConfig.xIsTime=!0,a.chartConfig.isAllowMaxBtn=!0,this.chartList[n]=a,a.Init()},e.prototype.InitChart=function(){var t=this;this.chartList={};this.waveformChart=new ll("left1"+this.id,Si.BatchFetchOriginalVibWave,function(t){return t.registeredCursor([new Yr(t)]),t}),this.specChart=new ll("left2"+this.id,Si.BatchFetchSpectrum,function(t){return t.registeredCursor([new Rr(t,!1,!0,!0,!0),new Qr(t,null,null,!1,!0,!0,!0)]),t}),[{id:"middle1"+this.id,chartName:M.$t("Direction of blade 1 and 2"),eachName:"trend3"},{id:"middle2"+this.id,chartName:M.$t("Direction of blade 1 and 3"),eachName:"trend4"},{id:"middle3"+this.id,chartName:M.$t("Direction of blade 2 and 3"),eachName:"trend5"},{id:"middle4"+this.id,chartName:M.$t("Swing direction of blades 1 and 2"),eachName:"trend6"},{id:"middle5"+this.id,chartName:M.$t("Swing direction of blades 1 and 3"),eachName:"trend7"},{id:"middle6"+this.id,chartName:M.$t("Swing direction of blades 2 and 3"),eachName:"trend8"},{id:"middle7"+this.id,chartName:M.$t("Direction of blade 4 and 5"),eachName:"trend9"},{id:"middle8"+this.id,chartName:M.$t("Direction of blade 4 and 6"),eachName:"trend10"},{id:"middle9"+this.id,chartName:M.$t("Direction of blade 5 and 6"),eachName:"trend11"},{id:"middle10"+this.id,chartName:M.$t("Swing direction of blades 4 and 5"),eachName:"trend12"},{id:"middle11"+this.id,chartName:M.$t("Swing direction of blades 4 and 6"),eachName:"trend13"},{id:"middle12"+this.id,chartName:M.$t("Swing direction of blades 5 and 6"),eachName:"trend14"}].map(function(e){t.CreatChart(e.id,e.chartName,e.eachName)}),this.onTrendPageChange("1"),this.CreatePageEl(),O.$(document).on("click",".rzBtnMaxSize",function(){t.onTrendPageChange(t.curPage)})},e.prototype.CreatePageEl=function(){O.$("#pagination"+this.id).html('\n\t\t\t<div class="layui-box layui-laypage layui-laypage-default">\n\t\t\t\t<a href="javascript:;" class="layui-laypage-prev layui-disabled" data-page="1">\n\t\t\t\t\t<em>←</em>\n\t\t\t\t</a>\n\t\t\t\t<a href="javascript:;" class="layui-laypage-next click-able" data-page="2">\n\t\t\t\t\t<em>→</em>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t').prev(".gutter.gutter-vertical").remove();var t=this;O.$(document).on("click","a.click-able",function(){O.$(this).removeClass("click-able").addClass("layui-disabled").siblings(".layui-disabled").addClass("click-able").removeClass("layui-disabled");var e=O.$(this).attr("data-page");t.onTrendPageChange(e)})},e.prototype.onTrendPageChange=function(t){var e=this;this.childrenIdList.forEach(function(n,i){"1"===t?(i<6&&O.$("#"+n.id+e.id).show().prev(".gutter").show(),i>=6&&O.$("#"+n.id+e.id).hide().prev(".gutter").hide()):(i<6&&O.$("#"+n.id+e.id).hide().prev(".gutter").hide(),i>=6&&O.$("#"+n.id+e.id).show().prev(".gutter").show(),6===i&&O.$("#"+n.id+e.id).css("height","calc(16.15% - 2.5px)").show().prev(".gutter").hide())}),this.Resize(),this.curPage=t},e}(J),dl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pl=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var a=t.call(this,e,n)||this;a.Resize=function(){a.chart&&a.chart.Resize()},a.onWhenHidden=function(){if(a.chart)try{a.chart.data=[[]],a.chart.hchartInstance.destroy()}catch(t){}},a.onTemporaryDataClick=function(t){if("SpecChart"===a.chartName){var e=t.WaveKey,n=void 0===e?void 0:e;t.DataType;a.onAssetTypeNotSupport(),a.chart.layout.UpdateHelperInfo({path:""}),n&&(a.lastDataKey=n,a.assetType=11,a.LoadData(n))}},a.onAssetTypeNotSupport=function(t){if(void 0===t&&(t=null),!a.chart.isLockChart)try{a.lastDataKey=null,a.chart.Clear();var e=t&&!1===t.UpdatePath?"":a.Path;a.chart.layout.UpdateHelperInfo({path:e,MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),a.RemoveSpeedFrequency()}catch(t){}},a.onAssetChange=function(t){a.chart.isLockChart||(a.chartUnit=t.data.Unit,a.lastDataKey=null,a.onAssetTypeNotSupport(null),a.chart.layout.UpdateHelperInfo({path:a.Path}))},a.DataKey="",a.chartUnit="",a.LoadData=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=a,r=a.chart,o=q.a.Units[i.chartUnit],s=Object(f.v)("TotalSpecConfig"),l=Object(f.l)(o);s?l&&s&&3==s[l].spec?Si.FetchDataLogSpectrum({WaveKey:t,data:{start:e,length:n},successCallBack:function(t){var e=t.data;i.DataLen=e.DataLen||0,i.XInterval=e.XInterval||0,r.RemarkContent=e.Description,i.chart.CFRunSpeed=t.data.CFRunSpeed,r.layout.UpdateHelperInfo({MeasValue:(null!==e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:e.MeasDate});for(var n=[],a=0,o=e.YData.length;a<o;a++)n.push([a*e.XInterval,e.YData[a]]);i.ChartData=[n];var s=Object(f.m)([n],e.YUnit);r.render(s,e.XUnit,e.YUnit),i.AddSpeedFrequency()},errorCallback:function(t){i.onAssetTypeNotSupport(null)}}):Si.FetchDataSpec({WaveKey:t,data:{start:e,length:n},successCallBack:function(t){var e=t.data;i.DataLen=e.DataLen||0,i.XInterval=e.XInterval||0,r.RemarkContent=e.Description,i.chart.CFRunSpeed=t.data.CFRunSpeed,r.layout.UpdateHelperInfo({MeasValue:(null!==e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:e.MeasDate});for(var n=[],a=0,o=e.YData.length;a<o;a++)n.push([a*e.XInterval,e.YData[a]]);i.ChartData=[n];var s=Object(f.m)([n],e.YUnit);r.render(s,e.XUnit,e.YUnit),i.AddSpeedFrequency()},errorCallback:function(t){i.onAssetTypeNotSupport(null)}}):"voltage"===l||"current"===l?Si.FetchDataLogSpectrum({WaveKey:t,data:{start:e,length:n},successCallBack:function(t){var e=t.data;i.DataLen=e.DataLen||0,i.XInterval=e.XInterval||0,r.RemarkContent=e.Description,i.chart.CFRunSpeed=t.data.CFRunSpeed,r.layout.UpdateHelperInfo({MeasValue:(null!==e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:e.MeasDate});for(var n=[],a=0,o=e.YData.length;a<o;a++)n.push([a*e.XInterval,e.YData[a]]);i.ChartData=[n];var s=Object(f.m)([n],e.YUnit);r.render(s,e.XUnit,e.YUnit),i.AddSpeedFrequency()},errorCallback:function(t){i.onAssetTypeNotSupport(null)}}):Si.FetchDataSpec({WaveKey:t,data:{start:e,length:n},successCallBack:function(t){var e=t.data;i.DataLen=e.DataLen||0,i.XInterval=e.XInterval||0,r.RemarkContent=e.Description,i.chart.CFRunSpeed=t.data.CFRunSpeed,r.layout.UpdateHelperInfo({MeasValue:(null!==e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:e.MeasDate});for(var n=[],a=0,o=e.YData.length;a<o;a++)n.push([a*e.XInterval,e.YData[a]]);i.ChartData=[n];var s=Object(f.m)([n],e.YUnit);r.render(s,e.XUnit,e.YUnit),i.AddSpeedFrequency()},errorCallback:function(t){i.onAssetTypeNotSupport(null)}})},a.RenderBack=function(){var t=Object(f.m)(a.ChartData,a.chart.yUtils);a.chart.render(t,a.chart.xUtils,a.chart.yUtils)},a.RenderFilter=function(t,e,n){var i=[];i="-1"!=t?[i=Object(f.F)(a.ChartData[0],t,n,e)]:a.ChartData;var r=Object(f.m)(i,a.chart.yUtils);a.chart.render(r,a.chart.xUtils,a.chart.yUtils)},a.defaultTrendChangeOpen=!0,a.onTrendChange=function(t,e){if(void 0===e&&(e=!1),!a.chart.isLockChart&&(!1!==a.defaultTrendChangeOpen||!1!==e)){var n=a,i=t.WaveKey;a.chart;if(n.chartUnit=t.Unit,!i)return n.onAssetTypeNotSupport(null),void(n.lastDataKey=i);(i!==n.lastDataKey||e||n.chart.hchartInstance)&&(n.onAssetTypeNotSupport(null),n.lastDataKey=i,a.chartUnit=t.Unit,a.DataKey=i,a.LoadData(i),a.speedFrequency1=t.RunSpeed/60)}},a.min=-1,a.max=-1,a.DataLen=0,a.XInterval=0,a.chartName="SpecChart",a.chart=new qt(e,Yt.First,{onMaxBtnClick:function(){o.Resize()}}),a.chart.registeredCursor([new Rr(a.chart,!1,!0,!0,!0),new Qr(a.chart,null,null,!1,!0,!0,!0),new jr(a.chart,a.chartName),new Xr(a.chart,Ya.Single,a.chartName)]);var r=a.chart;r.layout._InitHelperInfo({path:a.Path||"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),r.chartConfig.isAllowMaxBtn=i;var o=a;O.table;return r.GetYUnit=function(t){return(t?"["+t+"]":"")+Object(f.j)(t)},r.menuInstance.AddMenuItem("TotalSpecType"+a.id,M.$t("menu.totalspec.configtitle"),function(){var t="<div class='"+(f.B&&"RZGraph-TotalSpec-Config-En")+" RZGraph-TotalSpec-Config' id='TotalSpecTypeForm"+o.id+"' style=\"width:"+(f.B?"300px":"250px")+';height:300px"></div>';U.prompt({title:M.$t("menu.totalspec.configtitle"),content:t,btn:null}),new $o("TotalSpecTypeForm"+o.id,o.id).Init()}),r.Init(),a.chart=r,a.addEvent("onTotalSpecConfigChange",function(t){o.LoadData(o.lastDataKey)}),a}return dl(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chart&&this.chart.Dispose()}catch(t){}},e.prototype.getSpeed=function(){var t=L(this.chart.element).find("li[id^='RotatingSpeed']").html();return t?parseInt(t.replace("RPM","")):0},e.prototype.AddSpeedFrequency=function(){if(this.AddPowerFrequency(),Object(f.v)("RZ_DisplayFrequency")){var t=L(this.chart.element).find("li[id^='RotatingSpeed']").html();if(t&&(t=parseInt(t.replace("RPM","")))&&0!=t){var e=t/60;this.speedFrequency1=e;var n=this.chart;if(this.chart&&this.chart.data&&this.chart.data.length>0){var i=this.chart.getMostIndexX(e,0,null,this.chart.data[0]);if(i){var a={value:i[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"1X",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};n.hchartHelper.AddLine("speedFrequency",a)}}}}},e.prototype.RemoveSpeedFrequency=function(){var t=this.chart;t.hchartHelper.RemoveLine("speedFrequency"),t.hchartHelper.RemoveLine("powerFrequency2"),t.hchartHelper.RemoveLine("powerFrequency"),t.hchartHelper.RemoveLine("ppfFrequency")},e.prototype.AddPowerFrequency=function(){var t=this,e=q.a.Units[this.chartUnit],n=Object(f.l)(e),i=0;if(("voltage"===n||"current"===n)&&this.chart&&this.chart.data&&this.chart.data.length>0){var a=this.chart.data[0]||[],r=Number.MIN_SAFE_INTEGER,o=0;if(a.forEach(function(t,e){t[1]>r&&(r=t[1],o=e)}),i=a[o][0],r!==Number.MIN_SAFE_INTEGER){var s={value:i,color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"LF",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};this.chart.hchartHelper.AddLine("powerFrequency2",s)}var l=this.chart;Si.FetchDeviceWorkSpec(this.deviceId).then(function(e){if(e&&e.data.length>0&&e.data[0].Data){var n=e.data[0].Data.electric_fundamental_frequency;if(n&&(o=t.chart.getMostIndexX(n,0))){var a={value:o[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"工频",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};l.hchartHelper.AddLine("powerFrequency",a)}var r=e.data[0].Data.electric_pole_number;if("number"==typeof r&&"number"==typeof i){var o,s=t.getSpeed(),c=2*i-s/60*r;if(o=t.chart.getMostIndexX(c,0)){a={value:o[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"PPF",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};l.hchartHelper.AddLine("ppfFrequency",a)}}}})}},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],e.prototype,"AddSpeedFrequency",null),e}(J),fl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Al=function(){return(Al=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},ml=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.DispatchEvent=function(){i.selectedData&&W.fireEvent("TemporaryDataOnClick",Al(Al({},i.selectedData),{source:"TemporaryDataTable"}))},i.BindMeun=function(t){var e=i,n=t||[{name:"转移数据到当前节点",id:"exportdata"+i.id,callback:function(){e.onMeunClick("export")}},{name:"删除数据",id:"deletedata"+i.id,callback:function(){e.onMeunClick("delete")}},{name:"备注信息",id:"remarkdata"+i.id,callback:function(){e.onMeunClick("remark")}},{name:"刷新",id:"refreshdata"+i.id,callback:function(){e.onMeunClick("refresh")}}];R.bind(i.element,function(){return n})},i.CheckedChange=function(t){var e=i,n=t.filter(function(t){return e.deviceId===t.AssetId&&""===t.Path});if(n){var a=0,r=i.getCheckedDatas();if(n.map(function(t){r.map(function(e){return e.WaveKey===t.DataKey})&&a++}),a===n.length)return}var o=O.table.cache[i.table.getTableId()];o.map(function(t){t.LAY_CHECKED=!1});var s=L(i.element).children().eq(1);s.find("input[name='layTableCheckbox']").each(function(t,e){L(e).prop("checked",!1)}),n.map(function(t,e){var n=o.filter(function(e){return e.WaveKey===t.DataKey});n&&n.length>0&&(n[0].LAY_CHECKED=!0);t.DataKey,s.find("input[name='layTableCheckbox']").eq(e+1).prop("checked",!0)}),L(i.element).find("input[type='checkbox']:checked").length===L(i.element).find("input[type='checkbox']").length-1&&s.find("input[name='layTableCheckbox']").eq(0).prop("checked",!0),O.form.render("checkbox")},i.onMeunClick=function(t){var e=i.getCheckedDatas();i.onContextMeunClick&&i.onContextMeunClick(t,i.selectedData,e)},i.onClick=function(t){i.selectedData=t,W.fireEvent("TemporaryDataOnClick",Al(Al({},i.selectedData),{source:"TemporaryDataTable"}))},i.getSelectedData=function(){return i.selectedData},i.getCheckedDatas=function(){var t=[];try{t=i.table.lastArgs.data.filter(function(t){return!0===t.LAY_CHECKED})}catch(t){}return t},i.onCheck=function(t){if(t.checked||"all"===t.type){var e=i,n=[];i.getCheckedDatas().map(function(t){t.WaveKey&&n.push({DataKey:t.WaveKey,AssetId:e.deviceId,Path:"",otherData:t,MeasDate:t.MeasDate,MeasValue:t.MeasValue,maxX:0,maxY:0})}),xa.AddDatas(n)}else t.data.WaveKey&&xa.DeleteData(t.data.WaveKey)},i.Resize=function(){i.table&&i.table.Resize()},i.chartName="TemporaryData",i}return fl(e,t),e.prototype.Dispose=function(){this.BaseDispose();var t=this.getCheckedDatas();t.map(function(e,n){e.WaveKey&&xa.DeleteData(e.WaveKey,n===t.length-1)}),this.table&&this.table.Dispose(),R.unbind(this.element),G.TableData&&G.TableData.DispatchAssetChange(),G.TableData&&G.TableData.DispatchEvent()},e.prototype.Init=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=L(this.element).attr("id");i||(i="tempDataTable"+this.id,L(this.element).attr("id",i));var a=new Ta;a.Create(i,null,t,Al({limit:Number.MAX_SAFE_INTEGER,page:!1},n)),a.OnClick(this.onClick),a.OnCheck(this.onCheck),this.table=a,this.BindMeun(e),xa.AddEvent(this.id,this.CheckedChange)},e.prototype.Reoload=function(t,e){var n=this;void 0===e&&(e=null);var i=this;this.table&&(e&&e.done?e.done=function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];i.table.SetSelectedIndex(0,!1),n.onClick(t[0]),e.done.apply(e,a)}:(e={}).done=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];i.table.SetSelectedIndex(0,!1),n.onClick(t[0])},this.Updata(Al({data:t,limit:Number.MAX_SAFE_INTEGER,page:!1},e)))},e.prototype.Clear=function(){this.Updata({data:[]})},e.prototype.Updata=function(t){this.table.Update(t)},e}(J);function yl(t,e){if(void 0===e&&(e=!1),t.YData&&t.YData.length>0){for(var n=[],i=0,a=t.YData.length;i<a;i++)n.push([i*t.XInterval,t.YData[i]]);return e?Object(f.m)([n],t.YUnit):{data:[n],XUnit:t.XUnit,YUnit:t.YUnit}}return{data:[],XUnit:t.XUnit,YUnit:t.YUnit}}function gl(t,e,n){void 0===e&&(e=Yt.First),void 0===n&&(n=null);var i=new qt(t,e,n);return i.chartConfig.xIsTime=!1,i.registeredCursor(new Yr(i)),i.layout._InitHelperInfo({path:"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),i}function vl(t){for(var e=t.Datas,n=[],i=0;i<e.length;i++)n.push([Object(f.e)(e[i].MeasDate),e[i].MeasValue]);return n.sort(function(t,e){return t[0]-e[0]}),{data:[n],XUnit:"",YUnit:t.Unit}}function bl(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),t.forEach(function(i){if(e){var a=function(e,n,a,r){var o=a[0];t.forEach(function(t){if(t.id!==i.id&&t.verifyData()){var e=t.getMostIndexX(o);t.selectedXIndex=e[0],t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}})};if(i.props.onMainCursorMoved){var r=i.props.onMainCursorMoved;i.props.onMainCursorMoved=function(t,e,n,i){r(t,e,n,i),a(0,0,n)}}else i.props.onMainCursorMoved=a}if(n){var o=function(e,n){t.map(function(t){if(t.id!==i.id)try{t.hchartInstance&&t.hchartInstance.xAxis&&t.hchartInstance.xAxis[0].setExtremes(e,n,!0,!1,"NotDispatch")}catch(t){}})};if(i.props.onSetExtremes){var s=i.props.onSetExtremes;i.props.onSetExtremes=function(t,e){s(t,e),o(t,e)}}else i.props.onSetExtremes=o}})}var Cl=function(){function t(){}return t.getTimeRangHtml=function(t,e,n,i){void 0===e&&(e=!0),void 0===n&&(n="sTime"),void 0===i&&(i="eTime");return e?'\n        <div class="layui-inline">\n          <label class="layui-form-label" >'+M.$t("leftbar.form.begintime")+":</label>\n          <div class=\"layui-input-inline\" >\n            <input type='text' class='layui-input' name='"+n+"' id='"+n+t+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n          </div>\n       </div>\n        <div class="layui-inline">\n          <label class="layui-form-label" >'+M.$t("leftbar.form.endtime")+":</label>\n          <div class=\"layui-input-inline\" >\n            <input type='text' class='layui-input' name='"+i+"' id='"+i+t+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n          </div>\n       </div>\n    ":'\n              <div class="layui-form-item" style="padding-left:5px;padding-right:5px;"> \n                <div class="layui-form-customline" style="width: 28px;padding: 0;float:left;">'+M.$t("datatable.filter.time.from")+"</div> \n                <div class=\"layui-form-customline\" style=\"width: calc(100% - 38px);margin-right: 0;padding-right: 0;\"> \n                  <input type='text' class='layui-input' name='"+n+"' id='"+n+t+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n                </div>\n              </div>\n              <div class="layui-form-item" style="padding-left:5px;padding-right:5px;"> \n                <div class="layui-form-customline" style="width: 28px;padding: 0;float:left;">'+M.$t("datatable.filter.time.to")+"</div>\n                <div class=\"layui-form-customline\" style=\"width: calc(100% - 38px);margin-right: 0;padding-right: 0;\"> \n                  <input type='text' class='layui-input' name='"+i+"' id='"+i+t+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n                </div>\n            </div>"},t.getTimeRange=function(t,e,n){return void 0===e&&(e="sTime"),void 0===n&&(n="eTime"),{sTime:L("#"+e+t).val(),eTime:L("#"+n+t).val()}},t.getQuerySubmitBtn=function(t,e){return void 0===e&&(e=""),e||(e=M.$t("btn.search")),'\n          <div class="layui-inline" style="margin-left:5px;">\n        \t<button class="layui-btn layui-btn-xs" lay-submit="" lay-filter="btnQuery'+t+'">'+e+"</button>\n       </div>\n\t\t"},t.renderDateTimeComponent=function(t,e,n,i){void 0===e&&(e=""),void 0===n&&(n=null),void 0===i&&(i=null),O.laydate.render({elem:"#"+t+e,type:"datetime",format:i||"yyyy/MM/dd HH:mm",lang:M.getLocale(),value:n})},t.fastInitTopTimeQuery=function(e,n,i){var a='\n\t\t\t<div class="layui-form graph-from-inline" id=\'Query'+n+"'>\n        "+t.getTimeRangHtml(n)+"\n        "+t.getQuerySubmitBtn(n)+"\n\t\t\t</div>\n\t\t";L("#"+e).append(a);var r=O.form;r.render(),t.renderDateTimeComponent("sTime"+n,"",Object(f.d)(Object(f.c)("d",-7,new Date),"YYYY/MM/DD 00:00")),t.renderDateTimeComponent("eTime"+n,"",Object(f.d)(new Date,"YYYY/MM/DD 23:59")),r.on("submit(btnQuery"+n+")",function(t){try{if(new Date(t.field.sTime)>new Date(t.field.eTime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),i&&i(t.field)}catch(t){}return!1})},t}(),xl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wl=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="NonUniformDipAngle",i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.chartList=null}catch(t){}},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()})},i.onAssetTypeNotSupport=function(t){Object.keys(i.chartList).map(function(t){i.ClearChart(i.chartList[t])})},i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.onAssetTypeNotSupport(null)}catch(t){}else Object.keys(i.chartList).map(function(t){var e=i.Path;"waveY"==t?e=i.Path.replace(/ X/g," Y"):"waveX"==t&&(e=i.Path.replace(/ Y/g," X")),i.chartList[t].layout.UpdateHelperInfo({path:e})}),i.getMainData()},i.getQuery=function(){return{sTime:L("#sTime"+i.id).val(),eTime:L("#eTime"+i.id).val()}},i.loadWaveData=function(t,e){var n=i;if(t&&e){var a=[{WaveKey:t,start:0},{WaveKey:e,start:0}];Si.BatchFetchOriginalVibWave(a).then(function(t){try{var e=yl(t[0].data),i=e.data,a=e.XUnit,r=e.YUnit;n.TrendHelper.loadData("waveX",i[0],a,r)}catch(t){n.TrendHelper.loadData("waveX",[],"","")}try{var o=yl(t[1].data);i=o.data,a=o.XUnit,r=o.YUnit;n.TrendHelper.loadData("waveY",i[0],a,r)}catch(t){n.TrendHelper.loadData("waveY",[],"","")}})}},i.TrendHelper={onMainCursorMoved:function(t,e,n){var a=n[2],r=n[3];i.loadWaveData(a,r)},loadData:function(t,e,n,a){i.chartList[t].render([e],n,a,null,null,null,null)}},i.InitQuery=function(){var t=i;Cl.fastInitTopTimeQuery("top1"+i.id,i.id,function(){t.onAssetChange({assetId:t.assetId,assetType:t.assetType})})},i.Path=n,i.chartList={},i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return xl(e,t),e.prototype.ClearChart=function(t){t.Clear()},e.prototype.getMainData=function(){var t=this,e=this.deviceId,n=this.assetId,i=this.getQuery(),a=[{deviceId:e,pointID:n,indexcode:2503,MinDate:i.sTime,MaxDate:i.eTime}];e&&Si.BatchFetchTowerBaseTrend(a).then(function(e){try{for(var n=e[0].data.Datas,i=[],a=[],r=0;r<n.length;r++){var o=n[r];i.push([Object(f.e)(o.MeasDate),o.MeasValue,o.WaveKey1,o.WaveKey2]),a.push([Object(f.e)(o.MeasDate),Math.sin(o.MeasValue*Math.PI/180)*o.TowerDiameter,o.WaveKey1,o.WaveKey2])}t.TrendHelper.loadData("angle",i,"","°"),t.TrendHelper.loadData("settlement",a,"","mm")}catch(e){t.onAssetTypeNotSupport(null)}}).catch(function(t){})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"top1",otherStyle:"height:41px;"},{id:"center",otherStyle:"height:calc(100% - 41px)",children:[{id:"left",children:[{id:"left1"},{id:"left2"},{id:"left3"},{id:"left4"}]}]}],e.splitConfig=[{ids:["left1","left2","left3","left4"],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n,i,a){var r=new qt(L("#"+t)[0],e,{onMainCursorMoved:"angle"==i||"settlement"==i?this.TrendHelper.onMainCursorMoved:null});"waveX"!=i&&"waveY"!=i||r.registeredCursor([new Yr(r)]),r.layout._InitHelperInfo({chartName:n,path:this.Path,CurosrValue:""}),r.ChartKeys=["x","y","w1","w2"],r.chartConfig.xIsTime=a,r.chartConfig.isAllowMaxBtn=!0,this.chartList[i]=r,r.Init()},e.prototype.InitChart=function(){var t=this;this.chartList={};[{id:"left1"+this.id,position:Yt.Last,chartName:M.$t("Tower Base Non-uniform inclination"),eachName:"angle",xIsTime:!0},{id:"left2"+this.id,position:Yt.Last,chartName:M.$t("Tower Base Non-uniform settlement"),eachName:"settlement",xIsTime:!0},{id:"left3"+this.id,position:Yt.First,chartName:M.$t("X Direction waveform"),eachName:"waveX",xIsTime:!1},{id:"left4"+this.id,position:Yt.First,chartName:M.$t("Y Direction waveform"),eachName:"waveY",xIsTime:!1}].map(function(e){t.CreatChart(e.id,e.position,e.chartName,e.eachName,e.xIsTime)}),bl([this.chartList.angle,this.chartList.settlement]),bl([this.chartList.waveX,this.chartList.waveY])},e}(J),Dl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Il=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Bl=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="ScatterPlot",i.onWhenHidden=function(){},i.Resize=function(){var t,e=i,n=e.chart;i.chart.Resize(),e.chart.onRenderEnd(),null===(t=i.trendCharts)||void 0===t||t.forEach(function(t){t.Resize()}),n.ResizeChecked(),i.RenderCircle()},i.onAssetTypeNotSupport=function(t){var e;i.chart.Clear(),i.chart.layout.UpdateHelperInfo({path:i.devicePath}),null===(e=i.trendCharts)||void 0===e||e.forEach(function(t){t.Clear(),t.layout.UpdateHelperInfo({path:i.devicePath})})},i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.onAssetTypeNotSupport(null)}catch(t){}else i.LoadData(),i.trendCharts.forEach(function(t){t.layout.UpdateHelperInfo({path:i.devicePath})})},i.InitChartEvent=function(t){var e=i,n=Il([],i.trendCharts);t.props.onMainCursorMoved=function(e,a,r,o){var s=r[0];n.forEach(function(e){if(e.id!==t.id&&e.verifyData()){var n=e.getMostIndexX(s);e.selectedXIndex=n[0],e.MoveMainCursor(!0,!0,!0,!1,!1),e.updateHelperInfo()}});try{var l=i.chart.getMostIndexX(s,0,!1,i.chart.data[0].map(function(t){return[t[2],[1]]}));i.chart.moveToSelectedX(l[0])}catch(t){}},t.props.onSetExtremes=function(n,i){e.trendCharts.map(function(e){if(e.id!==t.id)try{e.hchartInstance&&e.hchartInstance.xAxis&&e.hchartInstance.xAxis[0].setExtremes(n,i,!0,!1,"NotDispatch")}catch(t){}})}},i.InitQuery=function(){var t=Cl.getTimeRangHtml(i.id),e='\n      <div class="layui-inline" id="optionDiv'+i.id+'">\n          <label class="layui-form-label">是否显示最大值范围:</label>\n          <div class="layui-input-inline" >\n            <input type="radio" name="modeOption" value="1" title='+M.$t("cascade.loadbtn.yes")+' checked="" lay-filter="modeOption">\n            <input type="radio" name="modeOption" value="0" title='+M.$t("cascade.loadbtn.no")+' lay-filter="modeOption">\n          </div>\n       </div>\n        ',n=Cl.getQuerySubmitBtn(i.id),a='\n\t\t\t<div class="layui-form graph-from-inline" id=\'Query'+i.id+"'>\n        "+t+"\n        "+e+"\n        "+n+"\n\t\t\t</div>\n\t\t";L("#top"+i.id).append(a);var r=O.form;r.render(),Cl.renderDateTimeComponent("sTime"+i.id,"",Object(f.d)(Object(f.c)("d",-7,new Date),"YYYY/MM/DD 00:00")),Cl.renderDateTimeComponent("eTime"+i.id,"",Object(f.d)(new Date,"YYYY/MM/DD 23:59"));var o=i;r.on("submit(btnQuery"+i.id+")",function(t){try{if(new Date(t.field.sTime)>new Date(t.field.eTime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),o.CheckedTime=e,o.LoadData()}catch(t){}return!1}),r.on("radio(modeOption)",function(t){o.TypeValue=t.value})},i.ele=e,i.Path=n,i.CheckedTime=[],i.renderGroup=null,i.TypeValue=1,i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return Dl(e,t),e.prototype.Dispose=function(){var t;try{this.BaseDispose(),this.chart.Dispose(),null===(t=this.trendCharts)||void 0===t||t.forEach(function(t){t.Dispose()}),this.Path=null,this.chartName=null,this.CheckedTime=null,this.renderGroup&&this.renderGroup.destroy(),this.renderGroup=null,this.TypeValue=null}catch(t){}},e.prototype.RenderCircle=function(){if(this.renderGroup)try{this.renderGroup.destroy(),this.renderGroup=null}catch(t){}if(1==this.TypeValue){var t=this.chart.hchartInstance.plotLeft,e=this.chart.hchartInstance.plotTop,n=(this.chart.hchartInstance.plotWidth,this.chart.hchartInstance.plotHeight,this.chart.hchartInstance.xAxis[0].center[0]),i=this.chart.hchartInstance.xAxis[0].center[1],a=this.chart.hchartInstance.series[0].data,r=0;a&&a.map(function(t){var e=(t.plotX-n)*(t.plotX-n)+(t.plotY-i)*(t.plotY-i);e>r&&(r=e,t)});var o=this.chart.hchartInstance.renderer,s=o.g().attr({zIndex:5}).add();o.circle(n+t,i+e,Math.sqrt(r)).attr({fill:"none",stroke:"#ffc49b","stroke-width":1,zIndex:5}).add(s),this.renderGroup=s}else if(this.renderGroup)try{this.renderGroup.destroy(),this.renderGroup=null}catch(t){}},e.prototype.LoadData=function(){var t=this,e=this,n=this.deviceId,i=this.assetId,a=Object(f.d)(e.CheckedTime[0],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(Object(f.c)("d",-7,new Date),"YYYY/MM/DD 00:00"),r=Object(f.d)(e.CheckedTime[1],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59");n&&(Si.FetchTowerSections(n,i,a,r).then(function(t){var n,i;try{var a=[],r=null,o="",s=(null===(n=t.data)||void 0===n?void 0:n.TowerHigh)||0,l=(null===(i=t.data)||void 0===i?void 0:i.TowerPartType)||1,c={yAxis:[{title:{enabled:!1},showFirstLabel:!0,showLastLabel:!0,min:0,labels:{formatter:function(t){var n=this.value,i=e.chart.formatNumber(function(t){return t/2*3/s*180/Math.PI}(n));return""+n+o+","+i+"°"}}}]};1!==l&&(c=null);for(var u=t.data.Datas,h=0,d=u.length;h<d;h++){var p=(r=u[h]).XPoint.DisWithSensor,A=r.YPoint.DisWithSensor,m=r.OtherUnit,y=r.MeasDate;o=r.Unit,a.push([p,A,y?Object(f.e)(y):0,r.XPoint.OtherValue?Math.round(1e3*r.XPoint.OtherValue)/1e3+m:""])}var g=[];a.map(function(t){var e=Math.atan(Math.abs(t[1]/t[0]))/(Math.PI/180),n=Math.sqrt(t[0]*t[0]+t[1]*t[1]);t[0]>=0&&t[1]>=0?e=e:t[0]<0&&t[1]>=0?e=180-e:t[0]<=0&&t[1]<0?e+=180:t[0]>0&&t[1]<0&&(e=360-e),void 0===t[3]?g.push([e,n,t[2],t[0]?Math.round(1e3*t[0])/1e3+o:"",t[1]?Math.round(1e3*t[1])/1e3+o:""]):g.push([e,n,t[2],t[3]?t[3]:"",t[0]?Math.round(1e3*t[0])/1e3+o:"",t[1]?Math.round(1e3*t[1])/1e3+o:""])}),e.chart.render([g],"°",o,c),e.RenderCircle()}catch(t){e.chart.render([],"","")}}).catch(function(t){}),Si.FetchTowerTrend(i,a,r).then(function(e){var n=e.data,i=n.XTimes,a=n.XValues,r=n.Unit,o=n.YTimes,s=n.YValues;t.renderTrendChart(t.trendCharts[0],i,a,r),t.renderTrendChart(t.trendCharts[1],o,s,r)}))},e.prototype.renderTrendChart=function(t,e,n,i){if(void 0===i&&(i=""),null==e?void 0:e.length){for(var a=[],r=0,o=e.length;r<o;r++)a.push([Object(f.e)(e[r]),n[r]]);t.render([a],"",i)}},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"top",otherStyle:"height:41px;"},{id:"center",otherStyle:"height:calc(100% - 41px)",children:[{id:"left0",children:[{id:"left-top"},{id:"left-bottom"}]},{id:"left"}]}],e.splitConfig=[{ids:["left0","left"],size:[65,35],callBack:function(){t.Resize()}},{ids:["left-top","left-bottom"],size:[50,50],isVertical:!0,callBack:function(){t.Resize()}}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n,i){var a=this;void 0===n&&(n=null),void 0===i&&(i=!0),this.chart=new Gs(t,Yt.Last),this.chart.isDrawLine=!1;var r=this.chart;this.chart.ChartKeys=["x","y","times"],r.layout.generateToolbox=!1,r.layout._InitHelperInfo({chartName:"散点图",CurosrValue:""}),r.chartConfig.isAllowMaxBtn=i,r.Init(),r.menuInstance.RemoveMenuItem("LockChart"),r.menuInstance.RemoveMenuItem("toolbar"),this.chart.props.onMainCursorMoved=function(t,e,n,i){var o=n[1][2]||n[2];Il([],a.trendCharts).forEach(function(t){if(t.id!==r.id&&t.verifyData()){var e=t.getMostIndexX(o);t.selectedXIndex=e[0],t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}})}},e.prototype.InitChart=function(){this.CreatChart(L("#left"+this.id)[0],"AngleScatter",this.Path);var t=new qt("left-top"+this.id,Yt.Last);t.chartConfig.xIsTime=!0,t.chartConfig.isAllowMaxBtn=!0,t.layout._InitHelperInfo({path:this.devicePath,chartName:"X 趋势",CurosrValue:""}),t.Init();var e=new qt("left-bottom"+this.id,Yt.Last);e.chartConfig.xIsTime=!0,e.chartConfig.isAllowMaxBtn=!0,e.layout._InitHelperInfo({path:this.devicePath,chartName:"Y 趋势",CurosrValue:""}),e.Init(),this.trendCharts=[],this.trendCharts.push(t),this.trendCharts.push(e),this.InitChartEvent(t),this.InitChartEvent(e)},e}(J),Tl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sl=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ml=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},El=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="TwoDimensional",i.Resize=function(){i.chartList.forEach(function(t){return t.Resize()})},i.onAssetTypeNotSupport=function(t){i.chartList.forEach(function(t){return t.Clear()})},i.onAssetChange=function(t){t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0?i.onAssetTypeNotSupport(null):(i.chartList[0].layout.UpdateHelperInfo({path:i.devicePath}),i.loadTrendData(i.assetId))},i.getQuery=function(){return{sTime:L("#sTime"+i.id).val(),eTime:L("#eTime"+i.id).val()}},i.loadTrendData=function(t){return Sl(i,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c;return Ml(this,function(u){switch(u.label){case 0:return e=this.chartList[0],n=this.getQuery(),i=n.sTime,a=n.eTime,[4,Si.FetchIndex(t,i,a,2514)];case 1:return r=u.sent(),o=vl(r.data),s=o.data,l=o.XUnit,c=o.YUnit,e.render(s,l,c),[2]}})})},i.InitQuery=function(){var t=i;Cl.fastInitTopTimeQuery("top"+i.id,i.id,function(){t.onAssetChange({assetId:t.assetId,assetType:t.assetType})})},i.CreatLayout(),i.InitChart(),i}return Tl(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chartList.forEach(function(t){return t.Dispose()})}catch(t){}},e.prototype.loadData=function(t){var e=this,n=this,i=this.assetId,a=Object(f.d)(t,"YYYY-MM-DD HH:mm:ss");a&&Si.FetchTowerWave("3",i,a).then(function(t){if(t.data)try{for(var i=e.chartList[3],a=t.data[0].XData,r=t.data[0].YData,o=t.data[0].XInterval,s=t.data[0].YUnit,l=[],c=[],u=[],h=0;h<a.length;h++)if(c.push([o*h,a[h]]),u.push([o*h,r[h]]),a.length==r.length){var d=[a[h],r[h]],p=Math.atan(Math.abs(d[1]/d[0]))/(Math.PI/180),f=Math.sqrt(d[0]*d[0]+d[1]*d[1]);d[0]>=0&&d[1]>=0?p=p:d[0]<0&&d[1]>=0?p=180-p:d[0]<=0&&d[1]<0?p+=180:d[0]>0&&d[1]<0&&(p=360-p),l.push([p,f])}n.chartList[1].render([c],"ms","°"),n.chartList[2].render([u],"ms","°"),i.render([l],"°",s)}catch(t){}}).catch(function(t){})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"top",otherStyle:"height:41px;"},{id:"center",otherStyle:"height:calc(100% - 41px)",children:[{id:"top1"},{id:"top2",children:[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"right"}]}]}],e.splitConfig=[{ids:["left","right"],callBack:function(){t.Resize()}},{ids:["left1","left2"],isVertical:!0,callBack:function(){t.Resize()}},{ids:["top1","top2"],isVertical:!0,size:[30,70],callBack:function(){t.Resize()}}],new va(e,this.id).render(this.element),this.InitQuery()},e.prototype.CreatChart=function(t){var e=this,n=function(t,e){void 0===e&&(e="");var n=gl(t);return n.layout._InitHelperInfo({chartName:e,path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),n.chartConfig.isAllowMaxBtn=!0,n.Init(),n},i=n("left1"+this.id,"塔顶倾角X波形"),a=n("left2"+this.id,"塔顶倾角Y波形");i.props.onMainCursorMoved=function(t){e.chartList[3].moveToSelectedX(t)},a.props.onMainCursorMoved=function(t){e.chartList[3].moveToSelectedX(t)},bl([i,a]);var r=new qt("top1"+this.id,Yt.Last,{onMainCursorMoved:function(t,n,i,a){if(i){var r=i[0],o=Object(f.r)(r);e.loadData(o)}}});r.layout._InitHelperInfo({chartName:"塔顶倾角趋势",path:"",CurosrValue:""}),r.chartConfig.isAllowMaxBtn=!0,r.chartConfig.xIsTime=!0,r.Init();var o=new Gs(t,Yt.First,{onMainCursorMoved:function(t,n,i,a){var r=[e.chartList[1],e.chartList[2]];i&&r.forEach(function(e){e.selectedXIndex=t,e.MoveMainCursor(!0,!0,!0,!1,!1)})}});o.isDrawLine=!0,o.layout.generateToolbox=!1,o.layout._InitHelperInfo({chartName:"二维位移图",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),o.chartConfig.isAllowMaxBtn=!0,o.menuInstance.RemoveMenuItem("LockChart"),o.menuInstance.RemoveMenuItem("toolbar"),o.Init(),this.chartList=[],this.chartList.push(r),this.chartList.push(i),this.chartList.push(a),this.chartList.push(o)},e.prototype.InitChart=function(){this.CreatChart(L("#right"+this.id)[0])},e}(J),kl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fl=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ol=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Ll=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="PitchRollAngle",i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),i.elevationAngleChart.Dispose(),i.elevationAngleChart2.Dispose(),i.trendChart.Dispose()}catch(t){}},i.Resize=function(){i.elevationAngleChart.Resize(),i.elevationAngleChart2.Resize(),i.trendChart.Resize()},i.onAssetTypeNotSupport=function(t){i.ClearChart(i.elevationAngleChart),i.ClearChart(i.elevationAngleChart2),i.ClearChart(i.trendChart)},i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.onAssetTypeNotSupport(null)}catch(t){}else i.trendChart.layout.UpdateHelperInfo({path:i.devicePath+" 塔顶倾角趋势"}),i.loadTrendData(i.assetId)},i.loadTrendData=function(t){return Fl(i,void 0,void 0,function(){var e,n,i,a,r,o,s,l;return Ol(this,function(c){switch(c.label){case 0:return e=this.getQuery(),n=e.sTime,i=e.eTime,[4,Si.FetchIndex(t,n,i,2514)];case 1:return a=c.sent(),r=vl(a.data),o=r.data,s=r.XUnit,l=r.YUnit,this.trendChart.render(o,s,l),[2]}})})},i.getQuery=function(){return Cl.getTimeRange(i.id)},i.GetData=function(t){return Fl(i,void 0,void 0,function(){var e,n,i,a,r=this;return Ol(this,function(o){this,e=this.deviceId,n=this.assetId,i=Object(f.d)(t,"YYYY-MM-DD HH:mm:ss"),a={deviceId:e,assetId:n,indexType:"1",waveKey:i};try{Si.FetchTowerWave(a.indexType,a.assetId,a.waveKey).then(function(t){var e=yl(t.data[0]);r.elevationAngleChart.render(e.data,e.XUnit,e.YUnit);var n=yl(t.data[1]);r.elevationAngleChart2.render(n.data,n.XUnit,n.YUnit)})}catch(t){}return[2]})})},i.InitQuery=function(){var t=i;Cl.fastInitTopTimeQuery("top"+i.id,i.id,function(){t.onAssetChange({assetId:t.assetId,assetType:t.assetType})})},i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return kl(e,t),e.prototype.ClearChart=function(t){t.Clear()},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"top",otherStyle:"height:41px;"},{id:"center",otherStyle:"height:calc(100% - 41px)",children:[{id:"left0"},{id:"left1"},{id:"left2"}]}],e.splitConfig=[{ids:["left0","left1","left2"],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element)},e.prototype.InitChart=function(){var t=this,e=function(t,e){var n=gl(t);return n.layout._InitHelperInfo({chartName:e,path:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),n.chartConfig.isAllowMaxBtn=!0,n.Init(),n};this.elevationAngleChart=e("left1"+this.id,M.$t("Tower.PitchAngle.waveform")),this.elevationAngleChart2=e("left2"+this.id,M.$t("Tower.rollAngle.waveform")),bl([this.elevationAngleChart,this.elevationAngleChart2]);var n=new qt("left0"+this.id,Yt.Last,{onMainCursorMoved:function(e,n,i,a){if(i){var r=i[0],o=Object(f.r)(r);t.GetData(o)}}});n.layout._InitHelperInfo({chartName:"",path:"",CurosrValue:""}),n.chartConfig.isAllowMaxBtn=!0,n.chartConfig.xIsTime=!0,n.Init(),this.trendChart=n},e}(J),Ul=function(){return function(){}}(),Pl=new(function(){function t(){var t=this;this.triggerChange=function(){t.event&&Object.keys(t.event).map(function(e){var n=t.event[e];n&&n(t.CheckeData)})},this.CheckeData=[]}return t.prototype.Clear=function(t){void 0===t&&(t=!0),this.CheckeData&&this.CheckeData.length&&(this.CheckeData=[],this.triggerChange())},t.prototype.GetData=function(){return this.CheckeData},t.prototype.AddData=function(t,e){void 0===e&&(e=!0),this.CheckeData||(this.CheckeData=[]),this.CheckeData.filter(function(e){return e.DataKey===t.DataKey}).length>0&&(this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t.DataKey})),this.CheckeData.push(t),e&&this.triggerChange()},t.prototype.AddDatas=function(t){var e=this;t.map(function(t){e.AddData(t,!1)}),this.triggerChange()},t.prototype.DeleteData=function(t){this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t}),this.triggerChange()},t.prototype.AddEvent=function(t,e){this.event||(this.event={}),this.event[t]=e},t.prototype.DeleteEvent=function(t){delete this.event[t]},t}());window.RZCheckedCache=Pl;var Rl=Pl,Hl=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ql=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},_l=function(){function t(){var t=this;this.lastSelectedX=null,this.UpdateHelperInfo=function(e){t.trend.layout.UpdateHelperInfo(e)},this.Dispose=function(){t.trend&&t.trend.Dispose(),t.lastUnits=null,t.selectedChart=null,t.trend=null},this.lastUnits=[],this.selectedChart=[],this.InitChart=function(e,n,i,a){var r=t,o=new qt(e,Yt.Last,{onMainCursorMoved:function(t,e,n,i){if("first"!=i){var o=n[0];r.lastSelectedX=o}a&&a(n[0],r.selectedChart)},onRenderEnd:function(){if(r.lastSelectedX){var t=o.getMostIndexX(r.lastSelectedX,0);o.selectedXIndex=t[0],o.selectedYIndex=o.convertYToIndex(r.lastSelectedX,0),o.MoveMainCursor(!0,!0,!0,!1,!0,"first")}else{t=o.getMostIndexX(Object(f.e)(new Date),0);o.selectedXIndex=t[0],o.selectedYIndex=o.convertYToIndex(r.lastSelectedX,0),o.MoveMainCursor(!0,!0,!0,!1,!0,"first")}}});return o.chartName=i,o.layout._InitHelperInfo({CurosrValue:""}),o.chartConfig.xIsTime=!0,o.chartConfig.isAllowMaxBtn=!0,o.AddMenuItem([{id:"setProcessTrendTimeRange",name:M.$t("title.Detailed.trend.range"),callback:function(){var t=Object(f.v)("ProcessTrendTimeRange")||2,e="<div class=''> \n                        <div class=\"layui-form-customline\">\n                        "+M.$t("ProcessTrend.DataRang.BA")+":\n                        </div> \n                        <div class='layui-form-customline'> \n                         <input id=\"ProcessTrendTimeRange"+r.id+"\" type='number' name='ProcessTrendTimeRange' min='1' max='240' autocomplete='off' class='layui-layer-input' value='"+t+"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 80px;height:28px;' />\n                        </div> \n                        <div class='layui-form-customline'>\n                         "+M.$t("DateTime.Hour")+"\n                        </div> \n                     </div>";U.prompt({title:M.$t("ProcessTrend.DataRang.title"),content:e,btn:[M.$t("btn.ok")],shadeClose:!0},function(t,e){if(!(t<0)){var n=L("#ProcessTrendTimeRange"+r.id).val()||2;if(parseInt(n)>240)U.msg(M.$t("meun.config.processtrend.maxtime.error",{count:240}));else if(parseInt(n)<1)U.msg(M.$t("meun.config.processtrend.mintime.error",{count:1}));else{try{Object(f.E)("ProcessTrendTimeRange",n);var i=Object(f.r)(o.data[0][o.selectedXIndex][0]);a&&a(i,r.selectedChart)}catch(t){}U.close(e)}}}),L("#ProcessTrendTimeRange"+r.id).val(t)}}]),o.Init(),t.trend=o,o.getSelectedText=function(t){try{var e=o.data[o.selectedYIndex][o.selectedXIndex];e=e.concat([]);var n={rate:1,unit:o.xUtils};o.chartConfig.convertUnit&&(n=Object(f.b)(o.xUtils)),o.xUtils=n.unit,o.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=(e[0]*n.rate).toFixed(3);var i="";return i=r.selectedChart[o.selectedYIndex].name+"  "+e[0]+o.xUtils+"，"+e[1].toFixed(3)+(r.lastUnits[o.selectedYIndex]||""),o.cursorList&&o.cursorList.length>0&&o.cursorList.forEach(function(e){e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},o},this.formatDataCombined=function(e,n){for(var i=Object(f.t)(),a=[],r=[],o=0;o<e.length;o++){for(var s=e[o].data.Datas,l=[],c=0;c<s.length;c++)l.push([Object(f.e)(s[c].MeasDate),s[c].MeasValue]);l.sort(function(t,e){return t[0]-e[0]}),r.push(l),t.lastUnits.push(e[o].data.Unit),a.push({turboThreshold:0,animation:!1,color:o<i.length?i[o]:null,keys:t.trend.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:M.$t(n[o].name),data:l,lineWidth:1})}return{data:r,series:a}},this.LoadData=function(e,n,i){return Hl(t,void 0,void 0,function(){var t,a,r;return Ql(this,function(o){switch(o.label){case 0:return this,this.Clear(),this.selectedChart=e,t=[],e&&e.map(function(e){e.indexType===Kl.ProPoint?t.push(Si.FetchTsDatas(e.assetId,0,n,i)):e.indexType===Kl.EigenvalueIndex&&t.push(Si.FetchIndexData(e.assetId,e.indexCode,0,n,i))}),[4,ne.a.all(t)];case 1:return a=o.sent(),r=this.formatDataCombined(a,e),this.trend.render(r.data,"","",{series:r.series,legend:{layout:"horizontal",align:"center",floating:!0,margin:0,verticalAlign:"top",itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[2]}})})},this.Resize=function(){t.trend.Resize()},this.id=Object(f.y)()}return t.prototype.Clear=function(){this.lastUnits=[],this.selectedChart=[],this.trend.Clear(!0)},t}(),Nl=function(){function t(t,e){void 0===t&&(t=null),this.tableData=[],this.isOpen=!1,this.jumpFunc=t,this.id=Object(f.y)(),this.parentId=e,this.AddShowRecordButton(e);var n="<div id='Remark"+this.id+"' lay-filter=\"Remark"+this.id+'" style="width:430px;height:480px;display:none;"> </div>';L("body").append(n);var i=new Ta,a=[[{field:"MeasDate",width:145,title:M.$t("datatable.title.measdate")},{field:"Description",width:120,edit:"text",title:M.$t("datatable.title.desc")},{title:M.$t("memo.oper.title"),toolbar:'<div>\n          <a class="layui-btn layui-btn-xs" lay-event="jump">'+M.$t("memo.oper.jump")+'</a>\n          <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">'+M.$t("memo.oper.delete")+"</a>\n          </div>",width:150}]],r=this;i.Create("Remark"+this.id,null,a,{page:!1}),this._table=i;var o=i.getTableId();O.table.on("tool("+o+")",function(t){t.data;"del"===t.event?U.confirm(M.$t("memo.oper.deleteConfirm"),{btn:[M.$t("cascade.loadbtn.yes"),M.$t("cascade.loadbtn.no")],title:M.$t("layui.layer.tip.title")},function(e){t.del(),r.tableData=r.tableData.filter(function(e){return e.MeasDate!=t.data.MeasDate}),U.close(e)}):"jump"===t.event&&r.jumpFunc&&r.jumpFunc(t.data.currPage,t.data.AllData,t.data.MeasDate)})}return t.prototype.Dispose=function(){this.tableData=null,L("#Remark"+this.id).remove(),U.close(this.layerIndex),this._table.Dispose(),this._table=null,this.jumpFunc=null},t.prototype.AddData=function(t){this.tableData||(this.tableData=[]),this.tableData.filter(function(e){return e.MeasDate==t.MeasDate}).length>0?U.msg(""+M.$t("memoryindex.table.error")):(this.tableData.push(t),this._table.Update({data:this.tableData,page:!1}),this.Open())},t.prototype.delete=function(){},t.prototype.Clear=function(){this.tableData=[],this._table.Update({data:[]})},t.prototype.Open=function(){this.layerIndex=U.prompt({shade:0,title:M.$t("memo.title"),formType:2,content:L("#Remark"+this.id),btn:[]},function(t,e){})},t.prototype.Close=function(){U.close(this.layerIndex)},t.prototype.AddShowRecordButton=function(t){var e=this;if(t){var i=L("#right"+t);if(i){var a="\n\t\t\t<div id='recordButtonEle"+this.id+"' \n\t\t\t\t style='position: absolute; top:5px; right:5px; background-color:transparent;height:20px;width:20px;z-index:999;'\n\t\t\t>\n\t\t\t\t<img title='"+M.$t("menu.showSelectedData")+"' id='clickableImg"+this.id+"' style='height:20px;width:20px;cursor: pointer;' src=\""+n(86)+'"/>\n\t\t\t</div>\n\t\t';L(i).append(a),L("#clickableImg"+this.id).on("click",function(){e.Open()})}}},t}(),jl=function(){return(jl=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Yl=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},zl=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Gl=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Vl=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Kl={TimeIndex:"TImeIndex",EigenvalueIndex:"EigenvalueIndex",ProPoint:"ProPoint",SamplingIndex:"SamplingIndex"},Wl=function(){return function(){}}(),Xl=function(){function t(t,e,n,i,a){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=null),this.getChartOptions=function(t,e,n,i,a){var r=[],o=[],s=[];if(e&&e.Datas){var l=Vl([],e.Datas);!1===ie.GetDataRange().isShowError&&(l=l.filter(function(t){return 99!==t.Alarm})),t.sourceData=l;for(var c=l.length-1;c>=0;c--){var u=l[c];if(a.indexType==Kl.TimeIndex)s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey]);else try{null!==u.MeasValue&&"NaN"!==u.MeasValue&&(void 0!==u.Alarm&&null!=u.Alarm&&99===u.Alarm&&u.WaveKey?(r.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),o.push([Object(f.e)(u.MeasDate),u.MeasValue]),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):void 0!==u.Alarm&&99===u.Alarm?(r.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):u.WaveKey?(o.push([Object(f.e)(u.MeasDate),u.MeasValue]),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},u.WaveKey])):void 0!==u.Alarm&&null!=u.Alarm&&0!==u.Alarm&&1<=u.Alarm&&u.Alarm<=5?s.push([Object(f.e)(u.MeasDate),u.MeasValue,{enabled:!0,fillColor:u.Alarm>=4?Object(f.i)(u.Alarm):Object(f.i)(3),radius:2,symbol:"circle",enabledThreshold:0},u.WaveKey]):s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey]))}catch(t){}}}else t.sourceData=null;(s=s.sort(function(t,e){return t[0]-e[0]}))&&s.length>0&&(t.selectedXIndex=s.length-1),t.render([s],"",e&&e.Unit||"",{annotations:[{draggable:"",id:"MarkPoints",shapes:r,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:t.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:s,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:o,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,{customXAxisMax:Object(f.e)(i)>Object(f.e)(new Date)?Object(f.e)(new Date):Object(f.e)(i),customXAxisMin:Object(f.e)(n)},e&&e.AlarmLimits||[])},this.renderChart=function(t,e,n,i,a){t.showAlarmLine=r.ShowAlarmLine,r.getChartOptions(t,e,i,a,n)},this.onBigTrendCursorMoveCallback=function(t,e){var n=r;try{var i=parseInt(Object(f.v)("ProcessTrendTimeRange"))||2,a=Object(f.r)(t),o=Object(f.r)(Object(f.c)("h",-i,a)),s=Object(f.r)(Object(f.c)("h",i,a));n.LastSetExtremes=null,e.map(function(t){for(var e=t.assetId+t.indexType+t.indexCode,i=n.chartList.filter(function(t){return t.chartName===e})[0],a=0,r=0;r<n.orgChartData.length;r++){var l=n.orgChartData[r].indexData;if(l.assetId===t.assetId&&l.indexType===t.indexType&&l.indexCode===t.indexCode){a=r;break}}t.indexType===Kl.ProPoint?Si.FetchTsDatas(t.assetId,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=jl(jl({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}}):t.indexType===Kl.EigenvalueIndex&&Si.FetchIndexData(t.assetId,t.indexCode,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=jl(jl({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}})})}catch(t){}},this.LastSelectX=null,this.LastSetExtremes=null,this.LastDynamicCursor=null,this.LastToolbar=null,this.LastHelperInfo=null,this.CheckedList=[],this.ShowAlarmLine=!1,this.ShowAlarmLineFunc=function(){var t=r;t.chartList.map(function(e){e.HideOrShowAlarmLine(!e.showAlarmLine),L("#AddAlarmLine"+e.GetChartId()).find("span").html(e.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),t.ShowAlarmLine=e.showAlarmLine})},this.lastSourceData=null,this.lastQueryData=null,this.FilterCondition=function(t){if(t)for(var e=r,n=0,i=e.chartList.length;n<i;n++)e.UpdateChart(e.orgChartData[n],e.chartList[n],t,0==n)},this.UpdateChart=function(t,e,n,i,a){if(void 0===a&&(a=!1),t&&t.Datas&&0!=t.Datas.length){var o=r,s=[],l=[],c=[];!1===ie.GetDataRange().isShowError&&(t.Datas=t.Datas.filter(function(t){return 99!==t.Alarm}));for(var u=t.Datas.length-1;u>=0;u--){var h=t.Datas[u];if((a||n.length>0&&n.includes(h.Condition))&&null!==h.MeasValue&&"NaN"!==h.MeasValue)try{null!==h.MeasValue&&"NaN"!==h.MeasValue&&(void 0!==h.Alarm&&null!=h.Alarm&&99===h.Alarm&&h.WaveKey?(s.push({point:{x:Object(f.e)(h.MeasDate),y:h.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),l.push([Object(f.e)(h.MeasDate),h.MeasValue]),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey])):void 0!==h.Alarm&&99===h.Alarm?(s.push({point:{x:Object(f.e)(h.MeasDate),y:h.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey])):h.WaveKey?(l.push([Object(f.e)(h.MeasDate),h.MeasValue]),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},h.WaveKey])):c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey]))}catch(t){}}if(e.showAlarmLine=!1,c=c.sort(function(t,e){return t[0]-e[0]}),e.render([c],"",t.Unit,{annotations:[{draggable:"",id:"MarkPoints",shapes:s,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:e.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:c,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:l,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,null,t.AlarmLimits||[]),i){if(!c[0])return;o.LoadWaveForm(Object(f.e)(c[0][0]),c[0])}}},this.ResetFilterCondition=function(){for(var t=r,e=0,n=t.chartList.length;e<n;e++)t.UpdateChart(t.orgChartData[e],t.chartList[e],null,0==e,!0)},this.getMaxAndMinData=function(t,e,n){if(void 0===e&&(e=Number.MAX_SAFE_INTEGER),void 0===n&&(n=0),!t||0===t.length)return{minTime:e,maxTime:n};for(var i=Vl([],t),a=0,r=i.length;a<r;a++)i[a].MeasDate=Object(f.e)(i[a].MeasDate);return i.sort(function(t,e){return t.MeasDate-e.MeasDate}),i[0].MeasDate<e&&(e=i[0].MeasDate),i[i.length-1].MeasDate>n&&(n=i[i.length-1].MeasDate),{minTime:e,maxTime:n}},this.onPageSizeChange=e,this.onDisplayCheckedTrendChart=n,this._elem=t,this._parent=a,this._MemoryIndexTable=new Nl(i,a.id),this.bigTrend=new _l,this.bigTrend.InitChart("top"+this._parent.id,"","",this.onBigTrendCursorMoveCallback),W.addEvent("TempDataRangeChange",function(){r.render(r.lastQueryData.objs,r.lastQueryData.stime,r.lastQueryData.etime,r.lastQueryData.currPage,r.lastQueryData.AllData)},this._parent.id)}return t.prototype.SetMemoryTableDisplayNone=function(t){t?this._MemoryIndexTable&&this._MemoryIndexTable.Open():this._MemoryIndexTable&&this._MemoryIndexTable.Close()},t.prototype.ClearMemortTableData=function(){this._MemoryIndexTable.Clear()},t.prototype.Clear=function(){this.ReRenderClear(),Rl.Clear(),this.LastSelectX=null,this.CheckedList=[],this.LastSetExtremes=null,this.chartList=null,this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null},t.prototype.Dispose=function(){this.lastQueryData=null,W.removeEvent("TempDataRangeChange",null,this._parent.id),this.ReRenderClear(),this.lastSourceData=null,this._MemoryIndexTable&&this._MemoryIndexTable.Dispose(),this.bigTrend&&this.bigTrend.Dispose(),this._MemoryIndexTable=null,this.bigTrend=null,this._elem=null},t.prototype.ReRenderClear=function(){this.chartList&&this.chartList.length>0&&this.chartList.map(function(t){t.Dispose(),t=null}),this.chartList=null,this.bigTrend&&this.bigTrend.Clear(),this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null,this.layout&&this.layout.Dispose(),L(this._elem).unbind(),L(this._elem).html("")},t.prototype.Resize=function(){this.bigTrend.Resize(),this.chartList&&this.chartList.map(function(t){t.Resize()})},t.prototype.CreateLayout=function(t){var e=this;if(!t||0!=t.length){L(this._elem).html("<div style='height:100%;'></div>");var n=[],i=[],a=[],r=L(this._elem).height();r<120*t.length-5&&(r=120*t.length-5),t.length>6&&L(this._elem).children("div").css({height:r});for(var o=0,s=t.length;o<s;o++)n.push({id:"MultiparametricAnalysisChartTrend"+t[o].assetId+t[o].indexCode+t[o].indexType}),i.push("MultiparametricAnalysisChartTrend"+t[o].assetId+t[o].indexCode+t[o].indexType),a.push(120);var l=new ga;l.items=n,l.splitConfig=[{ids:i,callBack:function(){e.Resize()},isVertical:!0}],this.layout&&this.layout.Dispose(),this.layout=new va(l,"");var c=L(this._elem).children("div")[0];this.layout.render(c)}},t.prototype.LoadWaveForm=function(t,e){return zl(this,void 0,void 0,function(){var t,n,i,a;return Gl(this,function(r){switch(r.label){case 0:return(t=this).lastSourceData.data,[4,Si.FetchTowerTubeWavekey(e[3])];case 1:return n=r.sent(),i=n.data,t.lastSourceData.path,a=[],i&&i.map(function(t){var e=new Ul;e.DataKey=t,e.otherData={Unit:""},a.push(e)}),a&&a.length>0?(Rl.Clear(!1),Rl.AddDatas(a.reverse())):Rl.Clear(),[2]}})})},t.prototype.CreateIndexChart=function(t,e,n,i,a,r){var o=this,s="MultiparametricAnalysisChartTrend"+e.assetId+e.indexCode+e.indexType,l=new qt(s,Yt.Last,{onMainCursorMoved:function(t,e,n,i){if("first"!=i){o.LoadWaveForm(n[0],n);var a=n[0];o.LastSelectX=a,o.chartList&&o.chartList.map(function(t){if(t.verifyData()){var e=t.getMostIndexX(a);t.selectedXIndex=e[0],t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}})}},onSetExtremes:function(t,e){o.LastSetExtremes={min:t,max:e},o.chartList&&o.chartList.map(function(n){try{n.hchartInstance&&n.hchartInstance.xAxis&&n.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}})},onRenderEnd:function(){if(o.LastSelectX){var t=l.getMostIndexX(o.LastSelectX);l.selectedXIndex=t[0],l.MoveMainCursor(!0,!0,!0,!1,!0,"first")}o.LastSetExtremes&&l.hchartInstance.xAxis[0].setExtremes(o.LastSetExtremes.min,o.LastSetExtremes.max,!0,!1,"NotDispatch")},onMaxBtnClick:function(t){},onBaseMeunBtnClick:function(t,e,n){switch(t){case"enableDynamicCursor":o.chartList&&o.chartList.map(function(t){e!=t.GetChartId()&&(n?t.openDynamicCursorEnable():t.closeDynamicCursorEnable(),L("#enableDynamicCursor"+t.GetChartId()+" .menu-item-name").html(t.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open")))}),o.LastDynamicCursor=n;break;case"toolbar":o.chartList&&o.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateToolBoxVisible(i),L("#toolbar"+t.GetChartId()+" .menu-item-name").html(t.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),t.Resize()}}),o.LastToolbar=!n;break;case"helpInfo":o.chartList&&o.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateHelperInfoVisible(i),L("#helpInfo"+t.GetChartId()+" .menu-item-name").html(t.layout.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide")),t.Resize()}}),o.LastHelperInfo=!n}}});this.chartList.push(l),l.ChartKeys=["x","y","marker","wavekey"],l.chartConfig.xIsTime=!0,l.menuInstance.RemoveMenuItem("LockChart"),l.layout._InitHelperInfo({path:e.path,CurosrValue:""}),l.chartConfig.isAllowMaxBtn=!0,l.menuInstance.AddMenuItem("ConditionFilterHelper"+l.GetChartId(),M.$t("ConditionFilter.title"),function(){o._parent.ConditionFilterHelper.SetFilterFunc(o.FilterCondition.bind(o)),o._parent.ConditionFilterHelper.SetReset(o.ResetFilterCondition.bind(o)),o._parent.ConditionFilterHelper.Open()}),l.menuInstance.AddMenuItem("AddCheckedData"+l.GetChartId(),M.$t("menu.saveSelectedData"),function(){o._MemoryIndexTable.AddData({MeasDate:Object(f.r)(l.data[0][l.selectedXIndex][0]),Description:"",currPage:n,AllData:i})}),l.menuInstance.AddMenuItem("showChecked"+l.GetChartId(),M.$t("menu.displaySelectedTrend"),function(){o.onDisplayCheckedTrendChart&&o.onDisplayCheckedTrendChart(o.CheckedList,!0)}),l.menuInstance.AddMenuItem("UnShowChecked"+l.GetChartId(),M.$t("menu.displayUnelectedTrend"),function(){o.onDisplayCheckedTrendChart&&o.onDisplayCheckedTrendChart(o.CheckedList,!1)}),l.menuInstance.AddMenuItem("maxgraphcount"+l.GetChartId(),M.$t("menu.maxgraphcount"),function(){var t=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||5,e="<div class='Cursorsetting"+l.GetChartId()+"'><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" max="10" step="1" id="Cursorsetting_graph'+l.GetChartId()+'" name="maxgraphcount" class="layui-layer-input" value=\''+t+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:e,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(t,e){if(!(t<=0)){var n=L("#Cursorsetting_graph"+l.GetChartId()).val()||6;parseInt(n)>300?U.msg(M.$t("meun.config.maxgraph.count.error",{count:30})):parseInt(n)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(Object(f.E)("MultiparametricAnalysisChart_maxgraphcount",n),o.onPageSizeChange&&o.onPageSizeChange(),U.close(e))}}),L("#Cursorsetting_graph"+l.GetChartId()).val(t)}),l.menuInstance.AddMenuItem("AddAlarmLine"+l.GetChartId(),l.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"),function(){o.ShowAlarmLineFunc&&o.ShowAlarmLineFunc()}),l.OpenMeunCallBack=function(){L("#AddAlarmLine"+l.GetChartId()).find("span").html(l.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"))},l.Init(),l.layout.UpdateToolBoxVisible(!(null==o.LastToolbar||o.LastToolbar)),l.layout.UpdateHelperInfoVisible(!(null==o.LastHelperInfo||o.LastHelperInfo)),l.dynamicCursorEnable=null==o.LastDynamicCursor||o.LastDynamicCursor;var c=!1;o.CheckedList&&(c=o.CheckedList.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType}).length>0),L("#"+s).find(".rzgraph_helperinfo>ul>li:last").after('<li style=\'float:right;padding-right:20px;\'><input type="checkbox" name="ckitem" '+(c?"checked=''":"")+' lay-filter="Check'+l.GetChartId()+'" lay-skin="primary" style="display:none;" title="" value=\'All\'/></li>');var u=O.form;u.render("checkbox","Check"+l.GetChartId(),"#"+s),u.on("checkbox(Check"+l.GetChartId()+")",function(t){return o.CheckedList||(o.CheckedList=[]),t.othis.hasClass("layui-form-checked")?o.CheckedList.push(e):o.CheckedList=o.CheckedList.filter(function(t){return t.assetId!=e.assetId&&t.indexCode!==e.indexCode&&t.indexType!==e.indexType&&t.path!==e.path}),!0}),l.chartName=e.assetId+e.indexType+e.indexCode,jl({},t).indexData=e,this.renderChart(l,t,e,a,r)},t.prototype.render=function(t,e,n,i,a){return zl(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,A;return Gl(this,function(m){switch(m.label){case 0:return this.ReRenderClear(),this.lastQueryData={objs:t,stime:e,etime:n,AllData:a,currPage:i},this.chartList=[],this.orgChartData=[],r=[],this.lastSourceData=null,L(this._elem).unbind(),L(this._elem).html(""),Rl.Clear(),this.CreateLayout(t),t&&t.map(function(t){t.indexType!=Kl.TimeIndex&&t.indexType!=Kl.SamplingIndex||r.push(Si.FetchIndex(t.assetId,e,n,t.indexCode))}),[4,Si.BatchFetch(r)];case 1:for(o=m.sent(),s=[],l=0,p=0;p<t.length;p++)(c=t[p]).indexType==Kl.TimeIndex||c.indexType==Kl.SamplingIndex?(s[p]=o[l],l++):s[p]={};if(this.lastSourceData={data:s,path:t},s&&s.length>0){for(u=Number.MAX_SAFE_INTEGER,h=0,p=0;p<s.length;p++)s[p]&&s[p].data&&s[p].data.Datas&&(d=this.getMaxAndMinData(s[p].data.Datas,u,h),u=d.minTime,h=d.maxTime);for(p=0;p<s.length;p++)t[p].indexType!=Kl.EigenvalueIndex&&t[p].indexType!=Kl.TimeIndex&&t[p].indexType!=Kl.ProPoint&&t[p].indexType!=Kl.SamplingIndex||this.CreateIndexChart(s[p].data||[],t[p],i,a,u,h),this.orgChartData.push(s[p].data?jl(jl({},s[p].data),{indexData:t[p]}):{indexData:t[p]});this._parent.ConditionFilterHelper.GetCheckedData();try{this.LoadWaveForm(this.LastSelectX?this.LastSelectX:Object(f.e)(o[0].data.Datas[0].MeasDate),this.LastSelectX?o[0].data.Datas[this.LastSelectX]:o[0].data.Datas[0])}catch(t){}}return(A=t.filter(function(t){return t.indexType===Kl.EigenvalueIndex||t.indexType===Kl.ProPoint})).length>0?(this._parent.SwitchTopDivShow(!0),this.bigTrend.LoadData(A,e,n)):this._parent.SwitchTopDivShow(!1),[2]}})})},Yl([Object(f.a)()],t.prototype,"Dispose",null),Yl([Object(f.a)()],t.prototype,"ReRenderClear",null),Yl([Object(f.a)()],t.prototype,"LoadWaveForm",null),t}(),ql=function(){return(ql=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Jl=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t};function Zl(t,e,n,i,a,r,o,s,l,c,u){var h=a[t[l]];if(h){(h=h.sort(function(t,e){return t[r]-e[r]})).map(function(t){t.pdata=u[t.pid],t.data=t}),t[o]=h;for(var d=0;d<h.length;d++)h[d].id!==t[l]&&Zl(h[d],e,n,i,a,r,o,s,l,c++,u)}}function $l(t){return void 0===t&&(t=""),"mk"+Object(f.o)(t).replace("(","").replace(")","").replace(".","")}var tc=function(){function t(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.CreateContextMeun=function(t,e){var i=n;if(R.unbind(L(n._elem)[0]),t&&Object.keys(t).length>0){var a=[];a.push({id:"expends",name:M.$t("menu.right.showAll"),callback:function(){i.expandAll(!0)}}),a.push({id:"expendsFalse",name:M.$t("menu.right.overAll"),callback:function(){i.expandAll(!1)}});Object(f.y)();var r=function(t){var n=$l(t);a.push({id:n,name:t,callback:function(){e&&e(t,n)}})};for(var o in t)r(o);R.bind(L(n._elem)[0],a,!1,function(){var e={},n=i.getCheckedData();if(n&&n.map(function(t){e[t.name]?e[t.name]++:e[t.name]=1}),t&&Object.keys(t).length>0)for(var a in t){var r=$l(a);e[a]&&e[a]===t[a].length?(L("#"+r).css("color","red"),L("#"+r).attr("data-checked","1")):(L("#"+r).css("color",""),L("#"+r).attr("data-checked","0"))}})}},this.lastCheckedData=null,this.lastDeviceId=null,this.setCheckedItemsById=function(t,e){void 0===e&&(e=!0);for(var i=n,a=i._atree.nodes,r=[],o=null,s=function(e){for(var n=t[e],i=function(t){if(o=a[t],n===o.id)return r.push(o),"break";if(o.children){var e=!1;if(o.children.map(function(t){n===t.id&&(e=!0,r.push(t))}),e)return"break"}},s=0;s<a.length;s++){if("break"===i(s))break}},l=0;l<t.length;l++)s(l);i._atree.checkItems(r,e)},this.getLastChecked=function(t){var e=n,i=n.lastCheckedData||[],a=[];i&&t&&t.map(function(t){for(var e=t.signaltype&&0!==t.signaltype&&t.pdata?t.name+t.pdata.name:t.name,n=0;n<i.length;n++){var r=i[n],o=r.signaltype&&0!==r.signaltype&&r.pdata?r.name+r.pdata.name:r.name;if(e&&o&&e===o){a.push(t);break}}}),a&&a.length>0&&e._atree.checkItems(a,!0),e.lastCheckedData=a},this.setCheckedItems=function(t,e){for(var i=n,a=i._atree.nodes,r=[],o=null,s=function(t,e,n){if(null!==t&&t.children)for(var i=0;i<t.children.length;i++)s(t.children[i],e,n);else n===t.name&&e.push(t)},l=0;l<a.length;l++)o=a[l],s(o,r,t);i._atree.checkItems(r,e)},this._onChange=t,this._onClick=e}return t.prototype.Dispose=function(){this.Clear(!0),R.unbind(L(this._elem)[0]),this._onChange=null,this.lastCheckedData=null,this._onClick=null,this._atree=null,L(this._elem).html(""),this._elem=null,this._AllTreeData=null},t.prototype.Clear=function(t){void 0===t&&(t=!1),this.lastDeviceId=null,t&&(this.lastCheckedData=null),L(this._elem).html("")},t.prototype.LoadData=function(t,e){return void 0===e&&(e=1),function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var n,i,a,r,o,s,l,c,u;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(h){switch(h.label){case 0:return t==this.lastDeviceId?[2]:(this.Clear(),n=this,this.lastDeviceId=t,[4,Si.FetchNewDynamicPoints(t,e)]);case 1:if((i=h.sent()).data){for(n._AllTreeData=i.data,a={},(r=function(t,e,n,i,a){void 0===e&&(e="id"),void 0===n&&(n="pid"),void 0===i&&(i="children"),void 0===a&&(a="seq");for(var r=Jl([],t),o=[],s={},l=[],c={},u=0,h=r.length;u<h;u++)c[r[u].id]=r[u],r[u][n]!==r[u][e]&&(s[r[u][n]]?s[r[u][n]].push(ql(ql({},r[u]),{title:' <div><span style="height:16px;width:16px;" class=\'DeviceTree DeviceTree_'+r[u].type+"_0'></span><span style='padding-left:3px;height:16px;'>"+r[u].name+"</span></div>"})):s[r[u][n]]=[ql(ql({},r[u]),{title:' <div><span style="height:16px;width:16px;" class=\'DeviceTree DeviceTree_'+r[u].type+"_0'></span><span style='padding-left:3px;height:16px;'>"+r[u].name+"</span></div>",level:1})]);u=0;for(var d=r.length;u<d;u++)c[r[u].pid]||l.push(ql(ql({},r[u]),{title:' <div><span style="height:16px;width:16px;" class=\'DeviceTree DeviceTree_'+r[u].type+"_0'></span><span style='padding-left:3px;height:16px;'>"+r[u].name+"</span></div>",level:1,pdata:null,data:r[u]}));for(var p=0,f=(l=l.sort(function(t,e){return t[a]-e[a]})).length;p<f;p++)Zl(l[p],"","","",s,a,i,n,e,0,c),o.push(l[p]);return o}(i.data)).map(function(t){t.children&&t.children.length>0&&(t.firstChild=t.children[0].children[0],t.children=null)}),o=0;o<i.data.length;o++)s=i.data[o],[10,11,12,371859488,1453088,1452832].indexOf(s.type)>=0&&(l=""+s.name,a[l]?a[l].push(s):a[l]=[s]);n.CreateContextMeun(a,function(t,e){"1"===L("#"+e).attr("data-checked")?(L("#"+e).css("color",""),L("#"+e).attr("data-checked","0"),n.setCheckedItems(t,!1)):(L("#"+e).css("color","red"),L("#"+e).attr("data-checked","1"),n.setCheckedItems(t,!0))}),c=O.atree,u=c({props:{name:"title",id:"id",children:"children",spread:"spread"},initLevel:-1,elem:L(this._elem),nodes:r,onCustomBtnClick:function(t,e,i){switch(e){case"linkname":n.setCheckedItems(t.name,!i)}},change:function(t){n.lastCheckedData=t,n._onChange&&n._onChange(t)},click:function(t,e){n.lastCheckedData=[t],O.$(e).parents(".layui-atree").find(".layui-atree-node").removeClass("layui-atree-item-checked"),O.$(e).parents(".layui-atree-node").eq(0).addClass("layui-atree-item-checked"),n._onClick&&n._onClick(t,e)}}),this._atree=u,this.getLastChecked(r)}return[2]}})})},t.prototype.checkAll=function(){this._atree&&this._atree.checkAll(!0)},t.prototype.expandAll=function(t){this._atree&&this._atree.expandAll(t)},t.prototype.getCheckedData=function(){return this._atree?this.lastCheckedData:null},t.prototype.getAllTreeData=function(){return this._atree?this._AllTreeData:null},t.prototype.checkbox=function(t){this._atree&&this._atree.checkItems(t)},t.prototype.unCheckAll=function(){this._atree&&this._atree.checkAll(!1)},t.prototype.render=function(t){this._elem=t},t}(),ec=function(){function t(t,e){var n=this;if(void 0===e&&(e=null),this.Resize=function(){n.chart&&n.chart.Resize()},this.onAssetTypeNotSupport=function(t){},this.onAssetChange=function(){n.Path=G.TableData.path,n.chart.layout.UpdateHelperInfo({path:n.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.RenderChart=function(t){var e=n,i=n.chart;e.charthelper.SelectDataKeys=t;var a=t.map(function(t){return{WaveKey:t,start:0,dataLen:0}});n.Clear(),Si.BatchFetchSpectrum(a).then(function(t){var n=e.charthelper.InitDataBefFormat(t),a=n.xindex,r=n.option;r=i.GetBaseOptions(r),i.selectedYIndex=a.length-1,i.render(a,e.charthelper.XUnit,e.charthelper.YUnit,r)})},this.RenderBack=function(){n.RenderChart(n.charthelper.SelectDataKeys)},this.FilterOrigin=null,this.RenderFilter=function(t,e,i){var a=[],r=[],o={};if("-1"!=t){var s=n.charthelper.XindexData||[];o=n.charthelper.Option;for(var l=0;l<s.length;l++){var c=n.charthelper.YAxisValue[2*l],u=Object(f.F)(s[l],t,i,e,c),h=Object(f.F)(n.charthelper.originalData[l],t,i,e);r.push(h),a.push(u),o.series[l].data=u}n.FilterOrigin=r}else{a=n.charthelper.XindexData||[];for(l=0;l<a.length;l++)o.series[l].data=a[l];n.FilterOrigin=null}n.chart.render(a,n.chart.xUtils,n.chart.yUtils,o)},this.CalcVSelectIndex=function(t,e,i,a){var r=t,o=i?t:t+e;if(i){if(o==n.chart.selectedYIndex&&a<n.chart.data[o][n.chart.data[o].length-1][0])return o}else if(o<0||o>=n.chart.data.length)return n.chart.selectedYIndex;for(var s=n.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,n.chart.data[n.chart.selectedYIndex],0),c=!1;o<n.chart.data.length&&o>=0;){if(!(n.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=n.chart.selectedYIndex),r},this.AddMenuItem=function(t){for(var e in t)n.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){Rl.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var i=this,a=new Zo(this.element,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var a=Rl.GetData(),r=a[e].Path||"",o=a[e].otherData.Unit||"";i.chart.yUtils=o,i.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,a,r){var o=Rl.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";i.chart.yUtils=l,i.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=a,this.charthelper=new yo(a,""),a.registeredCursor([new Rr(a),new Qr(this.chart,null,null,!1,!0,!0,!0)]),a.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var r=this.getContextmenu(a);this.AddMenuItem(r),a.chartConfig.isAllowMaxBtn=!0,a.Init(),a.convertYToIndex=function(t,e){void 0===e&&(e=0);var n=e?i.charthelper.GetInRangeIndex(i.charthelper.YAxisValue,e):i.chart.selectedYIndex;return i.chart.selectedYIndex=i.CalcVSelectIndex(n,0,!0,e),i.chart.selectedYIndex},a.getSelectedText=function(t){void 0===t&&(t=!0);var e=i.charthelper.CalcSelectXYValue(a.selectedXIndex,a.selectedYIndex);"°"===a.xUtils&&(e[0]=(e[0]%360).toFixed(3));var n="",r={rate:1,unit:a.xUtils};return a.chartConfig.convertUnit&&(r=Object(f.b)(a.xUtils)),a.xUtils=r.unit,n=(e[0]*r.rate).toFixed(3)+a.xUtils+"，"+e[1].toFixed(3)+a.yUtils,a.GetCursorList()&&a.GetCursorList().length>0&&a.GetCursorList().forEach(function(e){e.GetSelectText&&(n+=e.GetSelectText(t))}),n},Rl.AddEvent("onMultiTemporalWave",function(t){})}return t.prototype.Dispose=function(){try{Rl.DeleteEvent("onMultiTemporalSpec"),this.chart.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.charthelper=null,this.chart=null,this.deviceId=null,this.assetId=null,this.id=null,this.FilterOrigin=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),nc=function(){function t(t,e,n){var i=this;if(void 0===e&&(e=null),void 0===n&&(n=null),this.getWaveInfo=function(){try{var t=i.chart.selectedYIndex;return i.lastWaveInfos[t]}catch(t){}return null},this.Resize=function(){i.chart&&i.chart.Resize()},this.onAssetChange=function(){i.Path=G.TableData.path,i.chart.layout.UpdateHelperInfo({path:i.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.onAssetTypeNotSupport=function(t){},this.lastWaveInfos=[],this.DataKeys=[],this.RenderChart=function(t){i.lastWaveInfos=[];var e=i,n=i.chart;e.charthelper.SelectDataKeys=t;var a=t.map(function(t){return{WaveKey:t,start:0,dataLen:0}});i.Clear();var r=[];Si.BatchFetchOriginalVibWave(a).then(function(o){o&&o.map(function(t,e){var n={SignType:t.data.Signaltype,UpperFreq:t.data.Upperlimitingfreq,WaveKey:a[e].WaveKey||"",WaveLength:t.data.OldDataLen||0};r.push(n)}),e.lastWaveInfos=r,i.specChart&&i.specChart.RenderChart(t);var s=e.charthelper.InitDataBefFormat(o),l=s.xindex,c=s.option,u=Rl.GetData();o&&o.map(function(t,e){u[e].otherData.Unit=o[e].data.YUnit}),n.selectedYIndex=l.length-1,n.render(l,e.charthelper.XUnit,e.charthelper.YUnit,l&&l.length>0?c:null)})},this.CalcVSelectIndex=function(t,e,n,a){var r=t,o=n?t:t+e;if(n){if(o==i.chart.selectedYIndex&&a<i.chart.data[o][i.chart.data[o].length-1][0])return o}else if(o<0||o>=i.chart.data.length)return i.chart.selectedYIndex;for(var s=i.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,i.chart.data[i.chart.selectedYIndex],0),c=!1;o<i.chart.data.length&&o>=0;){if(!(i.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=i.chart.selectedYIndex),r},this.AddMenuItem=function(t){for(var e in t)i.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){Rl.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,this.specChart=n,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var a=this,r=new Zo(this.element,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var i=Rl.GetData(),r=i[e].Path||"",o=i[e].otherData.Unit||"";a.chart.yUtils=o,a.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,i,r){var o=Rl.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";a.chart.yUtils=l,a.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=r,this.charthelper=new yo(r,""),r.chartConfig.isAllowMaxBtn=!0,r.registeredCursor([new Yr(r),new ls(r,this)]),r.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var o=this.getContextmenu(r);this.AddMenuItem(o),r.Init(),r.convertYToIndex=function(t,e){void 0===e&&(e=0);var n=e?a.charthelper.GetInRangeIndex(a.charthelper.YAxisValue,e):a.chart.selectedYIndex;return a.chart.selectedYIndex=a.CalcVSelectIndex(n,0,!0,e),a.chart.selectedYIndex},r.getSelectedText=function(t){void 0===t&&(t=!0);var e=a.charthelper.CalcSelectXYValue(r.selectedXIndex,r.selectedYIndex);"°"===r.xUtils&&(e[0]=(e[0]%360).toFixed(3));var n="",i={rate:1,unit:r.xUtils};r.chartConfig.convertUnit&&(i=Object(f.b)(r.xUtils)),r.xUtils=i.unit;var o=a.charthelper.GetYUnitSide(r.selectedYIndex);return"°"===r.xUtils&&(e[0]=(e[0]%360).toFixed(3)),n=(e[0]*i.rate).toFixed(3)+r.xUtils+"，"+e[1].toFixed(3)+o,r.GetCursorList()&&r.GetCursorList().length>0&&r.GetCursorList().forEach(function(e){e.GetSelectText&&(n+=e.GetSelectText(t))}),n},Rl.AddEvent("onMultiTemporalSpec",function(t){var e=t.map(function(t){return t.DataKey});a.DataKeys=e||[],a.RenderChart(e),i.drawer.state=0,i.drawer.renderWithState()});var s=Rl.GetData();if(s.length>0){var l=s.map(function(t){return t.DataKey});a.DataKeys=l||[],this.RenderChart(l)}var c=new os(t,this.id);this.drawer=c,c.render(),c.DrawerDo=function(t){if(t.isBack)a.RenderChart(a.DataKeys);else{var e=a.DataKeys;if(e){var n=t.type;Si.FetchMultiAngleWave(e,0,n).then(function(t){r.Clear(),a.charthelper.keys=["x","y"];var e=a.charthelper.InitDataBefFormat(t),n=e.xindex,i=e.option;r.selectedYIndex=n.length-1,r.render(n,a.charthelper.XUnit,a.charthelper.YUnit,n&&n.length>0?i:null)})}}};var u=new ss("Panel"+this.id,this.id,this.assetId);u.Init(),this.filter=u,u.FormSubmitDo=function(t){var e=i.chart,n=i;c.state=1,c.renderWithState();t.assetid;var a=t.filterType,r=t.filterMinStop,o=t.filterMaxStop;if(n.DataKeys){var s=Object(f.v)("SpectrumUnit"),l={unit:s,rate:1};s&&(l=Object(f.b)(s)),r=(1*r/l.rate).toFixed(4),o=(1*o/l.rate).toFixed(4),Si.FetchFilterMultiWave(n.DataKeys,a,r,o).then(function(t){var i=n.charthelper.InitDataBefFormat(t),a=i.xindex,r=i.option;e.selectedYIndex=a.length-1,e.render(a,n.charthelper.XUnit,n.charthelper.YUnit,a&&a.length>0?r:null)})}},u.FormBackDo=function(t){a.RenderChart(a.DataKeys)}}return t.prototype.Dispose=function(){try{this.chart&&this.chart.Dispose(),Rl.DeleteEvent("onMultiTemporalSpec"),this.filter&&this.filter.Dispose(),this.drawer&&this.drawer.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.specChart=null,this.charthelper=null,this.deviceId=null,this.assetId=null,this.id=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ac=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},rc=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},oc=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},sc=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i=Kl.TimeIndex);var a=t.call(this,e,n)||this;return a.onDisplayChange=function(t){0==t&&(a.trendChartManage&&a.trendChartManage.SetMemoryTableDisplayNone(!1),a.ConditionFilterHelper.Close())},a.onAssetChange=function(t){if(a.lastDeviceId!==a.deviceId&&(a.Clear(),a.lastDeviceId=a.deviceId,a.TimeIndexTableHelper.table.onAssetChange(a.assetId,!1),a.waveformChart.onAssetChange(),a.specChart.onAssetChange(),a.deviceId)){var e=a.DyTreeHelper.LoadData(a.deviceId),n=a.ProPointTreeHelper.LoadData(a.deviceId);a.ConditionFilterHelper.GetData(a.deviceId);var i,r=L(".IndexTab").find(".layui-this").attr("data-id");i=r===Kl.SamplingIndex?a.SamplingIndexTableHelper.renderData(null):r===Kl.EigenvalueIndex?a.EigenvaluesHelper.renderData(null):a.TimeIndexTableHelper.renderData(),Promise.all([e,i,n]).then(function(){Object(ba.a)(a.chartName+"_OnRender_After",{QueryData:a.setQueryData}),L("#btnQuery"+a.id).click()})}},a.setQueryData=function(t,e,n,i,r){return rc(a,void 0,void 0,function(){var a,o;return oc(this,function(s){switch(s.label){case 0:return a=this,o=Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.e)(o)>Object(f.e)(t)&&L("#Stime"+this.id).val(Object(f.d)(t,"YYYY/MM/DD 00:00")),n&&this.DyTreeHelper.tree.setCheckedItemsById(n),r&&this.ProPointTreeHelper.tree.setCheckedItemsById(r),e?(L(this.element).find(".IndexTab .layui-tab-title li").removeClass("layui-this"),L(this.element).find('.IndexTab li[data-id="'+i+'"]').addClass("layui-this"),L(this.element).find(".IndexTab .layui-tab-content>div").removeClass("layui-show"),L(this.element).find('.IndexTab .layui-tab-content>div[data-id="'+i+'"]').addClass("layui-show"),i!==Kl.SamplingIndex?[3,2]:[4,a.SamplingIndexTableHelper.renderData(null)]):[3,6];case 1:return s.sent(),a.DyTreeHelper.tree.expandAll(!1),this.SamplingIndexTableHelper.table.SetIndexSelected(e),[3,6];case 2:return i!==Kl.EigenvalueIndex?[3,4]:[4,a.EigenvaluesHelper.renderData(null)];case 3:return s.sent(),a.DyTreeHelper.tree.expandAll(!1),this.EigenvaluesHelper.table.SetIndexSelected(e),[3,6];case 4:return i!==Kl.TimeIndex?[3,6]:[4,a.TimeIndexTableHelper.renderData()];case 5:s.sent(),a.DyTreeHelper.tree.expandAll(!0),this.TimeIndexTableHelper.table.SetIndexSelected(e),s.label=6;case 6:return this.trendChartManage.LastSelectX=Object(f.e)(t),this.trendChartManage.bigTrend.lastSelectedX=Object(f.e)(t),L("#btnQuery"+this.id).click(),[2]}})})},a.Resize=function(){a.waveformChart&&a.waveformChart.Resize(),a.specChart&&a.specChart.Resize(),a.trendChartManage&&a.trendChartManage.Resize(),a.SamplingIndexTableHelper.table.Resize(),a.EigenvaluesHelper.table.Resize(),a.TimeIndexTableHelper.table.Resize()},a.SwitchTopDivShow=function(t){t?a.layout._splitArr[0].setSizes(a.lastTopSize):a.layout._splitArr[0].setSizes([0,100]),a.trendChartManage&&a.trendChartManage.Resize()},a.lastTopSize=[20,80],a.InitLayout=function(t){void 0===t&&(t=null),L(a.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"Main",children:[{id:"top"},{id:"bottom",children:[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"center",children:[{id:"graphList",otherStyle:"height:calc(100% - 28px) !important;overflow-y:auto;"},{id:"pagination",otherStyle:"height:28px"}]}]}]},{id:"right",otherStyle:"overflow-y:auto;"}],e.splitConfig=[{ids:["top","bottom"],size:[0,100],isVertical:!0,callBack:function(t){a.lastTopSize=t[0],a.Resize()}},{ids:["Main","right"],size:[80,20],collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,callBack:function(){a.Resize()}},{ids:["left","center"],collapseBtnOpen:!0,collapseAlign:yi.Left,defaultCollapseAlign:yi.None,gutterAlign:"end",size:[50,50],callBack:function(){a.Resize()}},{ids:["left1","left2"],isVertical:!0,callBack:function(){a.Resize()}}];var n=new va(e,a.id);n.render(a.element);var i=a;a.layout=n,a.trendChartManage=new Xl("#graphList"+a.id,function(){a.onPageSizeChange.call(i)},function(t,e){a.DisplayCheckedTrendChart.call(i,t,e)},function(t,e,n){i.renderList.list=e,i.trendChartManage.LastSelectX=Object(f.e)(n),a.RenderPagination(e,{curr:t})},a),a.specChart=new ec("left2"+a.id,a.Path),a.waveformChart=new nc("left1"+a.id,a.Path,a.specChart),a.addEvent("onControlPanFilter",function(t){var e=t.data,n=(e.assetid,e.filterType),a=e.filterMinStop,r=e.filterMaxStop,o=Object(f.v)("SpectrumUnit"),s={unit:o,rate:1};o&&(s=Object(f.b)(o)),a=(1*a/s.rate).toFixed(4),r=(1*r/s.rate).toFixed(4),i.specChart.RenderFilter(n,a,r)}),a.addEvent("onControlPanBack",function(t){t.data;i.specChart.RenderBack()})},a.DisplayCheckedTrendChart=function(t,e){if(t){var n=a;n.renderList.list;if(e)n.renderList.list=t;else{var i=[];n.renderList.list.map(function(e){t.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType&&t.path===e.path}).length>0||i.push(e)}),n.renderList.list=i}a.trendChartManage.Clear(),a.RenderPagination(n.renderList.list)}},a.onPagination=function(t){var e,n=a,i=n.renderList.list,r=t.curr,o=t.count,s=t.pages,l=t.limit;e=r<s?i.slice((r-1)*l,r*l):i.slice((r-1)*l,o),n.trendChartManage.render(e,n.renderList.stime,n.renderList.etime,t.curr,i)},a.RenderPagination=function(t,e){void 0===e&&(e={});var n=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6;a.pagination&&a.pagination.Dispose();var i=new nr("pagination"+a.id,t.length,n,a.onPagination,e);a.pagination=i},a.onPageSizeChange=function(){var t=[];try{t=a.renderList.list||[]}catch(t){}a.pagination&&a.pagination.Dispose();var e=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6,n=new nr("pagination"+a.id,t.length,e,a.onPagination);a.pagination=n},a.TimeIndexTableHelper={table:null,getCheckedData:function(){return a.TimeIndexTableHelper.table.GetCheckedData()},init:function(){var t=new rs(!1);t.render("#timeIndex"+a.id,!1),a.TimeIndexTableHelper.table=t},renderData:function(){a.TimeIndexTableHelper.table.renderData(a.deviceId,"TowerTube")}},a.SamplingIndexTableHelper={table:null,getCheckedData:function(){return a.SamplingIndexTableHelper.table.GetCheckedData()},init:function(){var t=new qo;t.render("#SamplingIndexTable"+a.id,!1),a.SamplingIndexTableHelper.table=t},renderData:function(t){return rc(a,void 0,void 0,function(){return oc(this,function(t){switch(t.label){case 0:return[4,this.SamplingIndexTableHelper.table.renderData([this.deviceId])];case 1:return[2,t.sent()]}})})}},a.EigenvaluesHelper={table:null,getCheckedData:function(){return a.EigenvaluesHelper.table.GetCheckedData()},init:function(){var t=new Yo;t.render("#EigenvaluesIndex"+a.id,!1),a.EigenvaluesHelper.table=t},renderData:function(t){return a.EigenvaluesHelper.table.renderData([a.deviceId])}},a.ConditionFilterHelper={table:null,Init:function(){var t=new Sa(null);a.ConditionFilterHelper.table=t},GetData:function(t){a.ConditionFilterHelper.table.GetData([t])},Open:function(){a.ConditionFilterHelper.table.Open()},SetFilterFunc:function(t){a.ConditionFilterHelper.table.SetFilterFunc(t)},GetCheckedData:function(){return a.ConditionFilterHelper.table.GetCheckedData()},Close:function(){a.ConditionFilterHelper.table.Close()},SetReset:function(t){a.ConditionFilterHelper.table.onReset=t}},a.CommonHelper={RegisterOnChange:function(){var t=a;O.element.on("tab(IndexType"+a.id+")",function(e){var n=L("#right"+t.id+" .IndexTab li").eq(e.index).attr("data-id");t.deviceId&&(n==Kl.SamplingIndex?t.SamplingIndexTableHelper.renderData(null):n===Kl.EigenvalueIndex?t.EigenvaluesHelper.renderData(null):n===Kl.TimeIndex&&t.TimeIndexTableHelper.renderData())})}},a.ProPointTreeHelper={tree:null,getCheckedData:function(){return a.ProPointTreeHelper.tree.getCheckedData()},onChange:function(t){},render:function(){L("#right"+a.id+" #proPoint"+a.id).append("<div class=\"proPointCard\" style='height:calc((100%));width:100%;min-height:260px'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAllPro'+a.id+'" lay-skin="primary" style="display:none;" title='+M.$t("common.point.technics")+" value='All'/>","");L("#right"+a.id+" .proPointCard").append(t);var e=O.form;e.render("checkbox","CheckAllPro"+a.id,"#right"+a.id+" ");var n=a;e.on("checkbox(CheckAllPro"+a.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.ProPointTreeHelper.tree.checkAll():n.ProPointTreeHelper.tree.unCheckAll(),!0});var i=new Vo(a.ProPointTreeHelper.onChange,null);i.render(L("#right"+a.id+" .proPointCard").find(".rz-card-body")),a.ProPointTreeHelper.tree=i},LoadData:function(t){return a.ProPointTreeHelper.tree.LoadData(t)}},a.DyTreeHelper={tree:null,getCheckedData:function(){return a.DyTreeHelper.tree.getCheckedData()},click:function(t){t.name.indexOf("塔筒")>-1?a.TimeIndexTableHelper.table.renderData(a.deviceId,"TowerTube","0"):t.name.indexOf("塔基")>-1&&a.TimeIndexTableHelper.table.renderData(a.deviceId,"TowerTube","-1")},render:function(){L("#right"+a.id+" #dyPoint"+a.id).append("<div class=\"dyPointCard\" style='height: calc((100% - 200px));width:100%;min-height:260px;'></div>");var t=(new fa).getHtml("<span style='font-size: 12px'>部件</span>","");L("#right"+a.id+" .dyPointCard").append(t),O.form.render("checkbox","CheckAll"+a.id,"#right"+a.id+" ");var e=new tc(null,a.DyTreeHelper.click);e.render(L("#right"+a.id+" .dyPointCard").find(".rz-card-body")),a.DyTreeHelper.tree=e},LoadData:function(t){return a.DyTreeHelper.tree.LoadData(t)}},a.chartName="TowerTubeSystemTrendChart",a.InitLayout(i),a.InitQuery(i),a}return ic(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.layout&&this.layout.Dispose(),this.layout=null,this.waveformChart&&this.waveformChart.Dispose(),this.specChart&&this.specChart.Dispose(),this.trendChartManage.Dispose(),this.EigenvaluesHelper.table.Dispose(),this.SamplingIndexTableHelper.table.Dispose(),this.TimeIndexTableHelper.table.Dispose(),this.ConditionFilterHelper.table.Dispose(),this.DyTreeHelper.tree.Dispose(),this.ProPointTreeHelper.tree.Dispose(),this.specChart=null,this.waveformChart=null,this.trendChartManage=null,this.EigenvaluesHelper=null,this.SamplingIndexTableHelper=null,this.TimeIndexTableHelper=null,this.ConditionFilterHelper=null,this.DyTreeHelper=null,this.ProPointTreeHelper=null,Rl.Clear(!1),this.pagination&&this.pagination.Dispose(),this.pagination=null,L(this.element).html(""),L(this.element).unbind(),this.element=null},e.prototype.Clear=function(){L(this.element).find("input[name='ckAll']").prop("checked",!1),O.form.render("checkbox","CheckAll"+this.id,"#right"+this.id+" "),this.waveformChart&&this.waveformChart.onAssetTypeNotSupport(null),this.specChart&&this.specChart.onAssetTypeNotSupport(null),this.trendChartManage.Clear(),this.EigenvaluesHelper.table.Clear(!1),this.SamplingIndexTableHelper.table.Clear(!1),this.TimeIndexTableHelper.table.Clear(!1),this.ConditionFilterHelper.table.Clear(),this.DyTreeHelper.tree.Clear(),this.trendChartManage.ClearMemortTableData(),this.pagination&&this.pagination.Dispose()},e.prototype.InitQuery=function(t){void 0===t&&(t=null),L("#right"+this.id).append('<div  class="layui-form" id=\'Query'+this.id+'\' action="" style="overflow-y:auto;overflow-x:hidden;height:calc( 100% - 50px )"></div>');var e=new Aa(Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),this.id);L("#right"+this.id+" .layui-form").append("<div class=\"TimeRange\" style='height:130px;width:100%;'></div>");var n=(new fa).getHtml(M.$t("leftbar.form.selecttime"),e.getHtml());L("#right"+this.id+" .TimeRange").append(n),e.Init();var i='<div class="layui-tab layui-tab-brief " id="point'+this.id+'"  lay-filter="point'+this.id+'" style="height:calc((100% - 130px))">\n\t\t<div class="layui-tab layui-tab-brief"  lay-filter="pointType'+this.id+'" style="height:100%;">\n\t\t\n\t\t\t\t<div class="layui-tab-content" style="height:calc((100% - 51px));padding: 0">    \n\t\t\t\t\t<div id="dyPoint'+this.id+'" class="layui-tab-item layui-show"  style="height: 100%;"></div>\n\t\t\n\t\t\t\t</div>\n\t\t</div>\n\t\t</div>';L("#right"+this.id+" .layui-form").append(i),this.DyTreeHelper.render(),L("#right"+this.id+" #dyPoint"+this.id).append("<div class=\"IndexTab\" style='width:100%;height:200px'></div>");var a='\n\t\t<div class="layui-tab layui-tab-brief"  lay-filter="IndexType'+this.id+'" style="height:100%;">\n\t\t<ul class="layui-tab-title">\t\t\t\n\t\t\t<li class="'+(t&&t==Kl.TimeIndex?"layui-this":"")+'"  data-id="'+Kl.TimeIndex+'">'+M.$t("common.index.time")+'</li>\n\t\t\t<li class="'+(t&&t==Kl.SamplingIndex?"layui-this":"")+'"  data-id="'+Kl.SamplingIndex+'">'+M.$t("common.index.sampling")+'</li>\n\t\t\n\t\t</ul>\n\t\t<div class="layui-tab-content" style="height:150px;">\n\t\t\t<div id="timeIndex'+this.id+'" data-id="'+Kl.TimeIndex+'" class="layui-tab-item '+(t&&t==Kl.TimeIndex?"layui-show":"")+'"  style="height: 150px;"></div>\n\t\t\t<div id="SamplingIndexTable'+this.id+'"  data-id="'+Kl.SamplingIndex+'" class="layui-tab-item '+(t&&t==Kl.SamplingIndex?"layui-show":"")+'" style="height: 150px;"></div>\t\n\t\t\t<div class="layui-tab-item"></div>\n\t\t</div>\n\t</div> ';L("#right"+this.id+" .IndexTab").append(a),this.EigenvaluesHelper.init(),this.TimeIndexTableHelper.init(),this.SamplingIndexTableHelper.init(),this.ConditionFilterHelper.Init(),this.ProPointTreeHelper.render(),this.CommonHelper.RegisterOnChange(),L("#right"+this.id).append('<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;height:30px\'>\n\t\t<button class="layui-btn layui-btn-sm" lay-submit="" id="btnQuery'+this.id+'">'+M.$t("btn.ok")+"</button>\n</div>");var r=this;L("#btnQuery"+this.id).click(function(){var t=L("#Stime"+r.id).val(),e=L("#Etime"+r.id).val();if(new Date(t)>new Date(e))return O.layer.msg(M.$t("tip.error.time")),!1;var n=r.DyTreeHelper.getCheckedData(),i=r.TimeIndexTableHelper.getCheckedData(),a=r.EigenvaluesHelper.getCheckedData(),o=r.SamplingIndexTableHelper.getCheckedData(),s=r.ProPointTreeHelper.getCheckedData();r.QuerySubmit(t,e,n,i,a,s,o)})},e.prototype.QuerySubmit=function(t,e,n,i,a,r,o){var s=[],l=L(".IndexTab").find(".layui-this").attr("data-id");l===Kl.TimeIndex&&i&&i.map(function(t){n&&n.map(function(e){if((t.points&&t.points.indexOf(e.data.ID)>=0||t.points[0])&&Object(tn.f)(e.firstChild.data.type)){var n=new Wl;n.assetId=e.firstChild.data.id,n.indexCode=t.value,n.name=e.firstChild.data.name,e.pdata?n.path=e.pdata.name+"/"+e.data.name+"/"+t.name:n.path=e.data.name+"/"+t.name,n.indexType=Kl.TimeIndex,s.push(n)}})}),l===Kl.SamplingIndex&&(o&&o.map(function(t){n&&n.map(function(e){if(e.data.type){var n=new Wl;n.assetId=e.data.id,n.indexCode=t.IndexCode,n.path=e.data.name+" "+t.IndexName,n.name=e.data.name,n.indexType=Kl.SamplingIndex,s.push(n)}})}),0==s.length&&o&&o.length),l===Kl.EigenvalueIndex&&(a&&a.map(function(t){n&&n.map(function(e){if(Object(tn.e)(e.data.type)&&t.points&&t.points.indexOf(e.data.id)>=0){var n=new Wl;n.assetId=e.data.id,n.name=e.data.name+" "+t.IndexName,n.indexCode=t.IndexCode,n.path=e.data.name+" "+t.IndexName,n.indexType=Kl.EigenvalueIndex,s.push(n)}})}),0==s.length&&a&&a.length),r&&r.length>0&&r.map(function(t){if(t.data.ID){var e=new Wl;e.assetId=t.data.ID,e.indexCode=t.data.ID,e.path=t.data.NodeName,e.name=t.data.NodeName,e.indexType=Kl.ProPoint,s.push(e)}}),this.trendChartManage.Clear(),this.renderList={stime:t,etime:e,list:s},this.RenderPagination(s)},e.prototype.ReRenderPage=function(){L(this.element).find(".layui-laypage-curr").click()},ac([Object(f.a)()],e.prototype,"Dispose",null),ac([Object(f.a)()],e.prototype,"Clear",null),e}(J),lc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cc=function(){return(cc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},uc=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},hc=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},dc=function(t){function e(e,n,i,a){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===a&&(a={});var r=t.call(this,e,n)||this;r.Resize=function(){r.chart&&r.chart.Resize()},r.onTemporaryDataClick=function(t){if("WaveformChart"===r.chartName){var e=t.WaveKey,n=void 0===e?void 0:e,i=t.DataType,a=void 0===i?void 0:i;r.onAssetTypeNotSupport(),r.chart.layout.UpdateHelperInfo({path:""}),n&&1!==a&&(r.lastDataKey=n,r.lasetDataType=0,r.assetType=10,r.LoadData(n,0,!1))}},r.onWhenHidden=function(){if(r.chart)try{r.chart.data=[[]],r.chart.hchartInstance.destroy()}catch(t){}},r.onAssetTypeNotSupport=function(t){void 0===t&&(t=null);try{r.lastDataKey="",r.chart.Clear();var e=t&&!1===t.UpdatePath?"":r.Path;r.chart.layout.UpdateHelperInfo({path:e,RotatingSpeed:"",MeasTime:"",MeasValue:"",CurosrValue:""}),r.TimeIndexs=null,r.table&&r.table.reload({data:[]})}catch(t){}},r.onAssetChange=function(t){r.chart.isLockChart||(r.ConfigMap=null,r.lastDataKey=null,r.onAssetTypeNotSupport(null),r.chart.layout.UpdateHelperInfo({path:r.Path}))},r.LoadData=function(t,e,n){if(void 0===n&&(n=!0),!("WaveformChart"===r.chartName&&q.a.AllowChartConfig.WaveformChart.indexOf(r.assetType)<0&&1==n)){var i=r,a=r.chart;r.drawer.state=0,r.drawer.renderWithState(),Si.FetchDataWaveform(t,e,function(t){var e=t.data;i.chart.CFRunSpeed=t.data.CFRunSpeed,i.speed=e.RunSpeed,i.SamplingRate=e.SamplingRate,i.lastDataKey=e.WaveKey||"",i.lastWaveInfo={SignType:e.Signaltype,UpperFreq:e.Upperlimitingfreq,WaveKey:e.WaveKey||"",WaveLength:e.OldDataLen||0};var n=e.SamplingRate/2;r.CompressFactor=e.CompressFactor,i.filter.UpdateConfig({lowmin:1,lowmax:n-2,highmin:2,highmax:n}),a.RemarkContent=e.Description,a.layout.UpdateHelperInfo({MeasValue:(e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:Object(f.d)(e.MeasDate,"YYYY/MM/DD HH:mm:ss")});for(var o=[],s=0,l=e.YData.length;s<l;s++)o.push([s*e.XInterval,e.YData[s]]);a.render([o],e.XUnit,e.YUnit),i.drawer.UpdateBtnBySpeed(e.RunSpeed),i.table&&i.table.reload?"function"==typeof e.TimeIndexs?e.TimeIndexs().then(function(t){i.TimeIndexs=i.CreateIndex(t.data||[]),i.table.reload({data:i.TimeIndexs})}):(i.TimeIndexs=i.CreateIndex(e.TimeIndexs||[]),i.table.reload({data:i.TimeIndexs})):i.TimeIndexs=e.TimeIndexs},function(){i.onAssetTypeNotSupport(null)},r.assetType)}},r.onTrendChange=function(t){if(!r.chart.isLockChart){var e=r,n=(r.chart,t.WaveKey);if(r.lasetDataType=t.DataType,!n)return e.lastDataKey=n,e.lasetDataType=t.DataType,void e.onAssetTypeNotSupport(null);(n!==e.lastDataKey||e.chart.hchartInstance)&&(e.onAssetTypeNotSupport(null),e.lastDataKey=n,e.lastWaveInfo=null,e.lasetDataType=t.DataType,r.LoadData(n,t.DataType))}},r.CreateIndex=function(t){var e=[],n=1;return t.map(function(t){try{var i=t.IndexCode,a=t.IndexValue,r={IndexCode:i,indexName:f.B?M.$t(""+t.IndexCode):t.IndexName,IndexValue:a,IndexSeq:n};e.push(r),n++}catch(t){}}),e},r.GetIndexByCode=function(t){var e=r;return r.ConfigMap||(e.ConfigMap={},(q.a.IndexConfig||[]).map(function(t){e.ConfigMap[t.value]=t})),e.ConfigMap[t]||q.a.ExtendIndexConfig[t]},r.ConfigMap=null,r.SamplingRate=0,r.promptindex=null,r.lastWaveInfo=null,r.getWaveInfo=function(){return r.lastWaveInfo},r.chartName="WaveformChart";var o=r,s=O.table,l=new co(e,Yt.First,cc({onMaxBtnClick:function(){o.Resize()}},a));l.DilutionCount=8192;var c=new Yr(l);l.registeredCursor([c,new Xr(l,Ya.Double,r.chartName),new ls(l,r)]),l.layout._InitHelperInfo({path:r.Path||"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),l.chartConfig.isAllowMaxBtn=i,l.menuInstance.AddMenuItem("WaveIndex"+l.id,M.$t("menu.timedomaincriteria"),function(){return uc(r,void 0,void 0,function(){var t,e,n,i;return hc(this,function(a){switch(a.label){case 0:return t="<div id='WaveIndex"+o.id+"' style=\"width:400px;height:480px\"><div id='WaveIndex1"+o.id+"'></div></div>",U.prompt({shade:0,title:M.$t("menu.timedomaincriteria"),formType:2,content:t,btn:[],end:function(){o.table&&(o.table=null)}},function(t,e){o.table&&(o.table=null)}),e=L("#WaveIndex"+o.id).height(),n=L("#WaveIndex"+o.id).width(),"function"!=typeof o.TimeIndexs?[3,2]:[4,o.TimeIndexs()];case 1:i=a.sent(),o.TimeIndexs=o.CreateIndex(i.data||[]),a.label=2;case 2:return o.table=s.render({elem:"#WaveIndex1"+o.id,height:e,width:n,data:o.TimeIndexs,page:!1,cols:[[{field:"Seq",title:M.$t("datatable.title.seq"),templet:function(t){return""+t.IndexSeq}},{field:"IndexName",title:M.$t("datatable.title.indexname"),templet:function(t){return""+t.indexName}},{field:"IndexValue",title:M.$t("datatable.title.indexvalue"),templet:function(t){return(Math.round(1e3*t.IndexValue)/1e3).toFixed(3)}}]]}),[2]}})})}),l.Init();var u=new os(e,r.id);r.drawer=u,u.render(),u.DrawerDo=function(t){if(t.isBack)o.LoadData(o.lastDataKey,o.lasetDataType);else{var e=o.lastDataKey;if(e){var n=t.type;Si.FetchAngleWave(e,0,n).then(function(t){var e=t.data;o.speed=e.RunSpeed,o.SamplingRate=e.SamplingRate,o.lastDataKey=e.WaveKey||"";var n=e.SamplingRate/2;o.filter.UpdateConfig({lowmin:1,lowmax:n-2,highmin:2,highmax:n}),l.RemarkContent=e.Description,o.TimeIndexs=o.CreateIndex(e.TimeIndexs||[]),o.table&&o.table.reload&&o.table.reload({data:o.TimeIndexs||[]}),o.chart.CFRunSpeed=t.data.CFRunSpeed,l.layout.UpdateHelperInfo({MeasValue:(e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:Object(f.d)(e.MeasDate,"YYYY/MM/DD HH:mm:ss")});for(var i=[],a=0,r=e.YData.length;a<r;a++)i.push([a*e.XInterval,e.YData[a]]);l.render([i],e.XUnit,e.YUnit)})}}};var h=new ss("Panel"+r.id,r.id,r.assetId);return h.Init(),r.filter=h,h.FormSubmitDo=function(t){u.state=1,u.renderWithState();t.assetid;var e=t.filterType,n=t.filterMinStop,i=t.filterMaxStop,a=o.lastDataKey;if(a){var r=Object(f.v)("SpectrumUnit"),s={unit:r,rate:1};r&&(s=Object(f.b)(r)),n=(1*n/s.rate).toFixed(4),i=(1*i/s.rate).toFixed(4),Si.FetchFilterWave(a,e,n,i).then(function(t){var e=t.data;o.speed=e.RunSpeed,l.RemarkContent=e.Description,o.TimeIndexs=o.CreateIndex(e.TimeIndexs||[]),o.table&&o.table.reload&&o.table.reload({data:o.TimeIndexs}),o.chart.CFRunSpeed=t.data.CFRunSpeed,l.layout.UpdateHelperInfo({MeasValue:(null!==e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:Object(f.d)(e.MeasDate,"YYYY/MM/DD HH:mm:ss")});for(var n=[],i=0,a=e.YData.length;i<a;i++)n.push([i*e.XInterval,e.YData[i]]);l.render([n],e.XUnit,e.YUnit)})}},h.FormBackDo=function(t){o.LoadData(o.lastDataKey,o.lasetDataType)},r.chart=l,r}return lc(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chart&&this.chart.Dispose(),this.chart=null}catch(t){}},e}(J),pc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fc=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.onAssetChange=function(t){[5,6,7].indexOf(i.assetType)>=0?(L("#panel1"+i.id).find("div[id^='btnZoomPanel']").hide(),L("#panel1"+i.id).find("div[id^='btnZoomPanel']").hasClass("rzBtnMinSize")||L("#panel1"+i.id).find("div[id^='btnZoomPanel']").click(),L("#panel1"+i.id).show()):(L("#panel1"+i.id).find("div[id^='btnZoomPanel']").show(),L("#panel1"+i.id).find("div[id^='btnZoomPanel']").hasClass("rzBtnMinSize")&&L("#panel1"+i.id).find("div[id^='btnZoomPanel']").click())},i.Resize=function(){try{i.trendChart&&i.trendChart.chart.Resize(),i.waveformChart&&i.waveformChart.chart.Resize(),i.specChart&&i.specChart.chart.Resize()}catch(t){}},i.InitLayout=function(){L(i.element).addClass("rzAxisPanelParent"),L(i.element).append("<div id='panel1"+i.id+"'></div><div id='panel2"+i.id+"'></div><div id='panel3"+i.id+"'></div>");var t=i;i.chartLayout=Ji(["#panel1"+i.id,"#panel2"+i.id,"#panel3"+i.id],{gutterSize:5,direction:"vertical",sizes:[100/3,100/3,100/3],minSize:150,onDragEnd:function(){t.Resize()}}),i.trendChart=new za(document.getElementById("panel1"+i.id),null,!0,{onChange:function(e){t.MenusHelper.change(e)}}),i.trendChart.Resize=i.Resize,i.trendChart.chartName=i.chartName,i.waveformChart=new dc(document.getElementById("panel2"+i.id),null,!0,{onMainCursorMoved:t.MenusHelper.onMainCursorMoved}),i.waveformChart.chartName=i.chartName+"",i.waveformChart.Resize=i.Resize,i.MenusHelper.AddMenu(i.waveformChart.chart),i.specChart=new pl(document.getElementById("panel3"+i.id),null,!0),i.specChart.chartName=i.chartName+"",i.specChart.Resize=i.Resize,i.trendChart.Clear=function(){i.trendChart&&i.trendChart.chart&&i.trendChart.chart.Clear(),i.specChart&&i.specChart.chart&&i.specChart.chart.Clear(),i.waveformChart&&i.waveformChart.chart&&i.waveformChart.chart.Clear()},L("#panel1"+i.id).attr("data-chartname","TrendChart"),L("#panel2"+i.id).attr("data-chartname","WaveformChart"),L("#panel3"+i.id).attr("data-chartname","SpecChart")},i.sourceIndex=0,i.MenusHelper={lastWaveKey:"",isNeedDuanChang:!1,onMainCursorMoved:function(t,e,n,a,r){if(i.MenusHelper.isNeedDuanChang){var o=i.waveformChart.chart,s=o.data[o.selectedYIndex][o.selectedXIndex][0];i.sourceIndex=rt.GetMostNearIndex(s,o.sourceData[0]),i.MenusHelper.AddDuanChang();var l=parseInt(i.dLength||Math.pow(2,15)),c=i.waveformChart.CompressFactor||1;l/=c,i.specChart.LoadData(i.MenusHelper.lastWaveKey,i.sourceIndex*c,l)}},AddDuanChang:function(){var t=i.waveformChart.chart,e=parseInt(i.dLength||Math.pow(2,15)),n=q.a.DuanChange.filter(function(t){return t.value===e})[0].name,a=i.waveformChart.CompressFactor||1;e/=a;var r={value:Math.abs((t.sourceData[0][0][0]-t.sourceData[0][1][0])*(i.sourceIndex+e)),color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:n,style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:30}};t.hchartHelper.AddLine("DuanChang_TwsGroup",r)},AddMenu:function(t){var e="DuanChangParent"+i.id,n=[{id:e,name:M.$t("menu.duanchang")},{id:"DuanChangCancel"+i.id,name:M.$t("menu.cancelDuanchang"),callback:function(){i.MenusHelper.isNeedDuanChang=!1,i.waveformChart.chart.hchartHelper.RemoveLine("DuanChang_TwsGroup"),q.a.DuanChange.map(function(t){L("#duanItems"+t.name+i.id).css("color","unset")}),i.specChart.LoadData(i.MenusHelper.lastWaveKey,0,0)}}];q.a.DuanChange&&q.a.DuanChange.map(function(t){n.push({id:"duanItems"+t.name+i.id,name:t.name,parent:e,callback:function(){L("#duanItems"+t.name+i.id).siblings().css("color",""),L("#duanItems"+t.name+i.id).css("color","red"),function(t){i.MenusHelper.isNeedDuanChang=!0,i.dLength=t,i.MenusHelper.onMainCursorMoved(null,null,null)}(t.value)}})}),t.menuInstance.AddMenuItems(n)},change:function(t){i.MenusHelper.lastWaveKey=t}},i.chartName="TwsGroup",i.InitLayout();var a=i;return i.addEvent("onDataIndexChange",function(t){tn.d.indexOf(a.assetType)>=0&&t.data.DataType&&t.data.DataType}),i.addEvent("onControlPanFilter",function(t){var e=t.data,n=(e.assetid,e.filterType),i=e.filterMinStop,r=e.filterMaxStop,o=Object(f.v)("SpectrumUnit"),s={unit:o,rate:1};o&&(s=Object(f.b)(o)),i=(1*i/s.rate).toFixed(4),r=(1*r/s.rate).toFixed(4),a.specChart.RenderFilter(n,i,r)}),i.addEvent("onControlPanBack",function(t){t.data;a.specChart.RenderBack()}),i}return pc(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.specChart&&this.specChart.Dispose(),this.waveformChart&&this.waveformChart.Dispose(),this.trendChart&&this.trendChart.Dispose(),this.specChart=null,this.waveformChart=null,this.trendChart=null,this.chartLayout.destroy(),this.chartLayout=null,L(this.element).remove(),L(this.element).unbind(),this.element=null},e}(J),Ac=function(){function t(t,e){if(this.isShow=!0,this.state=0,this.DrawerDo=function(t){},this.UpdateBtnBySpeed=function(t){},this.renderWithState=function(){},this.DarkThemeFlag=Object(f.v)("RZGraphDarkTheme"),this._id=e,Object(f.A)(t))this._element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this._element=document.getElementById(t)}}return t.prototype.Dispose=function(){L(this._element).remove(),this._element=null},t.prototype.clearBody=function(){L(this._element).find("#Menu"+this._id).html("")},t.prototype.render=function(t){void 0===t&&(t={direction:"right"});var e=this,n=this.DarkThemeFlag?"rgba(255,255,255,0.8)":"#232629",i=this.DarkThemeFlag?"#3f3f3f":"#bdc0c3";L(e._element).css("position","relative");var a='\n    <li id="btnSameCir'+e._id+'" title="'+M.$t("drawn.tooltip.doublecir")+'" class=" MenuBtn layui-btn layui-btn-normal layui-btn-xs" style="top:45px;right:20px;z-index:98;padding: 0px;background-color:transparent !important;">\n        <div style="display:none;min-width: 120px;height:32px;line-height:32px;color: '+n+";border:1px solid "+i+'">'+M.$t("Setting The Reference Waveform")+'</div>\n    </li>\n    <div class="rz-float-menu" style="top:42px;overflow: auto;right: -261px;;max-height: calc(100%*0.75);" id="Menu'+this._id+'">\n    <div class="layui-side layui-side-scroll">\n    <div id="Panel'+this._id+'"></div>\n  </div> \n    </div>\n   ';L(e._element).append(a),L("#btnSameCir"+e._id)[0].onclick=function(){var t={btn:"btnSameCir",type:1,isBack:!1};L("#btnSameCir"+e._id).attr("style");-1!=e.state&&(3==e.state?(e.state=0,t.isBack=!0):e.state=3,e.renderWithState(),e.DrawerDo(t))}},t}(),mc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yc=function(){return(yc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},gc=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},vc=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},bc=function(t){function e(e,n,i,a){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===a&&(a={});var r=t.call(this,e,n)||this;return r.chartName="UltrasonicGroup",r.chartList=[],r.lastDataIndexChangeData=null,r.legendConfig=f.B?["Bolt Pre-tightening Force","Temperature","Sonic Time Difference"]:["预紧力","温度","声时差"],r.InitOriginData=function(t){r.originData=t},r.CreateLayout=function(){L(r.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"left",children:[{id:"left1"},{id:"left2"}]}],t.splitConfig=[{ids:["left1","left2"],callBack:function(){r.Resize()},size:[50,50],isVertical:!0}];var e=new va(t,r.id);e.render(r.element),r.chartLayout=e},r.GetDataIndex=function(t){return rt.GetMostNearIndexData(t,r.originData,"MeasDate",function(t){return Object(f.e)(t)},!0)},r.InitChart=function(){var t=new qt("left1"+r.id,Yt.Last,{onMainCursorMoved:function(e,n,i,a){r.onMainCursorMoved1(e,n,i,a),t.UpdateLayoutHelperInfo()}});t.layout._InitHelperInfo({path:"",CurosrValue:""}),t.chartConfig.xIsTime=!0,t.chartConfig.isAllowMaxBtn=!0,t.menuInstance.RemoveMenuItem("LockChart"),t.Init(),t.getSelectedText=function(e){var n;try{var i=[];if(!(null===(n=t.hchartInstance)||void 0===n?void 0:n.series))return;for(var a=t.hchartInstance.series,o=0;o<a.length;o++)1==a[o].visible&&i.push(o);var s=t.data[t.selectedYIndex][t.selectedXIndex],l=t.hchartInstance.series[t.selectedYIndex].options;i.length>0&&i.length<3&&i.indexOf(t.selectedYIndex)<0&&(s=t.data[i[0]][t.selectedXIndex],l=t.hchartInstance.series[i[0]].options),i.length>0&&-1!==i.indexOf(0)?r.showVibWave=!0:r.showVibWave=!1,s=s.concat([]);var c={rate:1,unit:t.xUtils};t.chartConfig.convertUnit&&(c=Object(f.b)(t.xUtils)),t.xUtils=c.unit,t.chartConfig.xIsTime?s[0]=Object(f.r)(s[0]):s[0]=(s[0]*c.rate).toFixed(4);var u="",h=1===t.selectedYIndex?s[1].toFixed(0):s[1].toFixed(4);return u=l.name+"  "+s[0]+t.xUtils+"，"+h+(l.units||"N"),t.cursorList&&t.cursorList.length>0&&t.cursorList.forEach(function(t){t.GetSelectText&&(u+=t.GetSelectText(e))}),u}catch(e){return""}};var e=new qt("left2"+r.id,Yt.First,{});e.chartConfig.xIsTime=!1,e.layout._InitHelperInfo({path:"",CurosrValue:""}),e.chartConfig.isAllowMaxBtn=!0,e.chartConfig.showXAxisMaxLabel=!0,e.menuInstance.RemoveMenuItem("LockChart"),e.Init(),e.getSelectedText=function(t){var n;try{if(!(null===(n=e.hchartInstance)||void 0===n?void 0:n.series))return;var i=e.hchartInstance.series,a=e.data[e.selectedYIndex][e.selectedXIndex],r=i[e.selectedYIndex].options;a=a.concat([]);var o="";return o=a[0].toFixed(4)+(e.xUtils||"")+","+a[1].toFixed(4)+(r.units||""),e.cursorList&&e.cursorList.length>0&&e.cursorList.forEach(function(e){e.GetSelectText&&(o+=e.GetSelectText(t))}),o}catch(t){return""}};var n=new Ac("left2"+r.id,r.id);r.drawer=n,n.render(),r.drawer.state=0,r.drawer.renderWithState(),n.DrawerDo=function(t){},r.chartList.push(t),r.chartList.push(e)},r.onAssetChange=function(t){return gc(r,void 0,void 0,function(){var e,n,i,a;return vc(this,function(r){switch(r.label){case 0:return this.lastPointId===this.assetId?[2]:(this.lastPointId=this.assetId,this.Clear(),this.chartList[0].layout.UpdateHelperInfo({path:t.path||""}),this.chartList[1].layout.UpdateHelperInfo({path:t.path||""}),[4,Si.FetchCHTemperatures(this.assetId)]);case 1:return e=r.sent(),n=e,[[]],i=tn.i.indexOf(t.assetType)<0?[[]]:this.formatDataCombined([t,n,{data:{AlarmLimits:null,Datas:[],IndexDatas:[],TowerHigh:0,TowerPartType:0,TrendName:null,Unit:""}}]),a=Object(f.w)(),this.lastDataIndexChangeData=t.data,rt.FormatInitData(t,this.InitOriginData,"MeasValue","Datas"),this.chartList[0].render(i.data,"","",{yAxis:[{labels:{format:"{value} N",style:{color:a[0]}},title:{text:"预紧力",style:{color:a[0]}}},{labels:{format:"{value} °C",style:{color:a[1]}},title:{text:"温度",style:{color:a[1]}},opposite:!0},{gridLineWidth:0,title:{text:"声时差",style:{color:a[2]}},labels:{format:"{value} ns",style:{color:a[2]}}}],series:i.series,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",margin:30,x:30,itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[2]}})})},r.Resize=function(){r.chartList&&r.chartList.map(function(t){return t.Resize()})},r.Clear=function(){r.chartList&&r.chartList.map(function(t){return t.Clear()})},r.onMainCursorMoved1=function(t,e,n,i){return gc(r,void 0,void 0,function(){var t,e,a,r,o,s,l,c,u=this;return vc(this,function(h){return t=this.chartList[0],e=this,(null===(s=t.hchartInstance)||void 0===s?void 0:s.options)?(a=t.hchartInstance.options.series,r=[],a&&a.map(function(e){var i;try{var a=t.getMostIndexX(n[0],n[1],!1,e.data),o=u.lastAssetChangeData.data.Datas,s=a[1][2]||(null===(i=o[0])||void 0===i?void 0:i.waveKey);r.push({name:e.name,waveKey:s})}catch(t){}}),setTimeout(function(){u.renderVibWave(r)},0),"UltrasonicGroup"===e.chartName&&"first"===i?(t.UpdateLayoutHelperInfo(),[2]):(o=e.GetDataIndex(Object(f.r)(n[0])),"",e.event.DispatchEvent("TrendChange",yc(yc({},e.originData[o]),{MeasDate:Object(f.r)(n[0]),assetid:e.assetId,assetType:e.assetType,path:e.Path,MeasValue:n&&n.MeasValue?n.MeasValue.toFixed(4):"",source:"",DataType:(null===(l=this.lastDataIndexChangeData)||void 0===l?void 0:l.DataType)?this.lastDataIndexChangeData.DataType:(null===(c=e.originData[o])||void 0===c?void 0:c.DataType)?e.originData[o].DataType:0})),[2])):[2]})})},r.renderVibWave=function(t){return gc(r,void 0,void 0,function(){var e,n,i,a,r,o,s,l;return vc(this,function(c){switch(c.label){case 0:return this.showVibWave?(e=[],n=Object(q.b)(!1),e.push(Si.FetchOriginalVibWave((null===(l=t[0])||void 0===l?void 0:l.waveKey)||"",0,0,"?AnalysisModel="+n)),this.chartList[1].Clear(),(i=new st).Open(),[4,Promise.all(e)]):[3,2];case 1:a=c.sent();try{r=this.formatDataWave(a,t),o=a[0].data.XUnit?a[0].data.XUnit:"",s=a[0].data.YUnit?a[0].data.YUnit:"",this.chartList[1].render(null==r?void 0:r.data,o,s,{series:null==r?void 0:r.series},null,null,null)}catch(t){}return i.close(),[3,3];case 2:this.chartList[1].render([],"","",{series:[]},null,null,null),c.label=3;case 3:return[2]}})})},r.formatDataCombined=function(t){for(var e,n,i,a=Object(f.w)(),o=[],s=[],l=0;l<t.length;l++)if(t[l].data&&t[l].data.Datas){var c=t[l].data.Datas,u=[];if(c.length)for(var h=c.length-1;h>=0;h--)u.push([Object(f.e)(null===(e=c[h])||void 0===e?void 0:e.MeasDate),null===(n=c[h])||void 0===n?void 0:n.MeasValue,null===(i=c[h])||void 0===i?void 0:i.WaveKey]);s.push(u),o.push({events:{legendItemClick:function(t){return!0}},id:"__id__-"+l,turboThreshold:0,animation:!1,color:a[l],units:t[l].data.Unit,keys:["x","y","wavekey"],allowPointSelect:!1,enableMouseTracking:!1,name:r.legendConfig[l],data:u,yAxis:l,visible:2!==l,lineWidth:1})}return{data:s,series:o}},r.formatDataWave=function(t,e,n){void 0===n&&(n=!1);for(var i=Object(f.x)(),a=[],r=[],o=0;o<t.length;o++){var s=t[o].data,l=[],c=[];if(s&&s.YData&&s.YData.length>0){for(var u=0,h=s.YData.length;u<h;u++)n&&0===u||c.push([u*s.XInterval,s.YData[u]]);l=Object(f.m)([c],t[o].data.YUnit)}r.push(l[0]),a.push({turboThreshold:0,animation:!1,color:i[0],units:t[o].data.YUnit,keys:["x","y"],allowPointSelect:!1,enableMouseTracking:!1,data:l[0],lineWidth:1})}return{data:r,series:a}},r.Dispose=function(){r.BaseDispose(),r.Clear(),r.chartList&&r.chartList.map(function(t){return t.Dispose()}),r.chartList=null,r.chartLayout&&r.chartLayout.Dispose(),r.drawer&&r.drawer.Dispose(),r.drawer=null},r.CreateLayout(),r.InitChart(),r.showVibWave=!0,r.addEvent("onDataIndexChange",function(t){if(!r.chartList[0].isLockChart){var e=Object(f.e)(t.data.MeasDate),n=t.data.MeasValue,i=r.chartList[0].getMostIndexX(e,n);r.lastDataIndexChangeData=t.data,i&&(r.chartList[0].selectedXIndex=i[0],r.chartList[0].UpdateLayoutHelperInfo(),r.chartList[0].MoveMainCursor(!0,!0,!0,!1,!0))}}),r}return mc(e,t),e}(J),Cc=n(90),xc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wc=function(){return(wc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Dc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.convertXToIndex=function(t,n){void 0===n&&(n=0);try{var i=e.convertYToIndex(t,n),a=Number.MAX_SAFE_INTEGER,r=0;t=e.hchartInstance.xAxis[0].toPixels(t),n=e.hchartInstance.yAxis[0].toPixels(n);for(var o,s=0;s<e.data.length;s++){i=s;for(var l=e.data[s].length-1;l>=0;l--){var c=e.data[i][l][0],u=e.data[i][l][1],h=e.hchartInstance.yAxis[0].toPixels(u),d=e.hchartInstance.xAxis[0].toPixels(c),p=Math.pow(d-t,2)+Math.pow(h-n,2);p<a&&(a=p,r=l,e.selectedYIndex=s)}}return[o=r,e.data[e.selectedYIndex][o]]}catch(t){}},e.convertYToIndex=function(t,n){return e.selectedYIndex=0,0},e.drawBgLine=function(){if(e.BgLine)try{e.BgLine.destroy()}catch(t){}for(var t=e.hchartInstance.renderer,n=[e.hchartInstance.chartHeight/2,e.hchartInstance.chartHeight/2],i=[e.hchartInstance.xAxis[0].toPixels(0),e.hchartInstance.yAxis[0].toPixels(e.hchartInstance.yAxis[0].min)],a=Math.ceil((e.hchartInstance.chartWidth-n[0])/40),r=Math.ceil((e.hchartInstance.chartHeight-n[1])/40),o=[],s=0;s<=a+1;s++)n[0]+40*s<=e.hchartInstance.chartWidth&&(o.push("M"),o.push(i[0]+40*s),o.push(i[1]),o.push("L"),o.push(n[0]+40*s),o.push(n[1]));for(s=1;s<=r;s++)n[1]-40*(s-1)>0&&(o.push("M"),o.push(i[0]),o.push(i[1]-40*s),o.push("L"),o.push(n[0]),o.push(n[1]-40*s));o.push("M"),o.push(i[0]),o.push(i[1]-1),o.push("L"),o.push(i[0]+40*a),o.push(i[1]),o.push("M"),o.push(i[0]),o.push(i[1]),o.push("L"),o.push(i[0]+1),o.push(i[1]-40*r);for(s=0;s<=r;s++)o.push("M"),o.push(n[0]),o.push(n[1]-40*s),o.push("L"),o.push(n[0]+40*a),o.push(n[1]-40*s);for(s=0;s<=a;s++)o.push("M"),o.push(n[0]+40*s),o.push(n[1]),o.push("L"),o.push(n[0]+40*s),o.push(n[1]-40*r);try{e.BgLine=t.path(o).attr({"stroke-width":1,"stroke-dasharray":"2,2",stroke:"#A9A9A9"}).add()}catch(t){}},e.maxX=null,e.maxY=null,e.minY=null,e.GetBaseOptions=function(t){var n=e,i=[],a=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;if(e.maxX&&e.maxY)a=e.maxX,r=e.maxY,o=e.minY;else for(var s=0;s<e.data.length;s++)for(var l=0,c=e.data[s].length;l<c;l++){var u=e.data[s][l];a<u[0]&&(a=u[0]),r<u[1]&&(r=u[1]),o>u[1]&&(o=u[1])}for(s=0;s<(t?1:e.data.length);s++)i.push({turboThreshold:0,animation:!1,allowPointSelect:!1,enableMouseTracking:!1,name:"",color:F.getOptions().colors[0],data:e.data[s],marker:{enabled:!1},lineWidth:1,getExtremesFromAll:!1});return wc({title:{text:"",floating:!0},navigation:{buttonOptions:{enabled:!1}},credits:{enabled:!1},boost:{useGPUTranslations:!1,allowForce:!1},tooltip:{enabled:!1},plotOptions:{series:{cursor:"pointer"}},legend:{enabled:!1},chart:{defaultSeriesType:"line",animation:!1,zoomType:"x",reflow:!0,panning:!0,panKey:"ctrl",events:{load:function(t){try{var e=n.data;e&&e.length>0&&(n.hchartInstance=t.target,n.hchartHelper.hchartInstance=t.target,n.onRenderEnd&&n.onRenderEnd(),n.props&&n.props.onRenderEnd&&n.props.onRenderEnd(this.selectedXIndex,this.selectedYIndex))}catch(t){}},resetZoom:function(){n.hchartHelper.ResetZoom()},click:function(t){var e=n.data;if(e&&e.length>0){var i=t.xAxis[0].value,a=t.yAxis[0].value;i&&a&&n.ChartClick(i,a)}}}},xAxis:{gridLineWidth:0,gridZIndex:2,minorTickInterval:"auto",max:a,endOnTick:!1,maxPadding:0,min:0,events:{setExtremes:function(t){return!((t.max-t.min)*t.target.transA<=H.xZoomMinSelection)}},labels:{padding:0,align:"center",formatter:function(t){this.axis.defaultLabelFormatter.call(this);var e={rate:1,unit:n.xUtils};return n.chartConfig.convertUnit&&(e=Object(f.b)(n.xUtils)),"CPM"===e.unit?this.isFirst?(this.value*e.rate).toFixed(0)+" "+e.unit:(this.value*e.rate).toFixed(0):"s"===e.unit?this.isFirst?(this.value*e.rate).toFixed(3)+" "+e.unit:(this.value*e.rate).toFixed(3):this.isFirst?(this.value*e.rate).toFixed(0)+" "+e.unit:this.value*e.rate}}},yAxis:{gridLineWidth:0,gridZIndex:2,maxPadding:0,maxY:r,endOnTick:!1,min:o,minorTickInterval:"auto",title:{text:"",margin:1},events:{setExtremes:function(t){return!((t.max-t.min)*t.target.transA<=H.xZoomMinSelection)}}},series:i},t)},e}return xc(e,t),e.prototype.Dispose=function(){t.prototype.Dispose.call(this),this.chartData=null,this.BgLine=null,this.maxX=null,this.maxY=null,this.minY=null},e.prototype.onRenderEnd=function(){var t=this;if(this.verifyData(this.data)){var e=[this.hchartInstance.chartHeight/2,this.hchartInstance.chartHeight/2];if(this.hchartInstance.series.length!=this.data.length){var n=this.maxX,i=this.maxY,a=this.minY,r=null,o=null,s=n*(1+(e[0]-(this.hchartInstance.chartWidth-this.hchartInstance.plotSizeX))/this.hchartInstance.plotSizeX),l=2*Math.abs(i-a),c=a;r=s/this.hchartInstance.plotSizeX*(e[0]-(this.hchartInstance.chartWidth-this.hchartInstance.plotSizeX-5)),o=l/this.hchartInstance.plotSizeY*(e[1]-(this.hchartInstance.chartHeight-this.hchartInstance.plotSizeY-10)),r/=this.data.length-1,o/=this.data.length-1;for(var u=[],h=0;h<this.data.length;h++){for(var d=[],p=0,f=this.data[h].length;p<f;p++){var A=this.data[h][p];d.push([A[0]+r*h,A[1]+o*h,A[0],A[1]])}u.push(d)}var m=[];this.data=u;for(h=0;h<u.length;h++)m.push({turboThreshold:0,animation:!1,allowPointSelect:!1,enableMouseTracking:!1,name:"",color:F.getOptions().colors[0],data:u[h],marker:{enabled:!1},lineWidth:1,getExtremesFromAll:!1,stickyTracking:!1});var y=this.GetOptions({series:m});return y.xAxis.max=s,y.yAxis.max=l,y.yAxis.min=c,y.chart.events.load=null,void setTimeout(function(){t.hchartHelper.Render(t.chartElement,y),t.hchartInstance=t.hchartHelper.hchartInstance,t.MoveMainCursor(!0,!0,!0,!1,!0,"first"),t.drawBgLine()},0)}this.MoveMainCursor(!0,!0,!0,!1,!0,"first"),this.drawBgLine()}},e.prototype.getSelectedText=function(t){void 0===t&&(t=!0);try{var e=JSON.parse(JSON.stringify(this.data[this.selectedYIndex][this.selectedXIndex]));"°"===this.xUtils&&(e[0]=(e[0]%360).toFixed(3)),1==this.data.length||(e=[e[2],e[3]]);var n={rate:1,unit:this.xUtils};this.chartConfig.convertUnit&&(n=Object(f.b)(this.xUtils)),this.xUtils=n.unit;var i="";if(i=(e[0]*n.rate).toFixed(3)+this.xUtils+"，"+e[1].toFixed(3)+this.yUtils,this.ChartKeys.length<e.length)for(var a=this.ChartKeys.length;a<e.length;a++)""!==e[a]&&(i+="，"+e[a]);return this.cursorList&&this.cursorList.length>0&&this.cursorList.forEach(function(e){e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},e.prototype.Clear=function(){if(!this.isLockChart&&(this.maxX=null,this.maxY=null,this.minY=null,this.hchartInstance))try{this.hchartInstance.destroy(),this.hchartInstance=null}catch(t){}},e}(qt),Ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bc=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Tc=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;i.Resize=function(){i.chartList.waterfallChart.Resize()},i.Dispose=function(){try{i.BaseDispose(),Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.chartList=null,i.chartName=null,i.lastAssetChangeData=null,i.Path=null,xa.DeleteEvent(i.id)}catch(t){}},i.Clear=function(){Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.chartList[t].layout.Clear()})},i.chartName="WaterfallChart",i.CreatLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"top"},{id:"middle"},{id:"bottom"}],t.splitConfig=[{ids:["top","middle","bottom"],size:[50,25,25],callBack:function(){i.Resize()},isVertical:!0}],new va(t,i.id).render(i.element)},i.onDisplayChange=function(t){if(t){var e=xa.GetData();i.WaterfallChartHelper.LoadData(e)}},i.WaterfallChartHelper={onMainCursorMoved:function(t,e,n,a,r){i.SpecHelper.LoadData(),i.TrendHelper.LoadData(xa.GetData());var o=i.chartList.waterfallChart,s=xa.GetData();o.layout.UpdateHelperInfo({path:s[o.selectedYIndex].Path}),o.yUtils=s[o.selectedYIndex].yUnit||"",o.updateHelperInfo()},TmpResultData:{},LoadData:function(t){if(i.Clear(),t&&0!=t.length){var e=[],n=Object(f.v)("TotalSpecConfig");t.map(function(t){var i=q.a.Units[t.Unit],a=Object(f.l)(i);n?a&&n&&3==n[a].spec?e.push(Si.FetchLogarithmSpectrum(t.DataKey,0,0)):e.push(Si.FetchSpectrum(t.DataKey,0,0)):"voltage"===a||"current"===a?e.push(Si.FetchLogarithmSpectrum(t.DataKey,0,0)):e.push(Si.FetchSpectrum(t.DataKey,0,0))}),Si.BatchFetchSpectrumByType(e).then(function(e){for(var n=Number.MIN_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,o=Bc([],e),s=[],l=[],c=0;c<o.length;c++)s.push(o[c].data.YData),l.push(o[c].data.YUnit);s=Object(f.n)(s,l);var u=[];o.map(function(e,a){var r=[];t[a].yUnit=e.data.YUnit,t[a].xUnit=e.data.XUnit;for(var o=e.data,l=s[a],c=0,h=l.length;c<h;c++)r.push([c*o.XInterval,l[c]]),n<c*o.XInterval&&(n=c*o.XInterval),i<l[c]&&(i=l[c]);u.push(r),r=[]}),a.maxX=n,a.maxY=i,a.Resize=null,a.Resize=function(){try{a.render(u,o[0].data.XUnit,o[0].YUnit,!0)}catch(t){}},a.render(u,o[0].data.XUnit,o[0].data.YUnit,!0),U.close(r)}).catch(function(t){U.close(r)});var a=i.chartList.waterfallChart;a.GetYUnit=function(t){return(t?"["+t+"]":"")+Object(f.j)(t)},a&&a.Clear();var r=null;r=U.load(1,{shade:[.1,"#fff"]})}}},i.SpecHelper={LoadData:function(){var t=i.chartList.waterfallChart,e=t.data[t.selectedYIndex],n=xa.GetData();if(i.chartList.spectrum.layout.UpdateHelperInfo({MeasValue:n[t.selectedYIndex].MeasValue.toFixed(3)+n[t.selectedYIndex].yUnit,RotatingSpeed:n[t.selectedYIndex].otherData.RunSpeed,MeasTime:n[t.selectedYIndex].otherData.MeasTime,CurosrValue:""}),0==t.selectedYIndex)i.chartList.spectrum.render([e],n[t.selectedYIndex].xUnit,n[t.selectedYIndex].yUnit);else{for(var a=[],r=0,o=e.length;r<o;r++){var s=e[r];a.push([s[2],s[3]])}i.chartList.spectrum.render([a],n[t.selectedYIndex].xUnit,n[t.selectedYIndex].yUnit)}}},i.TrendHelper={onMainCursorMoved:function(t,e,n,a,r){var o=i.chartList.trendChart,s=xa.GetData();if(o.yUtils=s[t].yUnit||"",o.updateHelperInfo(),"first"!==a){var l=i.chartList.waterfallChart;l.selectedYIndex=t,l.MoveMainCursor(!0,!0,!0,!1,!1)}i.SpecHelper.LoadData()},LoadData:function(t){void 0===t&&(t=[]);for(var e=i.chartList.trendChart,n=[],a=i.chartList.waterfallChart.data,r=i.chartList.waterfallChart.selectedXIndex,o=0;o<t.length;o++){var s=t[o];try{0==o?n.push([Object(f.e)(s.MeasDate),a[o][r][1]]):n.push([Object(f.e)(s.MeasDate),a[o][r][3]])}catch(t){}}e.selectedXIndex=i.chartList.waterfallChart.selectedYIndex,e.render([n],"",t[t.length-1].yUnit,null,null,null,null,null,{type:"scatter"})}},i.CheckedBoxChange=function(t){i.isShow&&(i.TmpCheckData=t,i.WaterfallChartHelper.LoadData(t))},i.InitChart=function(){var t=i;i.chartList={};var e=new Dc("top"+i.id,Yt.First,{onMainCursorMoved:i.WaterfallChartHelper.onMainCursorMoved});e.chartName="WaterfallChart",e.layout._InitHelperInfo({path:i.Path,CurosrValue:""}),e.menuInstance.AddMenuItems([{name:M.$t("menu.maxgraphcount"),id:"SetMaxGraphCount"+t.id,callback:function(){var e="<div class='Cursorsetting"+t.id+"'><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" max="10" step="1" id="Cursorsetting_graph'+t.id+'" name="maxgraphcount" class="layui-layer-input" value=\''+xa.maxCount+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:e,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(e,n){var i=L("#Cursorsetting_graph"+t.id).val()||0;parseInt(i)>10?U.msg(M.$t("meun.config.maxgraph.count.error",{count:10})):parseInt(i)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(xa.setMaxCount(parseInt(i)),U.close(n))}),L("#Cursorsetting_graph"+t.id).val(xa.maxCount)}},{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.id,callback:function(){xa.Clear()}}]),e.menuInstance.AddMenuItem("TotalSpecType"+i.id,M.$t("menu.totalspec.configtitle"),function(){var e="<div class='"+(f.B&&"RZGraph-TotalSpec-Config-En")+" RZGraph-TotalSpec-Config' id='TotalSpecTypeForm"+t.id+"' style=\"width:"+(f.B?"300px":"250px")+';height:300px"></div>';U.prompt({title:M.$t("menu.totalspec.configtitle"),content:e,btn:null}),new $o("TotalSpecTypeForm"+t.id,t.id).Init()}),e.chartConfig.isAllowMaxBtn=!0,e.getSelectedText=function(){try{var t=xa.GetData(),n=t[e.selectedYIndex].yUnit||"",i=0;t.length>=2&&(i=2);var a=e.data[e.selectedYIndex][e.selectedXIndex];"°"===e.xUtils&&(a[i]=(a[i]%360).toFixed(3)),a=a.concat([]);var r={rate:1,unit:e.xUtils};e.chartConfig.convertUnit&&(r=Object(f.b)(e.xUtils)),e.xUtils=r.unit,e.chartConfig.xIsTime?a[i]=Object(f.r)(a[i]):a[i]=(a[i]*r.rate).toFixed(3);return a[i]+e.xUtils+"，"+a[i+1].toFixed(3)+(n||"")}catch(t){return""}},e.Init(),i.chartList.waterfallChart=e;var n=new qt("middle"+i.id,Yt.Last,{onMainCursorMoved:i.TrendHelper.onMainCursorMoved});n.chartName="WaterfallChart",n.chartConfig.xIsTime=!0,n.layout._InitHelperInfo({CurosrValue:""}),n.chartConfig.isAllowMaxBtn=!0,n.getSelectedText=function(){try{var t=xa.GetData()[n.selectedXIndex].yUnit||"",e=n.data[n.selectedYIndex][n.selectedXIndex];"°"===n.xUtils&&(e[0]=(e[0]%360).toFixed(3)),e=e.concat([]);var i={rate:1,unit:n.xUtils};n.chartConfig.convertUnit&&(i=Object(f.b)(n.xUtils)),n.xUtils=i.unit,n.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=(e[0]*i.rate).toFixed(3);return e[0]+n.xUtils+"，"+e[1].toFixed(3)+(t||"")}catch(t){return""}},n.Init(),i.chartList.trendChart=n;var a=new qt("bottom"+i.id,Yt.First);a.registeredCursor([new Rr(a),new Qr(a,null,null,!1,!0,!0,!0)]),a.layout._InitHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),i.chartList.spectrum=a,a.ChartKeys=["x","y","",""],a.chartConfig.isAllowMaxBtn=!0,a.Init(),xa.AddEvent(i.id,i.CheckedBoxChange),i.CheckedBoxChange(xa.GetData())},i.chartList={},i.CreatLayout(),i.InitChart(),i.onBaseTrendChange=function(){};var a=i;return i.addEvent("onTotalSpecConfigChange",function(t){a.WaterfallChartHelper.LoadData(a.TmpCheckData)}),i}return Ic(e,t),e}(J),Sc=function(){return function(){}}(),Mc=new(function(){function t(){var t=this;this.triggerChange=function(){t.event&&Object.keys(t.event).map(function(e){var n=t.event[e];n&&n(t.CheckeData)})},this.CheckeData=[]}return t.prototype.Clear=function(t){void 0===t&&(t=!0),this.CheckeData=[],t&&this.triggerChange()},t.prototype.GetData=function(){return this.CheckeData},t.prototype.AddData=function(t,e){void 0===e&&(e=!0),this.CheckeData||(this.CheckeData=[]),this.CheckeData.filter(function(e){return e.DataKey===t.DataKey}).length>0&&(this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t.DataKey})),this.CheckeData.push(t),e&&this.triggerChange()},t.prototype.AddDatas=function(t){var e=this;t.map(function(t){e.AddData(t,!1)}),this.triggerChange()},t.prototype.DeleteData=function(t){this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t}),this.triggerChange()},t.prototype.AddEvent=function(t,e){this.event||(this.event={}),this.event[t]=e},t.prototype.DeleteEvent=function(t){delete this.event[t]},t}());window.RZCheckedCache=Mc;var Ec=Mc,kc=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Fc=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Oc=function(){function t(){var t=this;this.lastSelectedX=null,this.UpdateHelperInfo=function(e){t.trend.layout.UpdateHelperInfo(e)},this.Dispose=function(){t.trend&&t.trend.Dispose(),t.lastUnits=null,t.selectedChart=null,t.trend=null},this.lastUnits=[],this.selectedChart=[],this.InitChart=function(e,n,i,a){var r=t,o=new qt(e,Yt.Last,{onMainCursorMoved:function(t,e,n,i){if("first"!=i){var o=n[0];r.lastSelectedX=o}a&&a(n[0],r.selectedChart)},onRenderEnd:function(){if(r.lastSelectedX){var t=o.getMostIndexX(r.lastSelectedX,0);o.selectedXIndex=t[0],o.selectedYIndex=o.convertYToIndex(r.lastSelectedX,0),o.MoveMainCursor(!0,!0,!0,!1,!0,"first")}else{t=o.getMostIndexX(Object(f.e)(new Date),0);o.selectedXIndex=t[0],o.selectedYIndex=o.convertYToIndex(r.lastSelectedX,0),o.MoveMainCursor(!0,!0,!0,!1,!0,"first")}}});return o.chartName=i,o.layout._InitHelperInfo({CurosrValue:""}),o.chartConfig.xIsTime=!0,o.chartConfig.isAllowMaxBtn=!0,o.AddMenuItem([{id:"setProcessTrendTimeRange",name:M.$t("title.Detailed.trend.range"),callback:function(){var t=Object(f.v)("ProcessTrendTimeRange")||2,e="<div class=''> \n                        <div class=\"layui-form-customline\">\n                        "+M.$t("ProcessTrend.DataRang.BA")+":\n                        </div> \n                        <div class='layui-form-customline'> \n                         <input id=\"ProcessTrendTimeRange"+r.id+"\" type='number' name='ProcessTrendTimeRange' min='1' max='240' autocomplete='off' class='layui-layer-input' value='"+t+"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 80px;height:28px;' />\n                        </div> \n                        <div class='layui-form-customline'>\n                         "+M.$t("DateTime.Hour")+"\n                        </div> \n                     </div>";U.prompt({title:M.$t("ProcessTrend.DataRang.title"),content:e,btn:[M.$t("btn.ok")],shadeClose:!0},function(t,e){if(!(t<0)){var n=L("#ProcessTrendTimeRange"+r.id).val()||2;if(parseInt(n)>240)U.msg(M.$t("meun.config.processtrend.maxtime.error",{count:240}));else if(parseInt(n)<1)U.msg(M.$t("meun.config.processtrend.mintime.error",{count:1}));else{try{Object(f.E)("ProcessTrendTimeRange",n);var i=Object(f.r)(o.data[0][o.selectedXIndex][0]);a&&a(i,r.selectedChart)}catch(t){}U.close(e)}}}),L("#ProcessTrendTimeRange"+r.id).val(t)}}]),o.Init(),t.trend=o,o.getSelectedText=function(t){try{var e=o.data[o.selectedYIndex][o.selectedXIndex];e=e.concat([]);var n={rate:1,unit:o.xUtils};o.chartConfig.convertUnit&&(n=Object(f.b)(o.xUtils)),o.xUtils=n.unit,o.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=(e[0]*n.rate).toFixed(3);var i="";return i=r.selectedChart[o.selectedYIndex].name+"  "+e[0]+o.xUtils+"，"+e[1].toFixed(3)+(r.lastUnits[o.selectedYIndex]||""),o.cursorList&&o.cursorList.length>0&&o.cursorList.forEach(function(e){e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},o},this.formatDataCombined=function(e,n){for(var i=Object(f.t)(),a=[],r=[],o=0;o<e.length;o++){for(var s=e[o].data.Datas,l=[],c=0;c<s.length;c++)l.push([Object(f.e)(s[c].MeasDate),s[c].MeasValue]);l.sort(function(t,e){return t[0]-e[0]}),r.push(l),t.lastUnits.push(e[o].data.Unit),a.push({turboThreshold:0,animation:!1,color:o<i.length?i[o]:null,keys:t.trend.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:M.$t(n[o].name),data:l,lineWidth:1})}return{data:r,series:a}},this.LoadData=function(e,n,i){return kc(t,void 0,void 0,function(){var t,a,r;return Fc(this,function(o){switch(o.label){case 0:return this,this.Clear(),this.selectedChart=e,t=[],e&&e.map(function(e){e.indexType===Kc.ProPoint?t.push(Si.FetchTsDatas(e.assetId,0,n,i)):e.indexType===Kc.EigenvalueIndex&&t.push(Si.FetchIndexData(e.assetId,e.indexCode,0,n,i))}),[4,ne.a.all(t)];case 1:return a=o.sent(),r=this.formatDataCombined(a,e),this.trend.render(r.data,"","",{series:r.series,legend:{layout:"horizontal",align:"center",floating:!0,margin:0,verticalAlign:"top",itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[2]}})})},this.Resize=function(){t.trend.Resize()},this.id=Object(f.y)()}return t.prototype.Clear=function(){this.lastUnits=[],this.selectedChart=[],this.trend.Clear(!0)},t}(),Lc=function(){function t(t,e){void 0===t&&(t=null),this.tableData=[],this.isOpen=!1,this.jumpFunc=t,this.id=Object(f.y)(),this.parentId=e,this.AddShowRecordButton(e);var n="<div id='Remark"+this.id+"' lay-filter=\"Remark"+this.id+'" style="width:430px;height:480px;display:none;"> </div>';L("body").append(n);var i=new Ta,a=[[{field:"MeasDate",width:145,title:M.$t("datatable.title.measdate")},{field:"Description",width:120,edit:"text",title:M.$t("datatable.title.desc")},{title:M.$t("memo.oper.title"),toolbar:'<div>\n          <a class="layui-btn layui-btn-xs" lay-event="jump">'+M.$t("memo.oper.jump")+'</a>\n          <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">'+M.$t("memo.oper.delete")+"</a>\n          </div>",width:150}]],r=this;i.Create("Remark"+this.id,null,a,{page:!1}),this._table=i;var o=i.getTableId();O.table.on("tool("+o+")",function(t){t.data;"del"===t.event?U.confirm(M.$t("memo.oper.deleteConfirm"),{btn:[M.$t("cascade.loadbtn.yes"),M.$t("cascade.loadbtn.no")],title:M.$t("layui.layer.tip.title")},function(e){t.del(),r.tableData=r.tableData.filter(function(e){return e.MeasDate!=t.data.MeasDate}),U.close(e)}):"jump"===t.event&&r.jumpFunc&&r.jumpFunc(t.data.currPage,t.data.AllData,t.data.MeasDate)})}return t.prototype.Dispose=function(){this.tableData=null,L("#Remark"+this.id).remove(),U.close(this.layerIndex),this._table.Dispose(),this._table=null,this.jumpFunc=null},t.prototype.AddData=function(t){this.tableData||(this.tableData=[]),this.tableData.filter(function(e){return e.MeasDate==t.MeasDate}).length>0?U.msg(""+M.$t("memoryindex.table.error")):(this.tableData.push(t),this._table.Update({data:this.tableData,page:!1}),this.Open())},t.prototype.delete=function(){},t.prototype.Clear=function(){this.tableData=[],this._table.Update({data:[]})},t.prototype.Open=function(){this.layerIndex=U.prompt({shade:0,title:M.$t("memo.title"),formType:2,content:L("#Remark"+this.id),btn:[]},function(t,e){})},t.prototype.Close=function(){U.close(this.layerIndex)},t.prototype.AddShowRecordButton=function(t){var e=this;if(t){var i=L("#right"+t);if(i){var a="\n\t\t\t<div id='recordButtonEle"+this.id+"' \n\t\t\t\t style='position: absolute; top:5px; right:5px; background-color:transparent;height:20px;width:20px;z-index:999;'\n\t\t\t>\n\t\t\t\t<img title='"+M.$t("menu.showSelectedData")+"' id='clickableImg"+this.id+"' style='height:20px;width:20px;cursor: pointer;' src=\""+n(86)+'"/>\n\t\t\t</div>\n\t\t';L(i).append(a),L("#clickableImg"+this.id).on("click",function(){e.Open()})}}},t}(),Uc=function(){return(Uc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Pc=function(){function t(t,e){var n=this;this.Dispose=function(){L("#ChartTags"+n.id).remove(),n.table.Dispose(),n.table=null},this.Close=function(){U.close(n.layerIndex)},this.GetCheckedData=function(){if(!n.table||!n.tableData||0==n.tableData.length)return null;var t=n.table.getTableId(),e=[];return O.table.checkStatus(t).data.forEach(function(t){e.push(t.value)}),e},this.isOpen=!1,this.shouldAddMeun=!0,this.shouldAddToolBox=!1,this.chart=t,this._parent=e,this.id=Object(f.y)()}return t.prototype.onInit=function(){var t=this;this.chart&&this.chart.menuInstance.AddMenuItem("AnnotationsSetting"+this.chart.GetChartId(),""+M.$t("menu.tagSetting"),function(){t.onMenuClick()})},t.prototype.onMenuClick=function(){var t=this,e="\n    <div id='ChartTags"+this.id+"' lay-filter=\"ChartTags"+this.id+'" style="height:250px;width:400px;display:none;"> \n    </div>\n';L("body").append(e);var n=new Ta,i=[[{checkbox:!0,width:30,LAY_CHECKED:!1},{width:360,field:"tagName",title:M.$t("common.selectAll")}]];n.Create("ChartTags"+this.id,null,i,{page:!1}),this.table=n;var a=this._parent.getTagChecked();this.tableData=[{tagName:"启停机",value:"stopStatus"},{tagName:"误信号",value:"errorSignal"},{tagName:"报警等级",value:"alarm"}],this.tableData.forEach(function(t){var e=a.some(function(e){return e==t.value});t.LAY_CHECKED=!!e}),n.Update({data:this.tableData}),this.layerIndex=U.prompt({id:"ChartTags",title:M.$t("menu.tagSetting"),content:L("#ChartTags"+this.id),btn:[M.$t("btn.ok")],type:1,shade:0,yes:function(e,n){var i=t.GetCheckedData();t._parent.setTagChecked(i),t._parent.chartList.forEach(function(e){t.onSetTags(e,i)}),t.Close()},cancel:function(t,e){return!0}})},t.prototype.onSetTags=function(t,e){var n=[];t.getAnnotationPoints().forEach(function(t){var i=[];t.annotations.forEach(function(t){e.some(function(e){return e==t.tagType})&&i.push(t)}),n.push(Uc(Uc({},t),{annotations:i}))}),t.chartAnnotations.renderAnnotation(n)},t.prototype.OpenCursor=function(){},t.prototype.CloseCursor=function(){},t.prototype.onMainCursorMove=function(t){},t.prototype.onMainCursorMoved=function(t){},t.prototype.GetSelectText=function(t){return""},t.prototype.onClear=function(){},t}(),Rc=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Hc=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Qc="_ChartTableSelected_",_c=function(){function t(t,e){var n=this;this.Close=function(){U.close(n.layerIndex)},this.GetCheckedData=function(){if(!n.table||!n.tableData||0==n.tableData.length)return null;var t=n.table.getTableId(),e=[];return O.table.checkStatus(t).data.forEach(function(t){e.push(t.value)}),e},this.isOpen=!1,this.shouldAddMeun=!0,this.shouldAddToolBox=!1,this.chart=t,this._parent=e,this.id=Object(f.y)()}return t.prototype.onInit=function(){var t=this,e=this.chart;e&&e.menuInstance.AddMenuItem("InfoSetting"+this.chart.GetChartId(),""+M.$t("menu.infoSetting"),function(){t.onMenuClick()}),e.onRenderEnd=function(){t.onChartMousemove()}},t.prototype.onChartMousemove=function(){var t=this,e=this.chart;L(e.chartElement).mousemove(function(e){if(!t.mouseInTable){var n=t.getMousePositionData(e),i=n.chartX,a=n.chartY,r=n.x,o=(n.y,n.targetXPx),s=n.targetYPx;n.chartDataItem[2][3];if(Math.abs(o-i)>=10||Math.abs(s-a)>=10)return t.pointModelTimer&&clearTimeout(t.pointModelTimer),t.pointModelTimer=null,void t._parent.chartList.forEach(function(t){L("#ChartTable"+t.id).remove()});r===t.lastHoverPointIndex&&null!==t.pointModelTimer||(t.lastHoverPointIndex=r,t.pointModelTimer&&clearTimeout(t.pointModelTimer),t.pointModelTimer=setTimeout(function(){var e=Object(f.v)(Qc);e&&e.length&&t._parent.chartList.forEach(function(e){var n=e.getIndexByPx(o,s),i=n[2][0],a=n[2][1],r=n[2][3],l=e.hchartInstance.xAxis[0].toPixels(i),c=e.hchartInstance.yAxis[0].toPixels(a);t.onOpenTable(l,c,r,e.id,e.chartElement)})},2e3))}})},t.prototype.getMousePositionData=function(t){var e=this.chart,n=t.clientX,i=t.clientY,a=L(e.chartElement).offset(),r=n-a.left,o=i-a.top,s=e.getIndexByPx(r,o),l=s[2][0],c=s[2][1];return{chartX:r,chartY:o,x:l,y:c,targetXPx:e.hchartInstance.xAxis[0].toPixels(l),targetYPx:e.hchartInstance.yAxis[0].toPixels(c),chartDataItem:s}},t.prototype.onOpenTable=function(t,e,n,i,a){return Rc(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,f,A;return Hc(this,function(m){switch(m.label){case 0:return r=L(a),o=r.width(),s=r.height(),l=Math.ceil(o/2.5),c=Math.ceil(s/2.5),u=o-(t+l)<=0,h=s-(e+c)<=0,[4,this.onCreateTableData(n)];case 1:return d=m.sent(),f="\n                <div id='ChartTable"+i+"' lay-filter=\"ChartTable"+i+'" style="\n                width: '+l+"px;\n                height: "+((p=s<150)?"100%":c+"px")+";\n                position: absolute;\n                left: "+t+"px;\n                top: "+(p?0:e)+"px;\n                transform: translate("+(u?"-100%":"0px")+", "+(h?"-100%":"0px")+');\n                padding: 2px;\n                display: flex;\n                justify-content: space-between;\n                flex-wrap: wrap;\n                overflow-y: auto;\n                background-color: white;\n                border: 1px solid black;\n                "> \n                  '+d+"\n            \n                </div>\n            ",A=this,L("#ChartTable"+i).remove(),r.append(f),L("#ChartTable"+i).mouseenter(function(){A.mouseInTable=!0}),L("#ChartTable"+i).mouseleave(function(){A.mouseInTable=!1,L("#ChartTable"+i).remove()}),L("#ChartTable"+i).scroll(function(){A._parent.chartList.forEach(function(t){L("#ChartTable"+t.id).scrollTop(L("#ChartTable"+i).scrollTop())})}),[2]}})})},t.prototype.onCreateTableData=function(t){return Rc(this,void 0,void 0,function(){var e,n,i,a,r;return Hc(this,function(o){switch(o.label){case 0:return e=this,[4,Si.FetchIndexDetailsInfo(t)];case 1:return n=o.sent(),i=n.data,a=Object(f.v)(Qc),r="",Object.keys(i).forEach(function(t){if(a&&a.some(function(e){return e==t})){var n=e.onCreateTableItem({name:Nc[t],value:i[t]});r+=n}}),[2,r]}})})},t.prototype.onCreateTableItem=function(t){var e=t.name,n=t.value;return'\n    <div\n        style="\n          width: 100%;\n          display: flex;\n          align-items: center;\n          border-bottom: 1px solid #9c9c9c;\n        "\n      >\n        <div style="flex: 1; font-size: 12px">'+e+':</div>\n        <div\n          style="flex: 1; font-size: 12px; padding: 1px; box-sizing: border-box"\n        >\n          '+(null===n?"":n)+"\n        </div>\n      </div>"},t.prototype.onMenuClick=function(){var t=this,e=this,n="\n    <div id='ChartInfoSetting"+this.id+"' lay-filter=\"ChartInfoSetting"+this.id+'" style="height:250px;width:400px;display:none;"> \n    </div>\n';L("body").append(n);var i=new Ta,a=[[{checkbox:!0,width:30,LAY_CHECKED:!1},{width:360,field:"tagName",title:M.$t("common.selectAll")}]];i.Create("ChartInfoSetting"+this.id,null,a,{page:!1}),this.table=i;var r=Object(f.v)(Qc);this.tableData=[],Object.keys(Nc).forEach(function(e){var n=(r||[]).some(function(t){return t==e});t.tableData.push({tagName:Nc[e],value:e,LAY_CHECKED:n})}),i.Update({data:this.tableData}),this.layerIndex=U.prompt({id:"ChartInfoSetting",title:M.$t("menu.tagSetting"),content:L("#ChartInfoSetting"+this.id),btn:[M.$t("btn.ok")],type:1,shade:0,yes:function(t,n){var i=e.GetCheckedData();Object(f.E)(Qc,i),e.Close()},cancel:function(t,e){return!0}})},t.prototype.Dispose=function(){this.id=null,this.chart=null,this._parent=null,this.pointModelTimer=null,this.lastHoverPointIndex=null,this.mouseInTable=!1},t.prototype.OpenCursor=function(){},t.prototype.CloseCursor=function(){},t.prototype.onMainCursorMove=function(t){},t.prototype.onMainCursorMoved=function(t){},t.prototype.GetSelectText=function(t){return""},t.prototype.onClear=function(){},t}(),Nc={description:"误信号",rpm:"转速",conditiondes:"工况",stopstatusdes:"启停机",AlarmTypeName:"报警类型",AlarmLevelName:"报警等级",AlarmIndexsName:"报警指标",AlarmSourceName:"报警来源"},jc=function(){return(jc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Yc=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},zc=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Gc=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Vc=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Kc={TimeIndex:"TImeIndex",EigenvalueIndex:"EigenvalueIndex",ProPoint:"ProPoint",SamplingIndex:"SamplingIndex",GeneralIndex:"GeneralIndex",SpecialIndex:"SpecialIndex",AlarmIndex:"AlarmIndex",SuperIndex:"SuperIndex",DirectivityIndex:"DirectivityIndex"},Wc=function(){return function(){}}();function Xc(t,e){var n=[],i=function(t,e){if(window._ChartDevelopModal_){if(50==e)return"open";if(200==e)return"stop"}return 0===t?"open":1===t?"stop":""}(t.StopStatus,e),a=function(t,e){if(window._ChartDevelopModal_){if(200==e)return"alarm1";if(600==e)return"alarm1"}return 99===t?"":0===t?"":"alarm"+t}(t.Alarm,e),r=function(t,e){if(window._ChartDevelopModal_){if(500==e)return"errorSignal";if(200==e)return"errorSignal"}return 99==t?"errorSignal":""}(t.Alarm,e);return""!==i&&n.push({imgKey:i,width:15,height:15,tagType:"stopStatus"}),""!==a&&n.push({imgKey:a,width:15,height:15,tagType:"alarm"}),""!==r&&n.push({imgKey:r,width:15,height:15,tagType:"errorSignal"}),n}window._ChartDevelopModal_=!1;var qc=function(){function t(t,e,n,i,a){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=null),this.getChartOptions=function(t,e,n,i,a,r){var o=[],s=[],l=[],c=[];if(e&&e.Datas){var u=Vc([],e.Datas);!1===ie.GetDataRange().isShowError&&(u=u.filter(function(t){return 99!==t.Alarm})),t.sourceData=u;for(var h=u.length-1;h>=0;h--){var d=u[h];if(a.indexType==Kc.TimeIndex)c.push([Object(f.e)(d.MeasDate),d.MeasValue,{},d.WaveKey]);else try{null!==d.MeasValue&&"NaN"!==d.MeasValue&&(void 0!==d.Alarm&&null!=d.Alarm&&99===d.Alarm&&d.WaveKey?(o.push({point:{x:Object(f.e)(d.MeasDate),y:d.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),s.push([Object(f.e)(d.MeasDate),d.MeasValue]),c.push([Object(f.e)(d.MeasDate),d.MeasValue,{},d.WaveKey])):void 0!==d.Alarm&&99===d.Alarm?(o.push({point:{x:Object(f.e)(d.MeasDate),y:d.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),c.push([Object(f.e)(d.MeasDate),d.MeasValue,{},d.WaveKey])):d.WaveKey?(s.push([Object(f.e)(d.MeasDate),d.MeasValue]),c.push([Object(f.e)(d.MeasDate),d.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},d.WaveKey])):void 0!==d.Alarm&&null!=d.Alarm&&0!==d.Alarm&&1<=d.Alarm&&d.Alarm<=5?c.push([Object(f.e)(d.MeasDate),d.MeasValue,{enabled:!0,fillColor:d.Alarm>=4?Object(f.i)(d.Alarm):Object(f.i)(3),radius:2,symbol:"circle",enabledThreshold:0},d.WaveKey]):c.push([Object(f.e)(d.MeasDate),d.MeasValue,{},d.WaveKey]))}catch(t){}0<d.Alarm&&d.Alarm<99&&c.push([Object(f.e)(d.MeasDate),d.MeasValue,{enabled:!0,fillColor:"purple",radius:2,symbol:"circle",enabledThreshold:0},d.WaveKey]);var p=Xc(d,h);p.length&&l.push({x:d.MeasDate,y:d.MeasValue,annotations:p}),t.setAnnotationPoints(l)}}else t.sourceData=null;(c=c.sort(function(t,e){return t[0]-e[0]}))&&c.length>0&&(t.selectedXIndex=c.length-1),t.render([c],"",e&&e.Unit||"",{annotations:[{draggable:"",id:"MarkPoints",shapes:o,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:t.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:c,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:s,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,{customXAxisMax:Object(f.e)(i)>Object(f.e)(new Date)?Object(f.e)(new Date):Object(f.e)(i),customXAxisMin:Object(f.e)(n)},e&&e.AlarmLimits||[])},this.renderChart=function(t,e,n,i,a,o){t.showAlarmLine=r.ShowAlarmLine,r.getChartOptions(t,e,i,a,n,o)},this.onBigTrendCursorMoveCallback=function(t,e){var n=r;try{var i=parseInt(Object(f.v)("ProcessTrendTimeRange"))||2,a=Object(f.r)(t),o=Object(f.r)(Object(f.c)("h",-i,a)),s=Object(f.r)(Object(f.c)("h",i,a));n.LastSetExtremes=null,e.map(function(t){for(var e=t.assetId+t.indexType+t.indexCode,i=n.chartList.filter(function(t){return t.chartName===e})[0],a=0,r=0;r<n.orgChartData.length;r++){var l=n.orgChartData[r].indexData;if(l.assetId===t.assetId&&l.indexType===t.indexType&&l.indexCode===t.indexCode){a=r;break}}t.indexType===Kc.ProPoint?Si.FetchTsDatas(t.assetId,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=jc(jc({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}}):t.indexType===Kc.EigenvalueIndex&&Si.FetchIndexData(t.assetId,t.indexCode,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=jc(jc({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}})})}catch(t){}},this.LastSelectX=null,this.LastSetExtremes=null,this.LastDynamicCursor=null,this.LastToolbar=null,this.LastHelperInfo=null,this.CheckedList=[],this.ShowAlarmLine=!1,this.ShowAlarmLineFunc=function(){var t=r;t.chartList.map(function(e){e.HideOrShowAlarmLine(!e.showAlarmLine),L("#AddAlarmLine"+e.GetChartId()).find("span").html(e.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),t.ShowAlarmLine=e.showAlarmLine})},this.lastSourceData=null,this.lastQueryData=null,this.FilterCondition=function(t){return zc(r,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h;return Gc(this,function(d){switch(d.label){case 0:if(!(null==t?void 0:t.length))return this.ResetFilterCondition(),[2];d.label=1;case 1:return d.trys.push([1,3,,4]),e=t.join(";"),n=this.lastQueryData,i=n.objs,a=n.stime,r=n.etime,o=[],i&&i.map(function(t){t.indexType!=Kc.TimeIndex&&t.indexType!=Kc.SamplingIndex&&t.indexType!=Kc.SuperIndex&&t.indexType!=Kc.AlarmIndex&&t.indexType!=Kc.DirectivityIndex||o.push(Si.FetchIndex(t.assetId,a,r,t.indexCode,e))}),[4,Si.BatchFetch(o)];case 2:for(s=d.sent(),l=s.map(function(t){return t.data}),u=0,h=(c=this).chartList.length;u<h;u++)c.UpdateChart(l[u],c.chartList[u],0==u,!0);return[3,4];case 3:return d.sent(),[3,4];case 4:return[2]}})})},this.UpdateChart=function(t,e,n,i){if(void 0===i&&(i=!1),t&&t.Datas&&0!=t.Datas.length){var a=r,o=[],s=[],l=[];!1===ie.GetDataRange().isShowError&&(t.Datas=t.Datas.filter(function(t){return 99!==t.Alarm}));for(var c=t.Datas.length-1;c>=0;c--){var u=t.Datas[c];if(i&&null!==u.MeasValue&&"NaN"!==u.MeasValue)try{null!==u.MeasValue&&"NaN"!==u.MeasValue&&(void 0!==u.Alarm&&null!=u.Alarm&&99===u.Alarm&&u.WaveKey?(o.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),s.push([Object(f.e)(u.MeasDate),u.MeasValue]),l.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):void 0!==u.Alarm&&99===u.Alarm?(o.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),l.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):u.WaveKey?(s.push([Object(f.e)(u.MeasDate),u.MeasValue]),l.push([Object(f.e)(u.MeasDate),u.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},u.WaveKey])):l.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey]))}catch(t){}}if(e.showAlarmLine=!1,l=l.sort(function(t,e){return t[0]-e[0]}),e.render([l],"",t.Unit,{annotations:[{draggable:"",id:"MarkPoints",shapes:o,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:e.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:l,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:s,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,null,t.AlarmLimits||[]),n){if(!l[0])return;a.LoadWaveForm(Object(f.e)(l[0][0]),l[0])}}},this.ResetFilterCondition=function(){for(var t=r,e=0,n=t.chartList.length;e<n;e++)t.UpdateChart(t.orgChartData[e],t.chartList[e],0==e,!0)},this.getMaxAndMinData=function(t,e,n){if(void 0===e&&(e=Number.MAX_SAFE_INTEGER),void 0===n&&(n=0),!t||0===t.length)return{minTime:e,maxTime:n};for(var i=Vc([],t),a=0,r=i.length;a<r;a++)i[a].MeasDate=Object(f.e)(i[a].MeasDate);return i.sort(function(t,e){return t.MeasDate-e.MeasDate}),i[0].MeasDate<e&&(e=i[0].MeasDate),i[i.length-1].MeasDate>n&&(n=i[i.length-1].MeasDate),{minTime:e,maxTime:n}},this.setTagChecked=function(t){r.tagChecked=t},this.getTagChecked=function(){return r.tagChecked},this.onPageSizeChange=e,this.onDisplayCheckedTrendChart=n,this._elem=t,this._parent=a,this._MemoryIndexTable=new Lc(i,a.id),this.bigTrend=new Oc,this.bigTrend.InitChart("top"+this._parent.id,"","",this.onBigTrendCursorMoveCallback),W.addEvent("TempDataRangeChange",function(){r.render(r.lastQueryData.objs,r.lastQueryData.stime,r.lastQueryData.etime,r.lastQueryData.currPage,r.lastQueryData.AllData)},this._parent.id)}return t.prototype.SetMemoryTableDisplayNone=function(t){t?this._MemoryIndexTable&&this._MemoryIndexTable.Open():this._MemoryIndexTable&&this._MemoryIndexTable.Close()},t.prototype.ClearMemortTableData=function(){this._MemoryIndexTable.Clear()},t.prototype.Clear=function(){this.ReRenderClear(),Ec.Clear(),this.LastSelectX=null,this.CheckedList=[],this.LastSetExtremes=null,this.chartList=null,this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null,this.tagChecked=[]},t.prototype.Dispose=function(){this.lastQueryData=null,W.removeEvent("TempDataRangeChange",null,this._parent.id),this.ReRenderClear(),this.lastSourceData=null,this._MemoryIndexTable&&this._MemoryIndexTable.Dispose(),this.bigTrend&&this.bigTrend.Dispose(),this._MemoryIndexTable=null,this.bigTrend=null,this._elem=null,this.tagChecked=[]},t.prototype.ReRenderClear=function(){this.chartList&&this.chartList.length>0&&this.chartList.map(function(t){t.Dispose(),t=null}),this.chartList=null,this.bigTrend&&this.bigTrend.Clear(),this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null,this.layout&&this.layout.Dispose(),L(this._elem).unbind(),L(this._elem).html("")},t.prototype.Resize=function(){this.bigTrend.Resize(),this.chartList&&this.chartList.map(function(t){t.Resize()})},t.prototype.CreateLayout=function(t){var e=this;if(!t||0!=t.length){L(this._elem).html("<div style='height:100%;'></div>");var n=[],i=[],a=[],r=L(this._elem).height();r<120*t.length-5&&(r=120*t.length-5),t.length>6&&L(this._elem).children("div").css({height:r});for(var o=0,s=t.length;o<s;o++)n.push({id:"WindPowerEdgeComputingTrend"+t[o].assetId+t[o].indexCode+t[o].indexType}),i.push("WindPowerEdgeComputingTrend"+t[o].assetId+t[o].indexCode+t[o].indexType),a.push(120);var l=new ga;l.items=n,l.splitConfig=[{ids:i,callBack:function(){e.Resize()},isVertical:!0}],this.layout&&this.layout.Dispose(),this.layout=new va(l,"");var c=L(this._elem).children("div")[0];this.layout.render(c)}},t.prototype.LoadWaveForm=function(t,e){var n=this.lastSourceData.data,i=this.lastSourceData.path,a=[];this.chartList&&this.chartList.map(function(e,r){try{if(e.verifyData()){var o=e.getMostIndexX(t)[0],s=e.data[0][o];if(s[3]){var l=new Sc;l.AssetId=i[r].assetId,l.Path=i[r].path,l.MeasDate=Object(f.r)(s[0]),l.MeasValue=s[1],l.DataKey=s[3],l.otherData={Unit:n[r].data.Unit||""},l.yUnit=n[r].data.Unit||"",a.push(l)}}}catch(t){}}),a&&a.length>0?(Ec.Clear(!1),Ec.AddDatas(a.reverse())):Ec.Clear()},t.prototype.CreateIndexChart=function(t,e,n,i,a,r){var o=this,s="WindPowerEdgeComputingTrend"+e.assetId+e.indexCode+e.indexType,l=new qt(s,Yt.Last,{onMainCursorMoved:function(t,e,n,i){if("first"!=i){o.LoadWaveForm(n[0],n);var a=n[0];o.LastSelectX=a,o.chartList&&o.chartList.map(function(t){if(t.verifyData()){var e=t.getMostIndexX(a);t.selectedXIndex=e[0],t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}})}},onSetExtremes:function(t,e){o.LastSetExtremes={min:t,max:e},o.chartList&&o.chartList.map(function(n){try{n.hchartInstance&&n.hchartInstance.xAxis&&n.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}})},onRenderEnd:function(){if(o.LastSelectX){var t=l.getMostIndexX(o.LastSelectX);t&&(l.selectedXIndex=t[0],l.MoveMainCursor(!0,!0,!0,!1,!0,"first"),t[1][3]?l.chartAnnotations.renderAnnotation([{x:t[1][0],y:t[1][1],annotations:[{imgKey:"YRPoint",center:!0,width:10,height:10}]}]):l.chartAnnotations.renderAnnotation([{x:t[1][0],y:t[1][1],annotations:[{imgKey:"Red",center:!0,width:8,height:8}]}]))}o.LastSetExtremes&&l.hchartInstance.xAxis[0].setExtremes(o.LastSetExtremes.min,o.LastSetExtremes.max,!0,!1,"NotDispatch")},onMaxBtnClick:function(t){},onBaseMeunBtnClick:function(t,e,n){switch(t){case"enableDynamicCursor":o.chartList&&o.chartList.map(function(t){e!=t.GetChartId()&&(n?t.openDynamicCursorEnable():t.closeDynamicCursorEnable(),L("#enableDynamicCursor"+t.GetChartId()+" .menu-item-name").html(t.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open")))}),o.LastDynamicCursor=n;break;case"toolbar":o.chartList&&o.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateToolBoxVisible(i),L("#toolbar"+t.GetChartId()+" .menu-item-name").html(t.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),t.Resize()}}),o.LastToolbar=!n;break;case"helpInfo":o.chartList&&o.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateHelperInfoVisible(i),L("#helpInfo"+t.GetChartId()+" .menu-item-name").html(t.layout.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide")),t.Resize()}}),o.LastHelperInfo=!n}}});this.chartList.push(l),l.ChartKeys=["x","y","marker","wavekey"],l.chartConfig.xIsTime=!0,l.registeredCursor([new Pc(l,this),new _c(l,this)]),l.menuInstance.RemoveMenuItem("LockChart"),l.layout._InitHelperInfo({path:e.path,CurosrValue:""}),l.chartConfig.isAllowMaxBtn=!0,l.menuInstance.AddMenuItem("ConditionFilterHelper"+l.GetChartId(),M.$t("ConditionFilter.title"),function(){o._parent.ConditionFilterHelper.SetFilterFunc(o.FilterCondition.bind(o)),o._parent.ConditionFilterHelper.SetReset(o.ResetFilterCondition.bind(o)),o._parent.ConditionFilterHelper.Open()}),l.menuInstance.AddMenuItem("AddCheckedData"+l.GetChartId(),M.$t("menu.saveSelectedData"),function(){o._MemoryIndexTable.AddData({MeasDate:Object(f.r)(l.data[0][l.selectedXIndex][0]),Description:"",currPage:n,AllData:i})}),l.menuInstance.AddMenuItem("showChecked"+l.GetChartId(),M.$t("menu.displaySelectedTrend"),function(){o.onDisplayCheckedTrendChart&&o.onDisplayCheckedTrendChart(o.CheckedList,!0)}),l.menuInstance.AddMenuItem("UnShowChecked"+l.GetChartId(),M.$t("menu.displayUnelectedTrend"),function(){o.onDisplayCheckedTrendChart&&o.onDisplayCheckedTrendChart(o.CheckedList,!1)}),l.menuInstance.AddMenuItem("maxgraphcount"+l.GetChartId(),M.$t("menu.maxgraphcount"),function(){var t=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||5,e="<div class='Cursorsetting"+l.GetChartId()+"'><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" max="10" step="1" id="Cursorsetting_graph'+l.GetChartId()+'" name="maxgraphcount" class="layui-layer-input" value=\''+t+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:e,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(t,e){if(!(t<=0)){var n=L("#Cursorsetting_graph"+l.GetChartId()).val()||6;parseInt(n)>300?U.msg(M.$t("meun.config.maxgraph.count.error",{count:30})):parseInt(n)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(Object(f.E)("MultiparametricAnalysisChart_maxgraphcount",n),o.onPageSizeChange&&o.onPageSizeChange(),U.close(e))}}),L("#Cursorsetting_graph"+l.GetChartId()).val(t)}),l.menuInstance.AddMenuItem("AddAlarmLine"+l.GetChartId(),l.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"),function(){o.ShowAlarmLineFunc&&o.ShowAlarmLineFunc()}),l.OpenMeunCallBack=function(){L("#AddAlarmLine"+l.GetChartId()).find("span").html(l.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"))},l.Init(),l.layout.UpdateToolBoxVisible(!(null==o.LastToolbar||o.LastToolbar)),l.layout.UpdateHelperInfoVisible(!(null==o.LastHelperInfo||o.LastHelperInfo)),l.dynamicCursorEnable=null==o.LastDynamicCursor||o.LastDynamicCursor;var c=!1;o.CheckedList&&(c=o.CheckedList.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType}).length>0),L("#"+s).find(".rzgraph_helperinfo>ul>li:last").after('<li style=\'float:right;padding-right:20px;width:48px;\' data-key="chart-check"><input type="checkbox" name="ckitem" '+(c?"checked=''":"")+' lay-filter="Check'+l.GetChartId()+'" lay-skin="primary" style="display:none;" title="" value=\'All\'/></li>'),l.updateHelperInfo();var u=O.form;u.render("checkbox","Check"+l.GetChartId(),"#"+s),u.on("checkbox(Check"+l.GetChartId()+")",function(t){return o.CheckedList||(o.CheckedList=[]),t.othis.hasClass("layui-form-checked")?o.CheckedList.push(e):o.CheckedList=o.CheckedList.filter(function(t){return t.assetId!=e.assetId&&t.indexCode!==e.indexCode&&t.indexType!==e.indexType&&t.path!==e.path}),!0}),l.chartName=e.assetId+e.indexType+e.indexCode,jc({},t).indexData=e,this.renderChart(l,t,e,a,r)},t.prototype.render=function(t,e,n,i,a){return zc(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,A;return Gc(this,function(m){switch(m.label){case 0:return this.ReRenderClear(),this.lastQueryData={objs:t,stime:e,etime:n,AllData:a,currPage:i},this.chartList=[],this.orgChartData=[],r=[],this.lastSourceData=null,L(this._elem).unbind(),L(this._elem).html(""),Ec.Clear(),this.CreateLayout(t),t&&t.map(function(t){t.indexType!=Kc.TimeIndex&&t.indexType!=Kc.SamplingIndex&&t.indexType!=Kc.SuperIndex&&t.indexType!=Kc.AlarmIndex&&t.indexType!=Kc.DirectivityIndex||r.push(Si.FetchIndex(t.assetId,e,n,t.indexCode))}),[4,Si.BatchFetch(r)];case 1:for(o=m.sent(),s=[],l=0,p=0;p<t.length;p++)(c=t[p]).indexType==Kc.TimeIndex||c.indexType==Kc.SamplingIndex||c.indexType==Kc.SuperIndex||c.indexType==Kc.AlarmIndex||c.indexType==Kc.DirectivityIndex?(s[p]=o[l],l++):s[p]={};if(this.lastSourceData={data:s,path:t},s&&s.length>0){for(u=Number.MAX_SAFE_INTEGER,h=0,p=0;p<s.length;p++)s[p]&&s[p].data&&s[p].data.Datas&&(d=this.getMaxAndMinData(s[p].data.Datas,u,h),u=d.minTime,h=d.maxTime);for(p=0;p<s.length;p++)t[p].indexType!=Kc.EigenvalueIndex&&t[p].indexType!=Kc.TimeIndex&&t[p].indexType!=Kc.ProPoint&&t[p].indexType!=Kc.SamplingIndex&&t[p].indexType!=Kc.SuperIndex&&t[p].indexType!=Kc.GeneralIndex&&t[p].indexType!=Kc.SpecialIndex&&t[p].indexType!=Kc.AlarmIndex&&t[p].indexType!=Kc.DirectivityIndex||this.CreateIndexChart(s[p].data||[],t[p],i,a,u,h),this.orgChartData.push(s[p].data?jc(jc({},s[p].data),{indexData:t[p]}):{indexData:t[p]});try{this.LoadWaveForm(this.LastSelectX?this.LastSelectX:Object(f.e)(o[0].data.Datas[0].MeasDate),this.LastSelectX?o[0].data.Datas[this.LastSelectX]:o[0].data.Datas[0])}catch(t){}}return(A=t.filter(function(t){return t.indexType===Kc.EigenvalueIndex||t.indexType===Kc.ProPoint||t.indexType==Kc.SamplingIndex||t.indexType==Kc.SuperIndex||t.indexType==Kc.GeneralIndex||t.indexType==Kc.SpecialIndex||t.indexType==Kc.AlarmIndex||t.indexType==Kc.TimeIndex||t.indexType==Kc.DirectivityIndex})).length>0?(this._parent.SwitchTopDivShow(!0),this.bigTrend.LoadData(A,e,n)):this._parent.SwitchTopDivShow(!1),[2]}})})},Yc([Object(f.a)()],t.prototype,"Dispose",null),Yc([Object(f.a)()],t.prototype,"ReRenderClear",null),Yc([Object(f.a)()],t.prototype,"LoadWaveForm",null),t}(),Jc=function(){return(Jc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Zc=function(){function t(t,e){var n=this;if(void 0===e&&(e=null),this.Resize=function(){n.chart&&n.chart.Resize()},this.onAssetTypeNotSupport=function(t){},this.onAssetChange=function(){n.Path=G.TableData.path,n.chart.layout.UpdateHelperInfo({path:n.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.RenderChart=function(){var t=n,e=[],i=Ec.GetData().map(function(t){return{waveKey:t.DataKey,Unit:t.yUnit}}),a=Object(f.v)("TotalSpecConfig");i.map(function(t){var n=q.a.Units[t.Unit],i=Object(f.l)(n);a?i&&a&&3==a[i].spec?e.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0)):e.push(Si.FetchSpectrum(t.waveKey,0,0)):"voltage"===i||"current"===i?e.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0)):e.push(Si.FetchSpectrum(t.waveKey,0,0))}),n.Clear(),Si.BatchFetchSpectrumByType(e).then(function(e){for(var n=e,i=[],a=[],r=0;r<n.length;r++)i.push(n[r].data.YData),a.push(n[r].data.YUnit);i=Object(f.n)(i,a),t.charthelper.render(n.map(function(t,e){return Jc(Jc({},t.data),{YData:i[e]})}),Ec.GetData())})},this.RenderBack=function(){n.RenderChart()},this.FilterOrigin=null,this.RenderFilter=function(t,e,i){var a=n.SelectDataKeys.map(function(t){return{WaveKey:t,start:0,dataLen:0}});Si.BatchFetchSpectrum(a).then(function(a){var r=(a||[]).map(function(t){return t.data}).concat([]),o=JSON.parse(JSON.stringify(r));if("-1"!=t){for(var s=0;s<o.length;s++)for(var l=0,c=o[s].YData.length;l<c;l++){var u=o[s].XInterval*l,h=o[s].YData[l];u<=e?"0"!=t&&"2"!=t||(h=0):u>e&&u<i?"1"!=t&&"2"!=t&&"3"!=t||(h=0):"3"!=t&&"0"!=t||(h=0),o[s].YData[l]=h}n.charthelper.render(o,Ec.GetData())}else n.charthelper.render(o,Ec.GetData())})},this.AddMenuItem=function(t){for(var e in t)n.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){Ec.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var i=this,a=new Zo(this.element,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var a=Ec.GetData(),r=a[e].Path||"",o=a[e].otherData.Unit||"";i.chart.yUtils=o,i.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,a,r){var o=Ec.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";i.chart.yUtils=l,i.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=a,this.charthelper=new Da(a),a.registeredCursor([new Rr(a),new Qr(this.chart,null,null,!1,!0,!0,!0)]),a.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var r=this.getContextmenu(a);this.AddMenuItem(r),a.chartConfig.isAllowMaxBtn=!0,a.menuInstance.AddMenuItem("TotalSpecType"+this.id,M.$t("menu.totalspec.configtitle"),function(){var t="<div class='"+(f.B&&"RZGraph-TotalSpec-Config-En")+" RZGraph-TotalSpec-Config' id='TotalSpecTypeForm"+i.id+"' style=\"width:"+(f.B?"300px":"250px")+';height:300px"></div>';U.prompt({title:M.$t("menu.totalspec.configtitle"),content:t,btn:null}),new $o("TotalSpecTypeForm"+i.id,i.id).Init()}),a.Init(),W.addEvent("onTotalSpecConfigChange",function(t){i.RenderChart()})}return t.prototype.Dispose=function(){try{Ec.DeleteEvent("onMultiTemporalSpec"),this.chart.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.charthelper=null,this.chart=null,this.deviceId=null,this.assetId=null,this.id=null,this.FilterOrigin=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),$c=function(){function t(t,e,n){var i=this;if(void 0===e&&(e=null),void 0===n&&(n=null),this.getWaveInfo=function(){try{var t=i.chart.selectedYIndex;return i.lastWaveInfos[t]}catch(t){}return null},this.Resize=function(){i.chart&&i.chart.Resize()},this.onAssetChange=function(){i.Path=G.TableData.path,i.chart.layout.UpdateHelperInfo({path:i.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.onAssetTypeNotSupport=function(t){},this.lastWaveInfos=[],this.DataKeys=[],this.RenderChart=function(t){i.lastWaveInfos=[];var e=i;i.chart;e.SelectDataKeys=t;var n=t.map(function(t){return{WaveKey:t,start:0,dataLen:0}});i.Clear();var a=[];Si.BatchFetchOriginalVibWave(n).then(function(r){r&&r.map(function(t,e){var i={SignType:t.data.Signaltype,UpperFreq:t.data.Upperlimitingfreq,WaveKey:n[e].WaveKey||"",WaveLength:t.data.OldDataLen||0};a.push(i)}),e.lastWaveInfos=a,i.specChart&&i.specChart.RenderChart(t),e.charthelper.render(r.map(function(t){return t.data}),Ec.GetData());var o=Ec.GetData();r&&r.map(function(t,e){o[e].otherData.Unit=r[e].data.YUnit})})},this.CalcVSelectIndex=function(t,e,n,a){var r=t,o=n?t:t+e;if(n){if(o==i.chart.selectedYIndex&&a<i.chart.data[o][i.chart.data[o].length-1][0])return o}else if(o<0||o>=i.chart.data.length)return i.chart.selectedYIndex;for(var s=i.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,i.chart.data[i.chart.selectedYIndex],0),c=!1;o<i.chart.data.length&&o>=0;){if(!(i.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=i.chart.selectedYIndex),r},this.AddMenuItem=function(t){for(var e in t)i.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){Ec.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,this.specChart=n,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var a=this,r=new Zo(this.element,Yt.First,{onMainCursorMoved:function(t,e,n){var i=Ec.GetData(),r=i[e].Path||"",o=i[e].otherData.Unit||"";a.chart.yUtils=o,a.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,i,r){var o=Ec.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";a.chart.yUtils=l,a.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=r,this.charthelper=new Da(r),r.chartConfig.isAllowMaxBtn=!0,r.registeredCursor([new Yr(r),new ls(r,this)]),r.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var o=this.getContextmenu(r);this.AddMenuItem(o),r.Init(),Ec.AddEvent("onMultiTemporalSpec",function(t){var e=t.map(function(t){return t.DataKey});a.DataKeys=e||[],a.RenderChart(e),i.drawer.state=0,i.drawer.renderWithState()});var s=Ec.GetData();if(s.length>0){var l=s.map(function(t){return t.DataKey});a.DataKeys=l||[],this.RenderChart(l)}var c=new os(t,this.id);this.drawer=c,c.render(),c.DrawerDo=function(t){if(t.isBack)a.RenderChart(a.DataKeys);else{var e=a.DataKeys;if(e){var n=t.type;Si.FetchMultiAngleWave(e,0,n).then(function(t){r.Clear(),a.charthelper.render(t.map(function(t){return t.data}),Ec.GetData())})}}};var u=new ss("Panel"+this.id,this.id,this.assetId);u.Init(),this.filter=u,u.FormSubmitDo=function(t){i.chart;var e=i;c.state=1,c.renderWithState();t.assetid;var n=t.filterType,a=t.filterMinStop,r=t.filterMaxStop;if(e.DataKeys){var o=Object(f.v)("SpectrumUnit"),s={unit:o,rate:1};o&&(s=Object(f.b)(o)),a=(1*a/s.rate).toFixed(4),r=(1*r/s.rate).toFixed(4),Si.FetchFilterMultiWave(e.DataKeys,n,a,r).then(function(t){e.charthelper.render(t.map(function(t){return t.data}),Ec.GetData())})}},u.FormBackDo=function(t){a.RenderChart(a.DataKeys)}}return t.prototype.Dispose=function(){try{this.chart&&this.chart.Dispose(),Ec.DeleteEvent("onMultiTemporalSpec"),this.filter&&this.filter.Dispose(),this.drawer&&this.drawer.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.specChart=null,this.charthelper=null,this.deviceId=null,this.assetId=null,this.id=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eu=function(){return(eu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},nu=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},iu=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},au=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]])}return n},ru=function(t){function e(e){var n=t.call(this)||this;return n.isHiddenIndexItem=e,n.isFirst=!0,n.sourceData=[],n.showData=[],n.init=function(t){n._dt=t},n.renderData=function(t,e){return void 0===e&&(e=!0),nu(n,void 0,void 0,function(){var n,i;return iu(this,function(a){return t?(n=t,e?(i=this.formatData(t),n=ou(this.sourceData,i)):n=ou(this.sourceData,t),this.isHiddenIndexItem&&(n=function(t){return t.filter(function(t){return!1===t.IsIndex})}(n)),this.sourceData=n,this.showData=n,this._dt&&this._dt.Update({data:n}),this.onCheckLastData(),this.isFirst&&(this._dt.openAll(),this.isFirst=!1),[2]):[2]})})},n.onMarkAlarmLevel=function(){var t=n;setTimeout(function(){t.showData.forEach(function(t){if(-1!==t.AlarmLevel&&0!==t.AlarmLevel){var e=Object(f.s)(t.AlarmLevel);L("[data-id="+t.id+"]").find("[data-down]").css("background",e),L("[data-id="+t.id+"]").find("[data-down]").css("color","white")}})},0)},n.queryData=function(t){var e=n,i=[];function a(t){e.sourceData.forEach(function(e){e.id==t&&-1==i.findIndex(function(t){return e.id==t.id})&&(i.push(e),e.pid&&a(e.pid))})}function r(t){e.sourceData.forEach(function(e){e.pid==t&&-1==i.findIndex(function(t){return e.id==t.id})&&(i.push(e),0==e.is_end&&e.id&&r(e.id))})}n.sourceData.forEach(function(e){var n=e.Code&&e.Code.toString();-1===(e.name||e.Name).search(t)&&n!=t||-1==i.findIndex(function(t){return e.id==t.id})&&(i.push(e),e.pid&&a(e.pid),0==e.is_end&&e.id&&r(e.id))}),n.showData=i,n._dt&&n._dt.Update({data:i}),n.onCheckLastData()},n.onCheckClick=function(t){var e,i,a,r=null===(e=t.item)||void 0===e?void 0:e.id,o=t.is_checked;if(null===(i=t.item)||void 0===i?void 0:i.id)if(null===(a=t.item)||void 0===a?void 0:a.is_end){var s=n.sourceData.findIndex(function(t){return t.id==r});-1!==s&&(n.sourceData[s].isChecked=o)}else n.onChildrenChecked(t.item,o);else n.showData.forEach(function(t){n.sourceData.forEach(function(e){e.id==t.id&&(e.isChecked=o)})})},n.onChildrenChecked=function(t,e){var i=n;n.showData.forEach(function(a){n.sourceData.forEach(function(n){n.id==a.id&&(n.pid!=t.id&&n.id!=t.id||(n.isChecked=e,n.is_end||n.id===t.id||i.onChildrenChecked(n,e)))})})},n.onGetChecked=function(){var t=[];return n.sourceData.forEach(function(e){e.isChecked&&t.push(e)}),t},n.onCheckLastData=function(){var t=[];n.onGetChecked().forEach(function(e){n.sourceData.some(function(t){return t.id==e.id})&&e.is_end&&t.push(e.id)}),n._dt.setChecked(t)},n.onSetChecked=function(t,e){void 0===e&&(e=!0),n._dt.setChecked(t,e),n.sourceData.forEach(function(n){t.some(function(t){return t==n.id})&&(n.isChecked=e)})},n.formatData=function(t){return function t(e){return e.reduce(function(e,n){var i=n.Code,a=n.Name,r=n.IsIndex,o=n.points,s=n.ParentCode,l=n.Childrens,c=au(n,["Code","Name","IsIndex","points","ParentCode","Childrens"]),u=s||0,h=u?u+"-"+i:i.toString();return e.concat([eu({id:h,pid:u,Name:a,Code:i,IsIndex:r,points:o},c)],t(l||[]))},[])}(function t(e,n){return e.concat().map(function(e){var i=e.Childrens,a=e.Code;return eu(eu({},e),{Childrens:i&&i.length>0?t(i,n?n+"-"+a:a):null,ParentCode:n})})}(t,null))},n.getCurrentAllCheckData=function(){return n.onGetChecked()},n.getSourceData=function(){return n.sourceData},n}return tu(e,t),e.prototype.Dispose=function(){L(this._elem).html("")},e}(Ea);function ou(t,e){return e.map(function(e){var n=t.find(function(t){return t.id==e.id});return"-1"==n?e:eu(eu({},n),e)})}var su=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},lu=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},cu=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},uu=(O.table,function(){function t(t){var e=this;void 0===t&&(t=!0),this.data=[],this.IndexData=[],this.isFirst=!0,this.LastCheckedData=[],this.renderData=function(t,n,i){return su(e,void 0,void 0,function(){var e,a,r,o,s,l,c,u=this;return lu(this,function(h){switch(h.label){case 0:if(e=this,!t)return[3,7];h.label=1;case 1:return h.trys.push([1,6,,7]),a=void 0,"TowerTube"!=n?[3,3]:[4,Si.FetchTowerTubeIndexTrendName(t)];case 2:return a=h.sent(),[3,5];case 3:return[4,Si.FetchIndexTrendName(t)];case 4:a=h.sent(),h.label=5;case 5:return a&&(r=a.data,o=[],r&&r.map(function(t){var e={name:t.IndexName,value:t.IndexCode,key:"",points:t.points,Group:t.Group};o.push(e)}),q.a.IndexConfig=o,this.IndexData=[],"TowerTube"==n?i&&"0"==i?o.map(function(e){1==e.points.length&&"0"==e.points[0]?u.IndexData.push(e):e.points.indexOf(t)>-1&&u.IndexData.push(e)}):i&&"-1"==i?o.map(function(e){1==e.points.length&&"-1"==e.points[0]?u.IndexData.push(e):e.points.indexOf(t)>-1&&u.IndexData.push(e)}):o.map(function(e){1==e.points.length?u.IndexData.push(e):e.points.indexOf(t)>-1&&u.IndexData.push(e)}):o.map(function(t){u.IndexData.push(t)}),this.data=this.IndexData),[3,7];case 6:return h.sent(),[3,7];case 7:return s=[],l=[],c=[],this.data.map(function(t,n){var i=!1;t.Group&&0===l.filter(function(e){return e.IndexName===t.Group}).length&&l.push({pid:0,id:t.Group,value:"",name:t.Group}),e&&e.LastCheckedData.length&&(i=e.LastCheckedData.filter(function(e){return e.IndexCode===t.IndexCode}).length>0),i&&c.push(t.value),s.push({id:t.value,name:t.name,value:t.value,pid:t.Group?t.Group:0,Group:t.Group,points:t.points})}),s=cu(cu([],l),s),this._dt.renderData(s,!1),[2]}})})},this.Clear=function(t){void 0===t&&(t=!1),e._dt&&e._dt.Update({data:[]}),t&&(e.LastCheckedData=null)},this.GetIndexData=function(){return e.data},this.AddOnChecked=function(){var t=e;e._dt&&e._dt&&e._dt.OnCheck(function(e){t._dt.onCheckClick(e)})},this.queryData=function(t){e._dt.queryData(t)},this.getCurrentAllCheckData=function(){return e._dt.onGetChecked()},this._id=Object(f.y)(),this.data=q.a.IndexConfig,this.data.map(function(e){e.LAY_CHECKED=t})}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.Resize=function(){this._dt&&this._dt.Resize()},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("menu.timedomaincriteria"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new ru;r.Create(n,[{minWidth:150,key:"name",title:M.$t("datatable.title.indexname")}],{icon_key:"name",primary_key:"id"}),this._dt=r,r.init(r),this.AddOnChecked()},t}()),hu=function(){function t(t,e){this.elementId=t,this.parentThis=e,this.init()}return t.prototype.init=function(){this.initRenderTable(this.elementId),this.renderData(this.parentThis.deviceId)},t.prototype.dispose=function(){this.table.Dispose(),this.table=null},t.prototype.clear=function(){this.table.Clear(!1)},t.prototype.resize=function(){this.table.Resize()},t.prototype.initRenderTable=function(t){this.table=new uu(!1),this.table.render(t,!1)},t.prototype.renderData=function(t){this.table.renderData(t)},t.prototype.getCurrentAllCheckData=function(){return this.table.getCurrentAllCheckData()},t}(),du=function(){return(du=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},pu=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},fu=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Au=function(){function t(){var t=this;this.renderData=function(e){return pu(t,void 0,void 0,function(){var t,n,i;return fu(this,function(a){switch(a.label){case 0:return(t=e.pointIds)&&t.length>0?[4,Si.BatchFetchEdgeComputingIndexCfgs(du(du({},e),{indexType:1}))]:[3,2];case 1:return n=a.sent(),i=n.data,this._dt.renderData(i),[2];case 2:return this.Clear(!1),[2]}})})},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]})},this.AddOnChecked=function(){t._dt&&t._dt&&t._dt.OnCheck(function(e){t._dt.onCheckClick(e)})},this.queryData=function(e){t._dt.queryData(e)},this.Resize=function(){t._dt&&t._dt.Resize()},this.formatData=function(t){return function t(e){return e.reduce(function(e,n){var i=n.Code,a=n.Name,r=n.IsIndex,o=n.points,s=n.ParentCode,l=n.Childrens,c=s||0,u=c?c+"-"+i:i.toString();return e.concat([{id:u,pid:c,Name:a,Code:i,IsIndex:r,points:o}],t(l||[]))},[])}(t)},this.getCurrentAllCheckData=function(){return t._dt.onGetChecked()},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new ru;r.Create(n,[{minWidth:150,key:"Name",title:M.$t("datatable.title.indexname")}],{icon_key:"Name",primary_key:"id"}),this._dt=r,r.init(r),this.AddOnChecked()},t}();var mu=function(){function t(t,e){this.elementId=t,this.parentThis=e,this.init()}return t.prototype.init=function(){this.initRenderTable(this.elementId)},t.prototype.dispose=function(){this.table.Dispose(),this.table=null},t.prototype.clear=function(){this.table.Clear(!1)},t.prototype.resize=function(){this.table.Resize()},t.prototype.initRenderTable=function(t){this.table=new Au,this.table.render(t,!1)},t.prototype.renderData=function(t){this.table.renderData(t)},t.prototype.getCurrentAllCheckData=function(){return this.table.getCurrentAllCheckData()},t}(),yu=function(){return(yu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},gu=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},vu=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},bu=function(){function t(){var t=this;this.renderData=function(e){return gu(t,void 0,void 0,function(){var t,n,i;return vu(this,function(a){switch(a.label){case 0:return(t=e.pointIds)&&t.length>0?[4,Si.BatchFetchEdgeComputingIndexCfgs(yu(yu({},e),{indexType:2}))]:[3,2];case 1:return n=a.sent(),i=n.data,this._dt.renderData(i),[2];case 2:return this.Clear(!1),[2]}})})},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]})},this.AddOnChecked=function(){t._dt&&t._dt&&t._dt.OnCheck(function(e){t._dt.onCheckClick(e)})},this.queryData=function(e){t._dt.queryData(e)},this.Resize=function(){t._dt&&t._dt.Resize()},this.formatData=function(t){return function t(e){return e.reduce(function(e,n){var i=n.Code,a=n.Name,r=n.IsIndex,o=n.points,s=n.ParentCode,l=n.Childrens,c=s||0,u=c?c+"-"+i:i.toString();return e.concat([{id:u,pid:c,Name:a,Code:i,IsIndex:r,points:o}],t(l||[]))},[])}(t)},this.getCurrentAllCheckData=function(){return t._dt.onGetChecked()},this.onSetChecked=function(e,n){t._dt.onSetChecked(e,n)},this.onSetCheckedByCodes=function(e){var n=[];t._dt.getSourceData().forEach(function(t){e.some(function(e){return e===t.Code})&&n.push(t.id)}),t.onSetChecked(n,!0)},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new ru;r.Create(n,[{minWidth:150,key:"Name",title:M.$t("datatable.title.indexname")}],{icon_key:"Name",primary_key:"id"}),this._dt=r,r.init(r),this.AddOnChecked()},t}();var Cu=function(){function t(t,e){var n=this;this.elementId=t,this.parentThis=e,this.onSetChecked=function(t,e){n.table.onSetChecked(t,e)},this.onSetCheckedByCodes=function(t){n.table.onSetCheckedByCodes(t)},this.init()}return t.prototype.init=function(){this.initRenderTable(this.elementId)},t.prototype.dispose=function(){this.table.Dispose(),this.table=null},t.prototype.clear=function(){this.table.Clear(!1)},t.prototype.resize=function(){this.table.Resize()},t.prototype.initRenderTable=function(t){this.table=new bu,this.table.render(t,!1)},t.prototype.renderData=function(t){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(e){switch(e.label){case 0:return[4,this.table.renderData(t)];case 1:return e.sent(),[2]}})})},t.prototype.getCurrentAllCheckData=function(){return this.table.getCurrentAllCheckData()},t}(),xu=function(){return(xu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},wu=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Du=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Iu=function(){function t(){var t=this;this.renderData=function(e){return wu(t,void 0,void 0,function(){var t,n,i;return Du(this,function(a){switch(a.label){case 0:return(t=e.pointIds)&&t.length>0?[4,Si.BatchFetchEdgeComputingIndexCfgs(xu(xu({},e),{indexType:3}))]:[3,2];case 1:return n=a.sent(),i=n.data,this._dt.renderData(i),[2];case 2:return this.Clear(!1),[2]}})})},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]})},this.AddOnChecked=function(){t._dt&&t._dt&&t._dt.OnCheck(function(e){t._dt.onCheckClick(e)})},this.queryData=function(e){t._dt.queryData(e)},this.Resize=function(){t._dt&&t._dt.Resize()},this.formatData=function(t){return function t(e){return e.reduce(function(e,n){var i=n.Code,a=n.Name,r=n.IsIndex,o=n.points,s=n.ParentCode,l=n.Childrens,c=s||0,u=c?c+"-"+i:i.toString();return e.concat([{id:u,pid:c,Name:a,Code:i,IsIndex:r,points:o}],t(l||[]))},[])}(t)},this.getCurrentAllCheckData=function(){return t._dt.onGetChecked()},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new ru;r.Create(n,[{minWidth:150,key:"Name",title:M.$t("datatable.title.indexname")}],{icon_key:"Name",primary_key:"id"}),this._dt=r,r.init(r),this.AddOnChecked()},t}();var Bu=function(){function t(t,e){this.elementId=t,this.parentThis=e,this.init()}return t.prototype.init=function(){this.initRenderTable(this.elementId)},t.prototype.dispose=function(){this.table.Dispose(),this.table=null},t.prototype.clear=function(){this.table.Clear(!1)},t.prototype.resize=function(){this.table.Resize()},t.prototype.initRenderTable=function(t){this.table=new Iu,this.table.render(t,!1)},t.prototype.renderData=function(t){this.table.renderData(t)},t.prototype.getCurrentAllCheckData=function(){return this.table.getCurrentAllCheckData()},t}(),Tu=function(){return(Tu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Su=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Mu=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Eu=function(){function t(){var t=this;this.renderData=function(e){return Su(t,void 0,void 0,function(){var t,n,i,a,r;return Mu(this,function(o){switch(o.label){case 0:return t=e.pointIds,n=e.industryType,t&&t.length>0?(i=[],n!==tn.b.IndustryType_SH.code?[3,2]:[4,Si.BatchFetchEdgeComputingIndexCfgs(Tu(Tu({},e),{indexType:6}))]):[3,6];case 1:return a=o.sent(),i=a.data,[3,5];case 2:return[4,Si.BatchFetchEdgeComputingIndexCfgs(Tu(Tu({},e),{indexType:2}))];case 3:return a=o.sent(),[4,Si.BatchFetchEdgeComputingIndexCfgs(Tu(Tu({},e),{indexType:3}))];case 4:r=o.sent(),i=[{Childrens:a.data,Code:"GeneralIndex",IsIndex:!1,Name:"通用指标",ParentCode:0,points:[]},{Childrens:r.data,Code:"SpecialIndex",IsIndex:!1,Name:"特殊指标",ParentCode:0,points:[]}],o.label=5;case 5:return this._dt.renderData(i),[2];case 6:return this.Clear(!1),[2]}})})},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]})},this.AddOnChecked=function(){t._dt&&t._dt&&t._dt.OnCheck(function(e){t._dt.onCheckClick(e)})},this.queryData=function(e){t._dt.queryData(e)},this.Resize=function(){t._dt&&t._dt.Resize()},this.getCurrentAllCheckData=function(){return t._dt.onGetChecked()},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new ru;r.Create(n,[{minWidth:150,key:"Name",title:M.$t("datatable.title.indexname")}],{icon_key:"Name",primary_key:"id"}),this._dt=r,r.init(r),this.AddOnChecked()},t}(),ku=function(){function t(t,e){this.elementId=t,this.parentThis=e,this.init()}return t.prototype.init=function(){this.initRenderTable(this.elementId)},t.prototype.dispose=function(){this.table.Dispose(),this.table=null},t.prototype.clear=function(){this.table.Clear(!1)},t.prototype.resize=function(){this.table.Resize()},t.prototype.initRenderTable=function(t){this.table=new Eu,this.table.render(t,!1)},t.prototype.renderData=function(t){this.table.renderData(t)},t.prototype.getCurrentAllCheckData=function(){return this.table.getCurrentAllCheckData()},t}(),Fu=function(){return(Fu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Ou=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Lu=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Uu=function(){function t(){var t=this;this.renderData=function(e){return Ou(t,void 0,void 0,function(){var t,n,i;return Lu(this,function(a){switch(a.label){case 0:return(t=e.pointIds)&&t.length>0?[4,Si.BatchFetchEdgeComputingIndexCfgs(Fu(Fu({},e),{indexType:4}))]:[3,2];case 1:return n=a.sent(),i=n.data,this._dt.renderData(i),this._dt.onMarkAlarmLevel(),[2];case 2:return this.Clear(!1),[2]}})})},this.onRenderData=function(e){t._dt.renderData(e)},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]})},this.AddOnChecked=function(){t._dt&&t._dt&&t._dt.OnCheck(function(e){t._dt.onCheckClick(e)})},this.queryData=function(e){t._dt.queryData(e)},this.Resize=function(){t._dt&&t._dt.Resize()},this.formatData=function(t){return function t(e){return e.reduce(function(e,n){var i=n.Code,a=n.Name,r=n.IsIndex,o=n.points,s=n.ParentCode,l=n.Childrens,c=s||0,u=c?c+"-"+i:i.toString();return e.concat([{id:u,pid:c,Name:a,Code:i,IsIndex:r,points:o}],t(l||[]))},[])}(t)},this.getCurrentAllCheckData=function(){return t._dt.onGetChecked()},this.setCheckAll=function(){var e,n=[],i=t._dt.getSourceData();i&&i.length>0&&i.forEach(function(t){n.push(t.id)}),null===(e=t._dt)||void 0===e||e.onSetChecked(n)},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.render=function(t,e,n){void 0===e&&(e=!0);var i=n.isHiddenIndexItem,a=null;if(e){var r=new fa;a="indexTable"+this._id,r.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+a+"' style='overflow:hidden;height:100%;'></div>")}else{var o=L(t).attr("id");o?a=o:(a="indexTable"+this._id,L(t).attr("id",a))}this._elem=t;var s=new ru(i);s.Create(a,[{minWidth:150,key:"Name",title:M.$t("datatable.title.indexname")}],Fu({icon_key:"Name",primary_key:"id"},n)),this._dt=s,s.init(s),this.AddOnChecked()},t}();var Pu=function(){return(Pu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Ru=function(){function t(t,e,n){this.elementId=t,this.parentThis=e,this.tableOtherArg=n,this.init()}return t.prototype.init=function(){this.initRenderTable(this.elementId)},t.prototype.dispose=function(){this.table.Dispose(),this.table=null},t.prototype.clear=function(){this.table.Clear(!1)},t.prototype.resize=function(){this.table.Resize()},t.prototype.initRenderTable=function(t){this.table=new Uu,this.table.render(t,!1,this.tableOtherArg)},t.prototype.renderData=function(t){this.table.renderData(Pu(Pu({},t),{alarmId:this.parentThis.alarmId}))},t.prototype.getCurrentAllCheckData=function(){return this.table.getCurrentAllCheckData()},t}(),Hu=function(){return(Hu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Qu=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},_u=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Nu=function(){function t(){var t=this;this.renderData=function(e){return Qu(t,void 0,void 0,function(){var t,n,i;return _u(this,function(a){switch(a.label){case 0:return(t=e.pointIds)&&t.length>0?[4,Si.BatchFetchEdgeComputingIndexCfgs(Hu(Hu({},e),{indexType:5}))]:[3,2];case 1:return n=a.sent(),i=n.data,this._dt.renderData(i),[2];case 2:return this.Clear(!1),[2]}})})},this.Clear=function(e){void 0===e&&(e=!1),t._dt&&t._dt.Update({data:[]})},this.AddOnChecked=function(){t._dt&&t._dt&&t._dt.OnCheck(function(e){t._dt.onCheckClick(e)})},this.queryData=function(e){t._dt.queryData(e)},this.Resize=function(){t._dt&&t._dt.Resize()},this.formatData=function(t){return function t(e){return e.reduce(function(e,n){var i=n.Code,a=n.Name,r=n.IsIndex,o=n.points,s=n.ParentCode,l=n.Childrens,c=s||0,u=c?c+"-"+i:i.toString();return e.concat([{id:u,pid:c,Name:a,Code:i,IsIndex:r,points:o}],t(l||[]))},[])}(t)},this.getCurrentAllCheckData=function(){return t._dt.onGetChecked()},this._id=Object(f.y)()}return t.prototype.Dispose=function(){this._dt&&this._dt.Dispose(),L(this._elem).html("")},t.prototype.render=function(t,e){void 0===e&&(e=!0);var n=null;if(e){var i=new fa;n="indexTable"+this._id,i.render(L(t),M.$t("formname.eigenvalues"),"<div id='"+n+"' style='overflow:hidden;height:100%;'></div>")}else{var a=L(t).attr("id");a?n=a:(n="indexTable"+this._id,L(t).attr("id",n))}this._elem=t;var r=new ru;r.Create(n,[{minWidth:150,key:"Name",title:M.$t("datatable.title.indexname")}],{icon_key:"Name",primary_key:"id"}),this._dt=r,r.init(r),this.AddOnChecked()},t}();var ju=function(){function t(t,e){this.elementId=t,this.parentThis=e,this.init()}return t.prototype.init=function(){this.initRenderTable(this.elementId)},t.prototype.dispose=function(){this.table.Dispose(),this.table=null},t.prototype.clear=function(){this.table.Clear(!1)},t.prototype.resize=function(){this.table.Resize()},t.prototype.initRenderTable=function(t){this.table=new Nu,this.table.render(t,!1)},t.prototype.renderData=function(t){this.table.renderData(t)},t.prototype.getCurrentAllCheckData=function(){return this.table.getCurrentAllCheckData()},t}(),Yu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zu=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Gu=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Vu="",Ku=[5020,5100,5e3,5021,5022,5023,5101,5106,5107,5108,5109,5110,5111],Wu=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i=Kc.GeneralIndex);var a=t.call(this,e,n)||this;return a.onDisplayChange=function(t){0==t&&(a.trendChartManage&&a.trendChartManage.SetMemoryTableDisplayNone(!1),a.ConditionFilterHelper.Close())},a.Resize=function(){var t,e,n,i,r,o,s;a.waveformChart&&a.waveformChart.Resize(),a.specChart&&a.specChart.Resize(),a.trendChartManage&&a.trendChartManage.Resize(),null===(t=a.TimeIndexTableHelper)||void 0===t||t.resize(),null===(e=a.SamplingIndexTableHelper)||void 0===e||e.resize(),null===(n=a.GeneralIndexTableHelper)||void 0===n||n.resize(),null===(i=a.SpecialIndexTableHelper)||void 0===i||i.resize(),null===(r=a.SuperIndexTableHelper)||void 0===r||r.resize(),null===(o=a.AlarmIndexTableHelper)||void 0===o||o.resize(),null===(s=a.DirectivityIndexTableHelper)||void 0===s||s.resize()},a.Dispose=function(){var t,e,n,i,r,o,s;a.timerTimeOut&&clearTimeout(a.timerTimeOut),a.BaseDispose(),a.waveformChart&&a.waveformChart.Dispose(),a.specChart&&a.specChart.Dispose(),a.trendChartManage.Dispose(),a.DirectivityIndexTableHelper.table.Dispose(),a.DyTreeHelper.tree.Dispose(),a.ProPointTreeHelper.tree.Dispose(),a.ConditionFilterHelper.table.Dispose(),a.pagination&&a.pagination.Dispose(),a.ProPointTreeHelper=null,a.specChart=null,a.waveformChart=null,a.trendChartManage=null,a.DyTreeHelper=null,a.pagination=null,a.ConditionFilterHelper=null,a.alarmId=null,null===(t=a.TimeIndexTableHelper)||void 0===t||t.dispose(),null===(e=a.SamplingIndexTableHelper)||void 0===e||e.dispose(),null===(n=a.GeneralIndexTableHelper)||void 0===n||n.dispose(),null===(i=a.SpecialIndexTableHelper)||void 0===i||i.dispose(),null===(r=a.SuperIndexTableHelper)||void 0===r||r.dispose(),null===(o=a.AlarmIndexTableHelper)||void 0===o||o.dispose(),null===(s=a.DirectivityIndexTableHelper)||void 0===s||s.dispose(),a.TimeIndexTableHelper=null,a.SamplingIndexTableHelper=null,a.SpecialIndexTableHelper=null,a.GeneralIndexTableHelper=null,a.SuperIndexTableHelper=null,a.AlarmIndexTableHelper=null,a.DirectivityIndexTableHelper=null,L(a.element).html(""),L(a.element).unbind(),a.element=null},a.Clear=function(){var t,e,n,i,r,o,s;L(a.element).find("input[name='ckAll']").prop("checked",!1),O.form.render("checkbox","CheckAll"+a.id,"#right"+a.id+" "),a.DyTreeHelper.tree&&a.DyTreeHelper.tree.unCheckAll(),a.waveformChart&&a.waveformChart.onAssetTypeNotSupport(null),a.specChart&&a.specChart.onAssetTypeNotSupport(null),a.trendChartManage.Clear(),a.ConditionFilterHelper.table.Clear(),a.DirectivityIndexTableHelper.table.Clear(),a.DyTreeHelper.tree.Clear(),a.trendChartManage.ClearMemortTableData(),a.pagination&&a.pagination.Dispose(),null===(t=a.TimeIndexTableHelper)||void 0===t||t.clear(),null===(e=a.SamplingIndexTableHelper)||void 0===e||e.clear(),null===(n=a.SpecialIndexTableHelper)||void 0===n||n.clear(),null===(i=a.GeneralIndexTableHelper)||void 0===i||i.clear(),null===(r=a.SuperIndexTableHelper)||void 0===r||r.clear(),null===(o=a.AlarmIndexTableHelper)||void 0===o||o.clear(),null===(s=a.DirectivityIndexTableHelper)||void 0===s||s.clear()},a.lastTopSize=[80,20],a.SwitchTopDivShow=function(t){a.layout._splitArr[0].setSizes(a.lastTopSize),a.trendChartManage&&a.trendChartManage.Resize()},a.RenderPagination=function(t,e){void 0===e&&(e={});var n=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6;a.pagination&&a.pagination.Dispose();var i=new nr("pagination"+a.id,t.length,n,a.onPagination,e);a.pagination=i},a.onPageSizeChange=function(){var t=[];try{t=a.renderList.list||[]}catch(t){}a.pagination&&a.pagination.Dispose();var e=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6,n=new nr("pagination"+a.id,t.length,e,a.onPagination);a.pagination=n},a.DisplayCheckedTrendChart=function(t,e){if(t){var n=a;if(e)n.renderList.list=t;else{var i=[];n.renderList.list.map(function(e){t.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType&&t.path===e.path}).length>0||i.push(e)}),n.renderList.list=i}a.trendChartManage.Clear(),a.RenderPagination(n.renderList.list)}},a.onPagination=function(t){var e,n=a,i=n.renderList.list,r=t.curr,o=t.count,s=t.pages,l=t.limit;e=r<s?i.slice((r-1)*l,r*l):i.slice((r-1)*l,o),n.trendChartManage.render(e,n.renderList.stime,n.renderList.etime,t.curr,i)},a.InitQuery=function(t){void 0===t&&(t=null),L("#right_top"+a.id).append('<div  class="layui-form" id=\'Query'+a.id+'\' action="" style=""></div>'),a.timeRange=new Aa(Object(f.d)(Object(f.c)("m",-1,new Date),"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),a.id),L("#right_top"+a.id+" .layui-form").append("<div class=\"TimeRange\" style='height:130px;width:100%;'></div>");var e=(new fa).getHtml(M.$t("leftbar.form.selecttime"),a.timeRange.getHtml());L("#right_top"+a.id+" .TimeRange").append(e),a.timeRange.Init();var n='<div class="layui-tab layui-tab-brief " id="point'+a.id+'"  lay-filter="point'+a.id+'" style="height:100%;overview:hidden">\n  <div class="layui-tab layui-tab-brief"  lay-filter="pointType'+a.id+'" style="height:100%;">\n  <ul class="layui-tab-title">\n      <li class="layui-this"  data-id="0">\n      '+M.$t("vibration")+'\n      </li>\n        <li data-id="1">\n      '+M.$t("Process")+'\n      </li>\n    </ul>\n      <div class="layui-tab-content" style="height:calc(100% - 31px);padding:0">    \n        <div id="dyPoint'+a.id+'" class="layui-tab-item layui-show"  style="height: calc(100%);overflow:auto;"></div>\n        <div id="proPoint'+a.id+'" class="layui-tab-item "  style="height: 100%;"></div>\n      </div>\n  </div>\n  </div>';L("#right_center_top"+a.id).append(n),a.DyTreeHelper.render(),a.ProPointTreeHelper.render(),a.ConditionFilterHelper.Init();var i='<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;height:30px\'>\n    <button class="layui-btn layui-btn-sm" lay-submit=""  lay-filter="Query'+a.id+'" id="Query'+a.id+'">'+M.$t("btn.ok")+"</button>\n      </div>";L("#right_bottom"+a.id).append(i),L("#btnQuery"+a.id).click(function(){a.onClick()}),a.CreateTabs(a.defaultIndex)},a.CreateTabs=function(t,e){var n=!!e&&e===tn.b.IndustryType_FD.code;L("#right_center_bottom"+a.id).empty(),L("#right_center_bottom"+a.id+" .IndexTab").empty(),L("#right_center_bottom"+a.id+" ").append('<div class="IndexTab'+a.id+"\" style='width:100%;height:100%;'></div>");var i="",r="";[{type:Kc.TimeIndex,title:M.$t("menu.timedomaincriteria"),show:!0},{type:Kc.AlarmIndex,title:M.$t("common.index.alarm"),show:!0},{type:Kc.SamplingIndex,title:M.$t(n?"common.index.shortTime":"common.index.sampling"),show:!0},{type:Kc.GeneralIndex,title:M.$t("common.index.general"),show:!0},{type:Kc.SpecialIndex,title:M.$t("common.index.special"),show:"cidc"!==Vu},{type:Kc.DirectivityIndex,title:M.$t("common.index.DirectivityIndex"),show:"cidc"!==Vu},{type:Kc.SuperIndex,title:M.$t("common.index.superIndex"),show:!1}].forEach(function(e){e.show&&(i+='<li class="'+(t&&t==e.type?"layui-this":"")+'"  data-id="'+e.type+'">'+e.title+"</li>",r+='\t<div id="'+e.type+a.id+'" data-id="'+e.type+'" class="layui-tab-item '+(t&&t==e.type?"layui-show":"")+'"  style="height:100%">'+e.title+"</div>")});var o='<div class="layui-tab layui-tab-brief" lay-filter="IndexType'+a.id+'" style="height:100%;">\n\t\t<ul class="layui-tab-title">\t\t\t\n\t\t'+i+'\n    </ul>\n    <div>\n      <div id="search" class="layui-form" style="display: flex; align-items: center; padding: 1px 3px 0px" >\n        <div style="flex: 1">\n          <input type=\'text\' class=\'layui-input\' autocomplete="off" name=\'searchContent\' id=\'searchInput\' placeholder="'+M.$t("IndexType.input.placeholder")+'" style="height:28px;" />\n          </div>\n      </div>\n    </div>\n\t\t<div class="layui-tab-content" style="padding:5px;height:calc(100% - 55px);overflow:hidden">\n\t\t'+r+"\n\t\t</div>\n  </div> ";L("#right_center_bottom"+a.id+" .IndexTab"+a.id).append(o),a.TimeIndexTableHelper=new hu("#"+Kc.TimeIndex+a.id,a),a.SamplingIndexTableHelper=new mu("#"+Kc.SamplingIndex+a.id,a),a.GeneralIndexTableHelper=new Cu("#"+Kc.GeneralIndex+a.id,a),a.SpecialIndexTableHelper=new Bu("#"+Kc.SpecialIndex+a.id,a),a.SuperIndexTableHelper=new ku("#"+Kc.SuperIndex+a.id,a),a.AlarmIndexTableHelper=new Ru("#"+Kc.AlarmIndex+a.id,a,{is_checkbox:"cidc"!==Vu,isHiddenIndexItem:"cidc"===Vu}),a.DirectivityIndexTableHelper=new ju("#"+Kc.DirectivityIndex+a.id,a);var s=O.form;s.render(),s.on("submit(Query"+a.id+")",function(t){l.onClick();try{if(new Date(t.field.Stime)>new Date(t.field.Etime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])})}catch(t){}return!1});var l=a;s.on("submit(IndexTypeSearch"+a.id+")",function(t){l.IndexTypeTabs.onSearch(t)}),L("#searchInput").on("input",function(t){l.IndexTypeTabs.onSearch({field:{searchContent:t.delegateTarget.value}})}),a.IndexTypeTabs.RegisterOnChange()},a.onAssetChange=function(t){if(a.industryType=t.industryType,a.lastDeviceId!==a.deviceId&&(a.Clear(),a.lastDeviceId=a.deviceId,a.CreateTabs(a.defaultIndex,t.industryType),a.waveformChart.onAssetChange(),a.specChart.onAssetChange(),a.deviceId)){a.DyTreeHelper.LoadData(a.deviceId),a.ProPointTreeHelper.LoadData(a.deviceId);a.ConditionFilterHelper.GetData(a.deviceId)}},a.onClick=function(){var t=a.getTimeData();if(t){var e=t.sTime,n=t.eTime,i=a.DyTreeHelper.getCheckedData(),r=a.SamplingIndexTableHelper.getCurrentAllCheckData(),o=a.SuperIndexTableHelper.getCurrentAllCheckData(),s=a.GeneralIndexTableHelper.getCurrentAllCheckData(),l=a.SpecialIndexTableHelper.getCurrentAllCheckData(),c=a.AlarmIndexTableHelper.getCurrentAllCheckData(),u=a.ProPointTreeHelper.getCheckedData(),h=a.TimeIndexTableHelper.getCurrentAllCheckData(),d=a.DirectivityIndexTableHelper.getCurrentAllCheckData();a.QuerySubmit(e,n,i,r,s,l,o,c,u,h,d)}},a.onChangeForDyPointsOrTabs=function(t){return zu(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h;return Gu(this,function(d){switch(d.label){case 0:return e=this,n=L(".IndexTab"+this.id).find(".layui-this").attr("data-id"),n,i=t||this.DyTreeHelper.getCheckedData()||[],a=i.map(function(t){return t.id}),L("#btnRefresh"+this.id).remove(),r=this.getCurrentTabAction(),o=r.indexType,s=r.Helper,(l=this.getTimeData())?(c=l.sTime,u=l.eTime,(null==s?void 0:s.renderData)?o===Kc.TimeIndex?[3,2]:[4,s.renderData({pointIds:a,deviceId:this.deviceId,industryType:this.industryType,startTime:c,endTime:u})]:[3,2]):[2];case 1:d.sent(),d.label=2;case 2:return h=L("#searchInput").val(),e.IndexTypeTabs.onSearch({field:{searchContent:h}}),[2]}})})},a.getCurrentTabAction=function(){var t=L(".IndexTab"+a.id).find(".layui-this").attr("data-id"),e=(a.DyTreeHelper.getCheckedData()||[]).map(function(t){return t.id}),n=null;switch(t){case Kc.SamplingIndex:n=a.SamplingIndexTableHelper;break;case Kc.SuperIndex:n=a.SuperIndexTableHelper;break;case Kc.GeneralIndex:n=a.GeneralIndexTableHelper;break;case Kc.SpecialIndex:n=a.SpecialIndexTableHelper;break;case Kc.AlarmIndex:n=a.AlarmIndexTableHelper;break;case Kc.TimeIndex:n=a.TimeIndexTableHelper;break;case Kc.DirectivityIndex:n=a.DirectivityIndexTableHelper}return{selectedPoints:e,indexType:t,Helper:n}},a.getTimeData=function(){var t=a.timeRange.getData();return new Date(t.sTime)>new Date(t.eTime)?(O.layer.msg(M.$t("tip.error.time")),!1):t},a.setQueryData=function(t,e){t&&(L(a.element).find(".IndexTab"+a.id+" .layui-tab-title li").removeClass("layui-this"),L(a.element).find(".IndexTab"+a.id+' li[data-id="'+t+'"]').addClass("layui-this"),L(a.element).find(".IndexTab"+a.id+" .layui-tab-content>div").removeClass("layui-show"),L(a.element).find(".IndexTab"+a.id+' .layui-tab-content>div[data-id="'+t+'"]').addClass("layui-show")),a.alarmId=e||null},a.ConditionFilterHelper={table:null,Init:function(){var t=new Fa(null);a.ConditionFilterHelper.table=t},GetData:function(t){a.ConditionFilterHelper.table.GetData([t])},Open:function(){a.ConditionFilterHelper.table.Open()},SetFilterFunc:function(t){a.ConditionFilterHelper.table.SetFilterFunc(t)},GetCheckedData:function(){return a.ConditionFilterHelper.table.GetCheckedData()},Close:function(){a.ConditionFilterHelper.table.Close()},SetReset:function(t){a.ConditionFilterHelper.table.onReset=t},InitQuery:function(){var t='<div style="margin-top: 5px; margin-left: 9px;"><input id="conditionFilterButton" type="checkbox" name="ckAll" lay-filter="conditionFilterButton'+a.id+'" lay-skin="primary" style="display:none;" title="'+M.$t("ConditionFilter.title")+"\" value='All' /></div>";L("#right_top"+a.id).append(t);var e=O.form;e.render();var n=a;e.on("checkbox(conditionFilterButton"+a.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.ConditionFilterHelper.table.OnSwitchFilterData(!0):n.ConditionFilterHelper.table.OnSwitchFilterData(!1),!0})}},a.DyTreeHelper={tree:null,getCheckedData:function(){return a.DyTreeHelper.tree.getCheckedData()},render:function(){L("#right_center_top"+a.id+" #dyPoint"+a.id).append("<div class=\"dyPointCard\" style='height: 100%;width:100%;'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAll'+a.id+'" lay-skin="primary" style="display:none;" title="'+M.$t("common.point.dymnic")+"\" value='All'/>","");L("#right_center_top"+a.id+" .dyPointCard").append(t);var e=O.form;e.render("checkbox","CheckAll"+a.id,"#right"+a.id);var n=a;e.on("checkbox(CheckAll"+a.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.DyTreeHelper.tree.checkAll():n.DyTreeHelper.tree.unCheckAll(),!0});var i=new Qo(a.DyTreeHelper.onChange,null,a.DyTreeHelper.onLoadData);i.render(L("#right_center_top"+a.id+" .dyPointCard").find(".rz-card-body")),a.DyTreeHelper.tree=i},LoadData:function(t){return a.DyTreeHelper&&a.DyTreeHelper.tree.LoadData(t)},onChange:function(t){a.onChangeForDyPointsOrTabs(t)},onLoadData:function(t){var e=28*((null==t?void 0:t.length)||0)+20+61+5,n=(e=(e=e<365?e:365)<142?142:e)/L("#right_center"+a.id).height();L("#right_center_top"+a.id).height("calc("+100*n+"% - 2.5px)"),L("#right_center_bottom"+a.id).height("calc("+(100-100*n)+"% - 2.5px)"),a.Resize(),Object(ba.a)("DyTree_OnRenderEnd")}},a.ProPointTreeHelper={tree:null,getCheckedData:function(){return a.ProPointTreeHelper.tree.getCheckedData()},onChange:function(t){},render:function(){L("#right"+a.id+" #proPoint"+a.id).append("<div class=\"proPointCard\" style='height:100%;width:100%;'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAllPro'+a.id+'" lay-skin="primary" style="display:none;" title='+M.$t("common.point.technics")+" value='All'/>","");L("#right"+a.id+" .proPointCard").append(t);var e=O.form;e.render("checkbox","CheckAllPro"+a.id,"#right"+a.id+" ");var n=a;e.on("checkbox(CheckAllPro"+a.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.ProPointTreeHelper.tree.checkAll():n.ProPointTreeHelper.tree.unCheckAll(),!0});var i=new Vo(a.ProPointTreeHelper.onChange,null);i.render(L("#right"+a.id+" .proPointCard").find(".rz-card-body")),a.ProPointTreeHelper.tree=i},LoadData:function(t){return a.ProPointTreeHelper.tree.LoadData(t)}},a.IndexTypeTabs={RegisterOnChange:function(){var t=a;O.element.on("tab(IndexType"+a.id+")",function(){t.onChangeForDyPointsOrTabs()})},onSearch:function(t){var e=(null==t?void 0:t.field).searchContent,n=a.getCurrentTabAction();n.selectedPoints;n.Helper.table.queryData(e)},onAlarmRefresh:function(t,e){return zu(a,void 0,void 0,function(){var n,i,a,r;return Gu(this,function(o){switch(o.label){case 0:return e&&(n=Object(f.d)(e,"YYYY/MM/DD 00:00"),this.timeRange.renderDateTime("Stime"+this.id,Object(f.d)(n,"YYYY/MM/DD 00:00"),"")),i=this,(a=this.getTimeData())?[4,Si.GetAlarmPoints(t?{alarmId:t}:{deviceId:this.deviceId,startTime:a.sTime,endTime:a.eTime})]:[2];case 1:return(r=o.sent())&&200===r.status&&r.data?r.data.length?(this.DyTreeHelper.tree.setCheckedItemsById(r.data,!0),function(t){t.forEach(function(t){t&&(L("li[data-id="+t+"] > div").css("background-color","rgb(236, 28, 28)"),L("li[data-id="+t+"] > div span").css("color","white"))})}(r.data),"cidc"!==Vu?[3,3]:[4,this.onAutoLoadByAlarmInfo(r.data)]):[3,4]:[3,5];case 2:o.sent(),o.label=3;case 3:ba.b.once("AlarmIndexIndexTable_OnLoadData_Before",function(){i.AlarmIndexTableHelper.table.setCheckAll(),i.onClick()}),o.label=4;case 4:r.data.length||(O.layer.msg(M.$t("tips.noAlarmData")),this.DyTreeHelper.tree.setCheckedItemsById([],!1),this.AlarmIndexTableHelper.table.onRenderData([])),o.label=5;case 5:return[2]}})})}},a.defaultIndex=i,a.chartName="WindPowerEdgeComputingTrend",L(a.element).addClass("rzAxisPanelParent"),a.InitLayout(),a.InitQuery(i),a}return Yu(e,t),e.prototype.InitLayout=function(){var t=this,e=this,n=new ga;n.items=[{id:"Main",children:[{id:"top"},{id:"bottom",children:[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"center",children:[{id:"graphList",otherStyle:"height:calc(100% - 28px) !important;overflow-y:auto;"},{id:"pagination",otherStyle:"height:28px"}]}]}]},{id:"right",children:[{id:"right_top",otherStyle:"height:130px;border-bottom:1px solid #ccc"},{id:"right_center",otherStyle:"height:calc(100% - 180px);",children:[{id:"right_center_top",otherStyle:"overflow:hidden;max-height:364px;"},{id:"right_center_bottom",otherStyle:"overflow:hidden;min-height:calc(100% - 369px)"}]},{id:"right_bottom",otherStyle:"height:40px;"}]}],n.splitConfig=[{ids:["Main","right"],size:[73,27],callBack:function(){t.Resize()}},{ids:["top","bottom"],size:[0,100],isVertical:!0,callBack:function(e){t.lastTopSize=e[0],t.Resize()}},{ids:["left","center"],collapseBtnOpen:!0,collapseAlign:yi.Left,defaultCollapseAlign:yi.None,gutterAlign:"end",size:[50,50],minSize:"260px",callBack:function(){t.Resize()}},{ids:["left1","left2"],isVertical:!0,callBack:function(){t.Resize()}},{ids:["right_center_top","right_center_bottom"],size:[50,50],isVertical:!0,callBack:function(){t.Resize()}}];var i=new va(n,this.id);i.render(this.element),this.layout=i,this.trendChartManage=new qc("#graphList"+this.id,function(){t.onPageSizeChange.call(e)},function(n,i){t.DisplayCheckedTrendChart.call(e,n,i)},function(n,i,a){e.renderList.list=i,e.trendChartManage.LastSelectX=Object(f.e)(a),t.RenderPagination(i,{curr:n})},this),this.specChart=new Zc("left2"+this.id,this.Path),this.waveformChart=new $c("left1"+this.id,this.Path,this.specChart),this.addEvent("onControlPanFilter",function(t){var n=t.data,i=(n.assetid,n.filterType),a=n.filterMinStop,r=n.filterMaxStop,o=Object(f.v)("SpectrumUnit"),s={unit:o,rate:1};o&&(s=Object(f.b)(o)),a=(1*a/s.rate).toFixed(4),r=(1*r/s.rate).toFixed(4),e.specChart.RenderFilter(i,a,r)}),this.addEvent("onControlPanBack",function(t){t.data;e.specChart.RenderBack()})},e.prototype.QuerySubmit=function(t,e,n,i,a,r,o,s,l,c,u,h){void 0===h&&(h=!0);var d=[],p=L(".IndexTab"+this.id).find(".layui-this").attr("data-id");p===Kc.SamplingIndex&&(i&&i.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Wc;i.assetId=e.data.id,i.indexCode=t.Code,i.path=e.data.name+" "+t.Name,i.name=e.data.name,i.indexType=Kc.SamplingIndex,d.push(i)}})}),0==d.length&&i&&i.length),p===Kc.SuperIndex&&(o&&o.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Wc;i.assetId=e.data.id,i.indexCode=t.Code,i.path=e.data.name+" "+t.Name,i.name=e.data.name,i.indexType=Kc.SuperIndex,d.push(i)}})}),0==d.length&&o&&o.length),p===Kc.GeneralIndex&&(a&&a.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Wc;i.assetId=e.data.id,i.indexCode=t.Code,i.path=e.data.name+" "+t.Name,i.name=e.data.name,i.indexType=Kc.GeneralIndex,d.push(i)}})}),0==d.length&&a&&a.length),p===Kc.SpecialIndex&&(r&&r.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Wc;i.assetId=e.data.id,i.indexCode=t.Code,i.path=e.data.name+" "+t.Name,i.name=e.data.name,i.indexType=Kc.SpecialIndex,d.push(i)}})}),0==d.length&&r&&r.length),p===Kc.AlarmIndex&&(s&&s.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Wc;i.assetId=e.data.id,i.indexCode=t.Code,i.path=e.data.name+" "+t.Name,i.name=e.data.name,i.indexType=Kc.AlarmIndex,d.push(i)}})}),0==d.length&&s&&s.length),l&&l.length>0&&l.map(function(t){if(t.data.ID&&0!=t.data.NodeType){var e=new Wc;e.assetId=t.data.ID,e.indexCode=t.data.ID,e.path=t.data.NodeName,e.name=t.data.NodeName,e.indexType=Kc.ProPoint,d.push(e)}}),p===Kc.TimeIndex&&c&&c.map(function(t){n&&n.map(function(e){var n;if((t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)&&Object(tn.f)(e.data.type)){var i=new Wc;i.assetId=e.data.id,i.indexCode=t.value,i.name=e.data.name,e.pdata?i.path=e.pdata.name+"/"+e.data.name+"/"+t.name:i.path=e.data.name+"/"+t.name,i.indexType=Kc.TimeIndex,d.push(i)}})}),p===Kc.DirectivityIndex&&(u&&u.map(function(t){n&&n.map(function(e){var n;if(Object(tn.e)(e.data.type)&&(t.points&&t.points.indexOf(e.data.id)>=0||(null===(n=t.points)||void 0===n?void 0:n.length)&&"-1"===t.points[0]||void 0===t.points)){var i=new Wc;i.assetId=e.data.id,i.indexCode=t.Code,i.path=e.data.name+" "+t.Name,i.name=e.data.name,i.indexType=Kc.DirectivityIndex,d.push(i)}})}),0==d.length&&u&&u.length),d.length&&(h&&this.trendChartManage.Clear(),this.renderList={stime:t,etime:e,list:d},this.RenderPagination(d))},e.prototype.onAutoLoadByAlarmInfo=function(t){return zu(this,void 0,void 0,function(){var e,n,i;return Gu(this,function(a){switch(a.label){case 0:return this.onSwitchTab(Kc.GeneralIndex),(e=this.getTimeData())?(n=e.sTime,i=e.eTime,[4,this.GeneralIndexTableHelper.renderData({pointIds:t,deviceId:this.deviceId,industryType:this.industryType,startTime:n,endTime:i})]):[2];case 1:return a.sent(),this.GeneralIndexTableHelper.onSetCheckedByCodes(Ku),this.onClick(),this.onSwitchTab(Kc.AlarmIndex),[2]}})})},e.prototype.onSwitchTab=function(t){t&&(L(this.element).find(".IndexTab"+this.id+" .layui-tab-title li").removeClass("layui-this"),L(this.element).find(".IndexTab"+this.id+' li[data-id="'+t+'"]').addClass("layui-this"),L(this.element).find(".IndexTab"+this.id+" .layui-tab-content>div").removeClass("layui-show"),L(this.element).find(".IndexTab"+this.id+' .layui-tab-content>div[data-id="'+t+'"]').addClass("layui-show"))},e}(J);var Xu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qu=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ju=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Zu=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Dispose=function(){i.BaseDispose(),i.chartList&&i.chartList.map(function(t){return t.Dispose()}),i.chartList=null,i.chartLayout&&i.chartLayout.Dispose(),i.DyTreeHelper.tree.Dispose()},i.chartName="ComprehensiveAnalysisChart",i.DyTreeHelper={LoadData:function(t){return i.DyTreeHelper.tree.LoadData(t)},tree:null,getCheckedData:function(){return i.DyTreeHelper.tree.getCheckedData()},render:function(){L("#right"+i.id+" #dyPoint"+i.id).append("<div class=\"dyPointCard\" style='height:100%;width:100%;min-height:260px;'></div>");var t=(new fa).getHtml(M.$t("common.point.dymnic"));L("#right"+i.id+" .dyPointCard").append(t);var e=O.form;e.render("checkbox","CheckAll"+i.id,"#right"+i.id+" ");var n=i;e.on("checkbox(CheckAll"+i.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.DyTreeHelper.tree.checkAll():n.DyTreeHelper.tree.unCheckAll(),!0});var a=new Qo(null,null);a.render(L("#right"+i.id+" .dyPointCard").find(".rz-card-body")),i.DyTreeHelper.tree=a}},i.Resize=function(){i.chartList&&i.chartList.map(function(t){return t.Resize()})},i.chartList=[],i.InitChart=function(){var t=new qt("left1"+i.id,Yt.Last,{onMainCursorMoved:function(t,e,n,a){i.onMainCursorMoved(t,e,n,a)}});t.layout._InitHelperInfo({path:"",CurosrValue:""}),t.chartConfig.xIsTime=!0,t.chartConfig.isAllowMaxBtn=!0,t.menuInstance.RemoveMenuItem("LockChart"),t.Init();t.getSelectedText=function(e){try{var n=t.data[t.selectedYIndex][t.selectedXIndex];"°"===t.xUtils&&(n[0]=(n[0]%360).toFixed(3)),n=n.concat([]);var i={rate:1,unit:t.xUtils};t.chartConfig.convertUnit&&(i=Object(f.b)(t.xUtils)),t.xUtils=i.unit,t.chartConfig.xIsTime?n[0]=Object(f.r)(n[0]):n[0]=(n[0]*i.rate).toFixed(3);var a=t.hchartInstance.series[t.selectedYIndex].options,r="";return r=a.name+"  "+n[0]+t.xUtils+"，"+n[1].toFixed(3)+(a.units||""),t.cursorList&&t.cursorList.length>0&&t.cursorList.forEach(function(t){t.GetSelectText&&(r+=t.GetSelectText(e))}),r}catch(t){return""}};var e=new qt("left2"+i.id,Yt.First,{});e.chartConfig.xIsTime=!1,e.getSelectedText=function(t){try{var n=e.data[e.selectedYIndex][e.selectedXIndex];"°"===e.xUtils&&(n[0]=(n[0]%360).toFixed(3)),n=n.concat([]);var i={rate:1,unit:e.xUtils};e.chartConfig.convertUnit&&(i=Object(f.b)(e.xUtils)),e.xUtils=i.unit,e.chartConfig.xIsTime?n[0]=Object(f.r)(n[0]):n[0]=(n[0]*i.rate).toFixed(3);var a=e.hchartInstance.series[e.selectedYIndex].options,r="";return r=a.name+"  "+n[0]+e.xUtils+"，"+n[1].toFixed(3)+(a.units||""),e.cursorList&&e.cursorList.length>0&&e.cursorList.forEach(function(e){e.GetSelectText&&(r+=e.GetSelectText(t))}),r}catch(t){return""}},e.layout._InitHelperInfo({path:"",CurosrValue:""}),e.chartConfig.isAllowMaxBtn=!0,e.menuInstance.RemoveMenuItem("LockChart"),e.Init(),i.chartList.push(t),i.chartList.push(e)},i.renderQueryInfo=function(){L("#right"+i.id).append('<div  class="layui-form" id=\'Query'+i.id+'\' action="" style="overflow-y:auto;overflow-x:hidden;height:calc( 100% - 50px )"></div>');var t=new Aa(Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),i.id);L("#right"+i.id+" .layui-form").append("<div class=\"TimeRange\" style='height:130px;width:100%;'></div>");var e=(new fa).getHtml(M.$t("leftbar.form.selecttime"),t.getHtml());L("#right"+i.id+" .TimeRange").append(e),t.Init(),L("#right"+i.id+" .layui-form").append("<div id='dyPoint"+i.id+'\' style="height:calc((100% - 150px));"></div>'),i.DyTreeHelper.render.bind(i)(),L("#right"+i.id).append('<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;height:30px\'>\n\t\t<button class="layui-btn layui-btn-sm" lay-submit="" id="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n</div>");var n=i;L("#btnQuery"+i.id).click(function(){var t=L("#Stime"+n.id).val(),e=L("#Etime"+n.id).val();if(new Date(t)>new Date(e))return O.layer.msg(M.$t("tip.error.time")),!1;var i=n.DyTreeHelper.getCheckedData();n.QuerySubmit(t,e,i)})},i.CreateLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"right"}],t.splitConfig=[{ids:["left","right"],callBack:function(){i.Resize()},collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,size:[80,20],isVertical:!1},{ids:["left1","left2"],callBack:function(){i.Resize()},size:[30,70],isVertical:!0}];var e=new va(t,i.id);e.render(i.element),i.chartLayout=e},i.Clear=function(){i.chartList&&i.chartList.map(function(t){return t.Clear()})},i.onAssetChange=function(t){i.lastDeviceId!==i.deviceId&&(i.Clear(),i.lastDeviceId=i.deviceId,i.chartList[0].layout.UpdateHelperInfo({path:t.devicePath||""}),i.deviceId&&i.DyTreeHelper.LoadData(i.deviceId))},i.onMainCursorMoved=function(t,e,n,a){return qu(i,void 0,void 0,function(){var t,e,i,a,r,o,s,l,c,u,h,d,p,A,m,y,g;return Ju(this,function(v){switch(v.label){case 0:return t=this.chartList[0],e=t.hchartInstance.options.series,i=[],e&&e.map(function(e){try{var a=t.getMostIndexX(n[0],0,!1,e.data)[1][2];i.push({name:e.name,waveKey:a})}catch(t){}}),a=[],r=Object(q.b)(!0),i&&i.map(function(t){a.push(Si.FetchOriginalVibWave(t.waveKey,0,0,"?AnalysisModel="+r))}),this.chartList[1].Clear(),[4,Promise.all(a)];case 1:for(o=v.sent(),s=Object(f.t)(),l=[],c=[],u=[],h=[],d=0,p=0;p<o.length;p++)if((A=o[p].data)&&A.YData&&A.YData.length>0){for(m=[],y=0,g=A.YData.length;y<g;y++)m.push([y*A.XInterval,A.YData[y]]);c.push(m),l.push({events:{legendItemClick:function(t){return!1}},units:A.YUnit,turboThreshold:0,animation:!1,color:s[p],keys:["x","y","wavekey"],allowPointSelect:!1,enableMouseTracking:!1,name:i[p].name,data:m,lineWidth:1,yAxis:d,xAxis:0}),u.push({minorTickInterval:"auto",allowDecimals:!0,showFirstLabel:!0,showLastLabel:!1,title:{text:i[p].name+"  "+(A.YUnit?"["+A.YUnit+"]":""),margin:4},labels:{rotation:-90,padding:0,align:"center",formatter:function(){var t=parseFloat(this.value);return Math.abs(t)>100?t.toFixed(0):Math.abs(t)>10?t.toFixed(2):t.toFixed(3)}}}),h.push({xAxis:0,yAxis:d}),d++}return this.chartList[1].AxisConfig=h,this.chartList[1].render(c,o[0].data.XUnit,"",{enabledYAxisDrag:!1,enabledYAxisZoom:!1,yAxis:u,series:l,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",margin:30,x:30,itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}}),[2]}})})},i.QuerySubmit=function(t,e,n){return qu(i,void 0,void 0,function(){var i,a,r,o,s;return Ju(this,function(l){switch(l.label){case 0:return this.Clear(),i=[],n&&n.map(function(t){t.data.signaltype&&0!==t.data.signaltype&&i.push({name:t.name,id:t.id})}),a=[],r=Object(q.b)(!0),i&&i.map(function(n){a.push(Si.FetchVibDatasByArgs(n.id,{mindate:t,maxdate:e,AnalysisModel:r}))}),[4,Promise.all(a)];case 1:return o=l.sent(),s=this.formatDataCombined(o,i),this.chartList[0].render(s.data,"","",{series:s.series,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",margin:30,x:30,itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[2]}})})},i.formatDataCombined=function(t,e){for(var n=Object(f.t)(),i=[],a=[],r=0;r<t.length;r++){for(var o=t[r].data.Datas,s=[],l=o.length-1;l>=0;l--)s.push([Object(f.e)(o[l].MeasDate),o[l].MeasValue,o[l].WaveKey]);a.push(s),i.push({events:{legendItemClick:function(t){return!1}},turboThreshold:0,animation:!1,color:n[r],units:t[r].data.Unit,keys:["x","y","wavekey"],allowPointSelect:!1,enableMouseTracking:!1,name:e[r].name,data:s,lineWidth:1})}return{data:a,series:i}},i.CreateLayout(),i.renderQueryInfo(),i.InitChart(),i}return Xu(e,t),e}(J),$u=function(){function t(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.lastCheckedData=null,this.lastDeviceId=null,this.setCheckedItemsById=function(t,e){void 0===e&&(e=!0);for(var i=n,a=i._atree.nodes,r=[],o=null,s=function(e){for(var n=t[e],i=function(t){if(o=a[t],n===o.id)return r.push(o),"break";if(o.children){var e=!1;if(o.children.map(function(t){n===t.id&&(e=!0,r.push(t))}),e)return"break"}},s=0;s<a.length;s++){if("break"===i(s))break}},l=0;l<t.length;l++)s(l);i._atree.checkItems(r,e)},this.getLastChecked=function(t){var e=n,i=n.lastCheckedData||[],a=[];i&&t&&t.map(function(t){for(var e=0===t.level?t.name:t.name+t.pName,n=0;n<i.length;n++){var r=i[n],o=0===r.level?r.name:r.name+r.pName;if(e&&o&&e===o){a.push(t);break}}}),a&&a.length>0&&e._atree.checkItems(a,!0),e.lastCheckedData=a},this.setCheckedItems=function(t,e){for(var i=n,a=i._atree.nodes,r=[],o=null,s=0;s<a.length;s++)o=a[s],t===o.name&&r.push(o),o.children&&o.children.map(function(e){t===e.name&&r.push(e)});i._atree.checkItems(r,e)},this._onChange=t,this._onClick=e}return t.prototype.Dispose=function(){this.Clear(!0),R.unbind(L(this._elem)[0]),this._onChange=null,this.lastCheckedData=null,this._onClick=null,this._atree=null,L(this._elem).html(""),this._elem=null},t.prototype.Clear=function(t){void 0===t&&(t=!1),this.lastDeviceId=null,t&&(this.lastCheckedData=null),L(this._elem).html("")},t.prototype.LoadData=function(t){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h,d,p,f,A;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(m){switch(m.label){case 0:return t&&"Root"!=t?t==this.lastDeviceId?[2]:(this.Clear(),e=this,this.lastDeviceId=t,[4,Si.FetchNewDynamicPoints(t,1)]):[3,2];case 1:if((n=m.sent()).data){for(i={},a=[],r=[],o=[],s=[],l=n.data[0].depth,(c=n.data).map(function(t){t.depth<l&&(l=t.depth)}),c.map(function(t){var e=""+t.name;i[e]?i[e].push(t):i[e]=[t];var n={level:""};n.depth=t.depth,n.assortment=t.assortment,n.code=t.code,n.id=t.id,n.name=t.name,n.nodeid=t.nodeid,n.parentId=t.pid,n.pnodeid=t.pnodeid,n.type=t.type,n.typename=t.typename,n.visibility=t.visibility,n.iconClass="DeviceTree_"+t.type+"_0",n.title=' <div><span style="padding-left:0;height:16px;width:16px;float:left;margin-top:5px;" class= "DeviceTree DeviceTree_'+t.type+"_0\"></span><span style='padding-left:3px;height:16px;'>"+t.name+"</span></div>",n.data=t,n.children=[],n.child=[],n.value=0,n.childName=[],n.signaltype=t.signaltype,n.limitingfreq=t.limitingfreq,n.customBtn=[],t.depth==l&&"20"==t.assortment?(n.level=1,a.push(n)):t.depth==l+1?(n.customBtn=[{name:"",id:"linkname"}],n.level=2,r.push(n)):t.depth==l+2?(n.customBtn=[{name:"",id:"linkname"}],n.level=3,o.push(n)):t.depth==l&&"21"==t.assortment&&(n.level=4,s.push(n))}),u=0;u<o.length;u++)for(h=o[u],d=0;d<r.length;d++)r[d].id==h.parentId&&(h.pName=r[d].name,r[d].child.push(h));for(u=0;u<r.length;u++){for(h=r[u],d=0;d<a.length;d++)a[d].id==h.parentId&&(h.pName=a[d].name,a[d].children.push(h));for(d=0;d<s.length;d++)s[d].id==h.parentId&&(h.pName=s[d].name,s[d].child.push(h))}p=a.concat(s),f=O.atree,A=f({props:{name:"title",id:"id",children:"children",checkbox:"checkbox",spread:"spread"},initLevel:-1,elem:L(this._elem),check:"checkbox",nodes:p,onCustomBtnClick:function(t,n,i){switch(n){case"linkname":e.setCheckedItems(t.name,!i)}},change:function(t){e.lastCheckedData=t,e._onChange&&e._onChange(t)},click:function(t,n){O.$(n).parents(".layui-atree").find(".layui-atree-node").removeClass("layui-atree-item-checked"),O.$(n).parents(".layui-atree-node").eq(0).addClass("layui-atree-item-checked"),e._onClick&&e._onClick(t,n)}}),this._atree=A,this.getLastChecked(p)}m.label=2;case 2:return[2]}})})},t.prototype.checkAll=function(){this._atree&&this._atree.checkAll(!0)},t.prototype.expandAll=function(t){this._atree&&this._atree.expandAll(t)},t.prototype.getCheckedData=function(){return this._atree?this.lastCheckedData:null},t.prototype.unCheckAll=function(){this._atree&&this._atree.checkAll(!1)},t.prototype.render=function(t){this._elem=t},t}(),th=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eh=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},nh=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},ih=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="SingleMultChart",i.Path="SingleMultChart",i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),i.chart.Dispose(),i.chart=null,i.chartName=null,i.Path=null,i.element=null,i.dyPoints=null,i.form=null,i.pointList=null,i.oldDeviceId=null}catch(t){}},i.Resize=function(){i.chart&&i.chart.Resize()},i.onAssetTypeNotSupport=function(t){},i.onAssetChange=function(){if(i.deviceId&&i.deviceId!=i.oldDeviceId){i.chart.render([],"","",[]),i.chart.layout.UpdateHelperInfo({path:i.Path});i.DyTreeHelper.LoadData(i.deviceId);i.oldDeviceId=i.deviceId}},i.GetMaindata=function(){return eh(i,void 0,void 0,function(){var t,e,n,i,a,r,o,s=this;return nh(this,function(l){if(this.deviceId,this.devicePath,this,this.dyPoints&&this.dyPoints.length>0){if(t=[],[],[],e=[],n=[],i=[],{},a=[],r=[],this.dyPoints.map(function(n){2!=n.level&&4!=n.level||(i.push(n.name),r.push(n.id),n.child&&n.child.length>0&&n.child.map(function(t){n.childName.push(t.name),e.indexOf(t.name)<0&&e.push(t.name),a.push(t.id)}),t.push(n))}),o=[],1==this.TypeValue){a.map(function(t){var e={MeasdefID:t,indexcode:1,deviceId:s.deviceId};o.push(e)});try{Si.BatchFetchSignMultivalued(o).then(function(a){if(a){a.map(function(e){t.map(function(t){t.child&&t.child.length>0&&t.child.map(function(t){t.nodeid==e.data.assetId&&(t.value=e.data.MeasValue)})})}),e.map(function(e){var i={name:e,data:[]};t.map(function(t){t.childName.indexOf(e)<0?i.data.push(" "):t.child&&t.child.length>0&&t.child.map(function(t){t.name==e&&i.data.push(t.value)})}),n.push(i)});var r={categories:i,series:n};s.chart.render([n],"","",r)}})}catch(t){}}else if(0==this.TypeValue){r.map(function(t){var e={MeasdefID:t,indexcode:0,deviceId:s.deviceId};o.push(e)});try{Si.BatchFetchSignMultivalued(o).then(function(e){if(e){e.map(function(e){t.map(function(t){t.nodeid==e.data.assetId&&(t.value=Number(e.data.MeasValue))})});var a={name:M.$t("SingleBargraph.index.name"),data:[]};t.map(function(t){a.data.push(t.value)}),n.push(a);var r={categories:i,series:n};s.chart.render([n],"","",r)}})}catch(t){}}}else this.chart.render([],"","",[]);return[2]})})},i.InitQuery=function(){var t='\n\t\t\t<div class="layui-form" id=\'Query'+i.id+'\' action="" style="text-align:center;overflow:auto;height:100%">\n\t\t\t\t<div id=\'pointListTable'+i.id+"' style='height:calc(100% - 230px)'></div>\n\t\t\t\t<div id='optionCard"+i.id+"' style='height:180px'></div>\n\t\t\t\t<div id='buttonDiv"+i.id+"' style='height:30px'></div>\n\t\t\t</div>\n\t\t",e='<div class="layui-tab layui-tab-brief"  lay-filter="point'+i.id+'" style="height:100%">\n\t\t<div class="layui-tab layui-tab-brief"  lay-filter="pointType'+i.id+'" style="height:100%;">\n\t\t<ul class="layui-tab-title">\n\t\t\t\t<li class="layui-this"  data-id="0">\n\t\t\t\t'+M.$t("vibration")+'\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\t<div class="layui-tab-content" style="height:calc((100% - 51px));">    \n\t\t\t\t\t<div id="dyPoint'+i.id+'" class="layui-tab-item layui-show"  style="height: 100%;"></div>\n\t\t\t\t</div>\n\t\t</div>\n\t\t</div>',n="\n            <div id='optionDiv"+i.id+'\' style=\'\'>\n                <div class="layui-form-item" style=\'text-align: left\'>\n                    <input type="radio" name="modeOption" value="0" title='+M.$t("SingleBargraph.index.name")+' checked="" lay-filter="modeOption">\n        \n                    <input type="radio" name="modeOption" value="1" title='+M.$t("SingleBargraph.index.mul")+' lay-filter="modeOption">\n                </div\n            </div>\n        ',a='\n\t\t\t<div class="layui-form-item" style=\'margin-top:10px\'>\n\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t</div>\n\t\t";L("#right"+i.id).append(t),(new fa).render("#optionCard"+i.id,M.$t("SingleBargraph.index.select"),n),L("#pointListTable"+i.id).append(e),i.DyTreeHelper.render(),L("#right"+i.id+" #dyPoint"+i.id).append("<div class=\"IndexTab\" style='width:100%;height:200px'></div>"),L("#buttonDiv"+i.id).append(a),i.form=O.form,i.form.render();var r=i;i.form.on("submit(btnQuery"+i.id+")",function(t){try{var e=r.DyTreeHelper.getCheckedData();r.dyPoints=e,r.GetMaindata()}catch(t){}}),i.form.on("radio(modeOption)",function(t){r.TypeValue=t.value})},i.DyTreeHelper={tree:null,getCheckedData:function(){return i.DyTreeHelper.tree.getCheckedData()},onChange:function(t){},render:function(){L("#right"+i.id+" #dyPoint"+i.id).append("<div class=\"dyPointCard\" style='height: 100%;width:100%;min-height:260px;'></div>");var t=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="CheckAll'+i.id+'" lay-skin="primary" style="display:none;" title="'+M.$t("common.point.dymnic")+"\" value='All'/>","");L("#right"+i.id+" .dyPointCard").append(t);var e=O.form;e.render("checkbox","CheckAll"+i.id,"#right"+i.id+" ");var n=i;e.on("checkbox(CheckAll"+i.id+")",function(t){return t.othis.hasClass("layui-form-checked")?n.DyTreeHelper.tree.checkAll():n.DyTreeHelper.tree.unCheckAll(),!0});var a=new $u(i.DyTreeHelper.onChange,null);a.render(L("#right"+i.id+" .dyPointCard").find(".rz-card-body")),i.DyTreeHelper.tree=a},LoadData:function(t){return i.DyTreeHelper.tree.LoadData(t)}},i.Path=n,i.data=[],i.pointList=[],i.dyPoints=[],i.TypeValue=0,i.oldDeviceId="",i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return th(e,t),e.prototype.ClearChart=function(t){t.Clear(),t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"left1"}]},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[75,25],collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,callBack:function(){t.Resize()}}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n){var i=this,a=new qt(L("#"+t)[0],Yt.Last,{onMaxBtnClick:function(t){t?L("#right"+i.id).hide():L("#right"+i.id).show()}});a.layout._InitHelperInfo({chartName:e,path:this.Path,CurosrValue:""}),a.chartConfig.xIsTime=!0,a.chartConfig.isAllowMaxBtn=!0,this.chart=a,a.Init()},e.prototype.InitChart=function(){var t=this;[{id:"left1"+this.id,chartName:M.$t("SingleBargraph.index.title"),eachName:"SingleMultChart"}].map(function(e){t.CreatChart(e.id,e.chartName,e.eachName)}),this.chart.GetBaseOptions=function(e,n,i,a,r){var o=[];return e&&e.series?o=e.series:t.data.map(function(t){o.push({name:t.name,data:t.data})}),{chart:{type:"column"},title:{text:""},xAxis:{categories:e.categories},credits:{enabled:!1},exporting:{enabled:!1},plotOptions:{column:{enableMouseTracking:!0,tooltip:{backgroundColor:"#FCFFC5",borderColor:"black",borderRadius:10,borderWidth:3,shadow:!0,animation:!0,style:{color:"#ff0000",fontSize:"12px",fontWeight:"blod",fontFamily:"Courir new"},valueDecimals:3}}},series:o}}},e}(J),ah=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rh=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="PRSinkAndDeflect",i.Path="PRSinkAndDeflect",i.LastSelectX=null,i.LastSetExtremes=null,i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),i.charthelper&&i.charthelper.Dispose(),i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.waveformChart&&i.waveformChart.Dispose(),i.specChart&&i.specChart.Dispose(),i.chartList=null,i.chartName=null,i.Path=null,i.element=null,i.isPoint=null,i.AnalysisModel=null}catch(t){}},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()}),i.waveformChart&&i.waveformChart.Resize(),i.specChart&&i.specChart.Resize()},i.onAssetTypeNotSupport=function(t){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.ClearChart(i.chartList[t]),i.chartList[t].layout.UpdateHelperInfo({path:i.Path})})},i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.isPoint=!1,i.onAssetTypeNotSupport(null)}catch(t){}else i.isPoint=!0,i.GetMaindata(),Object.keys(i.chartList).map(function(t){i.chartList[t].layout.UpdateHelperInfo({path:i.Path})})},i.TrendHelper={onMainCursorMoved:function(t,e,n,a,r){var o=i,s=n[2];if(n&&s){var l=Object(q.b)();o.AnalysisModel=2==l?2:1;var c=[{WaveKey:s,start:0,dataLen:0,deviceId:o.deviceId,AnalysisModel:o.AnalysisModel}];Si.BatchFetchColumnarOriginalVibWave(c).then(function(t){var e=t[0].data.XUnit,n=t[0].data.YUnit,a=i.charthelper.InitDataBefFormat(t),r=a.xindex,o=a.option;o=i.chartList.trend.GetBaseOptions(o),i.chartList.trend3.render(r,e,n)}),Si.FetchPistonSpec(s,0,0,o.deviceId,o.AnalysisModel).then(function(t){var e=o.charthelper.InitDataBefFormat([t]),n=e.xindex,a=e.option,r=t.data.XUnit,s=t.data.YUnit;a=i.chartList.trend.GetBaseOptions(a),i.chartList.trend4.render(n,r,s)});var u=n[0];o.LastSelectX=u;for(var h=["trend","trend2"],d=0;d<h.length;d++){var p=o.chartList[h[d]];if(p.verifyData()){var f=p.getMostIndexX(u);p.selectedXIndex=f[0],p.MoveMainCursor(!0,!0,!0,!1,!1)}}}},onSetExtremes:function(t,e){var n=i,a=["trend","trend2"];n.LastSetExtremes={min:t,max:e};for(var r=0;r<a.length;r++){var o=n.chartList[a[r]];try{o.hchartInstance&&o.hchartInstance.xAxis&&o.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}}},loadData:function(t,e,n){i.chartList[t].render([e],"",n)}},i.InitQuery=function(){var t='\n\t\t\t<div class="layui-form" id=\'Query'+i.id+'\' action="" style="text-align:center;overflow:auto;height:100%">\n\t\t\t\t<div id=\'timeCard'+i.id+"' style='height:180px'></div>\n\t\t\t\t<div id='evCard"+i.id+"' style='height:calc(100% - 230px)'></div>\n\t\t\t\t<div id='buttonDiv"+i.id+"' style='height:30px'></div>\n\t\t\t</div>\n\t\t",e='\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Stime' id='Stime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t\t\t</div>\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Etime' id='Etime"+i.id+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n\t\t\t</div>\n\t\t",n='\n\t\t\t<div class="layui-form-item" style=\'margin-top:10px\'>\n\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t</div>\n\t\t";L("#right"+i.id).append(t),(new fa).render("#timeCard"+i.id,M.$t("leftbar.form.selecttime"),e),L("#buttonDiv"+i.id).append(n);var a=O.form;a.render(),ie.renderDateTime("Stime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("Etime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var r=i;a.on("submit(btnQuery"+i.id+")",function(t){try{if(new Date(t.field.Stime)>new Date(t.field.Etime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),r.CheckedTime=e,r.isPoint&&r.GetMaindata()}catch(t){}return!1})},i.Path=n,i.chartList={},i.CheckedTime=[],i.isPoint=!0,i.AnalysisModel=1,i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return ah(e,t),e.prototype.ClearChart=function(t){t.Clear(),this.LastSelectX=null,this.LastSetExtremes=null,t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.GetMaindata=function(){var t=this,e=[],n=[],i=this.deviceId,a=this.assetId,r=this.devicePath,o=Object(f.d)(this.CheckedTime[0],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00"),s=Object(f.d)(this.CheckedTime[1],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59"),l=Object(q.b)();this.AnalysisModel=2==l?2:1;var c=[{deviceId:i,pointID:a,indexcode:322,MinDate:o,MaxDate:s,AnalysisModel:this.AnalysisModel},{deviceId:i,pointID:a,indexcode:323,MinDate:o,MaxDate:s,AnalysisModel:this.AnalysisModel}];i&&r&&Si.BatchFetchPistonRodSubside(c).then(function(i){if(i){for(var a=0;a<i.length;a++){var r=i[a].data,o=[];r.Unit&&n.push(r.Unit);for(var s=r.Datas.length-1;s>=0;s--){var l=r.Datas[s];o.push([Object(f.e)(l.MeasDate),l.MeasValue,l.WaveKey])}e.push(o)}for(var c=["trend","trend2"],u=0;u<c.length;u++)e[u].length>0?t.TrendHelper.loadData(c[u],e[u],n[u]):(t.chartList[c[u]].Clear(),t.chartList.trend3.Clear(),t.chartList.trend4.Clear())}}).catch(function(t){})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"top",children:[{id:"top1"},{id:"top2"}]},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}]},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[85,15],collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,callBack:function(){t.Resize()}},{ids:["top","bottom"],callBack:function(){t.Resize()},isVertical:!0},{ids:["top1","top2"],callBack:function(){t.Resize()},isVertical:!0},{ids:["bottom1","bottom2"],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n,i,a,r,o){var s=this,l=new qt(L("#"+t)[0],e,{onMainCursorMoved:this.TrendHelper.onMainCursorMoved,onSetExtremes:a,onMaxBtnClick:function(t){t?L("#right"+s.id).hide():L("#right"+s.id).show()}});"VibWave"==r&&(this.charthelper=new yo(l,""),this.charthelper.CountIndex=1,l.registeredCursor([new Yr(l)])),"Spectrum"==o&&(this.charthelper=new yo(l,""),this.charthelper.CountIndex=1,l.registeredCursor([new Rr(l,!1,!0,!0,!0),new Qr(l,null,null,!1,!0,!0,!0)])),l.layout._InitHelperInfo({chartName:n,path:this.Path,CurosrValue:""}),l.ChartKeys=["x","y","w1"],l.chartConfig.xIsTime=!r&&!o,l.chartConfig.isAllowMaxBtn=!0,this.chartList[i]=l,l.Init()},e.prototype.InitChart=function(){var t=this;this.chartList={},[{id:"top1"+this.id,DefaultCurosrPosition:Yt.Last,chartName:M.$t("PistonRod.index.peakvalue"),eachName:"trend",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top2"+this.id,DefaultCurosrPosition:Yt.Last,chartName:M.$t("PistonRod.index.meanvalue"),eachName:"trend2",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"bottom1"+this.id,DefaultCurosrPosition:Yt.First,chartName:M.$t("PistonRod.index.waveform"),eachName:"trend3",isVibWave:"VibWave"},{id:"bottom2"+this.id,DefaultCurosrPosition:Yt.First,chartName:M.$t("PistonRod.index.spectrum"),eachName:"trend4",isSpectrum:"Spectrum"}].map(function(e){t.CreatChart(e.id,e.DefaultCurosrPosition,e.chartName,e.eachName,e.onSetExtremes,e.isVibWave,e.isSpectrum)})},e}(J),oh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sh=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="ShockDiagnosis",i.Path="ShockDiagnosis",i.LastSelectX=null,i.LastSetExtremes=null,i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),i.charthelper&&i.charthelper.Dispose(),Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.waveformChart&&i.waveformChart.Dispose(),i.specChart&&i.specChart.Dispose(),i.chartList=null,i.chartName=null,i.Path=null,i.element=null,i.AnalysisModel=null}catch(t){}},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()}),i.waveformChart&&i.waveformChart.Resize(),i.specChart&&i.specChart.Resize()},i.onAssetTypeNotSupport=function(t){Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.ClearChart(i.chartList[t]),i.chartList[t].layout.UpdateHelperInfo({path:i.Path})})},i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.onAssetTypeNotSupport(null)}catch(t){}else i.GetMaindata(),Object.keys(i.chartList).map(function(t){i.chartList[t].layout.UpdateHelperInfo({path:i.Path})})},i.TrendHelper={onMainCursorMoved:function(t,e,n,a,r){var o=i,s=n[2],l=o.deviceId;if(n&&s){Si.FetchCombineData(s,1,l,o.AnalysisModel).then(function(t){if(t)try{var e={data:t.data[0]},n={data:t.data[1]},a=o.charthelper.InitDataBefFormat([e]),r=e.data.XUnit,s=e.data.YUnit;i.chartList.trend4.render(a.xindex,r,s);var l=o.charthelper.InitDataBefFormat([n]),c=n.data.XUnit,u=n.data.YUnit;i.chartList.trend3.render(l.xindex,c,u)}catch(t){i.chartList.trend3.render([],"",""),i.chartList.trend4.render([],"","")}});Object(f.e)(o.CheckedTime[0])||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00");var c=n[0];o.LastSelectX=c;for(var u=["trend","trend2"],h=0;h<u.length;h++){var d=o.chartList[u[h]];if(d.verifyData()){var p=d.getMostIndexX(c);d.selectedXIndex=p[0],d.MoveMainCursor(!0,!0,!0,!1,!1)}}}},onSetExtremes:function(t,e){var n=i,a=["trend","trend2"];n.LastSetExtremes={min:t,max:e};for(var r=0;r<a.length;r++){var o=n.chartList[a[r]];try{o.hchartInstance&&o.hchartInstance.xAxis&&o.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}}},loadData:function(t,e,n){i.chartList[t].render([e],"",n)}},i.InitQuery=function(){var t='\n\t\t\t<div class="layui-form" id=\'Query'+i.id+'\' action="" style="text-align:center;overflow:auto;height:100%">\n\t\t\t\t<div id=\'timeCard'+i.id+"' style='height:180px'></div>\n\t\t\t\t<div id='evCard"+i.id+"' style='height:calc(100% - 230px)'></div>\n\t\t\t\t<div id='buttonDiv"+i.id+"' style='height:30px'></div>\n\t\t\t</div>\n\t\t",e='\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Stime' id='Stime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t\t\t</div>\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Etime' id='Etime"+i.id+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n\t\t\t</div>\n\t\t",n='\n\t\t\t<div class="layui-form-item" style=\'margin-top:10px\'>\n\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t</div>\n\t\t";L("#right"+i.id).append(t),(new fa).render("#timeCard"+i.id,M.$t("leftbar.form.selecttime"),e),L("#buttonDiv"+i.id).append(n);var a=O.form;a.render(),ie.renderDateTime("Stime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("Etime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var r=i;a.on("submit(btnQuery"+i.id+")",function(t){try{if(new Date(t.field.Stime)>new Date(t.field.Etime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),r.CheckedTime=e,r.GetMaindata()}catch(t){}return!1})},i.Path=n,i.chartList={},i.CheckedTime=[],i.AnalysisModel=1,i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return oh(e,t),e.prototype.ClearChart=function(t){t.Clear(),this.LastSelectX=null,this.LastSetExtremes=null,t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.GetMaindata=function(){var t=this,e=this.deviceId,n=this.assetId,i=this.devicePath,a=this,r=Object(f.d)(a.CheckedTime[0],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00"),o=Object(f.d)(a.CheckedTime[1],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59"),s=Object(q.b)();a.AnalysisModel=2==s?2:1,e&&i&&n&&Si.FetchHighFreMeasdefID(n,e).then(function(n){if(n.data){var i=n.data.id,s=[{deviceId:e,pointID:i,indexcode:324,MinDate:r,MaxDate:o,AnalysisModel:a.AnalysisModel}];Si.FetchSampleValue(e,i,r,o,a.AnalysisModel).then(function(e){if(e.data){for(var n=e.data,i=n.Unit,a=[],r=n.Datas.length-1;r>=0;r--){var o=n.Datas[r];a.push([Object(f.e)(o.MeasDate),o.MeasValue,o.WaveKey])}a.length>0?t.TrendHelper.loadData("trend",a,i):(t.chartList.trend.Clear(),t.chartList.trend3.Clear(),t.chartList.trend4.Clear())}}),Si.BatchFetchImpulseNum(s).then(function(e){if(e[0].data){for(var n=e[0].data,i=[],a=n.Unit,r=n.Datas.length-1;r>=0;r--){var o=n.Datas[r];i.push([Object(f.e)(o.MeasDate),o.MeasValue,o.WaveKey])}i.length>0?t.TrendHelper.loadData("trend2",i,a):(t.chartList.trend2.Clear(),t.chartList.trend3.Clear(),t.chartList.trend4.Clear())}}).catch(function(t){})}})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"top",children:[{id:"top1"},{id:"top2"}]},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}]},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[85,15],collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,callBack:function(){t.Resize()}},{ids:["top","bottom"],callBack:function(){t.Resize()},isVertical:!0},{ids:["top1","top2"],callBack:function(){t.Resize()},isVertical:!0},{ids:["bottom1","bottom2"],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n,i,a,r,o){var s=this,l=new qt(L("#"+t)[0],e,{onMainCursorMoved:this.TrendHelper.onMainCursorMoved,onSetExtremes:a,onMaxBtnClick:function(t){t?L("#right"+s.id).hide():L("#right"+s.id).show()}});"VibWave"==r&&(this.charthelper=new yo(l,""),this.charthelper.CountIndex=1,l.registeredCursor([new Yr(l)])),"Spectrum"==o&&(this.charthelper=new yo(l,""),this.charthelper.CountIndex=1,l.registeredCursor([new Rr(l,!1,!0,!0,!0),new Qr(l,null,null,!1,!0,!0,!0)])),l.layout._InitHelperInfo({chartName:n,path:this.Path,CurosrValue:""}),l.ChartKeys=["x","y","w1"],l.chartConfig.xIsTime=!r&&!o,l.chartConfig.isAllowMaxBtn=!0,this.chartList[i]=l,l.Init()},e.prototype.InitChart=function(){var t=this;this.chartList={},[{id:"top1"+this.id,DefaultCurosrPosition:Yt.Last,chartName:M.$t("ImpulseDiagnosis.index.totalvalue"),eachName:"trend",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"top2"+this.id,DefaultCurosrPosition:Yt.Last,chartName:M.$t("ImpulseDiagnosis.index.Impacttimes"),eachName:"trend2",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"bottom1"+this.id,DefaultCurosrPosition:Yt.First,chartName:M.$t("ImpulseDiagnosis.index.Envelopewaveform"),eachName:"trend3",onSetExtremes:"",isVibWave:"VibWave"},{id:"bottom2"+this.id,DefaultCurosrPosition:Yt.First,chartName:M.$t("ImpulseDiagnosis.index.Envelopespectrum"),eachName:"trend4",onSetExtremes:"",isSpectrum:"Spectrum"}].map(function(e){t.CreatChart(e.id,e.DefaultCurosrPosition,e.chartName,e.eachName,e.onSetExtremes,e.isVibWave,e.isSpectrum)})},e}(J),lh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ch=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="ColumnarSpec",i.Path="ColumnarSpec",i.LastSetExtremes=null,i.onDisplayChange=function(t){},i.Dispose=function(){try{i.BaseDispose(),i.charthelper&&i.charthelper.Dispose(),i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Dispose()}),i.ColumnarChrt&&i.ColumnarChrt.Dispose(),i.chartList=null,i.chartName=null,i.Path=null,i.element=null,i.trendData2=null,i.AnalysisModel=null}catch(t){}},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()})},i.onAssetTypeNotSupport=function(t){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.ClearChart(i.chartList[t]),i.chartList[t].layout.UpdateHelperInfo({path:i.Path})}),i.ColumnarChrt.Clear(),i.ClearChart(i.ColumnarChrt),i.ColumnarChrt.layout.UpdateHelperInfo({path:i.Path})},i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.onAssetTypeNotSupport(null)}catch(t){}else i.GetMaindata(),i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].layout.UpdateHelperInfo({path:i.Path})}),i.ColumnarChrt.layout.UpdateHelperInfo({path:i.Path})},i.TrendHelper={onMainCursorMoved:function(t,e,n,a,r){var o=i,s=n[2],l=o.deviceId;if(n&&s){var c=[{WaveKey:s,start:0,dataLen:0,deviceId:i.deviceId,AnalysisModel:1}];Promise.all([Si.BatchFetchColumnarOriginalVibWave(c)]).then(function(t){if(t[0])try{var e=o.charthelper.InitDataBefFormat(t[0]),n=e.xindex,a=(e.option,n);Si.FetchCombineData(s,2,l,o.AnalysisModel).then(function(t){var e=[];t.data.map(function(t){var n={data:t},i=o.charthelper.InitDataBefFormat([n]),a=i.xindex;i.option;e.push(a)});var n=t.data[0].XUnit,r=t.data[0].YUnit;i.chartList.trend3.render(e[0],n,r),o.trendData2=a.concat(e[1],e[2]);var s=t.data[1].XUnit,l=t.data[1].YUnit;i.chartList.trend2.render(o.trendData2,s,l);t.data[3].XUnit;var c=t.data[3].YUnit;if(e[3]){var u=[],h=[{name:"",data:[]}];e[3][0].map(function(t){u.push(Number(t[0]+10)),h[0].data.push(Number(t[1]))});var d={categories:u,series:h};o.ColumnarChrt.render([h],"",c,d)}})}catch(t){i.chartList.trend2.render([],"",""),i.chartList.trend3.render([],"",""),o.ColumnarChrt.render([],"","",[])}})}},onSetExtremes:function(t,e){},loadData:function(t,e,n){i.chartList[t].render([e],"",n)}},i.InitQuery=function(){var t='\n\t\t\t<div class="layui-form" id=\'Query'+i.id+'\' action="" style="text-align:center;overflow:auto;height:100%">\n\t\t\t\t<div id=\'timeCard'+i.id+"' style='height:180px'></div>\n\t\t\t\t<div id='evCard"+i.id+"' style='height:calc(100% - 230px)'></div>\n\t\t\t\t<div id='buttonDiv"+i.id+"' style='height:30px'></div>\n\t\t\t</div>\n\t\t",e='\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.begintime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Stime' id='Stime"+i.id+'\' placeholder=\'YYYY/MM/DD HH:mm\' style="height:28px;" />\n\t\t\t</div>\n\t\t\t<div class="layui-form-item" style="padding-left:10px;text-align:left;"> \n\t\t\t\t<label>'+M.$t("leftbar.form.endtime")+"</label>\n\t\t\t</div>\n\t\t\t<div class=\"layui-form-item\" style=\"padding-left:20px;padding-right:20px;\"> \n\t\t\t\t<input type='text' class='layui-input' name='Etime' id='Etime"+i.id+"' placeholder='YYYY/MM/DD HH:mm' style=\"height:28px;\" />\n\t\t\t</div>\n\t\t",n='\n\t\t\t<div class="layui-form-item" style=\'margin-top:10px\'>\n\t\t\t\t<button class="layui-btn layui-btn-sm" lay-submit="" lay-filter="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n\t\t\t</div>\n\t\t";L("#right"+i.id).append(t),(new fa).render("#timeCard"+i.id,M.$t("leftbar.form.selecttime"),e),L("#buttonDiv"+i.id).append(n);var a=O.form;a.render(),ie.renderDateTime("Stime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 00:00"),""),ie.renderDateTime("Etime"+i.id,Object(f.d)(new Date,"YYYY/MM/DD 23:59"),"");var r=i;a.on("submit(btnQuery"+i.id+")",function(t){try{if(new Date(t.field.Stime)>new Date(t.field.Etime))return O.layer.msg(M.$t("tip.error.time")),!1;var e=[];Object.keys(t.field).map(function(n){e.push(t.field[n])}),r.CheckedTime=e,r.GetMaindata()}catch(t){}return!1})},i.Path=n,i.chartList={},i.CheckedTime=[],i.trendData2=[],i.AnalysisModel=1,i.CreatLayout(),i.InitChart(),i.InitQuery(),i}return lh(e,t),e.prototype.ClearChart=function(t){t.Clear(),this.LastSetExtremes=null,t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.GetMaindata=function(){var t=this,e=this.deviceId,n=this.assetId,i=this.devicePath,a=this,r=Object(f.d)(a.CheckedTime[0],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00"),o=Object(f.d)(a.CheckedTime[1],"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59"),s=Object(q.b)();a.AnalysisModel=2==s?2:1,e&&i&&n&&Si.FetchHighFreMeasdefID(n,e).then(function(n){if(n.data){var i=n.data.id;Si.FetchSampleValue(e,i,r,o,a.AnalysisModel).then(function(e){if(e.data){for(var n=e.data,i=n.Unit,a=[],r=n.Datas.length-1;r>=0;r--){var o=n.Datas[r];a.push([Object(f.e)(o.MeasDate),o.MeasValue,o.WaveKey])}0==a.length?(t.chartList.trend.Clear(),t.chartList.trend2.Clear(),t.chartList.trend3.Clear(),t.ColumnarChrt.Clear()):t.TrendHelper.loadData("trend",a,i)}})}})},e.prototype.CreatLayout=function(){var t=this;L(this.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"left",children:[{id:"top",children:[{id:"top1"},{id:"top2"}]},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}]},{id:"right"}],e.splitConfig=[{ids:["left","right"],size:[85,15],collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,callBack:function(){t.Resize()}},{ids:["top","bottom"],callBack:function(){t.Resize()},isVertical:!0},{ids:["top1","top2"],callBack:function(){t.Resize()},isVertical:!0},{ids:["bottom1","bottom2"],callBack:function(){t.Resize()},isVertical:!0}],new va(e,this.id).render(this.element)},e.prototype.CreatChart=function(t,e,n,i,a,r,o){var s=this,l=new qt(L("#"+t)[0],e,{onMainCursorMoved:this.TrendHelper.onMainCursorMoved,onSetExtremes:a,onMaxBtnClick:function(t){t?L("#right"+s.id).hide():L("#right"+s.id).show()}});"VibWave"==r&&(this.charthelper=new yo(l,""),this.charthelper.CountIndex=1,l.registeredCursor([new Yr(l)])),"Spectrum"==o&&(this.charthelper=new yo(l,""),this.charthelper.CountIndex=1,l.registeredCursor([new Rr(l,!1,!0,!0,!0),new Qr(l,null,null,!1,!0,!0,!0)])),l.layout._InitHelperInfo({chartName:n,path:this.Path,CurosrValue:""}),l.ChartKeys=["x","y","w1"],l.chartConfig.xIsTime=!r&&!o,l.chartConfig.isAllowMaxBtn=!0,this.chartList[i]=l,l.Init()},e.prototype.CreatVariwideChart=function(){var t=this,e=new qt(L("#bottom2"+this.id)[0],Yt.Last,{onMaxBtnClick:function(e){e?L("#right"+t.id).hide():L("#right"+t.id).show()}});e.layout._InitHelperInfo({chartName:M.$t("ColumarSpectrum.index.chartName"),path:this.Path,CurosrValue:""}),e.chartConfig.xIsTime=!0,e.chartConfig.isAllowMaxBtn=!0,this.ColumnarChrt=e,e.Init(),this.ColumnarChrt.GetBaseOptions=function(e,n,i,a,r){var o=t,s=[],l=[];return e&&e.series?s=e.series:t.data&&t.data.map(function(t){s.push({name:t.name,data:t.data})}),e&&e.categories&&(l=e.categories),{chart:{type:"column"},title:{text:""},xAxis:{categories:l},yAxis:{labels:{rotation:-90},title:{text:o.ColumnarChrt.GetYUnit(o.ColumnarChrt.yUtils),margin:1}},credits:{enabled:!1},exporting:{enabled:!1},plotOptions:{column:{enableMouseTracking:!0,tooltip:{backgroundColor:"#FCFFC5",borderColor:"black",borderRadius:10,borderWidth:3,shadow:!0,animation:!0,style:{color:"#ff0000",fontSize:"12px",fontWeight:"blod",fontFamily:"Courir new"},valueDecimals:3}}},legend:{enabled:!1},series:s}}},e.prototype.InitChart=function(){var t=this;this.chartList={},[{id:"top1"+this.id,DefaultCurosrPosition:Yt.Last,chartName:M.$t("ColumarSpectrum.index.totalvalue"),eachName:"trend",onSetExtremes:this.TrendHelper.onSetExtremes},{id:"bottom1"+this.id,DefaultCurosrPosition:Yt.First,chartName:M.$t("ColumarSpectrum.index.Vibrationwaveform"),eachName:"trend2",isVibWave:"VibWave"},{id:"top2"+this.id,DefaultCurosrPosition:Yt.First,chartName:M.$t("ColumarSpectrum.index.Envelopespectrum"),eachName:"trend3",isSpectrum:"Spectrum"}].map(function(e){t.CreatChart(e.id,e.DefaultCurosrPosition,e.chartName,e.eachName,e.onSetExtremes,e.isVibWave,e.isSpectrum)}),this.CreatVariwideChart()},e}(J),uh=function(){return function(){}}(),hh=new(function(){function t(){var t=this;this.triggerChange=function(){t.event&&Object.keys(t.event).map(function(e){var n=t.event[e];n&&n(t.CheckeData)})},this.CheckeData=[]}return t.prototype.Clear=function(t){void 0===t&&(t=!0),this.CheckeData=[],this.triggerChange()},t.prototype.GetData=function(){return this.CheckeData},t.prototype.AddData=function(t,e){void 0===e&&(e=!0),this.CheckeData||(this.CheckeData=[]),this.CheckeData.filter(function(e){return e.DataKey===t.DataKey}).length>0&&(this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t.DataKey})),this.CheckeData.push(t),e&&this.triggerChange()},t.prototype.AddDatas=function(t){var e=this;t.map(function(t){e.AddData(t,!1)}),this.triggerChange()},t.prototype.DeleteData=function(t){this.CheckeData=this.CheckeData.filter(function(e){return e.DataKey!==t}),this.triggerChange()},t.prototype.AddEvent=function(t,e){this.event||(this.event={}),this.event[t]=e},t.prototype.DeleteEvent=function(t){delete this.event[t]},t}());window.RZCheckedCache=hh;var dh,ph=hh,fh=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Ah=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},mh=function(){function t(){var t=this;this.UpdateHelperInfo=function(e){t.trend.layout.UpdateHelperInfo(e)},this.Dispose=function(){t.trend&&t.trend.Dispose(),t.lastUnits=null,t.selectedChart=null,t.trend=null},this.lastUnits=[],this.selectedChart=[],this.InitChart=function(e,n,i,a){var r=t,o=new qt(e,Yt.Last,{onMainCursorMoved:function(t,e,n){a&&a(n[0],r.selectedChart)}});return o.chartName=i,o.layout._InitHelperInfo({CurosrValue:""}),o.chartConfig.xIsTime=!0,o.chartConfig.isAllowMaxBtn=!0,o.AddMenuItem([{id:"setProcessTrendTimeRange",name:M.$t("title.Detailed.trend.range"),callback:function(){var t=Object(f.v)("ProcessTrendTimeRange")||2,e="<div class=''> \n                        <div class=\"layui-form-customline\">\n                        "+M.$t("ProcessTrend.DataRang.BA")+":\n                        </div> \n                        <div class='layui-form-customline'> \n                         <input id=\"ProcessTrendTimeRange"+r.id+"\" type='number' name='ProcessTrendTimeRange' min='1' max='240' autocomplete='off' class='layui-layer-input' value='"+t+"' onkeyup=\"this.value=this.value.replace(/[^.-d]/g,'');\" style='width: 80px;height:28px;' />\n                        </div> \n                        <div class='layui-form-customline'>\n                         "+M.$t("DateTime.Hour")+"\n                        </div> \n                     </div>";U.prompt({title:M.$t("ProcessTrend.DataRang.title"),content:e,btn:[M.$t("btn.ok")],shadeClose:!0},function(t,e){if(!(t<0)){var n=L("#ProcessTrendTimeRange"+r.id).val()||2;if(parseInt(n)>240)U.msg(M.$t("meun.config.processtrend.maxtime.error",{count:240}));else if(parseInt(n)<1)U.msg(M.$t("meun.config.processtrend.mintime.error",{count:1}));else{try{Object(f.E)("ProcessTrendTimeRange",n);var i=Object(f.r)(o.data[0][o.selectedXIndex][0]);a&&a(i,r.selectedChart)}catch(t){}U.close(e)}}}),L("#ProcessTrendTimeRange"+r.id).val(t)}}]),o.Init(),t.trend=o,o.getSelectedText=function(t){try{var e=o.data[o.selectedYIndex][o.selectedXIndex];e=e.concat([]);var n={rate:1,unit:o.xUtils};o.chartConfig.convertUnit&&(n=Object(f.b)(o.xUtils)),o.xUtils=n.unit,o.chartConfig.xIsTime?e[0]=Object(f.r)(e[0]):e[0]=(e[0]*n.rate).toFixed(3);var i="";return i=r.selectedChart[o.selectedYIndex].name+"  "+e[0]+o.xUtils+"，"+e[1].toFixed(3)+(r.lastUnits[o.selectedYIndex]||""),o.cursorList&&o.cursorList.length>0&&o.cursorList.forEach(function(e){e.GetSelectText&&(i+=e.GetSelectText(t))}),i}catch(t){return""}},o},this.formatDataCombined=function(e,n){for(var i=Object(f.t)(),a=[],r=[],o=0;o<e.length;o++){for(var s=e[o].data.Datas,l=[],c=0;c<s.length;c++)l.push([Object(f.e)(s[c].MeasDate),s[c].MeasValue]);l.sort(function(t,e){return t[0]-e[0]}),r.push(l),t.lastUnits.push(e[o].data.Unit),a.push({turboThreshold:0,animation:!1,color:o<i.length?i[o]:null,keys:t.trend.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:M.$t(n[o].name),data:l,lineWidth:1})}return{data:r,series:a}},this.LoadData=function(e,n,i){return fh(t,void 0,void 0,function(){var t,a,r;return Ah(this,function(o){switch(o.label){case 0:return this,this.Clear(),this.selectedChart=e,t=[],e&&e.map(function(e){e.indexType===Ch.ProPoint?t.push(Si.FetchTsDatas(e.assetId,0,n,i)):e.indexType===Ch.EigenvalueIndex&&t.push(Si.FetchIndexData(e.assetId,e.indexCode,0,n,i))}),[4,ne.a.all(t)];case 1:return a=o.sent(),r=this.formatDataCombined(a,e),this.trend.render(r.data,"","",{series:r.series,legend:{layout:"horizontal",align:"center",floating:!0,margin:0,verticalAlign:"top",itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[2]}})})},this.Resize=function(){t.trend.Resize()},this.id=Object(f.y)()}return t.prototype.Clear=function(){this.lastUnits=[],this.selectedChart=[],this.trend.Clear(!0)},t}(),yh=function(){function t(t,e){void 0===t&&(t=null),this.tableData=[],this.isOpen=!1,this.jumpFunc=t,this.id=Object(f.y)(),this.parentId=e,this.AddShowRecordButton(e);var n="<div id='Remark"+this.id+"' lay-filter=\"Remark"+this.id+'" style="width:430px;height:480px;display:none;"> </div>';L("body").append(n);var i=new Ta,a=[[{field:"MeasDate",width:145,title:M.$t("datatable.title.measdate")},{field:"Description",width:120,edit:"text",title:M.$t("datatable.title.desc")},{title:M.$t("memo.oper.title"),toolbar:'<div>\n          <a class="layui-btn layui-btn-xs" lay-event="jump">'+M.$t("memo.oper.jump")+'</a>\n          <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">'+M.$t("memo.oper.delete")+"</a>\n          </div>",width:150}]],r=this;i.Create("Remark"+this.id,null,a,{page:!1}),this._table=i;var o=i.getTableId();O.table.on("tool("+o+")",function(t){t.data;"del"===t.event?U.confirm(M.$t("memo.oper.deleteConfirm"),{btn:[M.$t("cascade.loadbtn.yes"),M.$t("cascade.loadbtn.no")],title:M.$t("layui.layer.tip.title")},function(e){t.del(),r.tableData=r.tableData.filter(function(e){return e.MeasDate!=t.data.MeasDate}),U.close(e)}):"jump"===t.event&&r.jumpFunc&&r.jumpFunc(t.data.currPage,t.data.AllData,t.data.MeasDate)})}return t.prototype.Dispose=function(){this.tableData=null,L("#Remark"+this.id).remove(),U.close(this.layerIndex),this._table.Dispose(),this._table=null,this.jumpFunc=null},t.prototype.AddData=function(t){this.tableData||(this.tableData=[]),this.tableData.filter(function(e){return e.MeasDate==t.MeasDate}).length>0?U.msg(""+M.$t("memoryindex.table.error")):(this.tableData.push(t),this._table.Update({data:this.tableData,page:!1}),this.Open())},t.prototype.delete=function(){},t.prototype.Clear=function(){this.tableData=[],this._table.Update({data:[]})},t.prototype.Open=function(){this.layerIndex=U.prompt({shade:0,title:M.$t("memo.title"),formType:2,content:L("#Remark"+this.id),btn:[]},function(t,e){})},t.prototype.Close=function(){U.close(this.layerIndex)},t.prototype.AddShowRecordButton=function(t){var e=this;if(t){var i=L("#right"+t);if(i){var a="\n\t\t\t<div id='recordButtonEle"+this.id+"' \n\t\t\t\t style='position: absolute; top:5px; right:5px; background-color:transparent;height:20px;width:20px;z-index:999;'\n\t\t\t>\n\t\t\t\t<img title='"+M.$t("menu.showSelectedData")+"' id='clickableImg"+this.id+"' style='height:20px;width:20px;cursor: pointer;' src=\""+n(86)+'"/>\n\t\t\t</div>\n\t\t';L(i).append(a),L("#clickableImg"+this.id).on("click",function(){e.Open()})}}},t}(),gh=function(){return(gh=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},vh=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},bh=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},Ch={TimeIndex:"TImeIndex",EigenvalueIndex:"EigenvalueIndex",ProPoint:"ProPoint",SamplingIndex:"SamplingIndex"},xh=function(){return function(){}}(),wh=function(){function t(t,e,n,i,a){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=null),this.getChartOptions=function(t,e,n,i,a){var r=[],o=[],s=[];if(e&&e.Datas){var l=bh([],e.Datas);!1===ie.GetDataRange().isShowError&&(l=l.filter(function(t){return 99!==t.Alarm})),t.sourceData=l;for(var c=l.length-1;c>=0;c--){var u=l[c];if(a.indexType==Ch.TimeIndex)s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey]);else try{null!==u.MeasValue&&"NaN"!==u.MeasValue&&(void 0!==u.Alarm&&null!=u.Alarm&&99===u.Alarm&&u.WaveKey?(r.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),o.push([Object(f.e)(u.MeasDate),u.MeasValue]),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):void 0!==u.Alarm&&99===u.Alarm?(r.push({point:{x:Object(f.e)(u.MeasDate),y:u.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey])):u.WaveKey?(o.push([Object(f.e)(u.MeasDate),u.MeasValue]),s.push([Object(f.e)(u.MeasDate),u.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},u.WaveKey])):void 0!==u.Alarm&&null!=u.Alarm&&0!==u.Alarm&&1<=u.Alarm&&u.Alarm<=5?s.push([Object(f.e)(u.MeasDate),u.MeasValue,{enabled:!0,fillColor:u.Alarm>=4?Object(f.i)(u.Alarm):Object(f.i)(3),radius:2,symbol:"circle",enabledThreshold:0},u.WaveKey]):s.push([Object(f.e)(u.MeasDate),u.MeasValue,{},u.WaveKey]))}catch(t){}}}else t.sourceData=null;(s=s.sort(function(t,e){return t[0]-e[0]}))&&s.length>0&&(t.selectedXIndex=s.length-1),t.render([s],"",e&&e.Unit||"",{annotations:[{draggable:"",id:"MarkPoints",shapes:r,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:t.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:s,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:o,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,{customXAxisMax:Object(f.e)(i)>Object(f.e)(new Date)?Object(f.e)(new Date):Object(f.e)(i),customXAxisMin:Object(f.e)(n)},e&&e.AlarmLimits||[])},this.renderChart=function(t,e,n,i,a){t.showAlarmLine=r.ShowAlarmLine,r.getChartOptions(t,e,i,a,n)},this.onBigTrendCursorMoveCallback=function(t,e){var n=r;try{var i=parseInt(Object(f.v)("ProcessTrendTimeRange"))||2,a=Object(f.r)(t),o=Object(f.r)(Object(f.c)("h",-i,a)),s=Object(f.r)(Object(f.c)("h",i,a));n.LastSetExtremes=null,e.map(function(t){for(var e=t.assetId+t.indexType+t.indexCode,i=n.chartList.filter(function(t){return t.chartName===e})[0],a=0,r=0;r<n.orgChartData.length;r++){var l=n.orgChartData[r].indexData;if(l.assetId===t.assetId&&l.indexType===t.indexType&&l.indexCode===t.indexCode){a=r;break}}t.indexType===Ch.ProPoint?Si.FetchTsDatas(t.assetId,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=gh(gh({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}}):t.indexType===Ch.EigenvalueIndex&&Si.FetchIndexData(t.assetId,t.indexCode,1,o,s).then(function(e){var r=e.data;n.renderChart(i,r,t,o,s),n.lastSourceData.data[a]=e,n.orgChartData[a]=gh(gh({},r.data),{indexData:t})}).catch(function(e){n.lastSourceData.data[a]={},n.orgChartData[a]={indexData:t}})})}catch(t){}},this.LastSelectX=null,this.LastSetExtremes=null,this.LastDynamicCursor=null,this.LastToolbar=null,this.LastHelperInfo=null,this.CheckedList=[],this.ShowAlarmLine=!1,this.ShowAlarmLineFunc=function(){var t=r;t.chartList.map(function(e){e.HideOrShowAlarmLine(!e.showAlarmLine),L("#AddAlarmLine"+e.GetChartId()).find("span").html(e.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show")),t.ShowAlarmLine=e.showAlarmLine})},this.lastSourceData=null,this.lastQueryData=null,this.FilterCondition=function(t){if(t)for(var e=r,n=0,i=e.chartList.length;n<i;n++)e.UpdateChart(e.orgChartData[n],e.chartList[n],t,0==n)},this.UpdateChart=function(t,e,n,i,a){if(void 0===a&&(a=!1),t&&t.Datas&&0!=t.Datas.length){var o=r,s=[],l=[],c=[];!1===ie.GetDataRange().isShowError&&(t.Datas=t.Datas.filter(function(t){return 99!==t.Alarm}));for(var u=t.Datas.length-1;u>=0;u--){var h=t.Datas[u];if((a||n.length>0&&n.includes(h.Condition))&&null!==h.MeasValue&&"NaN"!==h.MeasValue)try{null!==h.MeasValue&&"NaN"!==h.MeasValue&&(void 0!==h.Alarm&&null!=h.Alarm&&99===h.Alarm&&h.WaveKey?(s.push({point:{x:Object(f.e)(h.MeasDate),y:h.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,r:5,fill:"#b9501e",x:-5,y:-5}),l.push([Object(f.e)(h.MeasDate),h.MeasValue]),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey])):void 0!==h.Alarm&&99===h.Alarm?(s.push({point:{x:Object(f.e)(h.MeasDate),y:h.MeasValue,xAxis:0,yAxis:0},type:"rect",width:10,height:10,x:-5,y:-5,fill:"#FFF"}),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey])):h.WaveKey?(l.push([Object(f.e)(h.MeasDate),h.MeasValue]),c.push([Object(f.e)(h.MeasDate),h.MeasValue,{enabled:!0,fillColor:"#b9501e",radius:2,symbol:"circle",enabledThreshold:0},h.WaveKey])):c.push([Object(f.e)(h.MeasDate),h.MeasValue,{},h.WaveKey]))}catch(t){}}if(e.showAlarmLine=!1,c=c.sort(function(t,e){return t[0]-e[0]}),e.render([c],"",t.Unit,{annotations:[{draggable:"",id:"MarkPoints",shapes:s,zIndex:9999}],series:[{type:"line",turboThreshold:0,animation:!1,keys:e.ChartKeys,allowPointSelect:!1,enableMouseTracking:!1,name:"",data:c,lineWidth:1},{id:"AlarmPoints",type:"scatter",data:l,allowPointSelect:!1,enableMouseTracking:!1,animation:!1,color:"#b9501e",marker:{radius:2}}]},null,null,t.AlarmLimits||[]),i){if(!c[0])return;o.LoadWaveForm(Object(f.e)(c[0][0]),c[0])}}},this.ResetFilterCondition=function(){for(var t=r,e=0,n=t.chartList.length;e<n;e++)t.UpdateChart(t.orgChartData[e],t.chartList[e],null,0==e,!0)},this.getMaxAndMinData=function(t,e,n){if(void 0===e&&(e=Number.MAX_SAFE_INTEGER),void 0===n&&(n=0),!t||0===t.length)return{minTime:e,maxTime:n};for(var i=bh([],t),a=0,r=i.length;a<r;a++)i[a].MeasDate=Object(f.e)(i[a].MeasDate);return i.sort(function(t,e){return t.MeasDate-e.MeasDate}),i[0].MeasDate<e&&(e=i[0].MeasDate),i[i.length-1].MeasDate>n&&(n=i[i.length-1].MeasDate),{minTime:e,maxTime:n}},this.onPageSizeChange=e,this.onDisplayCheckedTrendChart=n,this._elem=t,this._parent=a,this._MemoryIndexTable=new yh(i,a.id),this.bigTrend=new mh,this.bigTrend.InitChart("top"+this._parent.id,"","",this.onBigTrendCursorMoveCallback),W.addEvent("TempDataRangeChange",function(){r.render(r.lastQueryData.objs,r.lastQueryData.stime,r.lastQueryData.etime,r.lastQueryData.currPage,r.lastQueryData.AllData)},this._parent.id)}return t.prototype.SetMemoryTableDisplayNone=function(t){t?this._MemoryIndexTable&&this._MemoryIndexTable.Open():this._MemoryIndexTable&&this._MemoryIndexTable.Close()},t.prototype.ClearMemortTableData=function(){this._MemoryIndexTable.Clear()},t.prototype.Clear=function(){this.ReRenderClear(),ph.Clear(),this.LastSelectX=null,this.CheckedList=[],this.LastSetExtremes=null,this.chartList=null,this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null},t.prototype.Dispose=function(){this.lastQueryData=null,W.removeEvent("TempDataRangeChange",null,this._parent.id),this.ReRenderClear(),this.lastSourceData=null,this._MemoryIndexTable&&this._MemoryIndexTable.Dispose(),this.bigTrend&&this.bigTrend.Dispose(),this._MemoryIndexTable=null,this.bigTrend=null,this._elem=null},t.prototype.ReRenderClear=function(){this.chartList&&this.chartList.length>0&&this.chartList.map(function(t){t.Dispose(),t=null}),this.chartList=null,this.bigTrend&&this.bigTrend.Clear(),this.orgChartData=[],this.lastSourceData=null,this.lastQueryData=null,this.layout&&this.layout.Dispose(),L(this._elem).unbind(),L(this._elem).html("")},t.prototype.Resize=function(){this.bigTrend.Resize(),this.chartList&&this.chartList.map(function(t){t.Resize()})},t.prototype.CreateLayout=function(t){var e=this;if(!t||0!=t.length){L(this._elem).html("<div style='height:100%;'></div>");var n=[],i=[],a=[],r=L(this._elem).height();r<120*t.length-5&&(r=120*t.length-5),t.length>6&&L(this._elem).children("div").css({height:r});for(var o=0,s=t.length;o<s;o++)n.push({id:"MultiparametricAnalysisChartTrend"+t[o].assetId+t[o].indexCode+t[o].indexType}),i.push("MultiparametricAnalysisChartTrend"+t[o].assetId+t[o].indexCode+t[o].indexType),a.push(120);var l=new ga;l.items=n,l.splitConfig=[{ids:i,callBack:function(){e.Resize()},isVertical:!0}],this.layout&&this.layout.Dispose(),this.layout=new va(l,"");var c=L(this._elem).children("div")[0];this.layout.render(c)}},t.prototype.LoadWaveForm=function(t,e){var n=this.lastSourceData.data,i=this.lastSourceData.path,a=[];this.chartList&&this.chartList.map(function(e,r){try{if(e.verifyData()){var o=e.getMostIndexX(t)[0],s=e.data[0][o];if(s[3]){var l=new uh;l.AssetId=i[r].assetId,l.Path=i[r].path,l.MeasDate=Object(f.r)(s[0]),l.MeasValue=s[1],l.DataKey=s[3],l.otherData={Unit:n[r].data.Unit||""},l.yUnit=n[r].data.Unit||"",a.push(l)}}}catch(t){}}),a&&a.length>0?(ph.Clear(!1),ph.AddDatas(a.reverse())):ph.Clear()},t.prototype.CreateIndexChart=function(t,e,n,i,a,r){var o=this,s="MultiparametricAnalysisChartTrend"+e.assetId+e.indexCode+e.indexType,l=new qt(s,Yt.Last,{onMainCursorMoved:function(t,e,n,i){if("first"!=i){o.LoadWaveForm(n[0],n);var a=n[0];o.LastSelectX=a,o.chartList&&o.chartList.map(function(t){if(t.verifyData()){var e=t.getMostIndexX(a);t.selectedXIndex=e[0],t.MoveMainCursor(!0,!0,!0,!1,!1),t.updateHelperInfo()}})}},onSetExtremes:function(t,e){o.LastSetExtremes={min:t,max:e},o.chartList&&o.chartList.map(function(n){try{n.hchartInstance&&n.hchartInstance.xAxis&&n.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}catch(t){}})},onRenderEnd:function(){if(o.LastSelectX){var t=l.getMostIndexX(o.LastSelectX);l.selectedXIndex=t[0],l.MoveMainCursor(!0,!0,!0,!1,!0,"first")}o.LastSetExtremes&&l.hchartInstance.xAxis[0].setExtremes(o.LastSetExtremes.min,o.LastSetExtremes.max,!0,!1,"NotDispatch")},onMaxBtnClick:function(t){},onBaseMeunBtnClick:function(t,e,n){switch(t){case"enableDynamicCursor":o.chartList&&o.chartList.map(function(t){e!=t.GetChartId()&&(n?t.openDynamicCursorEnable():t.closeDynamicCursorEnable(),L("#enableDynamicCursor"+t.GetChartId()+" .menu-item-name").html(t.dynamicCursorEnable?M.$t("menu.dynamiccursor.close"):M.$t("menu.dynamiccursor.open")))}),o.LastDynamicCursor=n;break;case"toolbar":o.chartList&&o.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateToolBoxVisible(i),L("#toolbar"+t.GetChartId()+" .menu-item-name").html(t.layout.toolBoxVisibility?M.$t("meun.setting.toolbar.show"):M.$t("meun.setting.toolbar.hide")),t.Resize()}}),o.LastToolbar=!n;break;case"helpInfo":o.chartList&&o.chartList.map(function(t){if(e!=t.GetChartId()){var i=n;t.layout.UpdateHelperInfoVisible(i),L("#helpInfo"+t.GetChartId()+" .menu-item-name").html(t.layout.helperInfoVisibility?M.$t("meun.setting.helpinfo.show"):M.$t("meun.setting.helpinfo.hide")),t.Resize()}}),o.LastHelperInfo=!n}}});l.ChartKeys=["x","y","marker","wavekey"],l.chartConfig.xIsTime=!0,l.menuInstance.RemoveMenuItem("LockChart"),l.layout._InitHelperInfo({path:e.path,CurosrValue:""}),l.chartConfig.isAllowMaxBtn=!0,l.menuInstance.AddMenuItem("ConditionFilterHelper"+l.GetChartId(),M.$t("ConditionFilter.title"),function(){o._parent.ConditionFilterHelper.SetFilterFunc(o.FilterCondition.bind(o)),o._parent.ConditionFilterHelper.SetReset(o.ResetFilterCondition.bind(o)),o._parent.ConditionFilterHelper.Open()}),l.menuInstance.AddMenuItem("AddCheckedData"+l.GetChartId(),M.$t("menu.saveSelectedData"),function(){o._MemoryIndexTable.AddData({MeasDate:Object(f.r)(l.data[0][l.selectedXIndex][0]),Description:"",currPage:n,AllData:i})}),l.menuInstance.AddMenuItem("showChecked"+l.GetChartId(),M.$t("menu.displaySelectedTrend"),function(){o.onDisplayCheckedTrendChart&&o.onDisplayCheckedTrendChart(o.CheckedList,!0)}),l.menuInstance.AddMenuItem("UnShowChecked"+l.GetChartId(),M.$t("menu.displayUnelectedTrend"),function(){o.onDisplayCheckedTrendChart&&o.onDisplayCheckedTrendChart(o.CheckedList,!1)}),l.menuInstance.AddMenuItem("maxgraphcount"+l.GetChartId(),M.$t("menu.maxgraphcount"),function(){var t=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||5,e="<div class='Cursorsetting"+l.GetChartId()+"'><span style='float: left;\tline-height: 28px;margin-right:5px;'>"+M.$t("menu.maxgraphcount")+':</span><input type="number" min="1" max="10" step="1" id="Cursorsetting_graph'+l.GetChartId()+'" name="maxgraphcount" class="layui-layer-input" value=\''+t+"' /></div>";U.prompt({title:M.$t("prompt.maxgraphcount.title"),content:e,btn:[M.$t("btn.ok"),M.$t("btn.cancel")],shadeClose:!0},function(t,e){if(!(t<=0)){var n=L("#Cursorsetting_graph"+l.GetChartId()).val()||6;parseInt(n)>300?U.msg(M.$t("meun.config.maxgraph.count.error",{count:30})):parseInt(n)<1?U.msg(M.$t("meun.config.mingraph.count.error",{count:1})):(Object(f.E)("MultiparametricAnalysisChart_maxgraphcount",n),o.onPageSizeChange&&o.onPageSizeChange(),U.close(e))}}),L("#Cursorsetting_graph"+l.GetChartId()).val(t)}),l.menuInstance.AddMenuItem("AddAlarmLine"+l.GetChartId(),l.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"),function(){o.ShowAlarmLineFunc&&o.ShowAlarmLineFunc()}),l.OpenMeunCallBack=function(){L("#AddAlarmLine"+l.GetChartId()).find("span").html(l.showAlarmLine?""+M.$t("menu.alarmline.hide"):""+M.$t("menu.alarmline.show"))},l.Init(),l.layout.UpdateToolBoxVisible(!(null==o.LastToolbar||o.LastToolbar)),l.layout.UpdateHelperInfoVisible(!(null==o.LastHelperInfo||o.LastHelperInfo)),l.dynamicCursorEnable=null==o.LastDynamicCursor||o.LastDynamicCursor;var c=!1;o.CheckedList&&(c=o.CheckedList.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType}).length>0),L("#"+s).find(".rzgraph_helperinfo>ul>li:last").after('<li style=\'float:right;padding-right:20px;\'><input type="checkbox" name="ckitem" '+(c?"checked=''":"")+' lay-filter="Check'+l.GetChartId()+'" lay-skin="primary" style="display:none;" title="" value=\'All\'/></li>');var u=O.form;u.render("checkbox","Check"+l.GetChartId(),"#"+s),u.on("checkbox(Check"+l.GetChartId()+")",function(t){return o.CheckedList||(o.CheckedList=[]),t.othis.hasClass("layui-form-checked")?o.CheckedList.push(e):o.CheckedList=o.CheckedList.filter(function(t){return t.assetId!=e.assetId&&t.indexCode!==e.indexCode&&t.indexType!==e.indexType&&t.path!==e.path}),!0}),l.chartName=e.assetId+e.indexType+e.indexCode,this.chartList.push(l),gh({},t).indexData=e,this.renderChart(l,t,e,a,r)},t.prototype.render=function(t,e,n,i,a){return function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var r,o,s,l,c,u,h,d,p,A;return function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}(this,function(m){switch(m.label){case 0:return this.ReRenderClear(),this.lastQueryData={objs:t,stime:e,etime:n,AllData:a,currPage:i},(r=t.filter(function(t){return t.indexType===Ch.EigenvalueIndex||t.indexType===Ch.ProPoint})).length>0?(this._parent.SwitchTopDivShow(!0),this.bigTrend.LoadData(r,e,n)):this._parent.SwitchTopDivShow(!1),this.chartList=[],this.orgChartData=[],o=[],this.lastSourceData=null,L(this._elem).unbind(),L(this._elem).html(""),ph.Clear(),this.CreateLayout(t),t&&t.map(function(t){t.indexType!=Ch.TimeIndex&&t.indexType!=Ch.SamplingIndex||o.push(Si.FetchIndex(t.assetId,e,n,t.indexCode))}),[4,Si.BatchFetch(o)];case 1:for(s=m.sent(),l=[],c=0,A=0;A<t.length;A++)(u=t[A]).indexType==Ch.TimeIndex||u.indexType==Ch.SamplingIndex?(l[A]=s[c],c++):l[A]={};if(this.lastSourceData={data:l,path:t},l&&l.length>0){for(h=Number.MAX_SAFE_INTEGER,d=0,A=0;A<l.length;A++)l[A]&&l[A].data&&l[A].data.Datas&&(p=this.getMaxAndMinData(l[A].data.Datas,h,d),h=p.minTime,d=p.maxTime);for(A=0;A<l.length;A++)t[A].indexType!=Ch.EigenvalueIndex&&t[A].indexType!=Ch.TimeIndex&&t[A].indexType!=Ch.ProPoint&&t[A].indexType!=Ch.SamplingIndex||this.CreateIndexChart(l[A].data||[],t[A],i,a,h,d),this.orgChartData.push(l[A].data?gh(gh({},l[A].data),{indexData:t[A]}):{indexData:t[A]});try{this.LoadWaveForm(this.LastSelectX?this.LastSelectX:Object(f.e)(s[0].data.Datas[0].MeasDate),this.LastSelectX?s[0].data.Datas[this.LastSelectX]:s[0].data.Datas[0])}catch(t){}}return[2]}})})},vh([Object(f.a)()],t.prototype,"Dispose",null),vh([Object(f.a)()],t.prototype,"ReRenderClear",null),vh([Object(f.a)()],t.prototype,"LoadWaveForm",null),t}(),Dh=function(){function t(t,e){var n=this;if(void 0===e&&(e=null),this.Resize=function(){n.chart&&n.chart.Resize()},this.onAssetTypeNotSupport=function(t){},this.onAssetChange=function(){n.Path=G.TableData.path,n.chart.layout.UpdateHelperInfo({path:n.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.RenderChart=function(t){var e=n,i=n.chart;e.charthelper.SelectDataKeys=t;var a=t.map(function(t){return{WaveKey:t,start:0,dataLen:0}});n.Clear(),Si.BatchFetchSpectrum(a).then(function(t){var n=e.charthelper.InitDataBefFormat(t),a=n.xindex,r=n.option;r=i.GetBaseOptions(r),i.selectedYIndex=a.length-1,i.render(a,e.charthelper.XUnit,e.charthelper.YUnit,r)})},this.RenderBack=function(){n.RenderChart(n.charthelper.SelectDataKeys)},this.FilterOrigin=null,this.RenderFilter=function(t,e,i){var a=[],r=[],o={};if("-1"!=t){var s=n.charthelper.XindexData||[];o=n.charthelper.Option;for(var l=0;l<s.length;l++){var c=n.charthelper.YAxisValue[2*l],u=Object(f.F)(s[l],t,i,e,c),h=Object(f.F)(n.charthelper.originalData[l],t,i,e);r.push(h),a.push(u),o.series[l].data=u}n.FilterOrigin=r}else{a=n.charthelper.XindexData||[];for(l=0;l<a.length;l++)o.series[l].data=a[l];n.FilterOrigin=null}n.chart.render(a,n.chart.xUtils,n.chart.yUtils,o)},this.CalcVSelectIndex=function(t,e,i,a){var r=t,o=i?t:t+e;if(i){if(o==n.chart.selectedYIndex&&a<n.chart.data[o][n.chart.data[o].length-1][0])return o}else if(o<0||o>=n.chart.data.length)return n.chart.selectedYIndex;for(var s=n.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,n.chart.data[n.chart.selectedYIndex],0),c=!1;o<n.chart.data.length&&o>=0;){if(!(n.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=n.chart.selectedYIndex),r},this.AddMenuItem=function(t){for(var e in t)n.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){ph.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var i=this,a=new Zo(this.element,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var a=ph.GetData(),r=a[e].Path||"",o=a[e].otherData.Unit||"";i.chart.yUtils=o,i.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(i.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,a,r){var o=ph.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";i.chart.yUtils=l,i.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=a,this.charthelper=new yo(a,""),a.registeredCursor([new Rr(a),new Qr(this.chart,null,null,!1,!0,!0,!0)]),a.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var r=this.getContextmenu(a);this.AddMenuItem(r),a.chartConfig.isAllowMaxBtn=!0,a.Init(),a.convertYToIndex=function(t,e){void 0===e&&(e=0);var n=e?i.charthelper.GetInRangeIndex(i.charthelper.YAxisValue,e):i.chart.selectedYIndex;return i.chart.selectedYIndex=i.CalcVSelectIndex(n,0,!0,e),i.chart.selectedYIndex},a.getSelectedText=function(t){void 0===t&&(t=!0);var e=a.getSelectedData();"°"===a.xUtils&&(e[0]=(e[0]%360).toFixed(3));var n="",i={rate:1,unit:a.xUtils};return a.chartConfig.convertUnit&&(i=Object(f.b)(a.xUtils)),a.xUtils=i.unit,n=(e[0]*i.rate).toFixed(3)+a.xUtils+"，"+e[1].toFixed(3)+a.yUtils,a.GetCursorList()&&a.GetCursorList().length>0&&a.GetCursorList().forEach(function(e){e.GetSelectText&&(n+=e.GetSelectText(t))}),n},ph.AddEvent("onMultiTemporalWave",function(t){})}return t.prototype.Dispose=function(){try{ph.DeleteEvent("onMultiTemporalSpec"),this.chart.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.charthelper=null,this.chart=null,this.deviceId=null,this.assetId=null,this.id=null,this.FilterOrigin=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),Ih=function(){function t(t,e,n){var i=this;if(void 0===e&&(e=null),void 0===n&&(n=null),this.getWaveInfo=function(){try{var t=i.chart.selectedYIndex;return i.lastWaveInfos[t]}catch(t){}return null},this.Resize=function(){i.chart&&i.chart.Resize()},this.onAssetChange=function(){i.Path=G.TableData.path,i.chart.layout.UpdateHelperInfo({path:i.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},this.onAssetTypeNotSupport=function(t){},this.lastWaveInfos=[],this.DataKeys=[],this.RenderChart=function(t){i.lastWaveInfos=[];var e=i,n=i.chart;e.charthelper.SelectDataKeys=t;var a=t.map(function(t){return{WaveKey:t,start:0,dataLen:0}});i.Clear();var r=[];Si.BatchFetchOriginalVibWave(a).then(function(o){o&&o.map(function(t,e){var n={SignType:t.data.Signaltype,UpperFreq:t.data.Upperlimitingfreq,WaveKey:a[e].WaveKey||"",WaveLength:t.data.DataLen||0};r.push(n)}),e.lastWaveInfos=r,i.specChart&&i.specChart.RenderChart(t);var s=e.charthelper.InitDataBefFormat(o),l=s.xindex,c=s.option,u=ph.GetData();o&&o.map(function(t,e){u[e].otherData.Unit=o[e].data.YUnit}),n.selectedYIndex=l.length-1,n.render(l,e.charthelper.XUnit,e.charthelper.YUnit,l&&l.length>0?c:null)})},this.CalcVSelectIndex=function(t,e,n,a){var r=t,o=n?t:t+e;if(n){if(o==i.chart.selectedYIndex&&a<i.chart.data[o][i.chart.data[o].length-1][0])return o}else if(o<0||o>=i.chart.data.length)return i.chart.selectedYIndex;for(var s=i.chart.selectedYIndex>o?-1:1,l=rt.GetMostNearIndex(a,i.chart.data[i.chart.selectedYIndex],0),c=!1;o<i.chart.data.length&&o>=0;){if(!(i.chart.data[o].length<=l)){r=o,c=!0;break}o+=s}return c||(r=i.chart.selectedYIndex),r},this.AddMenuItem=function(t){for(var e in t)i.chart.menuInstance.AddMenuItem(t[e].id,t[e].name,t[e].callback,t[e].parent)},this.getContextmenu=function(t){return[{name:M.$t("menu.graphicargs.clear"),id:"ClearChart"+t.GetChartId(),callback:function(){ph.Clear()}}]},!t)throw"ele is null";if(Object(f.A)(t))this.element=t;else{if(!Object(f.A)(document.getElementById(t)))throw"Ele is not the correct html node";this.element=document.getElementById(t)}null==e?(this.Path=G.TableData.path,this.assetId=G.TableData.assetid,this.deviceId=G.TableData.deviceId):this.Path=e,this.specChart=n,L(this.element).addClass("RZGraphChartCard"),this.id=Object(f.y)();var a=this,r=new Zo(this.element,Yt.First,{onMainCursorMoving:null,onMainCursorMoved:function(t,e,n){var i=ph.GetData(),r=i[e].Path||"",o=i[e].otherData.Unit||"";a.chart.yUtils=o,a.chart.layout.UpdateHelperInfo({path:r})},onMaxBtnClick:function(t){t?L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").hide():L(a.element).parents(".rzAxisPanelParent").find("div[id^='center']").show()},onRenderEnd:function(t,e,n,i,r){var o=ph.GetData();if(o&&o.length>0&&o.length>e&&e>-1){var s=o[e].Path||"",l=o[e].otherData.Unit||"";a.chart.yUtils=l,a.chart.layout.UpdateHelperInfo({path:s})}},onWillRender:null,onSetExtremes:null});this.chart=r,this.charthelper=new yo(r,""),r.chartConfig.isAllowMaxBtn=!0,r.registeredCursor([new Yr(r),new ls(r,this)]),r.layout._InitHelperInfo({path:this.Path||"",RotatingSpeed:"",MeasTime:"",CurosrValue:""});var o=this.getContextmenu(r);this.AddMenuItem(o),r.Init(),r.convertYToIndex=function(t,e){void 0===e&&(e=0);var n=e?a.charthelper.GetInRangeIndex(a.charthelper.YAxisValue,e):a.chart.selectedYIndex;return a.chart.selectedYIndex=a.CalcVSelectIndex(n,0,!0,e),a.chart.selectedYIndex},r.getSelectedText=function(t){void 0===t&&(t=!0);var e=r.getSelectedData(),n="",i={rate:1,unit:r.xUtils};return r.chartConfig.convertUnit&&(i=Object(f.b)(r.xUtils)),r.xUtils=i.unit,n=(e[0]*i.rate).toFixed(3)+r.xUtils+"，"+e[1].toFixed(3)+r.yUtils,r.GetCursorList()&&r.GetCursorList().length>0&&r.GetCursorList().forEach(function(e){e.GetSelectText&&(n+=e.GetSelectText(t))}),n},ph.AddEvent("onMultiTemporalSpec",function(t){var e=t.map(function(t){return t.DataKey});a.DataKeys=e||[],a.RenderChart(e),i.drawer.state=0,i.drawer.renderWithState()});var s=ph.GetData();if(s.length>0){var l=s.map(function(t){return t.DataKey});a.DataKeys=l||[],this.RenderChart(l)}var c=new os(t,this.id);this.drawer=c,c.render(),c.DrawerDo=function(t){if(t.isBack)a.RenderChart(a.DataKeys);else{var e=a.DataKeys;if(e){var n=t.type;Si.FetchMultiAngleWave(e,0,n).then(function(t){r.Clear(),a.charthelper.keys=["x","y"];var e=a.charthelper.InitDataBefFormat(t),n=e.xindex,i=e.option;r.selectedYIndex=n.length-1,r.render(n,a.charthelper.XUnit,a.charthelper.YUnit,n&&n.length>0?i:null)})}}};var u=new ss("Panel"+this.id,this.id,this.assetId);u.Init(),this.filter=u,u.FormSubmitDo=function(t){var e=i.chart,n=i;c.state=1,c.renderWithState();t.assetid;var a=t.filterType,r=t.filterMinStop,o=t.filterMaxStop;if(n.DataKeys){var s=Object(f.v)("SpectrumUnit"),l={unit:s,rate:1};s&&(l=Object(f.b)(s)),r=(1*r/l.rate).toFixed(4),o=(1*o/l.rate).toFixed(4),Si.FetchFilterMultiWave(n.DataKeys,a,r,o).then(function(t){var i=n.charthelper.InitDataBefFormat(t),a=i.xindex,r=i.option;e.selectedYIndex=a.length-1,e.render(a,n.charthelper.XUnit,n.charthelper.YUnit,a&&a.length>0?r:null)})}},u.FormBackDo=function(t){a.RenderChart(a.DataKeys)}}return t.prototype.Dispose=function(){try{this.chart&&this.chart.Dispose(),ph.DeleteEvent("onMultiTemporalSpec"),this.filter&&this.filter.Dispose(),this.drawer&&this.drawer.Dispose(),this.charthelper&&this.charthelper.Dispose(),this.specChart=null,this.charthelper=null,this.deviceId=null,this.assetId=null,this.id=null,this.chart=null,this.element=null}catch(t){}},t.prototype.Clear=function(){this.chart&&this.chart.Clear()},t}(),Bh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Th=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Sh=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Mh=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Eh=function(t){function e(e,n,i,a,r){void 0===i&&(i=null),void 0===r&&(r=null);var o=t.call(this,e,i)||this;return o.onDisplayChange=function(t){},o.onAssetChange=function(t){if(o.assetId=t.assetId,o.deviceId=t.deviceId,o.lastDeviceId!==o.deviceId&&(o.Clear(),o.lastDeviceId=o.deviceId,o.TimeIndexTableHelper.table.onAssetChange(o.assetId,!1),o.deviceId)){o.DyTreeHelper.LoadData(o.deviceId),o.ProPointTreeHelper.LoadData(o.deviceId);o.ConditionFilterHelper.GetData(o.deviceId);var e=L(".IndexTab").find(".layui-this").attr("data-id");e===Ch.SamplingIndex?o.SamplingIndexTableHelper.renderData(null):e===Ch.EigenvalueIndex?o.EigenvaluesHelper.renderData(null):o.TimeIndexTableHelper.renderData()}},o.Resize=function(){o.SamplingIndexTableHelper.table.Resize(),o.EigenvaluesHelper.table.Resize(),o.TimeIndexTableHelper.table.Resize()},o.showToggle=function(t){L(t).click(function(){L(t).parent(".layui-colla-title").siblings(".layui-colla-content").hasClass("layui-show")?(L(t).css("transform","rotate(0deg)"),L(t).parent(".layui-colla-title").siblings(".layui-colla-content").removeClass("layui-show")):(L(t).parent(".layui-colla-title").siblings(".layui-colla-content").addClass("layui-show"),L(t).css("transform","rotate(180deg)"))})},o.deleteQuery=function(t){L(t).click(function(){L(t).parents("#QueryPartContent"+o.id).remove()})},o.TimeIndexTableHelper={table:null,getCheckedData:function(){return o.TimeIndexTableHelper.table.GetCheckedData()},init:function(){var t=new rs(!0);t.render("#"+o.element+" #timeIndex"+o.id,!1),o.TimeIndexTableHelper.table=t},renderData:function(){o.TimeIndexTableHelper.table.renderData()}},o.SamplingIndexTableHelper={table:null,getCheckedData:function(){return o.SamplingIndexTableHelper.table.GetCheckedData()},init:function(){var t=new qo;t.render("#SamplingIndexTable"+o.id,!1),o.SamplingIndexTableHelper.table=t},renderData:function(t){return o.SamplingIndexTableHelper.table.renderData([o.deviceId])}},o.EigenvaluesHelper={table:null,getCheckedData:function(){return o.EigenvaluesHelper.table.GetCheckedData()},init:function(){var t=new Yo;t.render("#EigenvaluesIndex"+o.id,!1),o.EigenvaluesHelper.table=t},renderData:function(t){return o.EigenvaluesHelper.table.renderData([o.deviceId])}},o.ConditionFilterHelper={table:null,Init:function(){var t=new Sa(null);o.ConditionFilterHelper.table=t},GetData:function(t){o.ConditionFilterHelper.table.GetData([t])},Open:function(){o.ConditionFilterHelper.table.Open()},SetFilterFunc:function(t){o.ConditionFilterHelper.table.SetFilterFunc(t)},GetCheckedData:function(){return o.ConditionFilterHelper.table.GetCheckedData()},Close:function(){o.ConditionFilterHelper.table.Close()},SetReset:function(t){o.ConditionFilterHelper.table.onReset=t}},o.CommonHelper={RegisterOnChange:function(){var t=o;O.element.on("tab(IndexType"+o.id+")",function(e){var n=L("#right"+t.id+" .IndexTab li").eq(e.index).attr("data-id");t.deviceId&&(n==Ch.SamplingIndex?t.SamplingIndexTableHelper.renderData(null):n===Ch.EigenvalueIndex?t.EigenvaluesHelper.renderData(null):n===Ch.TimeIndex&&t.TimeIndexTableHelper.renderData())})}},o.ProPointTreeHelper={tree:null,tree2:null,tree3:null,chenckPoints1:[],chenckPoints2:[],getCheckedData:function(){return o.ProPointTreeHelper.tree3.getCheckedData()},onChange1:function(t){if(t){o.ProPointTreeHelper.tree3.getAllTreeData();o.ProPointTreeHelper.chenckPoints1=t;var e=o.ProPointTreeHelper.chenckPoints2.concat(o.ProPointTreeHelper.chenckPoints1);o.ProPointTreeHelper.tree3.unCheckAll(),o.ProPointTreeHelper.tree3.checkbox(e)}},onChange2:function(t){if(t){o.ProPointTreeHelper.tree3.getAllTreeData();o.ProPointTreeHelper.chenckPoints2=t;var e=o.ProPointTreeHelper.chenckPoints2.concat(o.ProPointTreeHelper.chenckPoints1);o.ProPointTreeHelper.tree3.unCheckAll(),o.ProPointTreeHelper.tree3.checkbox(e)}},onClick:function(t,e){},render:function(){return Sh(o,void 0,void 0,function(){return Mh(this,function(t){return L("#"+this.element+" #proPoint"+this.id).append("<div class=\"firstCardContent\" style='width:100%;border: 1px solid #e8e8e8;'>\n\t\t\t\t\t<div class=\"proPointCard1\" style='width:100%;'></div>\n\t\t\t\t\t<div class=\"proPointCard2\" style='width:100%;'></div>\n\t\t\t\t</div>\n                 <div class=\"proPointCard3\" style='height:calc((100%));width:100%;min-height:260px;height: 260px;margin-top: 20px'></div>"),this.ProPointTreeHelper.CreatCheckbox("#"+this.element+" #proPoint"+this.id+" .proPointCard1","second"),this.ProPointTreeHelper.CreatCheckbox("#"+this.element+" #proPoint"+this.id+" .proPointCard2","third"),this.ProPointTreeHelper.UpdateCheckBox("#"+this.element+" #proPoint"+this.id+" .proPointCard1","second"),this.ProPointTreeHelper.UpdateCheckBox("#"+this.element+" #proPoint"+this.id+" .proPointCard2","third"),this.ProPointTreeHelper.tree3=this.ProPointTreeHelper.CreatRender("CheckAllPro3"+this.id,"#"+this.element+" #proPoint"+this.id+" .proPointCard3",this.ProPointTreeHelper.tree3,null),[2]})})},CreatRender:function(t,e,n,i){var a=o,r=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="'+t+'" lay-skin="primary" style="display:none;" title='+M.$t("common.point.technics")+" value='All'/>","");L(""+e).append(r);var s=O.form;s.render("checkbox",""+t,"#"+o.element+" #QueryPart"+o.id),s.on("checkbox("+t+")",function(t){return t.othis.hasClass("layui-form-checked")?n.checkAll():n.unCheckAll(),!0});var l=new Qo(i,a.ProPointTreeHelper.onClick);return l.render(L(""+e).find(".rz-card-body")),n=l},CreatCheckbox:function(t,e){var n=o;(new fa).render(t,M.$t("leftbar.title.section"),'<div class="layui-form-item" lay-filter="BoxFliter'+e+'">\n\t\t\t\t   \n\t\t\t\t</div>'),L(""+t).find(".rz-card-body").css({position:"unset"});var i=O.form;i.render(),i.on("checkbox(allChoose"+e+")",function(a){L(t+" input:checkbox[name='equip']").each(function(t,e){e.checked=a.elem.checked,e.checked?L(e).next(".layui-form-checkbox").addClass("layui-form-checked"):L(e).next(".layui-form-checkbox").removeClass("layui-form-checked")}),a.elem.checked?n.ProPointTreeHelper.tree3.checkAll():n.ProPointTreeHelper.tree3.unCheckAll(),i.render("checkbox","BoxFliter"+e)}),i.on("checkbox(CheckBoxFliter"+e+")",function(n){var a=new Array;return L(t+" input:checkbox[name='equip']:checked").each(function(t,e){a[t]=L(this).val()}),a.length<L(t+" input:checkbox[name='equip']").length?(L(t+" input:checkbox[name='checkall']").prop("checked",!1),L(t+" input:checkbox[name='checkall']").next(".layui-form-checkbox").removeClass("layui-form-checked")):(L(t+" input:checkbox[name='checkall']").prop("checked",!0),L(t+" input:checkbox[name='checkall']").next(".layui-form-checkbox").addClass("layui-form-checked")),i.render("checkbox","BoxFliter"+e),!0})},checkBoxData:[],UpdateCheckBox:function(t,e){L(t+" .layui-form-item").html(' <input type="checkbox" name="checkall" lay-skin="primary" lay-filter="allChoose'+e+'" title="全选" value=\'checkall\'>');var n="";o.DyTreeHelper.checkBoxData.map(function(t){n+='<input type="checkbox" class="equipCheckbox" name="equip" lay-skin="primary" lay-filter="CheckBoxFliter'+e+'" title="'+t.name+"\" value='"+t.id+"'>"}),L(t+" .layui-form-item").append(n),O.form.render()},LoadData:function(t){return Sh(o,void 0,void 0,function(){return Mh(this,function(e){switch(e.label){case 0:return[{alarmlevel:0,alarmlevelname:null,assortment:21,atten:null,atten_name:null,atten_tel:null,attr:null,bitnumber:null,category:null,code:"XX_气缸",controllevel:"1",depth:4,devicestate:null,devicetype:null,id:"594db099-21eb-42f8-a0d1-0b975a8456a3",limitingfreq:0,name:"1_气缸",nodeid:431,pagenum:null,pagesize:null,paraindexs:null,path:"1_气缸",pid:"d0f16346-dd0a-4399-bc5f-ac9affce7b01",pnodeid:420,power:0,runstate:null,seq:3,serverid:0,signaltype:0,state:null,treecode:null,type:1319458,typename:"Cylinder",visibility:!0}],[{alarmlevel:0,alarmlevelname:null,assortment:21,atten:null,atten_name:null,atten_tel:null,attr:null,bitnumber:null,category:null,code:"XX_壳振测点",controllevel:"2",depth:5,devicestate:null,devicetype:null,id:"3099fba5-290a-4dc7-9921-24221febb519",limitingfreq:0,name:"7#_壳振测点",nodeid:469,pagenum:null,pagesize:null,paraindexs:null,path:"1_气缸1_气缸7#_壳振测点",pid:"594db099-21eb-42f8-a0d1-0b975a8456a3",pnodeid:431,power:0,runstate:null,seq:3,serverid:0,signaltype:0,state:null,treecode:null,type:1319458,typename:"RecShellVibrationPoint",visibility:!0}],this.DyTreeHelper.checkBoxData=[{id:111,name:"第一个"},{id:7,name:"第7个"},{id:8,name:"第88个"},{id:5,name:"第5个"}],this.ProPointTreeHelper.UpdateCheckBox("#"+this.element+" #proPoint"+this.id+" .proPointCard1","second"),this.ProPointTreeHelper.UpdateCheckBox("#"+this.element+" #proPoint"+this.id+" .proPointCard2","third"),[4,this.ProPointTreeHelper.tree3.LoadData(t)];case 1:return e.sent(),[2]}})})}},o.DyTreeHelper={tree:null,tree2:null,getCheckedData:function(){return o.DyTreeHelper.tree2.getCheckedData()},onChange:function(t){if(t){o.DyTreeHelper.tree2.getAllTreeData();o.DyTreeHelper.tree2.unCheckAll(),o.DyTreeHelper.tree2.checkbox(t)}},onClick:function(t,e){},render:function(){var t=o;L("#"+o.element+" #dyPoint"+t.id).append("<div class=\"dyPointCard\" style='width:100%;padding-bottom: 10px;'></div>\n                 <div class=\"dyPointCard2\" style='width:100%;padding-bottom: 10px;'></div>"),o.DyTreeHelper.CreatCheckbox("#"+o.element+" #dyPoint"+t.id+" .dyPointCard","First"),o.DyTreeHelper.UpdateCheckBox("#"+o.element+" #dyPoint"+t.id+" .dyPointCard","First"),o.DyTreeHelper.tree2=o.DyTreeHelper.CreatRender("#"+o.element+" #dyPoint"+t.id+" .dyPointCard2","CheckAll2"+t.id,o.DyTreeHelper.tree2,null)},CreatRender:function(t,e,n,i){var a=o,r=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="'+e+'" lay-skin="primary" style="display:none;" title="'+M.$t("common.point.dymnic")+"\" value='All'/>","");L(""+t).append(r);var s=O.form;s.render("checkbox",""+e,"#right"+a.id+" "),s.on("checkbox("+e+")",function(t){return t.othis.hasClass("layui-form-checked")?n.checkAll():n.unCheckAll(),!0}),L(""+t).find(".rz-card-body").css({position:"unset"});var l=new Qo(i,a.DyTreeHelper.onClick);return l.render(L(""+t).find(".rz-card-body")),n=l},CreatCheckbox:function(t,e){var n=o;(new fa).render(t,M.$t("leftbar.title.section"),'<div class="layui-form-item" lay-filter="BoxFliter'+e+'">\n\t\t\t\t   \n\t\t\t\t</div>'),L(""+t).find(".rz-card-body").css({position:"unset"});var i=O.form;i.render(),i.on("checkbox(allChoose"+e+")",function(a){L(t+" input:checkbox[name='equip']").each(function(t,e){e.checked=a.elem.checked,e.checked?L(e).next(".layui-form-checkbox").addClass("layui-form-checked"):L(e).next(".layui-form-checkbox").removeClass("layui-form-checked")}),a.elem.checked?n.DyTreeHelper.tree2.checkAll():n.DyTreeHelper.tree2.unCheckAll(),i.render("checkbox","BoxFliter"+e)}),i.on("checkbox(CheckBoxFliter"+e+")",function(n){var a=new Array;return L(t+" input:checkbox[name='equip']:checked").each(function(t,e){a[t]=L(this).val()}),a.length<L(t+" input:checkbox[name='equip']").length?(L(t+" input:checkbox[name='checkall']").prop("checked",!1),L(t+" input:checkbox[name='checkall']").next(".layui-form-checkbox").removeClass("layui-form-checked")):(L(t+" input:checkbox[name='checkall']").prop("checked",!0),L(t+" input:checkbox[name='checkall']").next(".layui-form-checkbox").addClass("layui-form-checked")),i.render("checkbox","BoxFliter"+e),!0})},checkBoxData:[],UpdateCheckBox:function(t,e){L(t+" .layui-form-item").html(' <input type="checkbox" name="checkall" lay-skin="primary" lay-filter="allChoose'+e+'" title="全选" value=\'checkall\'>');var n="";o.DyTreeHelper.checkBoxData.map(function(t){n+='<input type="checkbox" class="equipCheckbox" name="equip" lay-skin="primary" lay-filter="CheckBoxFliter'+e+'" title="'+t.name+"\" value='"+t.id+"'>"}),L(t+" .layui-form-item").append(n),O.form.render()},LoadData:function(t){return Sh(o,void 0,void 0,function(){var e;return Mh(this,function(n){switch(n.label){case 0:return e=this,[{alarmlevel:0,alarmlevelname:null,assortment:21,atten:null,atten_name:null,atten_tel:null,attr:null,bitnumber:null,category:null,code:"XX_气缸",controllevel:"1",depth:4,devicestate:null,devicetype:null,id:"594db099-21eb-42f8-a0d1-0b975a8456a3",limitingfreq:0,name:"1_气缸",nodeid:431,pagenum:null,pagesize:null,paraindexs:null,path:"1_气缸",pid:"d0f16346-dd0a-4399-bc5f-ac9affce7b01",pnodeid:420,power:0,runstate:null,seq:3,serverid:0,signaltype:0,state:null,treecode:null,type:1319458,typename:"Cylinder",visibility:!0}],this.DyTreeHelper.checkBoxData=[{id:8,name:"第一个"},{id:5,name:"第5个"},{id:7,name:"第7个"},{id:6,name:"第6个"}],this.DyTreeHelper.checkBoxData=[{id:111111,name:"第一个"},{id:7,name:"第7个"},{id:6,name:"第6个"},{id:5,name:"第5个"}],this.DyTreeHelper.UpdateCheckBox("#"+e.element+" #dyPoint"+e.id+" .dyPointCard","First"),[4,this.DyTreeHelper.tree2.LoadData(t)];case 1:return n.sent(),[2]}})})}},o.chartName="QueryPart",o.element=e,o.deviceId=a,o.id=a,o.equipName=n,o.InitQuery(r),o}return Bh(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.layout&&this.layout.Dispose(),this.layout=null,this.EigenvaluesHelper.table.Dispose(),this.SamplingIndexTableHelper.table.Dispose(),this.TimeIndexTableHelper.table.Dispose(),this.ConditionFilterHelper.table.Dispose(),this.DyTreeHelper.tree.Dispose(),this.ProPointTreeHelper.tree.Dispose(),this.EigenvaluesHelper=null,this.SamplingIndexTableHelper=null,this.TimeIndexTableHelper=null,this.ConditionFilterHelper=null,this.DyTreeHelper=null,this.ProPointTreeHelper=null,ph.Clear(!1),L(this.element).html(""),L(this.element).unbind(),this.element=null,this.id=null,this.equipName=null},e.prototype.Clear=function(){L(this.element).find("input[name='ckAll']").prop("checked",!1),O.form.render("checkbox","CheckAll"+this.id,"#"+this.element),this.EigenvaluesHelper.table.Clear(!1),this.SamplingIndexTableHelper.table.Clear(!1),this.TimeIndexTableHelper.table.Clear(!1),this.ConditionFilterHelper.table.Clear(),this.DyTreeHelper.tree2.Clear()},e.prototype.InitQuery=function(t){void 0===t&&(t=null),L("#"+this.element).append(' <div class="layui-colla-item" id = "QueryPartContent'+this.id+'">\n\t\t\t\t<h2 class="layui-colla-title" style="line-height: 30px;height: 30px;font-size: 12px;padding-left:30px;color: #1e9fff !important;">\n                    '+this.equipName+'\n\t\t\t\t    <i class="icon-left layui-colla-icon" id="icon-left'+this.id+'" style="width: 13px;height: 8px;top: 5px;left: 5px;padding:5px;background: url(\''+n(182)+'\') no-repeat;background-position:5px 5px;transform: rotate(180deg)"></i>\n\t\t\t\t    <i class="icon-right layui-colla-icon" id="icon-right'+this.id+'" style="width: 13px;height: 8px;left: unset;right: 10px;top: 5px;padding:5px;background: url(\''+n(182)+'\') no-repeat;background-position:5px 5px;transform: rotate(180deg)"></i>\n\t\t\t\t</h2>\n\t\t\t\t<div class="layui-colla-content layui-show" style="padding: 0;">\n\t\t\t\t\t<div  class="QueryPart'+this.id+"\" id='QueryPart"+this.id+'\' action="" >\n\t\t\t\t\t    <div  class="layui-form" id=\'Query'+this.id+'\' action="" ></div>\n                    </div>\n\t\t\t\t</div>\n\t\t\t  </div>\n              '),this.showToggle("#"+this.element+" #QueryPartContent"+this.id+" #icon-left"+this.id),this.deleteQuery("#icon-right"+this.id);var e='\n        <div class="layui-tab layui-tab-brief"  lay-filter="point'+this.id+'" style="height:calc((100% - 130px))">\n\t\t\t<div class="layui-tab layui-tab-brief"  lay-filter="pointType'+this.id+'" style="height:100%;">\n\t\t\t\t<ul class="layui-tab-title">\n\t\t\t\t\t\t<li class="layui-this"  data-id="0">\n\t\t\t\t\t\t'+M.$t("vibration")+'\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li data-id="1">\n\t\t\t\t\t\t'+M.$t("Process")+'\n\t\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="layui-tab-content" style="height:calc((100% - 51px));">    \n\t\t\t\t\t<div id="dyPoint'+this.id+'" class="layui-tab-item layui-show"  style="height: 100%;"></div>\n\t\t\t\t\t<div id="proPoint'+this.id+'" class="layui-tab-item "  style="height: 100%;"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>';L("#"+this.element+" #QueryPart"+this.id+" .layui-form").append(e),this.DyTreeHelper.render(),L("#"+this.element+" #dyPoint"+this.id).append("<div class=\"IndexTab\" style='width:100%;height:200px'></div>");var i='\n\t\t<div class="layui-tab layui-tab-brief"  lay-filter="IndexType'+this.id+'" style="height:100%;">\n\t\t<ul class="layui-tab-title">\t\t\t\n\t\t\t<li class="'+(t&&t==Ch.TimeIndex?"layui-this":"")+'"  data-id="'+Ch.TimeIndex+'">'+M.$t("common.index.time")+'</li>\n\n\t\t\t<li class="'+(t&&t==Ch.SamplingIndex?"layui-this":"")+'"  data-id="'+Ch.SamplingIndex+'">'+M.$t("common.index.sampling")+'</li>\n\n\t\t\t<li  class="'+(t&&t==Ch.EigenvalueIndex?"layui-this":"")+'"  data-id="'+Ch.EigenvalueIndex+'">'+M.$t("common.index.eigenvalue")+'</li>\n\t\t</ul>\n\t\t<div class="layui-tab-content" style="height:150px;">\n\t\t\t<div id="timeIndex'+this.id+'" class="layui-tab-item '+(t&&t==Ch.TimeIndex?"layui-show":"")+'"  style="height: 150px;"></div>\n\t\t\t<div id="SamplingIndexTable'+this.id+'" class="layui-tab-item '+(t&&t==Ch.SamplingIndex?"layui-show":"")+'" style="height: 150px;"></div>\n\t\t\t<div  id="EigenvaluesIndex'+this.id+'" class="layui-tab-item '+(t&&t==Ch.EigenvalueIndex?"layui-show":"")+'"   style="height: 150px;"></div>\n\t\t\t<div class="layui-tab-item"></div>\n\t\t</div>\n\t</div> ';L("#"+this.element+" #dyPoint"+this.id+" .IndexTab").append(i),this.EigenvaluesHelper.init(),this.TimeIndexTableHelper.init(),this.SamplingIndexTableHelper.init(),this.ConditionFilterHelper.Init(),this.ProPointTreeHelper.render(),this.CommonHelper.RegisterOnChange()},e.prototype.GetQuerylist=function(){var t=this.DyTreeHelper.getCheckedData(),e=this.TimeIndexTableHelper.getCheckedData(),n=this.EigenvaluesHelper.getCheckedData(),i=this.SamplingIndexTableHelper.getCheckedData(),a=this.ProPointTreeHelper.getCheckedData();return this.QuerySubmit(t,e,n,a,i)},e.prototype.QuerySubmit=function(t,e,n,i,a){var r=[],o=L(".IndexTab").find(".layui-this").attr("data-id");if(o===Ch.TimeIndex&&e&&e.map(function(e){t&&t.map(function(t){if((e.points&&e.points.indexOf(t.data.ID)>=0||"-1"===e.points[0])&&Object(tn.f)(t.data.type)){var n=new xh;n.assetId=t.data.id,n.indexCode=e.value,n.name=t.data.name,t.pdata?n.path=t.pdata.name+"/"+t.data.name+"/"+e.name:n.path=t.data.name+"/"+e.name,n.indexType=Ch.TimeIndex,r.push(n)}})}),!(o===Ch.SamplingIndex&&(a&&a.map(function(e){t&&t.map(function(t){if(Object(tn.e)(t.data.type)){var n=new xh;n.assetId=t.data.id,n.indexCode=e.IndexCode,n.path=t.data.name+" "+e.IndexName,n.name=t.data.name,n.indexType=Ch.SamplingIndex,r.push(n)}})}),0==r.length&&a&&a.length>0)))return o===Ch.EigenvalueIndex&&(n&&n.map(function(e){t&&t.map(function(t){if(Object(tn.e)(t.data.type)&&e.points&&e.points.indexOf(t.data.id)>=0){var n=new xh;n.assetId=t.data.id,n.name=t.data.name+" "+e.IndexName,n.indexCode=e.IndexCode,n.path=t.data.name+" "+e.IndexName,n.indexType=Ch.EigenvalueIndex,r.push(n)}})}),0==r.length&&n&&n.length),i&&i.length>0&&i.map(function(t){if(t.data.id){var e=new xh;e.assetId=t.data.id,e.indexCode=t.data.id,e.path=t.data.name,e.name=t.data.name,e.indexType=Ch.ProPoint,r.push(e)}}),this.renderList={list:r},{pointList:r,renderList:this.renderList}},Th([Object(f.a)()],e.prototype,"Dispose",null),Th([Object(f.a)()],e.prototype,"Clear",null),e}(J),kh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fh=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Oh=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Lh=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Uh=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i=Ch.TimeIndex);var a=t.call(this,e,n)||this;return a.onDisplayChange=function(t){0==t&&a.trendChartManage&&a.trendChartManage.SetMemoryTableDisplayNone(!1)},a.Equipmentcontent=[],a.onAssetChange=function(t){a.lastDeviceId!==a.deviceId&&(a.Clear(),a.lastDeviceId=a.deviceId,a.waveformChart.onAssetChange(),a.specChart.onAssetChange(),a.deviceId&&a.Equipmentcontent[0].onAssetChange(t))},a.SetInitData=function(t,e,n,i,r){var o=Object(f.d)(new Date,"YYYY/MM/DD 00:00");Object(f.e)(o)>Object(f.e)(t)&&L("#Stime"+a.id).val(Object(f.d)(t,"YYYY/MM/DD 00:00")),e&&(i===Ch.SamplingIndex||Ch.EigenvalueIndex),a.trendChartManage.LastSelectX=Object(f.e)(t),L("#btnQuery"+a.id).click()},a.Resize=function(){a.waveformChart&&a.waveformChart.Resize(),a.specChart&&a.specChart.Resize(),a.trendChartManage&&a.trendChartManage.Resize()},a.SwitchTopDivShow=function(t){t?a.layout._splitArr[0].setSizes(a.lastTopSize):a.layout._splitArr[0].setSizes([0,100]),a.trendChartManage&&a.trendChartManage.Resize()},a.lastTopSize=[20,80],a.InitLayout=function(t){void 0===t&&(t=null),L(a.element).addClass("rzAxisPanelParent");var e=new ga;e.items=[{id:"Main",children:[{id:"top"},{id:"bottom",children:[{id:"left",children:[{id:"left1"},{id:"left2"}]},{id:"center",children:[{id:"graphList",otherStyle:"height:calc(100% - 35px) !important;overflow-y:auto;"},{id:"pagination",otherStyle:"height:35px"}]}]}]},{id:"right",otherStyle:"overflow-y:auto;"}],e.splitConfig=[{ids:["top","bottom"],size:[0,100],isVertical:!0,callBack:function(t){a.lastTopSize=t[0],a.Resize()}},{ids:["Main","right"],size:[80,20],collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,callBack:function(){a.Resize()}},{ids:["left","center"],collapseBtnOpen:!0,collapseAlign:yi.Left,defaultCollapseAlign:yi.Left,gutterAlign:"end",size:[0,100],defaultPanelSize:[50,50],callBack:function(){a.Resize()}},{ids:["left1","left2"],isVertical:!0,callBack:function(){a.Resize()}}];var n=new va(e,a.id);n.render(a.element);var i=a;a.layout=n,a.trendChartManage=new wh("#graphList"+a.id,function(){a.onPageSizeChange.call(i)},function(t,e){a.DisplayCheckedTrendChart.call(i,t,e)},function(t,e,n){i.renderList.list=e,i.trendChartManage.LastSelectX=Object(f.e)(n),a.RenderPagination(e,{curr:t})},a),a.specChart=new Dh("left2"+a.id,a.Path),a.waveformChart=new Ih("left1"+a.id,a.Path,a.specChart),a.addEvent("onControlPanFilter",function(t){var e=t.data,n=(e.assetid,e.filterType),a=e.filterMinStop,r=e.filterMaxStop,o=Object(f.v)("SpectrumUnit"),s={unit:o,rate:1};o&&(s=Object(f.b)(o)),a=(1*a/s.rate).toFixed(4),r=(1*r/s.rate).toFixed(4),i.specChart.RenderFilter(n,a,r)}),a.addEvent("onControlPanBack",function(t){t.data;i.specChart.RenderBack()})},a.DisplayCheckedTrendChart=function(t,e){if(t){var n=a;n.renderList.list;if(e)n.renderList.list=t;else{var i=[];n.renderList.list.map(function(e){t.filter(function(t){return t.assetId===e.assetId&&t.indexCode===e.indexCode&&t.indexType===e.indexType&&t.path===e.path}).length>0||i.push(e)}),n.renderList.list=i}a.trendChartManage.Clear(),a.RenderPagination(n.renderList.list)}},a.onPagination=function(t){var e,n=a,i=n.renderList.list,r=t.curr,o=t.count,s=t.pages,l=t.limit;e=r<s?i.slice((r-1)*l,r*l):i.slice((r-1)*l,o),n.trendChartManage.render(e,n.renderList.stime,n.renderList.etime,t.curr,i)},a.RenderPagination=function(t,e){void 0===e&&(e={});var n=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6;a.pagination&&a.pagination.Dispose();var i=new nr("pagination"+a.id,t.length,n,a.onPagination,e);a.pagination=i},a.onPageSizeChange=function(){var t=[];try{t=a.renderList.list||[]}catch(t){}a.pagination&&a.pagination.Dispose();var e=Object(f.v)("MultiparametricAnalysisChart_maxgraphcount")||6,n=new nr("pagination"+a.id,t.length,e,a.onPagination);a.pagination=n},a.AddTreeHelper={tree:null,getCheckedData:function(){return a.AddTreeHelper.tree.getCheckedData()},onChange:function(t){},onClick:function(t,e){},render:function(){L("#addQuipment").append("<div class=\"PointCard\" style='height: calc((100% - 200px));width:100%;min-height:260px;height: 260px'></div>"),a.AddTreeHelper.tree=a.AddTreeHelper.CreatRender("#addQuipment .PointCard","CheckAllAdd"+a.id,a.AddTreeHelper.tree,a.AddTreeHelper.onChange)},CreatRender:function(t,e,n,i){var r=a,o=(new fa).getHtml('<input type="checkbox" name="ckAll" lay-filter="'+e+'" lay-skin="primary" style="display:none;" title="'+M.$t("common.point.dymnic")+"\" value='All'/>","");L(""+t).append(o);var s=O.form;s.render("checkbox",""+e,"#addQuipment"),s.on("checkbox("+e+")",function(t){return t.othis.hasClass("layui-form-checked")?n.checkAll():n.unCheckAll(),!0});var l=new Qo(i,r.AddTreeHelper.onClick);return l.render(L(""+t).find(".rz-card-body")),n=l},LoadData:function(t){return Oh(a,void 0,void 0,function(){return Lh(this,function(e){switch(e.label){case 0:return[{alarmlevel:0,alarmlevelname:null,assortment:21,atten:null,atten_name:null,atten_tel:null,attr:null,bitnumber:null,category:null,code:"XX_气缸",controllevel:"1",depth:4,devicestate:null,devicetype:null,id:"594db099-21eb-42f8-a0d1-0b975a8456a3",limitingfreq:0,name:"1_气缸",nodeid:431,pagenum:null,pagesize:null,paraindexs:null,path:"1_气缸",pid:"d0f16346-dd0a-4399-bc5f-ac9affce7b01",pnodeid:420,power:0,runstate:null,seq:3,serverid:0,signaltype:0,state:null,treecode:null,type:1319458,typename:"Cylinder",visibility:!0}],[4,this.AddTreeHelper.tree.LoadData(t)];case 1:return e.sent(),[2]}})})}},a.chartName="DiagnosticAnalysisChart",a.Equipmentcontent=[],a.InitLayout(i),a.InitQuery(i),a}return kh(e,t),e.prototype.Dispose=function(){this.BaseDispose(),this.layout&&this.layout.Dispose(),this.layout=null,this.waveformChart&&this.waveformChart.Dispose(),this.specChart&&this.specChart.Dispose(),this.trendChartManage.Dispose(),this.specChart=null,this.waveformChart=null,this.trendChartManage=null,this.Equipmentcontent=null,ph.Clear(!1),this.pagination&&this.pagination.Dispose(),this.pagination=null,L(this.element).html(""),L(this.element).unbind(),this.element=null},e.prototype.Clear=function(){L(this.element).find("input[name='ckAll']").prop("checked",!1),O.form.render("checkbox","CheckAll"+this.id,"#right"+this.id+" "),this.waveformChart&&this.waveformChart.onAssetTypeNotSupport(null),this.specChart&&this.specChart.onAssetTypeNotSupport(null),this.trendChartManage.Clear(),this.trendChartManage.ClearMemortTableData(),this.pagination&&this.pagination.Dispose()},e.prototype.InitQuery=function(t){var e=this;void 0===t&&(t=null),L("#right"+this.id).append('<div class="addQuery" id = "addQuery" style="text-align: right;line-height: 25px;vertical-align: center;padding-right: 20px;cursor: pointer;height: 25px">\n             <span style="line-height: 20px;border: 1px solid #ccc;padding: 0 4px;">+</span>\n             </div>\n              '),L("#addQuery").click(function(){var n=e;U.open({type:1,title:"选择设备",area:["390px","390px"],maxmin:!0,offset:[],content:'<div class="addQuipment" id = "addQuipment"></div>',btn:"关闭全部",btnAlign:"c",shade:.5,yes:function(){U.closeAll(),L(n).click(),n.AddTreeHelper.getCheckedData().map(function(e){var i=new Eh("layui-collapse","设备2",null,e.id,t);n.Equipmentcontent.push(i);i.onAssetChange({deviceId:"47d2bb9c-7a07-43c3-8ec2-590ac485495e",assetId:" 3d005224-014c-4b87-adee-42eec4c6ed37"})})},zIndex:U.zIndex,success:function(t){n.AddTreeHelper.render(),n.AddTreeHelper.LoadData(n.deviceId)}})});var n=new Aa(Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),this.id);L("#right"+this.id).append('<div class="rightContent" style="overflow-y:auto;overflow-x:hidden;height:calc( 100% - 75px )">\n\t\t\t<div class="TimeRange" style=\'height:130px;width:100%;\'></div>\n\t\t\t<div class="layui-collapse" lay-accordion="test" id="layui-collapse"></div>\n\t\t</div>');var i=(new fa).getHtml(M.$t("leftbar.form.selecttime"),n.getHtml());L("#right"+this.id+" .TimeRange").append(i),n.Init();var a=new Eh("layui-collapse","设备",null,this.id,t);this.Equipmentcontent.push(a),L("#right"+this.id).append('<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;height:30px\'>\n\t\t<button class="layui-btn layui-btn-sm" lay-submit="" id="btnQuery'+this.id+'">'+M.$t("btn.ok")+"</button>\n</div>");var r=this;L("#btnQuery"+this.id).click(function(){var t=L("#Stime"+r.id).val(),e=L("#Etime"+r.id).val();if(new Date(t)>new Date(e))return O.layer.msg(M.$t("tip.error.time")),!1;var n={pointList:[],renderList:{stime:t,etime:e,list:[]}};r.Equipmentcontent.map(function(t){var e=t.GetQuerylist();n.pointList=n.pointList.concat(e.pointList),n.renderList.list=n.renderList.list.concat(e.renderList.list)}),r.trendChartManage.Clear(),r.renderList=n.renderList;var i=n.pointList;r.RenderPagination(i)})},e.prototype.QuerySubmit=function(t,e,n,i,a,r,o){var s=[],l=L(".IndexTab").find(".layui-this").attr("data-id");l===Ch.TimeIndex&&i&&i.map(function(t){n&&n.map(function(e){if((t.points&&t.points.indexOf(e.data.ID)>=0||"-1"===t.points[0])&&Object(tn.f)(e.data.type)){var n=new xh;n.assetId=e.data.id,n.indexCode=t.value,n.name=e.data.name,e.pdata?n.path=e.pdata.name+"/"+e.data.name+"/"+t.name:n.path=e.data.name+"/"+t.name,n.indexType=Ch.TimeIndex,s.push(n)}})}),l===Ch.SamplingIndex&&(o&&o.map(function(t){n&&n.map(function(e){if(Object(tn.e)(e.data.type)){var n=new xh;n.assetId=e.data.id,n.indexCode=t.IndexCode,n.path=e.data.name+" "+t.IndexName,n.name=e.data.name,n.indexType=Ch.SamplingIndex,s.push(n)}})}),0==s.length&&o&&o.length>0)||(l===Ch.EigenvalueIndex&&(a&&a.map(function(t){n&&n.map(function(e){if(Object(tn.e)(e.data.type)&&t.points&&t.points.indexOf(e.data.id)>=0){var n=new xh;n.assetId=e.data.id,n.name=e.data.name+" "+t.IndexName,n.indexCode=t.IndexCode,n.path=e.data.name+" "+t.IndexName,n.indexType=Ch.EigenvalueIndex,s.push(n)}})}),0==s.length&&a&&a.length),r&&r.length>0&&r.map(function(t){if(t.data.ID){var e=new xh;e.assetId=t.data.ID,e.indexCode=t.data.ID,e.path=t.data.NodeName,e.name=t.data.NodeName,e.indexType=Ch.ProPoint,s.push(e)}}),this.trendChartManage.Clear(),this.renderList={stime:t,etime:e,list:s},this.RenderPagination(s))},e.prototype.ReRenderPage=function(){L(this.element).find(".layui-laypage-curr").click()},Fh([Object(f.a)()],e.prototype,"Dispose",null),Fh([Object(f.a)()],e.prototype,"Clear",null),e}(J),Ph=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rh=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.chartName="OilParticlesTrend",i.Path="OilParticlesTrend",i.lastQueryArgs={granulesSize:null,granulesType:null,stime:null,etime:null},i.Resize=function(){i.chartList&&Object.keys(i.chartList).map(function(t){i.chartList[t].Resize()}),i.staticsChart.Resize(),i.staticsPieChart.Resize()},i.onAssetTypeNotSupport=function(t){Object.keys(i.chartList).map(function(t){i.chartList[t].Clear(),i.staticsChart&&i.staticsChart.Clear(),i.staticsPieChart&&i.staticsPieChart.Clear(),i.ClearChart(i.chartList[t]),i.chartList[t].layout.UpdateHelperInfo({path:i.Path})})},i.onAssetChange=function(t){if(t.assetType&&q.a.AllowChartConfig[i.chartName]&&q.a.AllowChartConfig[i.chartName].indexOf(t.assetType)<0)try{i.onAssetTypeNotSupport(null)}catch(t){}else i.GetMaindata(i.lastQueryArgs),Object.keys(i.chartList).map(function(t){i.chartList[t].layout.UpdateHelperInfo({path:i.Path})})},i.InitLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"left",children:[{id:"top1"},{id:"top2"},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}]},{id:"right"}],t.splitConfig=[{ids:["left","right"],size:[80,20],gutterAlign:"end",callBack:i.Resize,collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None},{ids:["top1","top2","bottom"],callBack:function(){i.Resize()},isVertical:!0},{ids:["bottom1","bottom2"],size:[65,35],callBack:function(){i.Resize()},isVertical:!1}],new va(t,i.id).render(i.element)},i.InitQueryCard=function(){L("#right"+i.id).append('<div  class="layui-form" id=\'Query'+i.id+'\' action="" style="overflow-y:auto;overflow-x:hidden;height:calc( 100% - 50px )"></div>');var t=new Aa(Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),i.id);L("#right"+i.id+" .layui-form").append("<div class=\"TimeRange\" style='height:130px;width:100%;'></div>");var e=(new fa).getHtml(M.$t("leftbar.form.selecttime"),t.getHtml());L("#right"+i.id+" .TimeRange").append(e),t.Init(),L("#right"+i.id+" .layui-form").append("<div class=\"fwhtml\" style='height:200px;width:100%;'></div>");var n='<div id="Granules'+i.id+'" style=\'\'>\n        <div class="layui-form-item" style="padding-left:5px;padding-right:5px;">\n           <div class="layui-form-customline" style="width: 56px;padding: 0;float:left;">'+M.$t("Size of Granules")+'</div> \n            <div class="layui-form-customline" style="width: calc(100% - 66px);margin-right: 0;padding-right: 0;"> \n                <select name="GranulesSize" id="GranulesSize'+i.id+'">\n                <option value="0" selected="">'+M.$t("Granules All")+'</option>\n                <option value="1">'+M.$t("Size Large")+'</option>\n                <option value="2">'+M.$t("Size Middle")+'</option>\n                <option value="3">'+M.$t("Size Small")+'</option>\n            </select>\n           </div>\n        </div>\n         <div class="layui-form-item" style="padding-left:5px;padding-right:5px;">\n           <div class="layui-form-customline" style="width: 56px;padding: 0;float:left;">'+M.$t("Type of Granules")+'</div> \n            <div class="layui-form-customline" style="width: calc(100% - 66px);margin-right: 0;padding-right: 0;"> \n                <select name="GranulesType" id="GranulesType'+i.id+'">\n                <option value="0" selected="">'+M.$t("Granules All")+'</option>\n                <option value="1">'+M.$t("Type Fe")+'</option>\n                <option value="2">'+M.$t("Type Non-Fe")+"</option>\n                </select>\n           </div>\n        </div>\n        </div>",a=(new fa).getHtml(M.$t("Selection of Granules"),n);L("#right"+i.id+" .fwhtml").append(a),O.form.render(),L("#right"+i.id+" .layui-form").append("<div class=\"resethtml\" style='height:80px;width:100%;'></div>");var r='<div id="reset'+i.id+'" style=\'text-align: center;height:30px\'>\n            <button class="layui-btn layui-btn-sm" id="btnReset'+i.id+'">'+M.$t("Btn Reset")+"</button>\n        </div>",o=(new fa).getHtml(M.$t("Reset Oil Granules Size"),r);L("#right"+i.id+" .resethtml").append(o),L("#right"+i.id).append('<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 1px solid #ccc;height:30px\'>\n             <button class="layui-btn layui-btn-sm" lay-filter="demo1" lay-submit="" id="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n            </div>");var s=i;L("#btnQuery"+i.id).click(function(t){var e=L("#Stime"+s.id).val(),n=L("#Etime"+s.id).val(),i=L("#GranulesType"+s.id).val(),a=L("#GranulesSize"+s.id).val();if(new Date(e)>new Date(n))return O.layer.msg(M.$t("tip.error.time")),!1;s.onQuerySubmit&&s.onQuerySubmit(i,a,e,n)}),L("#btnReset"+i.id).click(function(){U.confirm(M.$t("Clear Operation Confirm"),{btn:[M.$t("cascade.loadbtn.yes"),M.$t("cascade.loadbtn.no")],title:M.$t("layui.layer.tip.title")},function(t){s.reset(),U.close(t)})})},i.onQuerySubmit=function(t,e,n,a){i.lastQueryArgs={granulesSize:e,granulesType:t,stime:n,etime:a},i.GetMaindata(i.lastQueryArgs)},i.reset=function(){var t=i.assetId;Si.ResetOilParticlesDate(t).then(function(t){t?(O.layer.msg(M.$t("operation succeed")),i.GetMaindata(i.lastQueryArgs)):O.layer.msg(M.$t("operation failed"))})},i.Path=n,i.chartList={},i.InitLayout(),i.InitQueryCard(),i.InitChart(),i}return Ph(e,t),e.prototype.Dispose=function(){var t=this;this.BaseDispose(),this.staticsChart&&this.staticsChart.Dispose(),this.staticsPieChart&&this.staticsPieChart.Dispose(),Object.keys(this.chartList).map(function(e){t.chartList[e].Dispose()}),L(this.element).remove(),this.element=null},e.prototype.ClearChart=function(t){t.Clear(),t.layout.UpdateHelperInfo({MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})},e.prototype.GetMaindata=function(t){var e=this,n=this.deviceId,i=this.assetId,a=this.devicePath,r={deviceId:n,pointID:i,MinDate:Object(f.d)(t.stime,"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 00:00:00"),MaxDate:Object(f.d)(t.etime,"YYYY-MM-DD HH:mm:ss")||Object(f.d)(new Date,"YYYY-MM-DD 23:59:59"),GranulesSize:t.granulesSize||0,GranulesType:t.granulesType||0};if(n&&a){var o=[];try{Si.FetchOilParticlesTrend(r).then(function(t){for(var n=t.data.Datas,i=[],a=0;a<n.length;a++)i.push([Object(f.e)(n[a].MeasDate),n[a].MeasValue]);e.chartList.Trend.render([i],"","")})}catch(t){this.chartList.Trend.render([],"","")}try{Si.FetchDailyOilParticlesTrend(r).then(function(t){for(var n=t.data.Datas,i=[],a=0;a<n.length;a++)i.push([Object(f.e)(n[a].MeasDate),n[a].MeasValue]);e.chartList.DailyTrend.render([i],"","")})}catch(t){this.chartList.DailyTrend.render([],"","")}try{Si.FetchOilParticleStaticData(r).then(function(t){var n=[];t.data.Datas.map(function(t){n.push([t.InstrCode,t.MeasValue])});var i={series:[{name:"颗粒度",data:n}]};e.staticsChart.render(o,"","",i),e.staticsPieChart.render(o,"","",i)})}catch(t){this.staticsChart.render([],"",""),this.staticsPieChart.render([],"","")}}},e.prototype.InitChart=function(){var t=this;this.chartList={};[{id:"top1"+this.id,position:Yt.Last,chartName:M.$t("Oil Particles Trend"),eachName:"Trend",xIsTime:!0},{id:"top2"+this.id,position:Yt.Last,chartName:M.$t("Oil Particles Daily Trend"),eachName:"DailyTrend",xIsTime:!0}].map(function(e){t.CreatChart(e.id,e.position,e.chartName,e.eachName,e.xIsTime)}),this.CreatColumnarChart(),this.CreatPieChart()},e.prototype.CreatColumnarChart=function(){var t=this,e=new qt(L("#bottom1"+this.id)[0],Yt.Last,{onMaxBtnClick:function(e){e?L("#right"+t.id).hide():L("#right"+t.id).show()}});e.layout._InitHelperInfo({chartName:M.$t("Columnar Chart Name"),path:this.Path,CurosrValue:""}),this.staticsChart=e,e.layout.toolBoxVisibility=!0,e.Init(),e.menuInstance.RemoveMenuItem("LockChart"),e.menuInstance.RemoveMenuItem("remark"),e.menuInstance.RemoveMenuItem("enableDynamicCursor"),this.staticsChart.GetBaseOptions=function(e,n,i,a,r){var o=[];return e&&e.series?o=e.series:t.data&&t.data.map(function(t){o.push({name:t.name,data:t.data})}),{chart:{type:"column"},title:{text:""},xAxis:{type:"category"},yAxis:{title:{text:""}},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},plotOptions:{column:{enableMouseTracking:!0,tooltip:{backgroundColor:"#FCFFC5",borderColor:"black",borderRadius:10,borderWidth:3,shadow:!0,animation:!0,style:{color:"#ff0000",fontSize:"12px",fontWeight:"blod",fontFamily:"Courir new"}},dataLabels:{enabled:!0}}},series:o}}},e.prototype.CreatPieChart=function(){var t=this,e=new qt(L("#bottom2"+this.id)[0],Yt.Last,{onMaxBtnClick:function(e){e?L("#right"+t.id).hide():L("#right"+t.id).show()}});e.layout._InitHelperInfo({chartName:M.$t("Pie Chart Name"),path:this.Path,CurosrValue:""}),e.chartConfig.xIsTime=!0,e.chartConfig.isAllowMaxBtn=!1,this.staticsPieChart=e,e.layout.toolBoxVisibility=!1,e.Init(),e.menuInstance.RemoveMenuItem("LockChart"),e.menuInstance.RemoveMenuItem("remark"),e.menuInstance.RemoveMenuItem("enableDynamicCursor"),this.staticsPieChart.GetBaseOptions=function(e,n,i,a,r){var o=[];return e&&e.series?o=e.series:t.colData&&t.colData.map(function(t){o.push({name:t.name,data:t.data})}),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:""},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},accessibility:{point:{valueSuffix:"%"}},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}: {point.percentage:.1f}%"}},pie:{enableMouseTracking:!0,tooltip:{backgroundColor:"#FCFFC5",borderColor:"black",borderRadius:10,borderWidth:3,shadow:!0,animation:!0,style:{color:"#ff0000",fontSize:"12px",fontWeight:"blod",fontFamily:"Courir new"},pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},showInLegend:!0}},series:o}}},e.prototype.CreatChart=function(t,e,n,i,a){var r=this,o=new qt(L("#"+t)[0],e,{onMaxBtnClick:function(t){t?L("#right"+r.id).hide():L("#right"+r.id).show()}});o.layout._InitHelperInfo({chartName:n,path:this.Path,CurosrValue:""}),o.ChartKeys=["x","y"],o.chartConfig.xIsTime=a,o.chartConfig.isAllowMaxBtn=!0,this.chartList[i]=o,o.Init()},e}(J),Hh=function(){return(Hh=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Qh=function(){function t(){this.value="",this.RadioSelect=function(t){}}return t.prototype.Dispose=function(){L(this._elem).html("")},t.prototype.render=function(t,e,n,i,a){if(this._elem=t,this.name=n,e&&0!=e.length){var r="";e&&e.map(function(t,e){r+='<input type="radio" lay-filter="Radio'+n.replace(/\s*/g,"")+'" \n\t\t\tname="'+n.replace(/\s*/g,"")+'" value="'+t[i]+'" title="'+t[a]+'" '+(0===e?" checked='' ":" ")+">"}),r="<div action='' class=\"layui-form\">"+r+"</div>",L(t).append(r);var o=O.form;o.render();var s=this;e.length>0&&(s.value=e[0][i],s.RadioSelect(Hh(Hh({},e),{RadioName:n}))),o.on("radio(Radio"+n.replace(/\s*/g,"")+")",function(t){s.value=t.value;var e=s.name;s.RadioSelect(Hh(Hh({},t),{RadioName:e})),o.render()})}},t}(),_h=function(){return(_h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Nh=function(){function t(){var t=this;this.ElectricGroupList={},this.GroupValue={},this.GetStateCount=function(){var e=0,n=t;return Object.keys(t.ElectricGroupList).map(function(t){""!=n.ElectricGroupList[t].value&&(e++,n.GroupValue[n.ElectricGroupList[t].name]=n.ElectricGroupList[t].value)}),e},this.RadioGroupSelect=function(e){var n=t.GetStateCount();t.RadioGroupSelectDo(_h(_h({},e),{Count:n,GroupValue:t.GroupValue}))},this.RadioGroupSelectDo=function(t){}}return t.prototype.Dispose=function(){L(this._elem).html("")},t.prototype.render=function(t,e,n,i){this._elem=t,!e||e.length;var a="";e&&e.map(function(t,e){a+='<fieldset class="layui-elem-field">\n                    <legend style="width: auto;margin-bottom: 0">'+t.name+'</legend>\n                    <div id="Item'+t.id+'" class="bar_radio_list" style="margin:0 0 0 10px"></div>\n                </fieldset>\n                '});var r=this;L(t).append(a),e&&e.map(function(t,e){var a=new Qh;a.render("#Item"+t.id,t.list||[],t.name,n,i),a.RadioSelect=r.RadioGroupSelect,r.ElectricGroupList[t.name]=a,r.RadioGroupSelect(t.list[0])})},t}(),jh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yh=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},zh=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Gh=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Dispose=function(){i.BaseDispose(),i.Clear(),i.chartList&&i.chartList.map(function(t){return t.Dispose()}),i.chartList=null,i.chartLayout&&i.chartLayout.Dispose(),i.SelectGroupList&&i.SelectGroupList.Dispose(),i.table=null},i.Phase=f.B?["A Phase","B Phase","C Phase"]:["A相","B相","C相"],i.chartName="CurrentVoltageAnalysis",i.Resize=function(){i.chartList&&i.chartList.map(function(t){return t.Resize()})},i.chartList=[],i.table=null,i.timeIndexDatas=null,i.InitChart=function(){var t=new qt("left1"+i.id,Yt.Last,{onMainCursorMoved:function(t,e,n,a){i.onMainCursorMoved(t,e,n,a)}});t.layout._InitHelperInfo({path:"",CurosrValue:""}),t.chartConfig.xIsTime=!0,t.chartConfig.isAllowMaxBtn=!0,t.menuInstance.RemoveMenuItem("LockChart"),t.Init();var e=i;t.getSelectedText=function(e){try{for(var n=[],i=t.hchartInstance.series,a=0;a<i.length;a++)1==i[a].visible&&n.push(a);var r=t.data[t.selectedYIndex][t.selectedXIndex],o=t.hchartInstance.series[t.selectedYIndex].options;n.length>0&&n.length<3&&n.indexOf(t.selectedYIndex)<0&&(r=t.data[n[0]][t.selectedXIndex],o=t.hchartInstance.series[n[0]].options),"°"===t.xUtils&&(r[0]=(r[0]%360).toFixed(3)),r=r.concat([]);var s={rate:1,unit:t.xUtils};t.chartConfig.convertUnit&&(s=Object(f.b)(t.xUtils)),t.xUtils=s.unit,t.chartConfig.xIsTime?r[0]=Object(f.r)(r[0]):r[0]=(r[0]*s.rate).toFixed(3);var l="";return l=o.name+"  "+r[0]+t.xUtils+"，"+r[1].toFixed(3)+(o.units||""),t.cursorList&&t.cursorList.length>0&&t.cursorList.forEach(function(t){t.GetSelectText&&(l+=t.GetSelectText(e))}),l}catch(t){return""}};var n=new qt("left2"+i.id,Yt.First,{});n.chartConfig.xIsTime=!1,n.getSelectedText=function(t){try{for(var e=[],i=n.hchartInstance.series,a=0;a<i.length;a++)1==i[a].visible&&e.push(a);var r=n.data[n.selectedYIndex][n.selectedXIndex],o=n.hchartInstance.series[n.selectedYIndex].options;e.length>0&&e.length<3&&e.indexOf(n.selectedYIndex)<0&&(r=n.data[e[0]][n.selectedXIndex],o=n.hchartInstance.series[e[0]].options),"°"===n.xUtils&&(r[0]=(r[0]%360).toFixed(3)),r=r.concat([]);var s={rate:1,unit:n.xUtils};n.chartConfig.convertUnit&&(s=Object(f.b)(n.xUtils)),n.xUtils=s.unit,n.chartConfig.xIsTime?r[0]=Object(f.r)(r[0]):r[0]=(r[0]*s.rate).toFixed(3);var l="";return l=o.name+"  "+r[0]+n.xUtils+"，"+r[1].toFixed(3)+(o.units||""),n.cursorList&&n.cursorList.length>0&&n.cursorList.forEach(function(e){e.GetSelectText&&(l+=e.GetSelectText(t))}),l}catch(t){return""}},n.layout._InitHelperInfo({path:"",CurosrValue:""}),n.chartConfig.isAllowMaxBtn=!0,n.chartConfig.showXAxisMaxLabel=!0,n.menuInstance.RemoveMenuItem("LockChart"),n.menuInstance.AddMenuItem("WaveIndex"+e.id,M.$t("menu.timedomaincriteria"),function(){var t="<div id='WaveIndex"+e.id+'\' style="width:400px;height:480px"> \n      <table lay-size="sm" id=\'WaveIndexTable'+e.id+'\'class="layui-table layui-form layui-anim"></table>\n    </div>';U.prompt({shade:0,title:M.$t("menu.timedomaincriteria"),formType:2,content:t,btn:[]},function(t,n){e.table&&(e.table=null)});var n=O.treeTable,i=O.form;e.table=n.render({elem:"#WaveIndexTable"+e.id,icon_key:"indexName",primary_key:"id",parent_key:"pid",is_checkbox:!1,top_value:0,hide_class:"layui-hide",is_click_icon:!0,data:e.timeIndexDatas,page:!1,is_open:!0,end:function(t){i.render()},cols:[{key:"indexName",title:M.$t("datatable.title.indexname"),align:"left",template:function(t){return""+t.indexName}},{key:"indexValue",align:"left",title:M.$t("datatable.title.indexvalue"),template:function(t){return 0===t.pid?"":""+(t.indexValue?(Math.round(1e3*t.indexValue)/1e3).toFixed(3):"0.000")}}]})}),n.Init();var a=new qt("left3"+i.id,Yt.First,{});a.registeredCursor([new Rr(a,!1,!0,!0,!0),new Qr(a,null,null,!1,!0,!0,!0)]),a.chartConfig.xIsTime=!1,a.chartConfig.showXAxisMaxLabel=!0,a.getSelectedText=function(t){try{for(var e=[],n=a.hchartInstance.series,i=0;i<n.length;i++)1==n[i].visible&&e.push(i);var r=a.data[a.selectedYIndex][a.selectedXIndex],o=a.hchartInstance.series[a.selectedYIndex].options;e.length>0&&e.length<3&&e.indexOf(a.selectedYIndex)<0&&(r=a.data[e[0]][a.selectedXIndex],o=a.hchartInstance.series[e[0]].options),"°"===a.xUtils&&(r[0]=(r[0]%360).toFixed(3)),r=r.concat([]);var s={rate:1,unit:a.xUtils};a.chartConfig.convertUnit&&(s=Object(f.b)(a.xUtils)),a.xUtils=s.unit,a.chartConfig.xIsTime?r[0]=Object(f.r)(r[0]):r[0]=(r[0]*s.rate).toFixed(3);var l="";return l=o.name+"  "+r[0]+a.xUtils+"，"+r[1].toFixed(3)+(o.units||""),a.cursorList&&a.cursorList.length>0&&a.cursorList.forEach(function(e){e.GetSelectText&&(l+=e.GetSelectText(t))}),l}catch(t){return""}},a.layout._InitHelperInfo({path:"",CurosrValue:""}),a.chartConfig.isAllowMaxBtn=!0,a.GetYUnit=function(t){return(t?"["+t+"]":"")+Object(f.j)(t)},a.menuInstance.RemoveMenuItem("LockChart"),a.menuInstance.AddMenuItem("TotalSpecType"+i.id,M.$t("menu.totalspec.configtitle"),function(){var t="<div class='"+(f.B&&"RZGraph-TotalSpec-Config-En")+" RZGraph-TotalSpec-Config' id='TotalSpecTypeForm"+e.id+"' style=\"width:"+(f.B?"300px":"250px")+';height:300px"></div>';U.prompt({title:M.$t("menu.totalspec.configtitle"),content:t,btn:null}),new $o("TotalSpecTypeForm"+e.id,e.id).Init()}),a.Init(),i.addEvent("onTotalSpecConfigChange",function(t){i.renderSpecChart(i.lastDataKey)}),i.chartList.push(t),i.chartList.push(n),i.chartList.push(a)},i.renderQueryInfo=function(){L("#right"+i.id).append('<div  class="layui-form" id=\'Query'+i.id+'\' action="" style="overflow-y:auto;overflow-x:hidden; )"></div>');var t=new Aa(Object(f.d)(new Date,"YYYY/MM/DD 00:00"),Object(f.d)(new Date,"YYYY/MM/DD 23:59"),i.id);L("#right"+i.id+" .layui-form").append("<div class=\"TimeRange\" style='height:130px;width:100%;'></div>");var e=(new fa).getHtml(M.$t("leftbar.form.selecttime"),t.getHtml());L("#right"+i.id+" .TimeRange").append(e),t.Init(),L("#right"+i.id+" .layui-form").append("<div id='crad2"+i.id+'\' style=""></div>');var n=new Nh;i.SelectGroupList=n,i.SelectGroupList.RadioGroupSelectDo=function(t){M.$t("Phase Measure Point Selection"),t.key||t.value;L("#crad2"+a.id).find(".layui-anim layui-icon").trigger("click")},L("#right"+i.id).append('<div class="layui-form-item" style=\'padding-top: 10px;text-align: center;border-top: 0px solid #ccc;height:30px\'>\n\t\t<button class="layui-btn layui-btn-sm" lay-submit="" id="btnQuery'+i.id+'">'+M.$t("btn.ok")+"</button>\n</div>");var a=i;L("#btnQuery"+i.id).click(function(){var t=L("#Stime"+a.id).val(),e=L("#Etime"+a.id).val();if(new Date(t)>new Date(e))return O.layer.msg(M.$t("tip.error.time")),!1;if(a.SelectGroupList.GroupValue[M.$t("Phase Measure Point Selection")]){var n=a.SelectGroupList.GroupValue[M.$t("Phase Measure Point Selection")].split("&");n.pop(),a.QuerySubmit(t,e,n)}})},i.CreateLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=new ga;t.items=[{id:"left",children:[{id:"left1"},{id:"left2"},{id:"left3"}]},{id:"right"}],t.splitConfig=[{ids:["left","right"],callBack:function(){i.Resize()},collapseBtnOpen:!0,collapseAlign:yi.Right,defaultCollapseAlign:yi.None,size:[80,20],isVertical:!1},{ids:["left1","left2","left3"],callBack:function(){i.Resize()},size:[30,40,30],isVertical:!0}];var e=new va(t,i.id);e.render(i.element),i.chartLayout=e},i.Clear=function(){i.RemoveSpeedFrequency(),i.chartList&&i.chartList.map(function(t){return t.Clear()})},i.onAssetChange=function(t){i.lastDeviceId!==i.deviceId&&(i.Clear(),i.SelectGroupList.Dispose(),i.SelectGroupList.GroupValue={},i.lastDeviceId=i.deviceId,i.chartList[0].layout.UpdateHelperInfo({path:t.devicePath||""}),i.deviceId&&i.GetPoints(i.deviceId))},i.GetPoints=function(t){var e=i;Si.FetchElectricPointsGroup(t).then(function(t){var n=t.data,a=[{id:e.id,name:M.$t("Phase Measure Point Selection"),list:[]}];n.map(function(t){var n=f.B?t.GroupName:"three phases voltage"===t.GroupName?"三相电压":"三相电流",i="";e.measDefs=t.MeasDefs,t.MeasDefs.map(function(t){i=i.concat(t.MeasDefGuid).concat("&")}),a[0].list.push({key:i,name:n+" "+t.MeasDefs[0].Name})}),i.SelectGroupList.render("#crad2"+i.id,a,"key","name"),L("#btnQuery"+i.id).trigger("click")})},i.onMainCursorMoved=function(t,e,n,a){return Yh(i,void 0,void 0,function(){var t,e,i,a=this;return zh(this,function(r){return this.RemoveSpeedFrequency(),t=this.chartList[0],e=t.hchartInstance.options.series,i=[],e&&e.map(function(e){try{var a=t.getMostIndexX(n[0],0,!1,e.data)[1][2];i.push({name:e.name,waveKey:a})}catch(t){}}),setTimeout(function(){a.renderVibWave(i)},0),setTimeout(function(){a.renderSpecChart(i)},0),[2]})})},i.renderSpecChart=function(t){return Yh(i,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h;return zh(this,function(d){switch(d.label){case 0:return e=[],(n=t)?(JSON.stringify(n)!==JSON.stringify(this.lastDataKey)&&(this.lastDataKey=n),i=this.chartList[0].hchartInstance.options.series[0].units,a=q.a.Units[i],o=Object(f.v)("TotalSpecConfig"),s=Object(f.l)(a),o?s&&o&&3==o[s].spec?(e=[],t&&t.map(function(t){e.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0))}),t&&2===t.length&&e.push(Si.FetchTwoPhaseLogarithmSpectrum(t[0].waveKey,t[1].waveKey,0,0))):(t&&t.map(function(t){e.push(Si.FetchSpectrum(t.waveKey,0,0))}),t&&2===t.length&&e.push(Si.FetchTwoPhaseSpectrum(t[0].waveKey,t[1].waveKey,0,0))):"voltage"===s||"current"===s?(e=[],t&&t.map(function(t){e.push(Si.FetchLogarithmSpectrum(t.waveKey,0,0))}),t&&2===t.length&&e.push(Si.FetchTwoPhaseLogarithmSpectrum(t[0].waveKey,t[1].waveKey,0,0))):(t&&t.map(function(t){e.push(Si.FetchSpectrum(t.waveKey,0,0))}),t&&2===t.length&&e.push(Si.FetchTwoPhaseSpectrum(t[0].waveKey,t[1].waveKey,0,0))),e.length>0?(this.chartList[2].Clear(),this.RemoveSpeedFrequency(),[4,Promise.all(e)]):[3,2]):(this.lastDataKey=n,[2]);case 1:r=d.sent(),l=this.formatDataWave(r,t,!0),c=r.map(function(t){return t.data.RunSpeed}),u=r[0].data.XUnit?r[0].data.XUnit:"",h=r[0].data.YUnit?r[0].data.YUnit:"",this.chartList[2].render(l.data,u,h,{series:l.series,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",margin:30,x:30,itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null),this.AddSpeedFrequency(c),d.label=2;case 2:return[2]}})})},i.renderVibWave=function(t){return Yh(i,void 0,void 0,function(){var e,n,i,a,r,o,s,l,c,u,h,d,p;return zh(this,function(f){switch(f.label){case 0:return e=this,n=[],i=Object(q.b)(!1),t&&t.map(function(t){n.push(Si.FetchOriginalVibWave(t.waveKey,0,0,"?AnalysisModel="+i))}),t&&2===t.length&&n.push(Si.FetchTwoPhaseOriginalVibWave(t[0].waveKey,t[1].waveKey,0,0,"?AnalysisModel="+i)),this.chartList[1].Clear(),(a=new st).Open(),[4,Promise.all(n)];case 1:r=f.sent(),f.label=2;case 2:return f.trys.push([2,4,,5]),o=this.formatDataWave(r,t),s=r[0].data.XUnit?r[0].data.XUnit:"",l=r[0].data.YUnit?r[0].data.YUnit:"",this.chartList[1].render(o.data,s,l,{series:o.series,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",margin:30,x:30,itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[4,Si.FetchCurrentVoltageAnalysisTimeIndex(t.map(function(t){return t.waveKey}))];case 3:if(c=f.sent(),u=[],c&&c.length){for(h=function(t){var n=c[t].data,i={id:e.Phase[t],pid:0,indexName:d.Phase[t],indexValue:""};u.push(i),null==n||n.forEach(function(n){u.push({id:e.Phase[t]+n.IndexCode,indexName:n.IndexName,pid:e.Phase[t],indexValue:n.IndexValue})})},d=this,p=0;p<c.length;p++)h(p);e.timeIndexDatas=u}return[3,5];case 4:return f.sent(),[3,5];case 5:return a.close(),[2]}})})},i.QuerySubmit=function(t,e,n){return Yh(i,void 0,void 0,function(){var i,a,r;return zh(this,function(o){switch(o.label){case 0:return this.Clear(),this,i=[],"0",n&&n.map(function(n){i.push(Si.FetchVibDatasByArgs(n,{mindate:t,maxdate:e,AnalysisModel:"0"}))}),[4,Promise.all(i)];case 1:return a=o.sent(),r=this.formatDataCombined(a),this.chartList[0].render(r.data,"","",{series:r.series,legend:{layout:"horizontal",align:"center",floating:!0,verticalAlign:"top",margin:30,x:30,itemStyle:{fontWeight:"bold",itemMarginBottom:0,itemMarginTop:0}}},null,null,null),[2]}})})},i.formatDataCombined=function(t){for(var e=Object(f.u)(),n=[],a=[],r=0;r<t.length;r++)if(t[r].data&&t[r].data.Datas){for(var o=t[r].data.Datas,s=[],l=o.length-1;l>=0;l--)s.push([Object(f.e)(o[l].MeasDate),o[l].MeasValue,o[l].WaveKey]);a.push(s),n.push({events:{legendItemClick:function(t){return!0}},turboThreshold:0,animation:!1,color:e[r],units:t[r].data.Unit,keys:["x","y","wavekey"],allowPointSelect:!1,enableMouseTracking:!1,name:i.Phase[r],data:s,lineWidth:1})}return{data:a,series:n}},i.formatDataWave=function(t,e,n){void 0===n&&(n=!1);for(var a=Object(f.u)(),r=[],o=[],s=0;s<t.length;s++){var l=t[s].data,c=[],u=[];if(l&&l.YData&&l.YData.length>0){for(var h=0,d=l.YData.length;h<d;h++)n&&0===h||u.push([h*l.XInterval,l.YData[h]]);c=Object(f.m)([u],t[s].data.YUnit)}o.push(c[0]),r.push({events:{legendItemClick:function(t){return!0}},turboThreshold:0,animation:!1,color:a[s],units:t[s].data.YUnit,keys:["x","y"],allowPointSelect:!1,enableMouseTracking:!1,name:i.Phase[s],data:c[0],lineWidth:1})}return{data:o,series:r}},i.CreateLayout(),i.renderQueryInfo(),i.InitChart(),i}return jh(e,t),e.prototype.AddSpeedFrequency=function(t){this.AddPowerFrequency(t);var e=this.chartList[2];if(Object(f.v)("RZ_DisplayFrequency"))for(var n=0;n<t.length;n++){var i=t[n];if(i&&0!=i){var a=i/60;if(e&&e.data&&e.data.length>0){var r=e.getMostIndexX(a,0,null,e.data[n]);if(r){var o={value:r[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:this.Phase[n]+" 1X",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};e.hchartHelper.AddLine("speedFrequency"+n,o)}}}}},e.prototype.RemoveSpeedFrequency=function(){for(var t=this.chartList[2],e=0;e<3;e++)t.hchartHelper.RemoveLine("speedFrequency"+e),t.hchartHelper.RemoveLine("ppfFrequency"+e),t.hchartHelper.RemoveLine("powerFrequency"+e);t.hchartHelper.RemoveLine("gongFrequency")},e.prototype.AddPowerFrequency=function(t){var e=this,n=this.chartList[2],i=0;if(n&&n.data&&n.data.length>0){for(var a=function(t){var e=n.data[t]||[],a=Number.MIN_SAFE_INTEGER,r=0;if(e.forEach(function(t,e){t[1]>a&&(a=t[1],r=e)}),i=e[r][0],a!==Number.MIN_SAFE_INTEGER){var o={value:i,color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"LF",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};n.hchartHelper.AddLine("powerFrequency"+t,o)}},r=0;r<n.data.length;r++)a(r);Si.FetchDeviceWorkSpec(this.deviceId).then(function(a){if(a&&a.data.length>0&&a.data[0].Data){var r=a.data[0].Data.electric_fundamental_frequency;if(r&&(c=n.getMostIndexX(r,0))){var o={value:c[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"工频",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};n.hchartHelper.AddLine("gongFrequency",o)}var s=a.data[0].Data.electric_pole_number;if("number"==typeof s&&"number"==typeof i)for(var l=0;l<n.data.length;l++){var c,u=t[l],h=2*i-u/60*s;if(c=n.getMostIndexX(h,0)){o={value:c[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:e.Phase[l]+" PPF",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};n.hchartHelper.AddLine("ppfFrequency"+l,o)}}}})}},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],e.prototype,"AddSpeedFrequency",null),e}(J),Vh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kh=function(){function t(t){var e=this;this.isOpen=!0,this.onRenderBefore=function(t){for(var n=t&&t.length>0?t[0]:[],i=0,a=0,r=0,o=n.length;r<o;r++)n[r][1]>i&&(i=n[r][1],a=r);e.calcHarmonicContent(n,i,a)},this.chart=t}return t.prototype.OpenCursor=function(){},t.prototype.CloseCursor=function(){},t.prototype.onInit=function(){var t=this.chart.element,e="_table"+Object(f.y)(),n=L('<div id="'+e+"\" style='\n    position: absolute;\n    right: 0;\n    top: 30px;\n    width: 200px;\n    height: 200px;\n    z-index: 2;\n'></div>");L(t).append(n);var i=new Ta;i.Create(e,null,[[{minWidth:100,field:"key",title:"名称",templet:function(t){return t.name}},{minWidth:60,field:"value",title:"值",templet:function(t){return Math.round(1e3*t.value)/1e3}}]],{page:!1}),this.table=i},t.prototype.onMainCursorMove=function(t){},t.prototype.onMainCursorMoved=function(t){},t.prototype.GetSelectText=function(t){return""},t.prototype.Dispose=function(){this.table.Dispose()},t.prototype.calcHarmonicContent=function(t,e,n){for(var i=[],a=2;a*n<t.length;a++){for(var r=n*a,o=Math.min(a+2,15),s=0,l=0,c=r-o;c<r+o;c++)t[c][1]>s&&(s=t[c][1],l=c);i.push({maxRange:s,maxRangeIndex:l,index:a})}var u=0,h=0,d=0,p=0,f=0,A=0;for(a=0;a<i.length;a++){var m=a+2,y=i[a].maxRange*i[a].maxRange/1e4;m%2==0?h+=y:u+=y,m%3==0&&(f+=y),m%3==1&&(d+=y),m%3!=2&&2!==m||(p+=y),A+=y}u=Math.sqrt(u),h=Math.sqrt(h),d=Math.sqrt(d),p=Math.sqrt(p),f=Math.sqrt(f),A=Math.sqrt(A);var g=[];g.push({name:"奇次谐波",value:u}),g.push({name:"偶次谐波",value:h}),g.push({name:"正序",value:d}),g.push({name:"负序",value:p}),g.push({name:"零序",value:f}),g.push({name:"总谐波",value:A});var v=this.chart.SamplingRate/2.56/t.length;for(a=0;a<i.length;a++){g.push({name:Math.floor(i[a].maxRangeIndex*v*1e3)/1e3+"Hz",value:t[i[a].maxRangeIndex][1]})}this.table.Update({data:g})},t.prototype.onClear=function(){this.table.Update({data:[]})},t}(),Wh=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var a=t.call(this,e,n)||this;a.AnalysisModel=0,a.Resize=function(){a.chart&&a.chart.Resize()},a.onWhenHidden=function(){if(a.chart)try{a.chart.data=[[]],a.chart.hchartInstance.destroy()}catch(t){}},a.onTemporaryDataClick=function(t){if("CurrentHarmonicDistortion"===a.chartName){var e=t.WaveKey,n=void 0===e?void 0:e,i=t.deviceId,r=void 0===i?void 0:i,o=t.AnalysisModel,s=void 0===o?void 0:o;a.onAssetTypeNotSupport(),a.chart.layout.UpdateHelperInfo({path:""}),n&&(a.lastDataKey=n,a.assetType=11,a.LoadData(n,r||a.deviceId,s||0))}},a.onAssetTypeNotSupport=function(t){if(void 0===t&&(t=null),!a.chart.isLockChart)try{a.lastDataKey=null,a.chart.Clear();var e=t&&!1===t.UpdatePath?"":a.Path;a.chart.layout.UpdateHelperInfo({path:e,MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""})}catch(t){}},a.onAssetChange=function(){a.chart.isLockChart||(a.lastDataKey=null,a.onAssetTypeNotSupport(null),a.chart.layout.UpdateHelperInfo({path:a.Path}))},a.DataKey="",a.LoadData=function(t,e,n){var i=a,r=a.chart;e&&Si.FetchDeviceWorkSpec(e).then(function(a){if(a&&a.data.length>0&&a.data[0].Data){var o=a.data[0].Data.electric_fundamental_frequency;o&&o>0&&Si.FetchCurrentHarmonicDistortionData(t,e,o,n,function(t){var e=t.data;r.RemarkContent=e.Description,r.layout.UpdateHelperInfo({MeasValue:(null!==e.MeasValue?e.MeasValue.toFixed(3):"")+(e.YUnit?e.YUnit:""),RotatingSpeed:e.RunSpeed,MeasTime:e.MeasDate});for(var n=[],i=0,a=0,o=e.YData.length;a<o;a++)n.push([a*e.XInterval,e.YData[a]]),e.YData[a]>i&&(i=e.YData[a],a);r.SamplingRate=e.SamplingRate,r.render([n],e.XUnit,e.YUnit)},function(){i.onAssetTypeNotSupport(null)})}})},a.onTrendChange=function(t,e){if(void 0===e&&(e=!1),!a.chart.isLockChart){var n=a,i=t.WaveKey,r=t.deviceId,o=t.AnalysisModel||0;if(!i)return n.lastDataKey=i,void n.onAssetTypeNotSupport(null);(i!=n.lastDataKey||e)&&(n.lastDataKey=i,n.onAssetTypeNotSupport(null),a.DataKey=i,a.deviceId=r,a.AnalysisModel=o,a.LoadData(i,r,o),a.speedFrequency1=t.RunSpeed/60)}},a.chartName="CurrentHarmonicDistortion",a.chart=new qt(e,Yt.First,{onMaxBtnClick:function(){o.Resize()}}),a.chart.registeredCursor([new Rr(a.chart,!1,!0,!0,!0),new Qr(a.chart,null,null,!1,!0,!0,!0),new Kh(a.chart)]);var r=a.chart;r.layout._InitHelperInfo({path:a.Path||"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),r.chartConfig.isAllowMaxBtn=i;var o=a;return r.GetYUnit=function(t){return t},r.Init(),a.chart=r,a}return Vh(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chart&&this.chart.Dispose()}catch(t){}},e}(J),Xh=function(){function t(t,e){var n=this;this.MoveCallback=null,this.isMoveCallback=!1,this.shouldAddMeun=!0,this.shouldAddToolBox=!0,this.onDoubleCursorLock=function(){n.LockDoubleCursor=!n.LockDoubleCursor;var t=n.chart.getDataBySelectedIndex(),e=n.DoubleCursorValue;n.LockDoubleCursorValue=t[0]-e},this.chart=t;var i=e||{},a=i.isOpen,r=i.onDoubleCursorMoved,o=i.onClose,s=i.onDoubleCursorMove,l=i.LockDoubleCursorValue,c=i.LockDoubleCursor,u=i.shouldAddMeun,h=i.shouldAddToolBox,d=void 0===h||h,p=i.onOpen;this.isOpen=a,this.DoubleCursorValue=0,this.LockDoubleCursor=c,this.LockDoubleCursorValue=l,this.onDoubleCursorMove=s,this.onDoubleCursorMoved=r,this.shouldAddMeun=u,this.shouldAddToolBox=d,this.onClose=o,this.onOpen=p}return t.prototype.onInit=function(){this.AddToolBox()},t.prototype.Dispose=function(){this.chart=null,this.LockDoubleCursorValue=null,this.DoubleCursorValue=null},t.prototype.getT=function(){try{var t=this.chart.data[this.chart.selectedYIndex][this.chart.selectedXIndex][0];return Math.round(1e3*Math.abs(t-this.DoubleCursorValue))/1e3}catch(t){return 0}},t.prototype.GetSelectText=function(t){return""},t.prototype.OpenCursor=function(t){if(void 0===t&&(t=!0),this.isOpen||(this.isOpen=!0),this.chart.hchartInstance||this.chart.verifyData(this.chart.data)){if(!this.LockDoubleCursor&&t)try{var e=this.chart.hchartInstance.xAxis[0].min;if(e){var n=this.chart.getMostIndexX(e,0,!0,this.chart.data[0]);this.DoubleCursorValue=n[1][0]}else this.DoubleCursorValue=0}catch(t){this.DoubleCursorValue=0}var i=this.DoubleCursorValue<0?0:this.DoubleCursorValue;i>this.chart.hchartInstance.xAxis[0].dataMax&&(i=this.chart.hchartInstance.xAxis[0].dataMax),this.chart.hchartHelper.AddDoubleCursor(i,0,this);var a=this.chart.getMostIndexX(this.DoubleCursorValue,0,!1,this.chart.data[0]);a&&(this.DoubleCursorValue=a[1][0],this.chart.hchartHelper.AddPoint("DoubleCursorPoint",a[1][0],a[1][1]),this.chart.MoveMainCursor(!1,!0,!1,!1,!1))}},t.prototype.CloseCursor=function(t){void 0===t&&(t=!0),this.isOpen=!1,this.DoubleCursorValue=0,this.chart.hchartHelper.RemoveDoubleCursor(),this.chart.hchartHelper.RemovePoint("DoubleCursorPoint"),this.chart.MoveMainCursor(!1,!0,!1,!1,!1),t&&this.onClose&&this.onClose()},t.prototype.AddMeun=function(){if(this.shouldAddMeun){var t=this;this.chart.menuInstance.AddMenuItem("doubleCursor"+this.chart.id,M.$t("menu.vernier.lockdouble"),function(){t.isOpen&&(t.onDoubleCursorLock(),L("#doubleCursor"+t.chart.id+" .menu-item-name").html(t.LockDoubleCursor?M.$t("menu.vernier.canclelockdouble"):M.$t("menu.vernier.lockdouble")))})}},t.prototype.AddToolBox=function(){var t=this;this.shouldAddToolBox&&this.chart.layout.AddToolBoxItem(n(85),n(85),"细分分析",function(){t.isMoveCallback=!1,t.onOpen&&t.onOpen(),t.OpenCursor()},function(){t.CloseCursor()},!1,"DetailedAnalysisCursor")},t.prototype.onMainCursorMove=function(t){t&&"DoubleCursor"==t.source||this.isOpen&&this.LockDoubleCursor&&(this.DoubleCursorValue=this.chart.GetSelectedXY()[0]-this.LockDoubleCursorValue,this.OpenCursor())},t.prototype.onMainCursorMoved=function(){if(this.isOpen&&this.LockDoubleCursor&&(this.DoubleCursorValue=this.chart.GetSelectedXY()[0]-this.LockDoubleCursorValue,this.OpenCursor()),this.isOpen){var t=this.chart.getDataBySelectedIndex();if(t){var e=this.DoubleCursorValue,n=t[0]-e;this.DoubleCursorValue=this.chart.GetSelectedXY()[0]-n,this.OpenCursor(!1)}}},t.prototype.onCursorMove=function(t){var e=this.chart.getMostIndexX(t,0,!1,this.chart.data[0]);if(this.DoubleCursorValue=e[1][0],this.chart.hchartHelper.AddPoint("DoubleCursorPoint",e[1][0],e[1][1]),this.LockDoubleCursor){var n=this.chart.getMostIndexX(t+this.LockDoubleCursorValue,0,!1,this.chart.data[0]);this.chart.selectedXIndex=n[0],this.chart.MoveMainCursor(!0,!0,!0,!0,!0,{source:"DoubleCursor"})}else this.chart.UpdateMainCursorLabel();this.onDoubleCursorMove&&this.onDoubleCursorMove(t),this.chart.updateHelperInfo()},t.prototype.onCursorMoveEnd=function(t){this.chart.hchartHelper.AddDoubleCursor(this.DoubleCursorValue,0,this),this.onDoubleCursorMoved&&this.onDoubleCursorMoved(t)},t.prototype.onClear=function(){},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],t.prototype,"OpenCursor",null),t}(),qh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jh=function(t,e,n,i){function a(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?n(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})},Zh=function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};!function(t){t.SourceWaveChart="1",t.SpecChart="2",t.SolutionRootChart="3",t.SolutionRootSpecChart="4"}(dh||(dh={}));var $h=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Resize=function(){var t;null===(t=i.chartObj)||void 0===t||t.forEach(function(t){t.Resize()})},i.chartName="SolutionRootChart",i.chartObj=new Map,i.onAssetTypeNotSupport=function(t){var e;void 0===t&&(t=null);try{var n=i;i.waveKey="",null===(e=i.chartObj)||void 0===e||e.forEach(function(t){n.RemoveSpeedFrequency(t),t.Clear(),t.layout.UpdateHelperInfo({path:n.Path,RotatingSpeed:"",MeasTime:"",MeasValue:"",CurosrValue:""})})}catch(t){}},i.loadData=function(t){return Jh(i,void 0,void 0,function(){var t,e;return Zh(this,function(n){return(t=this.chartObj.get(dh.SourceWaveChart)).Clear(),this.loadChartData(t,Si.FetchOriginalVibWave,0,0),(e=this.chartObj.get(dh.SolutionRootChart)).Clear(),this.loadChartData(e,Si.FetchSolutionAveSquareRoot,0,0),[2]})})},i.getStartAndLength=function(t){var e=t.cursorList[0],n=t.sourceData||t.data,i=n[0][1][0]-n[0][0][0],a=(e.DoubleCursorValue||0)/i,r=n[t.selectedYIndex][t.selectedXIndex][0]/i,o=Math.abs(r-a);return{start:a=a>r?r:a,length:o}},i.onAssetChange=function(){var t;null===(t=i.chartObj)||void 0===t||t.forEach(function(t){t.layout.UpdateHelperInfo({path:i.Path})})},i.onTrendChange=function(t){i.onAssetTypeNotSupport(),t.WaveKey&&(i.waveKey=t.WaveKey,i.loadData(t.WaveKey))},i.CreatLayout=function(){L(i.element).addClass("rzAxisPanelParent");var t=i,e=new ga;e.items=[{id:"top",children:[{id:"top1"},{id:"top2"}]},{id:"bottom",children:[{id:"bottom1"},{id:"bottom2"}]}];var n=new va(e,i.id);e.splitConfig=[{ids:["top","bottom"],callBack:function(){t.Resize()},isVertical:!0},{ids:["bottom1","bottom2"],onDrag:function(t){n._splitArr[2].setSizes(t[0])},callBack:function(e){t.Resize()}},{ids:["top1","top2"],onDrag:function(t){n._splitArr[1].setSizes(t[0])},callBack:function(e,n){t.Resize()}}],n.render(i.element)},i.loadChartData=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),Jh(i,void 0,void 0,function(){var i,r,o,s,l,c;return Zh(this,function(u){switch(u.label){case 0:return t.Clear(),i=this.waveKey,[4,e(i,n,a)];case 1:for(r=u.sent(),o=r.data,t.RemarkContent=o.Description,t.CFRunSpeed=o.CFRunSpeed,t.layout.UpdateHelperInfo({MeasValue:(o.MeasValue?o.MeasValue.toFixed(3):"")+(o.YUnit?o.YUnit:""),RotatingSpeed:o.RunSpeed,MeasTime:Object(f.d)(o.MeasDate,"YYYY/MM/DD HH:mm:ss")}),s=[],l=0,c=o.YData.length;l<c;l++)s.push([l*o.XInterval,o.YData[l]]);return t.render([s],o.XUnit,o.YUnit),[2]}})})},i.loadSpecChartData=function(t,e,n,a,r){return void 0===a&&(a=0),void 0===r&&(r=0),Jh(i,void 0,void 0,function(){var i,o,s,l,c,u,h,d,p,A,m;return Zh(this,function(y){switch(y.label){case 0:return t.Clear(),this.RemoveSpeedFrequency(t),i=this.waveKey,o=q.a.Units[n],s=Object(f.v)("TotalSpecConfig"),l=Object(f.l)(o),c=e?Si.FetchSolutionAveSquareRootSpec:Si.FetchSpectrum,s?l&&s&&3==s[l].spec&&(c=e?Si.FetchSolutionAveSquareRootSLogSpec:Si.FetchLogarithmSpectrum):"voltage"!==l&&"current"!==l||(c=e?Si.FetchSolutionAveSquareRootSLogSpec:Si.FetchLogarithmSpectrum),[4,c(i,a,r)];case 1:for(u=y.sent(),h=u.data,t.RemarkContent=h.Description,t.layout.UpdateHelperInfo({MeasValue:(null!==h.MeasValue?h.MeasValue.toFixed(3):"")+(h.YUnit?h.YUnit:""),RotatingSpeed:h.RunSpeed,MeasTime:h.MeasDate}),d=[],p=0,A=h.YData.length;p<A;p++)d.push([p*h.XInterval,h.YData[p]]);return m=Object(f.m)([d],h.YUnit),t.GetYUnit=function(t){return(t?"["+t+"]":"")+Object(f.j)(t)},t.render(m,h.XUnit,h.YUnit),this.AddSpeedFrequency(t,h.RunSpeed),[2]}})})},i.onDetailsChange=function(t){var e=i.getStartAndLength(t),n=e.start,a=e.length,r=i.chartObj.get(dh.SpecChart);r.Clear(),i.loadSpecChartData(r,!1,t.yUtils,n,a);var o=i.chartObj.get(dh.SolutionRootSpecChart);o.Clear(),i.loadSpecChartData(o,!0,i.chartObj.get(dh.SourceWaveChart).yUtils,n,a)},i.CreateChart=function(){var t=i,e=new qt("top1"+i.id,Yt.First,{onMainCursorMoved:function(i,a,r,o){t.onDetailsChange(e);var s=n,l=r[0],c=s.getMostIndexX(l);c&&(s.selectedXIndex=c[0],s.MoveMainCursor(!0,!0,!0,!1,!1),s.updateHelperInfo())},onSetExtremes:function(t,e){var i=n;i.hchartInstance&&i.hchartInstance.xAxis&&i.hchartInstance.xAxis[0].setExtremes(t,e,!0,!1,"NotDispatch")}});e.layout._InitHelperInfo({chartName:"时域波形",path:i.Path,RotatingSpeed:"",CurosrValue:""});var n=new qt("bottom1"+i.id,Yt.First,{onMainCursorMoved:function(i,a,r,o){var s=e,l=r[0],c=s.getMostIndexX(l);s.selectedXIndex=c[0],s.MoveMainCursor(!0,!0,!0,!1,!1),s.updateHelperInfo(),"first"!==o&&t.onDetailsChange(n)},onSetExtremes:function(t,n){var i=e;i.hchartInstance&&i.hchartInstance.xAxis&&i.hchartInstance.xAxis[0].setExtremes(t,n,!0,!1,"NotDispatch")}}),a=function(t,e){for(var n,i=t.layout._toolBox.find("li"),a=0,r=0;r<i.length;r++)if((null===(n=i[r].className)||void 0===n?void 0:n.indexOf("rzToolBoxClick"))>=0){a=r;break}e.layout._toolBox.find("li").removeClass("rzToolBoxClick"),e.layout._toolBox.find("li").eq(a).addClass("rzToolBoxClick")},r=new Xh(e,{isOpen:!0,shouldAddToolBox:!1,onDoubleCursorMoved:function(){o.DoubleCursorValue=r.DoubleCursorValue,o.OpenCursor(!1),t.onDetailsChange(e)},onOpen:function(){o.DoubleCursorValue=r.DoubleCursorValue,o.OpenCursor(!1),a(e,n)},onClose:function(){o.CloseCursor(!1),a(e,n)}});e.registeredCursor(r);var o=new Xh(n,{isOpen:!0,shouldAddToolBox:!1,onDoubleCursorMoved:function(){r.DoubleCursorValue=o.DoubleCursorValue,r.OpenCursor(!1),t.onDetailsChange(n)},onOpen:function(){r.DoubleCursorValue=o.DoubleCursorValue,r.OpenCursor(!1),a(n,e)},onClose:function(){r.CloseCursor(!1),a(n,e)}});function s(t){t.menuInstance.AddMenuItem("TotalSpecType"+t.id,M.$t("menu.totalspec.configtitle"),function(){var e="<div class='"+(f.B&&"RZGraph-TotalSpec-Config-En")+" RZGraph-TotalSpec-Config' id='TotalSpecTypeForm"+t.id+"' style=\"width:"+(f.B?"300px":"250px")+';height:300px"></div>';U.prompt({title:M.$t("menu.totalspec.configtitle"),content:e,btn:null}),new $o("TotalSpecTypeForm"+t.id,t.id).Init()})}n.layout._InitHelperInfo({chartName:"解均方根",RotatingSpeed:"",CurosrValue:""}),n.registeredCursor(o),e.chartConfig.isAllowMaxBtn=!0,n.chartConfig.isAllowMaxBtn=!0,e.Init(),n.Init(),i.chartObj.set(dh.SourceWaveChart,e),i.chartObj.set(dh.SolutionRootChart,n);var l=new qt("top2"+i.id);l.layout._InitHelperInfo({chartName:"分段频谱",RotatingSpeed:"",CurosrValue:""}),l.chartConfig.isAllowMaxBtn=!0,s(l),l.registeredCursor([new Rr(l,!1,!0,!0,!0),new Qr(l,null,null,!1,!0,!0,!0),new jr(l,i.chartName),new Xr(l,Ya.Single,i.chartName)]),l.Init(),i.chartObj.set(dh.SpecChart,l);var c=new qt("bottom2"+i.id);c.layout._InitHelperInfo({chartName:"解均方根分段频谱",RotatingSpeed:"",CurosrValue:""}),c.chartConfig.isAllowMaxBtn=!0,s(c),c.registeredCursor([new Rr(c,!1,!0,!0,!0),new Qr(c,null,null,!1,!0,!0,!0),new jr(c,i.chartName),new Xr(c,Ya.Single,i.chartName)]),c.Init(),i.chartObj.set(dh.SolutionRootSpecChart,c),i.addEvent("onTotalSpecConfigChange",function(n){t.onDetailsChange(e)})},i.CreatLayout(),i.CreateChart(),i}return qh(e,t),e.prototype.Dispose=function(){var t;this.BaseDispose(),null===(t=this.chartObj)||void 0===t||t.forEach(function(t){t.Dispose()})},e.prototype.AddSpeedFrequency=function(t,e){if(this.AddPowerFrequency(t,e),Object(f.v)("RZ_DisplayFrequency")){if(e&&0!=e){var n=e/60;if(t&&t.data&&t.data.length>0){var i=t.getMostIndexX(n,0,null,t.data[0]);if(i){var a={value:i[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"1X",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};t.hchartHelper.AddLine("speedFrequency"+t.id,a)}}}}},e.prototype.RemoveSpeedFrequency=function(t){t.hchartHelper.RemoveLine("speedFrequency"+t.id),t.hchartHelper.RemoveLine("powerFrequency"+t.id),t.hchartHelper.RemoveLine("gongFrequency"+t.id),t.hchartHelper.RemoveLine("ppfFrequency"+t.id)},e.prototype.AddPowerFrequency=function(t,e){var n=0;if(t&&t.data&&t.data.length>0){for(var i=function(e){var i=t.data[e]||[],a=Number.MIN_SAFE_INTEGER,r=0;if(i.forEach(function(t,e){t[1]>a&&(a=t[1],r=e)}),n=i[r][0],a!==Number.MIN_SAFE_INTEGER){var o={value:n,color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"LF",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};t.hchartHelper.AddLine("powerFrequency"+t.id,o)}},a=0;a<t.data.length;a++)i(a);Si.FetchDeviceWorkSpec(this.deviceId).then(function(i){if(i&&i.data.length>0&&i.data[0].Data){var a=i.data[0].Data.electric_fundamental_frequency;if(a){if(u=t.getMostIndexX(a,0)){var r={value:u[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"工频",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};t.hchartHelper.AddLine("gongFrequency"+t.id,r)}var o=i.data[0].Data.electric_pole_number;if("number"==typeof o&&"number"==typeof n){var s=2*n-e/60*o,l=t.getMostIndexX(s,0);if(l){r={value:l[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"PPF",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};t.hchartHelper.AddLine("ppfFrequency",r)}}}var c=i.data[0].Data.electric_pole_number;if("number"==typeof c&&"number"==typeof n){var u;s=2*n-e/60*c;if(u=t.getMostIndexX(s,0)){r={value:u[1][0],color:F.getOptions().colors[6],zIndex:9999,width:1,label:{text:"PPF",style:{color:F.getOptions().colors[6]},verticalAlign:"top",textAlign:"right",rotation:0,y:10,x:20}};t.hchartHelper.AddLine("ppfFrequency"+t.id,r)}}}})}},function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Object(f.a)()],e.prototype,"AddSpeedFrequency",null),e}(J),td=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ed=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.Resize=function(){i.chart&&i.chart.Resize()},i.chartName="TestChart",i.chart=new qt(e,void 0,{onSetExtremes:function(t,e){try{i.add(i.chart.hchartInstance,t,e,"2")}catch(t){}return!1}}),i.chart.layout._InitHelperInfo({path:i.Path||"",MeasValue:"",RotatingSpeed:"",MeasTime:"",CurosrValue:""}),i.chart.Init(),setTimeout(function(){i.init()},0),i}return td(e,t),e.prototype.Dispose=function(){try{this.BaseDispose(),this.chart.Dispose(),this.chart=null,this.element=null}catch(t){}},e.prototype.init=function(){this.chart.render([[[1,1],[2,1.1],[3,3.1],[4,2.2],[100,2.2]]],"","")},e.prototype.add=function(t,e,n,i){var a={id:i,draggable:"x",events:{},shapes:[{type:"path",strokeWidth:1,points:[{x:e,y:0,xAxis:0,yAxis:"__"},{x:n,y:0,xAxis:0,yAxis:"__"},{x:n,y:t.plotHeight,xAxis:0,yAxis:"__"},{x:e,y:t.plotHeight,xAxis:0,yAxis:"__"}],controlPoints:[{positioner:this.positioner("1"),height:5,width:5,visible:!0,style:{strokeWidth:1,stroke:"red"},events:{drag:function(t,e){var n=this.chart,i=e.graphic.getBBox(!0),a={x:i.x+i.width,y:i.y+i.height},r=this.mouseMoveToScale(t,a.x,a.y);e.scale(a.x-n.plotLeft,a.y-n.plotTop,r.x,1),e.redraw(!1)}}},{positioner:this.positioner("1"),events:{drag:function(t,e){var n=this.chart,i=e.graphic.getBBox(!0),a={x:i.x,y:i.y},r=this.mouseMoveToScale(t,a.x,a.y);e.scale(a.x-n.plotLeft,a.y-n.plotTop,r.x,1),e.redraw(!1)}}}]}]};t.addAnnotation(a)},e.prototype.callback=function(t,e,n){},e.prototype.positioner=function(t){var e=this;return function(n){e.callback(t,n.points[0].x,n.points[2].x);var i=F.Annotation.MockPoint.pointToPixels(n.points[this.index]);return{x:i.x-this.graphic.width/2,y:i.y-this.graphic.height/2-10}}},e}(J),nd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),id=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.onAssetChange=function(t){var e=t.deviceId||"";i.TimeIndexTableHelper.renderData(e)},i.onCreateLayout=function(){var t=new ga;t.items=[{id:"left"},{id:"right"}],t.splitConfig=[{ids:["left","right"],size:[75,25],callBack:function(t){}}],new va(t,i.id).render(i.element)},i.onCreateSimpleChart=function(){var t=new qt("left"+i.id);t.registeredCursor([new Pc(t,i),new _c(t,i)]),t.Init(),t.chartConfig.xIsTime=!0,t.ChartKeys=["x","y","marker"];t.render([[[0,0],[1,10],[2,15,{enabled:!0,radius:3,fillColor:"purple",symbol:"circle",enabledThreshold:0}],[3,20,{enabled:!0,radius:3,symbol:"url(https://www.highcharts.com/samples/graphics/snow.png)",enabledThreshold:0}],[4,10],[5,10],[6,10],[7,10]]],"day","cm"),t.onRenderEnd=function(){t.chartAnnotations.renderAnnotation([{x:2,y:15,annotations:[{imgKey:"snow"},{imgKey:"one"},{imgKey:"sun"}]},{x:4,y:10,annotations:[{imgKey:"sun"},{imgKey:"sun"}]},{x:1,y:10,annotations:[{imgKey:"YRPoint",width:10,height:10,center:!0}]}])}},i.chartName="ATestChart",L(i.element).addClass("ATestChartWrapper"),i.onCreateLayout(),i.onCreateSimpleChart(),i.TimeIndexTableHelper=new hu("#right"+i.id,i),L("#right"+i.id).append("<button id=myButton"+i.id+">测试按钮</button>"),L("#myButton"+i.id).click(function(){i.TimeIndexTableHelper.getCurrentAllCheckData()}),i}return nd(e,t),e.prototype.Resize=function(){},e.prototype.Dispose=function(){this.TimeIndexTableHelper.dispose()},e.prototype.Clear=function(){this.TimeIndexTableHelper.clear()},e}(J);n.d(e,"setLocale",function(){return hd}),n.d(e,"getChartByType",function(){return pd}),n.d(e,"Dispose",function(){return fd}),n.d(e,"openChart",function(){return ld}),n.d(e,"getAllChartType",function(){return ud}),n.d(e,"deleteChatByType",function(){return od}),n.d(e,"updateCurrentChartType",function(){return sd}),n.d(e,"resizeChart",function(){return cd}),n.d(e,"reloadDataTable",function(){return dd}),n.d(e,"AddExtraLine",function(){return Ad}),n.d(e,"RemoveExtraLine",function(){return md}),n.d(e,"GetCurrentChart",function(){return yd}),n.d(e,"SetProcesAlarmime",function(){return gd}),n.d(e,"Version",function(){return Cc.a}),n.d(e,"Split",function(){return Ji}),n.d(e,"CommonChart",function(){return qt}),n.d(e,"DilutionDataChart",function(){return co}),n.d(e,"Layout",function(){return va}),n.d(e,"eventBus",function(){return W}),n.d(e,"graphAxios",function(){return Ze}),n.d(e,"EventEmitter",function(){return ba.b}),n.d(e,"DoubleCursor",function(){return Yr}),n.d(e,"BandWidthCursor",function(){return Ur}),n.d(e,"DetailedAnalysisCursor",function(){return Xh}),n.d(e,"FrequencyCursor",function(){return jr}),n.d(e,"FrequencyRecognitionCursor",function(){return Xr}),n.d(e,"MultiplierCursor",function(){return Rr}),n.d(e,"SideFrequencyCursor",function(){return Qr}),n.d(e,"WaveformConversionTool",function(){return ls}),n.d(e,"GraphUtils",function(){return Mn}),n.d(e,"wasm",function(){return a}),Number.MIN_SAFE_INTEGER||(Number.MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||Number.MIN_VALUE,Number.MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE);var ad=function t(){l()(this,t)};ad.Electric="Electric",ad.LargeUnit="LargeUnit",ad.Reciprocating="Reciprocating",ad.Blade="Blade",ad.Tower="Tower";var rd={TestChart:{name:"测试图",chart:ed},SolutionRootChart:{name:"解均方根图",chart:$h,group:ad.Electric},CurrentVoltageAnalysis:{name:"电气综合分析",chart:Gh,group:ad.Electric},CurrentHarmonicDistortion:{name:"谐波畸变率图",chart:Wh,group:ad.Electric},ComprehensiveAnalysisChart:{name:"往复机综合分析",chart:Zu,group:ad.Reciprocating},PistonRodTrackChart:{name:"活塞杆轨迹图",chart:Ns,group:ad.Reciprocating},SingleMultChart:{name:"单值棒图",chart:ih,group:ad.Reciprocating},PRSinkAndDeflect:{name:"活塞杆沉降/偏摆",chart:rh,group:ad.Reciprocating},ShockDiagnosis:{name:"冲击诊断",chart:sh,group:ad.Reciprocating},ColumnarSpec:{name:"柱状谱",chart:ch,group:ad.Reciprocating},TemporaryData:{name:"临时数据",chart:ml,group:ad.Common="Common"},OrderTrackingChart:{name:"阶次分析",chart:Ls,group:ad.Common},MultipleIndexTrends:{name:"时域指标多趋势",chart:vs,group:ad.Common},MultiparametricAnalysisChart:{name:"多参量分析",chart:fs,group:ad.Common},WaveformChart:{name:"时域波形",chart:dc,group:ad.Common},SpecChart:{name:"频谱",chart:pl,group:ad.Common},CepstrumChart:{name:"倒谱",chart:Wa,group:ad.Common},TrendChart:{name:"趋势",chart:za,group:ad.Common},EnvelopeChart:{name:"包络解调",chart:Jr,group:ad.Common},MutiTemporalWaveformChart:{name:"多时域波形",chart:Ds,group:ad.Common},DataTable:{name:"数据表格",chart:kr,group:ad.Common},MutiTemporalSpecChart:{name:"多频谱",chart:xs,group:ad.Common},ChannelTemp:{name:"通道温度",chart:tr,group:ad.Common},ChannelLogChart:{name:"通道日志",chart:Ja,group:ad.Common},TwsGroup:{name:"时域波形频谱组合图",chart:fc,group:ad.Common},UltrasonicGroup:{name:"超声综合分析图",chart:bc,group:ad.Common},ProcessTrend:{name:"工艺趋势",chart:rl,group:ad.Common},WaterfallChart:{name:"瀑布图",chart:Tc,group:ad.Common},LongWaveform:{name:"长波形",chart:mo,group:ad.Common},CrossPhaseChart:{name:"交差相位",chart:mr,group:ad.Common},MultiChannelTempTrend:{name:"设备温度多趋势",chart:Co,group:ad.Common},DCBiasVoltage:{name:"直流偏置电压",chart:Br,group:ad.Common},FreqTrend:{name:"频率-包络趋势",chart:so,group:ad.Common},ComprehensiveAnalysis:{name:"特征频率趋势",chart:cr,group:ad.Common},AxisTrajectory:{name:"轴心轨迹",chart:ya,group:ad.LargeUnit},AxisCenter:{name:"轴中心位置",chart:$i,group:ad.LargeUnit},PolarCoordinatesChart:{name:"极坐标",chart:Xs,group:ad.LargeUnit},DynamicChart:{name:"实时趋势图",chart:Or,group:ad.LargeUnit},PotierChart:{name:"波德图",chart:tl,group:ad.LargeUnit},CascadeChart:{name:"级联图",chart:Va,group:ad.LargeUnit},SimilarAnalysis:{name:"相似度分析",chart:hl,group:ad.Blade},ModalAnalysis:{name:"图谱模态分析",chart:vo,group:ad.Blade},PeakFrequency:{name:"峰值频率分布",chart:Qs,group:ad.Blade},NonUniformDipAngle:{name:"塔基的非均匀趋势图",chart:wl,group:ad.Tower},ScatterPlot:{name:"塔基倾角、塔顶平衡位置散点图",chart:Bl,group:ad.Tower},TwoDimensional:{name:"塔顶振动二维位移图",chart:El,group:ad.Tower},PitchRollAngle:{name:"塔筒俯仰角、横滚角波形",chart:Ll,group:ad.Tower},TowerTubeSystemTrendChart:{name:"塔筒趋势分析",chart:sc,group:ad.Tower},OilParticlesTrend:{name:"油液分析",chart:Rh},DiagnosticAnalysisChart:{name:"多设备诊断分析",chart:Uh},WindPowerEdgeComputingTrend:{name:"边缘计算趋势",chart:Wu,group:ad.Common},ATestChart:{name:"测试图",chart:id}};function od(t){if(t){var e=V.Get();e&&Object.keys(e).map(function(n){if(e[n]&&e[n].chartName===t){for(var i in e[n]&&e[n].Dispose&&e[n].Dispose(),e[n])i&&i[n]&&i[n].Dispose&&i[n].Dispose(),i=null;e[n]=void 0,delete e[n]}})}}function sd(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V.Get();if(t||e){if(n&&Object.keys(n).map(function(i){e||t.indexOf(n[i].chartName)>=0?(n[i].isShow=!0,n[i].onDisplayChange(!0),q.a.BlackBoxChartList.includes(n[i].chartName)&&G.TableData&&G.TableData.filteredFlag):(n[i].isShow=!1,n[i].onDisplayChange(!1))}),pd("TemporaryData"))return void pd("TemporaryData").DispatchEvent();G&&G.TableData&&G.TableData.DispatchAssetChange&&G.TableData.DispatchAssetChange(),G&&G.TableData&&G.TableData.DispatchEvent&&G.TableData.DispatchEvent()}W.fireEvent("updateCurrentChartType",{types:t,all:e})}function ld(t){var e=rd[t];if(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var r=o()(e.chart,i);return"DataTable"!=t&&(r.isShow=!0,q.a.BlackBoxChartList.includes(t)&&G.TableData&&G.TableData.filteredFlag),r}}function cd(t){if(t){if("DataTable"===t)return void(G.TableData&&G.TableData.Resize());var e=V.Get();e&&Object.keys(e).map(function(n){e[n]&&e[n].chartName===t&&e[n].Resize&&e[n].Resize()})}}function ud(){return rd}function hd(t){M.setLocale(t)}function dd(){var t;(t=G.TableData).Reload.apply(t,arguments)}function pd(t){try{if(t){if("DataTable"===t){var e=G.TableData;return e&&Object.keys(e).length>0?e:null}var n=null,i=V.Get();return i&&Object.keys(i).map(function(e){i[e]&&i[e].chartName===t&&(n=i[e])}),n}}catch(t){return null}}function fd(){G.TableData.Dispose();var t=V.Get();t&&Object.keys(t).map(function(e){try{t[e].Dispose(),t[e]=void 0,delete t[e]}catch(t){}}),he.Clear(),k.RZGraphCache={}}function Ad(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=pd(t);return n&&e.forEach(function(t){n.chart.hchartHelper.AddLine(t.id,{value:t.index,color:Highcharts.getOptions().colors[1],width:1,id:t.id,dashStyle:"Dash",labelOptions:{style:{textColor:Highcharts.getOptions().colors[1]}},label:{text:t.value,verticalAlign:"top",textAlign:"left",rotation:0,y:10,x:0,dashStyle:"Dash",style:{color:Highcharts.getOptions().colors[1],fontSize:14}}})}),n}function md(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=pd(t);n&&e.forEach(function(t){n.chart.hchartHelper.RemoveLine(t.id)})}function yd(){var t=V.Get();if(t){var e=[];return Object.keys(t).map(function(n){t[n].isShow&&e.push(t[n].chartName)}),e}}function gd(t){var e=ie.GetDataRange(),n=e.Temp,i=null;if("0"==n)i=e.TempDataTime,Object(f.e)(t)<Object(f.e)(i)&&(e.TempDataTime=Object(f.d)(t,"YYYY/MM/DD 00:00"));else if("3"===n){var a=new Date;"0"==range.TempDataType?a=formatDateTime(DateAdd("H",0-parseInt(e.TempDataInt),new Date)):"1"==range.TempDataType?a=formatDateTime(DateAdd("d",0-parseInt(e.TempDataInt),new Date)):"2"==range.TempDataType?a=formatDateTime(DateAdd("d",0-7*parseInt(e.TempDataInt),new Date)):"3"==range.TempDataType&&(a=formatDateTime(DateAdd("M",0-parseInt(e.TempDataInt),new Date))),Object(f.e)(t)<Object(f.e)(a)&&(e.Temp="0",e.TempDataTime=Object(f.d)(t,"YYYY/MM/DD 00:00"))}else i=e.TempDataTimeEnd,Object(f.e)(t)<Object(f.e)(i)&&(e.TempDataTimeEnd=Object(f.d)(t,"YYYY/MM/DD 23:59:59"));ie.SaveDataRange(e)}}])});